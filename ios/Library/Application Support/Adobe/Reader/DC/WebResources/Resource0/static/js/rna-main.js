/*! jQuery v1.11.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */

/*! jQuery UI - v1.11.2 - 2014-10-24
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, resizable.js, selectable.js, sortable.js, autocomplete.js, menu.js, progressbar.js, slider.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

//     Underscore.js 1.6.0
//     http://underscorejs.org
//     (c) 2009-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.

/*************************************************************************
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2014 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and are protected by all applicable intellectual property laws,
* including trade secret and or copyright laws.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/*************************************************************************
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2013 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and are protected by all applicable intellectual property laws,
* including trade secret and or copyright laws.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org

/*************************************************************************
*
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2012 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and may be covered by U.S. and Foreign Patents,
* patents in process, and are protected by trade secret or copyright law.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/**
 * @license RequireJS i18n 2.0.4 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/i18n for details
 */

// /*************************************************************************
// *
// * ADOBE CONFIDENTIAL
// * ___________________
// *
// *  Copyright 2012 Adobe Systems Incorporated
// *  All Rights Reserved.
// *
// * NOTICE:  All information contained herein is, and remains
// * the property of Adobe Systems Incorporated and its suppliers,
// * if any.  The intellectual and technical concepts contained
// * herein are proprietary to Adobe Systems Incorporated and its
// * suppliers and may be covered by U.S. and Foreign Patents,
// * patents in process, and are protected by trade secret or copyright law.
// * Dissemination of this information or reproduction of this material
// * is strictly forbidden unless prior written permission is obtained
// * from Adobe Systems Incorporated.
// **************************************************************************/

/*************************************************************************
* ADOBE CONFIDENTIAL
* ___________________
*
* Copyright 2021 Adobe
* All Rights Reserved.
*
* NOTICE: All information contained herein is, and remains
* the property of Adobe and its suppliers, if any. The intellectual
* and technical concepts contained herein are proprietary to Adobe
* and its suppliers and are protected by all applicable intellectual
* property laws, including trade secret and copyright laws.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe.
**************************************************************************

// `JSLint` directives.
/*global define, $, _ */

//! moment.js
//! version : 2.8.3
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com

/*************************************************************************
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2015 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and are protected by all applicable intellectual property laws,
* including trade secret and or copyright laws.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/*************************************************************************
* ADOBE CONFIDENTIAL
* ___________________
*
* Copyright (c) 2021 Adobe Systems Inc
* All Rights Reserved.
*
* NOTICE: All information contained herein is, and remains
* the property of Adobe and its suppliers, if any. The intellectual
* and technical concepts contained herein are proprietary to Adobe
* and its suppliers and are protected by all applicable intellectual
* property laws, including trade secret and copyright laws.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe.
**************************************************************************/

/*************************************************************************
 * ADOBE CONFIDENTIAL
 * ___________________
 *
 *  Copyright 2014 Adobe Systems Incorporated
 *  All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and are protected by all applicable intellectual property laws,
 * including trade secret and or copyright laws.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 **************************************************************************/

/*************************************************************************
 * ADOBE CONFIDENTIAL
 * ___________________
 *
 *  Copyright 2018 Adobe Systems Incorporated
 *  All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and are protected by all applicable intellectual property laws,
 * including trade secret and or copyright laws.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 **************************************************************************/

/*************************************************************************
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2019 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and are protected by all applicable intellectual property laws,
* including trade secret and or copyright laws.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/************************************************************************
 *
 * ADOBE CONFIDENTIAL
 * ___________________
 *
 * Copyright 2023 Adobe
 * All Rights Reserved.
 *
 * NOTICE: All information contained herein is, and remains
 * the property of Adobe and its suppliers, if any. The intellectual
 * and technical concepts contained herein are proprietary to Adobe
 * and its suppliers and are protected by all applicable intellectual
 * property laws, including trade secret and copyright laws.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe
 *************************************************************************
 */

/*************************************************************************
 *
 * ADOBE CONFIDENTIAL
 * ___________________
 *
 *  Copyright 2023 Adobe Systems Incorporated
 *  All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 **************************************************************************/

/*************************************************************************
*
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2013 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and may be covered by U.S. and Foreign Patents,
* patents in process, and are protected by trade secret or copyright law.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/*************************************************************************
*
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2014 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and may be covered by U.S. and Foreign Patents,
* patents in process, and are protected by trade secret or copyright law.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/*************************************************************************
*
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2014 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and may be covered by U.S. and Foreign Patents,
* patents in process, and are protected by trade secret or copyright law.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

// Copyright (C) 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//      http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.

// Copyright Google Inc.
// Licensed under the Apache Licence Version 2.0
// Autogenerated at Tue Jun 17 02:31:43 PDT 2014
// @overrides window
// @provides html4

// Copyright Google Inc.

/*************************************************************************
*
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2012 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and may be covered by U.S. and Foreign Patents,
* patents in process, and are protected by trade secret or copyright law.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/*************************************************************************
*
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2013 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and may be covered by U.S. and Foreign Patents,
* patents in process, and are protected by trade secret or copyright law.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/*************************************************************************
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2013 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and are protected by all applicable intellectual property laws,
* including trade secret and or copyright laws.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/************************************************************************
*
* ADOBE CONFIDENTIAL
* ___________________
*
* Copyright 2021 Adobe
* All Rights Reserved.
*
* NOTICE: All information contained herein is, and remains
* the property of Adobe and its suppliers, if any. The intellectual
* and technical concepts contained herein are proprietary to Adobe
* and its suppliers and are protected by all applicable intellectual
* property laws, including trade secret and copyright laws.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe.
*************************************************************************
*/

/*************************************************************************
 *
 * ADOBE CONFIDENTIAL
 * ___________________
 *
 *  Copyright 2014 Adobe Systems Incorporated
 *  All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 **************************************************************************/

/*************************************************************************
*
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2018 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and may be covered by U.S. and Foreign Patents,
* patents in process, and are protected by trade secret or copyright law.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/*************************************************************************
* ADOBE CONFIDENTIAL
* ___________________
*
* Copyright (c) 2022 Adobe Systems Inc
* All Rights Reserved.
*
* NOTICE: All information contained herein is, and remains
* the property of Adobe and its suppliers, if any. The intellectual
* and technical concepts contained herein are proprietary to Adobe
* and its suppliers and are protected by all applicable intellectual
* property laws, including trade secret and copyright laws.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe.
**************************************************************************/

/*************************************************************************
*
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2021 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and may be covered by U.S. and Foreign Patents,
* patents in process, and are protected by trade secret or copyright law.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/*************************************************************************
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2020 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and are protected by all applicable intellectual property 
* laws, including trade secret and copyright laws.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/*************************************************************************
 * ADOBE CONFIDENTIAL
 * ___________________
 *
 *  Copyright 2019 Adobe Systems Incorporated
 *  All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and are protected by all applicable intellectual property laws,
 * including trade secret and or copyright laws.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 **************************************************************************/

/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   4.1.0
 */

/*************************************************************************
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2013 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and are protected by all applicable intellectual property 
* laws, including trade secret and copyright laws.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/*************************************************************************
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2014 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and are protected by all applicable intellectual property 
* laws, including trade secret and copyright laws.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/*************************************************************************
 *
 * ADOBE CONFIDENTIAL
 * ___________________
 *
 *  Copyright 2019 Adobe Systems Incorporated
 *  All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 **************************************************************************/

/*************************************************************************
 * ADOBE CONFIDENTIAL
 * ___________________
 *
 *  Copyright 2019 Adobe Systems Incorporated
 *  All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and are protected by all applicable intellectual property
 * laws, including trade secret and copyright laws.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 **************************************************************************/

/*************************************************************************
     * ADOBE CONFIDENTIAL
     * ___________________
     *
     *  Copyright 2019 Adobe Systems Incorporated
     *  All Rights Reserved.
     *
     * NOTICE:  All information contained herein is, and remains
     * the property of Adobe Systems Incorporated and its suppliers,
     * if any.  The intellectual and technical concepts contained
     * herein are proprietary to Adobe Systems Incorporated and its
     * suppliers and are protected by all applicable intellectual property laws,
     * including trade secret and or copyright laws.
     * Dissemination of this information or reproduction of this material
     * is strictly forbidden unless prior written permission is obtained
     * from Adobe Systems Incorporated.
     **************************************************************************/

/*************************************************************************
* ADOBE CONFIDENTIAL
* ___________________
*
* Copyright (c) 2021 Adobe Systems Inc
* All Rights Reserved.
*
* NOTICE: All information contained herein is, and remains
* the property of Adobe and its suppliers, if any. The intellectual
* and technical concepts contained herein are proprietary to Adobe
* and its suppliers and are protected by all applicable intellectual
* property laws, including trade secret and copyright laws.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe.

// `JSLint` directives.
/*global define, $, _, LOG */

/*************************************************************************
*
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2015 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and may be covered by U.S. and Foreign Patents,
* patents in process, and are protected by trade secret or copyright law.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/*************************************************************************
*
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 201 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and may be covered by U.S. and Foreign Patents,
* patents in process, and are protected by trade secret or copyright law.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/*************************************************************************
 * ADOBE CONFIDENTIAL
 * ___________________
 *
 *  Copyright 2015 Adobe Systems Incorporated
 *  All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and are protected by all applicable intellectual property laws,
 * including trade secret and or copyright laws.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 **************************************************************************/

/*************************************************************************
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2018 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and are protected by all applicable intellectual property laws,
* including trade secret and or copyright laws.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/*************************************************************************
 *
 * ADOBE CONFIDENTIAL
 * ___________________
 *
 *  Copyright 2013 Adobe Systems Incorporated
 *  All Rights Reserved.
 *
 * NOTICE:  All information contained herein is, and remains
 * the property of Adobe Systems Incorporated and its suppliers,
 * if any.  The intellectual and technical concepts contained
 * herein are proprietary to Adobe Systems Incorporated and its
 * suppliers and may be covered by U.S. and Foreign Patents,
 * patents in process, and are protected by trade secret or copyright law.
 * Dissemination of this information or reproduction of this material
 * is strictly forbidden unless prior written permission is obtained
 * from Adobe Systems Incorporated.
 **************************************************************************/

/*************************************************************************
* ADOBE CONFIDENTIAL
* ___________________
*
* Copyright (c) 2021 Adobe Systems Inc
* All Rights Reserved.
*
* NOTICE: All information contained herein is, and remains
* the property of Adobe and its suppliers, if any. The intellectual
* and technical concepts contained herein are proprietary to Adobe
* and its suppliers and are protected by all applicable intellectual
* property laws, including trade secret and copyright laws.
* Dissemination of this information or reproductioan of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe.
**************************************************************************/

/*************************************************************************
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2021 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and are protected by all applicable intellectual property laws,
* including trade secret and or copyright laws.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/*************************************************************************
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2015 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and are protected by all applicable intellectual property 
* laws, including trade secret and copyright laws.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2006, 2014 Klaus Hartl
 * Released under the MIT license
 */

/*************************************************************************
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2013 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and are protected by all applicable intellectual property
* laws, including trade secret and copyright laws.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/*! jQuery UI - v1.11.1 - 2014-09-17
* http://jqueryui.com
* Includes: widget.js
* Copyright 2014 jQuery Foundation and other contributors; Licensed MIT */

/*!
 * jQuery UI Widget 1.11.1
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */

/*
 * jQuery File Upload Plugin 5.42.0
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */

/*
 * jQuery Iframe Transport Plugin 1.8.2
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */

/*************************************************************************
*
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2017 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and may be covered by U.S. and Foreign Patents,
* patents in process, and are protected by trade secret or copyright law.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

/**
 * SHA256 Hash Algorithm Plugin
 *
 * @version 1.1 (17/08/2012)
 * @requires jQuery v1.2.6+
 * @author Alex Weber <alexweber.com.br>
 * @copyright Copyright (c) 2008-2009, Alex Weber
 * @see http://anmar.eu.org/projects/jssha2/
 * @see http://pajhome.org.uk/crypt/md5
 *
 * Distributed under the terms of the new BSD License
 * http://www.opensource.org/licenses/bsd-license.php
 *
 */

/*************************************************************************
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2022 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and are protected by all applicable intellectual property laws,
* including trade secret and or copyright laws.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/

!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function g(e){var t=e.length,n=h.type(e);return"function"===n||h.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function S(e,t,n){if(h.isFunction(t))return h.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return h.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(E.test(t))return h.filter(t,e,n);t=h.filter(t,e)}return h.grep(e,function(e){return h.inArray(e,t)>=0!==n})}function A(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function _(e){var t=M[e]={};return h.each(e.match(O)||[],function(e,n){t[n]=!0}),t}function P(){T.addEventListener?(T.removeEventListener("DOMContentLoaded",H,!1),e.removeEventListener("load",H,!1)):(T.detachEvent("onreadystatechange",H),e.detachEvent("onload",H))}function H(){(T.addEventListener||"load"===event.type||"complete"===T.readyState)&&(P(),h.ready())}function q(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(I,"-$1").toLowerCase();if(n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:F.test(n)?h.parseJSON(n):n}catch(i){}h.data(e,t,n)}else n=void 0}return n}function R(e){var t;for(t in e)if(("data"!==t||!h.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function U(e,t,r,i){if(h.acceptData(e)){var s,o,u=h.expando,a=e.nodeType,f=a?h.cache:e,l=a?e[u]:e[u]&&u;if(l&&f[l]&&(i||f[l].data)||void 0!==r||"string"!=typeof t)return l||(l=a?e[u]=n.pop()||h.guid++:u),f[l]||(f[l]=a?{}:{toJSON:h.noop}),("object"==typeof t||"function"==typeof t)&&(i?f[l]=h.extend(f[l],t):f[l].data=h.extend(f[l].data,t)),o=f[l],i||(o.data||(o.data={}),o=o.data),void 0!==r&&(o[h.camelCase(t)]=r),"string"==typeof t?(s=o[t],null==s&&(s=o[h.camelCase(t)])):s=o,s}}function z(e,t,n){if(h.acceptData(e)){var r,i,s=e.nodeType,o=s?h.cache:e,u=s?e[h.expando]:h.expando;if(o[u]){if(t&&(r=n?o[u]:o[u].data)){h.isArray(t)?t=t.concat(h.map(t,h.camelCase)):t in r?t=[t]:(t=h.camelCase(t),t=t in r?[t]:t.split(" ")),i=t.length;while(i--)delete r[t[i]];if(n?!R(r):!h.isEmptyObject(r))return}(n||(delete o[u].data,R(o[u])))&&(s?h.cleanData([e],!0):l.deleteExpando||o!=o.window?delete o[u]:o[u]=null)}}}function et(){return!0}function tt(){return!1}function nt(){try{return T.activeElement}catch(e){}}function rt(e){var t=it.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function wt(e,t){var n,r,i=0,s=typeof e.getElementsByTagName!==B?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==B?e.querySelectorAll(t||"*"):void 0;if(!s)for(s=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||h.nodeName(r,t)?s.push(r):h.merge(s,wt(r,t));return void 0===t||t&&h.nodeName(e,t)?h.merge([e],s):s}function Et(e){J.test(e.type)&&(e.defaultChecked=e.checked)}function St(e,t){return h.nodeName(e,"table")&&h.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function xt(e){return e.type=(null!==h.find.attr(e,"type"))+"/"+e.type,e}function Tt(e){var t=vt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Nt(e,t){for(var n,r=0;null!=(n=e[r]);r++)h._data(n,"globalEval",!t||h._data(t[r],"globalEval"))}function Ct(e,t){if(1===t.nodeType&&h.hasData(e)){var n,r,i,s=h._data(e),o=h._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;i>r;r++)h.event.add(t,n,u[n][r])}o.data&&(o.data=h.extend({},o.data))}}function kt(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!l.noCloneEvent&&t[h.expando]){i=h._data(t);for(r in i.events)h.removeEvent(t,r,i.handle);t.removeAttribute(h.expando)}"script"===n&&t.text!==e.text?(xt(t).text=e.text,Tt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),l.html5Clone&&e.innerHTML&&!h.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&J.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function Ot(t,n){var r,i=h(n.createElement(t)).appendTo(n.body),s=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:h.css(i[0],"display");return i.detach(),s}function Mt(e){var t=T,n=At[e];return n||(n=Ot(e,t),"none"!==n&&n||(Lt=(Lt||h("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Lt[0].contentWindow||Lt[0].contentDocument).document,t.write(),t.close(),n=Ot(e,t),Lt.detach()),At[e]=n),n}function jt(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function Vt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Xt.length;while(i--)if(t=Xt[i]+n,t in e)return t;return r}function $t(e,t){for(var n,r,i,s=[],o=0,u=e.length;u>o;o++)r=e[o],r.style&&(s[o]=h._data(r,"olddisplay"),n=r.style.display,t?(s[o]||"none"!==n||(r.style.display=""),""===r.style.display&&V(r)&&(s[o]=h._data(r,"olddisplay",Mt(r.nodeName)))):(i=V(r),(n&&"none"!==n||!i)&&h._data(r,"olddisplay",i?n:h.css(r,"display"))));for(o=0;u>o;o++)r=e[o],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?s[o]||"":"none"));return e}function Jt(e,t,n){var r=Rt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Kt(e,t,n,r,i){for(var s=n===(r?"border":"content")?4:"width"===t?1:0,o=0;4>s;s+=2)"margin"===n&&(o+=h.css(e,n+X[s],!0,i)),r?("content"===n&&(o-=h.css(e,"padding"+X[s],!0,i)),"margin"!==n&&(o-=h.css(e,"border"+X[s]+"Width",!0,i))):(o+=h.css(e,"padding"+X[s],!0,i),"padding"!==n&&(o+=h.css(e,"border"+X[s]+"Width",!0,i)));return o}function Qt(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,s=Pt(e),o=l.boxSizing&&"border-box"===h.css(e,"boxSizing",!1,s);if(0>=i||null==i){if(i=Ht(e,t,s),(0>i||null==i)&&(i=e.style[t]),Dt.test(i))return i;r=o&&(l.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+Kt(e,t,n||(o?"border":"content"),r,s)+"px"}function Gt(e,t,n,r,i){return new Gt.prototype.init(e,t,n,r,i)}function on(){return setTimeout(function(){Yt=void 0}),Yt=h.now()}function un(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=X[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function an(e,t,n){for(var r,i=(sn[t]||[]).concat(sn["*"]),s=0,o=i.length;o>s;s++)if(r=i[s].call(n,t,e))return r}function fn(e,t,n){var r,i,s,o,u,a,f,c,p=this,d={},v=e.style,m=e.nodeType&&V(e),g=h._data(e,"fxshow");n.queue||(u=h._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,p.always(function(){p.always(function(){u.unqueued--,h.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[v.overflow,v.overflowX,v.overflowY],f=h.css(e,"display"),c="none"===f?h._data(e,"olddisplay")||Mt(e.nodeName):f,"inline"===c&&"none"===h.css(e,"float")&&(l.inlineBlockNeedsLayout&&"inline"!==Mt(e.nodeName)?v.zoom=1:v.display="inline-block")),n.overflow&&(v.overflow="hidden",l.shrinkWrapBlocks()||p.always(function(){v.overflow=n.overflow[0],v.overflowX=n.overflow[1],v.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],en.exec(i)){if(delete t[r],s=s||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}d[r]=g&&g[r]||h.style(e,r)}else f=void 0;if(h.isEmptyObject(d))"inline"===("none"===f?Mt(e.nodeName):f)&&(v.display=f);else{g?"hidden"in g&&(m=g.hidden):g=h._data(e,"fxshow",{}),s&&(g.hidden=!m),m?h(e).show():p.done(function(){h(e).hide()}),p.done(function(){var t;h._removeData(e,"fxshow");for(t in d)h.style(e,t,d[t])});for(r in d)o=an(m?g[r]:0,r,p),r in g||(g[r]=o.start,m&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}}function ln(e,t){var n,r,i,s,o;for(n in e)if(r=h.camelCase(n),i=t[r],s=e[n],h.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=h.cssHooks[r],o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}function cn(e,t,n){var r,i,s=0,o=rn.length,u=h.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;for(var t=Yt||on(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;a>o;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),1>s&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:h.extend({},t),opts:h.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Yt||on(),duration:n.duration,tweens:[],createTween:function(t,n){var r=h.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;for(ln(l,f.opts.specialEasing);o>s;s++)if(r=rn[s].call(f,e,l,f.opts))return r;return h.map(l,an,f),h.isFunction(f.opts.start)&&f.opts.start.call(e,f),h.fx.timer(h.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Fn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(O)||[];if(h.isFunction(n))while(r=s[i++])"+"===r.charAt(0)?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function In(e,t,n,r){function o(u){var a;return i[u]=!0,h.each(e[u]||[],function(e,u){var f=u(t,n,r);return"string"!=typeof f||s||i[f]?s?!(a=f):void 0:(t.dataTypes.unshift(f),o(f),!1)}),a}var i={},s=e===Hn;return o(t.dataTypes[0])||!i["*"]&&o("*")}function qn(e,t){var n,r,i=h.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&h.extend(!0,e,n),e}function Rn(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while("*"===a[0])a.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(o in u)if(u[o]&&u[o].test(i)){a.unshift(o);break}if(a[0]in n)s=a[0];else{for(o in n){if(!a[0]||e.converters[o+" "+a[0]]){s=o;break}r||(r=o)}s=s||r}return s?(s!==a[0]&&a.unshift(s),n[s]):void 0}function Un(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift())if("*"===s)s=a;else if("*"!==a&&a!==s){if(o=f[a+" "+s]||f["* "+s],!o)for(i in f)if(u=i.split(" "),u[1]===s&&(o=f[a+" "+u[0]]||f["* "+u[0]])){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}return{state:"success",data:t}}function Jn(e,t,n,r){var i;if(h.isArray(t))h.each(t,function(t,i){n||Wn.test(e)?r(e,i):Jn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==h.type(t))r(e,t);else for(i in t)Jn(e+"["+i+"]",t[i],n,r)}function Yn(){try{return new e.XMLHttpRequest}catch(t){}}function Zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function ir(e){return h.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var n=[],r=n.slice,i=n.concat,s=n.push,o=n.indexOf,u={},a=u.toString,f=u.hasOwnProperty,l={},c="1.11.1",h=function(e,t){return new h.fn.init(e,t)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,d=/^-ms-/,v=/-([\da-z])/gi,m=function(e,t){return t.toUpperCase()};h.fn=h.prototype={jquery:c,constructor:h,selector:"",length:0,toArray:function(){return r.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:r.call(this)},pushStack:function(e){var t=h.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return h.each(this,e,t)},map:function(e){return this.pushStack(h.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:s,sort:n.sort,splice:n.splice},h.extend=h.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;for("boolean"==typeof o&&(f=o,o=arguments[u]||{},u++),"object"==typeof o||h.isFunction(o)||(o={}),u===a&&(o=this,u--);a>u;u++)if(null!=(i=arguments[u]))for(r in i)e=o[r],n=i[r],o!==n&&(f&&n&&(h.isPlainObject(n)||(t=h.isArray(n)))?(t?(t=!1,s=e&&h.isArray(e)?e:[]):s=e&&h.isPlainObject(e)?e:{},o[r]=h.extend(f,s,n)):void 0!==n&&(o[r]=n));return o},h.extend({expando:"jQuery"+(c+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===h.type(e)},isArray:Array.isArray||function(e){return"array"===h.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!h.isArray(e)&&e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==h.type(e)||e.nodeType||h.isWindow(e))return!1;try{if(e.constructor&&!f.call(e,"constructor")&&!f.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(l.ownLast)for(t in e)return f.call(e,t);for(t in e);return void 0===t||f.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[a.call(e)]||"object":typeof e},globalEval:function(t){t&&h.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(d,"ms-").replace(v,m)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=g(e);if(n){if(o){for(;s>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(o){for(;s>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(p,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(g(Object(e))?h.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(o)return o.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){var n=+t.length,r=0,i=e.length;while(n>r)e[i++]=t[r++];if(n!==n)while(void 0!==t[r])e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],s=0,o=e.length,u=!n;o>s;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(e,t,n){var r,s=0,o=e.length,u=g(e),a=[];if(u)for(;o>s;s++)r=t(e[s],s,n),null!=r&&a.push(r);else for(s in e)r=t(e[s],s,n),null!=r&&a.push(r);return i.apply([],a)},guid:1,proxy:function(e,t){var n,i,s;return"string"==typeof t&&(s=e[t],t=e,e=s),h.isFunction(e)?(n=r.call(arguments,2),i=function(){return e.apply(t||this,n.concat(r.call(arguments)))},i.guid=e.guid=e.guid||h.guid++,i):void 0},now:function(){return+(new Date)},support:l}),h.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()});var y=function(e){function st(e,t,r,i){var s,u,f,l,c,d,g,y,S,x;if((t?t.ownerDocument||t:E)!==p&&h(t),t=t||p,r=r||[],!e||"string"!=typeof e)return r;if(1!==(l=t.nodeType)&&9!==l)return[];if(v&&!i){if(s=Z.exec(e))if(f=s[1]){if(9===l){if(u=t.getElementById(f),!u||!u.parentNode)return r;if(u.id===f)return r.push(u),r}else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(f))&&b(t,u)&&u.id===f)return r.push(u),r}else{if(s[2])return P.apply(r,t.getElementsByTagName(e)),r;if((f=s[3])&&n.getElementsByClassName&&t.getElementsByClassName)return P.apply(r,t.getElementsByClassName(f)),r}if(n.qsa&&(!m||!m.test(e))){if(y=g=w,S=t,x=9===l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){d=o(e),(g=t.getAttribute("id"))?y=g.replace(tt,"\\$&"):t.setAttribute("id",y),y="[id='"+y+"'] ",c=d.length;while(c--)d[c]=y+mt(d[c]);S=et.test(e)&&dt(t.parentNode)||t,x=d.join(",")}if(x)try{return P.apply(r,S.querySelectorAll(x)),r}catch(T){}finally{g||t.removeAttribute("id")}}}return a(e.replace(z,"$1"),t,r,i)}function ot(){function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function ut(e){return e[w]=!0,e}function at(e){var t=p.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ft(e,t){var n=e.split("|"),i=e.length;while(i--)r.attrHandle[n[i]]=t}function lt(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||A)-(~e.sourceIndex||A);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ct(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pt(e){return ut(function(t){return t=+t,ut(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function dt(e){return e&&typeof e.getElementsByTagName!==L&&e}function vt(){}function mt(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function gt(e,t,n){var r=t.dir,i=n&&"parentNode"===r,s=x++;return t.first?function(t,n,s){while(t=t[r])if(1===t.nodeType||i)return e(t,n,s)}:function(t,n,o){var u,a,f=[S,s];if(o){while(t=t[r])if((1===t.nodeType||i)&&e(t,n,o))return!0}else while(t=t[r])if(1===t.nodeType||i){if(a=t[w]||(t[w]={}),(u=a[r])&&u[0]===S&&u[1]===s)return f[2]=u[2];if(a[r]=f,f[2]=e(t,n,o))return!0}}}function yt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function bt(e,t,n){for(var r=0,i=t.length;i>r;r++)st(e,t[r],n);return n}function wt(e,t,n,r,i){for(var s,o=[],u=0,a=e.length,f=null!=t;a>u;u++)(s=e[u])&&(!n||n(s,r,i))&&(o.push(s),f&&t.push(u));return o}function Et(e,t,n,r,i,s){return r&&!r[w]&&(r=Et(r)),i&&!i[w]&&(i=Et(i,s)),ut(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||bt(t||"*",u.nodeType?[u]:u,[]),m=!e||!s&&t?v:wt(v,h,e,u,a),g=n?i||(s?e:d||r)?[]:o:m;if(n&&n(m,g,u,a),r){f=wt(g,p),r(f,[],u,a),l=f.length;while(l--)(c=f[l])&&(g[p[l]]=!(m[p[l]]=c))}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?B.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=wt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):P.apply(o,g)})}function St(e){for(var t,n,i,s=e.length,o=r.relative[e[0].type],u=o||r.relative[" "],a=o?1:0,l=gt(function(e){return e===t},u,!0),c=gt(function(e){return B.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];s>a;a++)if(n=r.relative[e[a].type])h=[gt(yt(h),n)];else{if(n=r.filter[e[a].type].apply(null,e[a].matches),n[w]){for(i=++a;s>i;i++)if(r.relative[e[i].type])break;return Et(a>1&&yt(h),a>1&&mt(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(z,"$1"),n,i>a&&St(e.slice(a,i)),s>i&&St(e=e.slice(i)),s>i&&mt(e))}h.push(n)}return yt(h)}function xt(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,u,a,l){var c,h,d,v=0,m="0",g=s&&[],y=[],b=f,w=s||i&&r.find.TAG("*",l),E=S+=null==b?1:Math.random()||.1,x=w.length;for(l&&(f=o!==p&&o);m!==x&&null!=(c=w[m]);m++){if(i&&c){h=0;while(d=e[h++])if(d(c,o,u)){a.push(c);break}l&&(S=E)}n&&((c=!d&&c)&&v--,s&&g.push(c))}if(v+=m,n&&m!==v){h=0;while(d=t[h++])d(g,y,o,u);if(s){if(v>0)while(m--)g[m]||y[m]||(y[m]=_.call(a));y=wt(y)}P.apply(a,y),l&&!s&&y.length>0&&v+t.length>1&&st.uniqueSort(a)}return l&&(S=E,f=b),g};return n?ut(s):s}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w="sizzle"+ -(new Date),E=e.document,S=0,x=0,T=ot(),N=ot(),C=ot(),k=function(e,t){return e===t&&(c=!0),0},L="undefined",A=1<<31,O={}.hasOwnProperty,M=[],_=M.pop,D=M.push,P=M.push,H=M.slice,B=M.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",I="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",q=I.replace("w","w#"),R="\\["+F+"*("+I+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+q+"))|)"+F+"*\\]",U=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",z=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),W=new RegExp("^"+F+"*,"+F+"*"),X=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),V=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),$=new RegExp(U),J=new RegExp("^"+q+"$"),K={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I.replace("w","w*")+")"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/[+~]/,tt=/'|\\/g,nt=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),rt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{P.apply(M=H.call(E.childNodes),E.childNodes),M[E.childNodes.length].nodeType}catch(it){P={apply:M.length?function(e,t){D.apply(e,H.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}n=st.support={},s=st.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},h=st.setDocument=function(e){var t,i=e?e.ownerDocument||e:E,o=i.defaultView;return i!==p&&9===i.nodeType&&i.documentElement?(p=i,d=i.documentElement,v=!s(i),o&&o!==o.top&&(o.addEventListener?o.addEventListener("unload",function(){h()},!1):o.attachEvent&&o.attachEvent("onunload",function(){h()})),n.attributes=at(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=at(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Y.test(i.getElementsByClassName)&&at(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),n.getById=at(function(e){return d.appendChild(e).id=w,!i.getElementsByName||!i.getElementsByName(w).length}),n.getById?(r.find.ID=function(e,t){if(typeof t.getElementById!==L&&v){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){var n=typeof e.getAttributeNode!==L&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==L?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){while(n=s[i++])1===n.nodeType&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==L&&v?t.getElementsByClassName(e):void 0},g=[],m=[],(n.qsa=Y.test(i.querySelectorAll))&&(at(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&m.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+F+"*(?:value|"+j+")"),e.querySelectorAll(":checked").length||m.push(":checked")}),at(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+F+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Y.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&at(function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),g.push("!=",U)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=Y.test(d.compareDocumentPosition),b=t||Y.test(d.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&1===r.nodeType&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return c=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===i||e.ownerDocument===E&&b(E,e)?-1:t===i||t.ownerDocument===E&&b(E,t)?1:l?B.call(l,e)-B.call(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,s=e.parentNode,o=t.parentNode,u=[e],a=[t];if(!s||!o)return e===i?-1:t===i?1:s?-1:o?1:l?B.call(l,e)-B.call(l,t):0;if(s===o)return lt(e,t);n=e;while(n=n.parentNode)u.unshift(n);n=t;while(n=n.parentNode)a.unshift(n);while(u[r]===a[r])r++;return r?lt(u[r],a[r]):u[r]===E?-1:a[r]===E?1:0},i):p},st.matches=function(e,t){return st(e,null,null,t)},st.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(V,"='$1']"),!(!n.matchesSelector||!v||g&&g.test(t)||m&&m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return st(t,p,null,[e]).length>0},st.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},st.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var i=r.attrHandle[t.toLowerCase()],s=i&&O.call(r.attrHandle,t.toLowerCase())?i(e,t,!v):void 0;return void 0!==s?s:n.attributes||!v?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},st.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},st.uniqueSort=function(e){var t,r=[],i=0,s=0;if(c=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(k),c){while(t=e[s++])t===e[s]&&(i=r.push(s));while(i--)e.splice(r[i],1)}return l=null,e},i=st.getText=function(e){var t,n="",r=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===s||4===s)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},r=st.selectors={cacheLength:50,createPseudo:ut,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(nt,rt),e[3]=(e[3]||e[4]||e[5]||"").replace(nt,rt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||st.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&st.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(nt,rt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==L&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=st.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[o?m.firstChild:m.lastChild],o&&y){l=m[w]||(m[w]={}),f=l[e]||[],p=f[0]===S&&f[1],h=f[0]===S&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(1===c.nodeType&&++h&&c===t){l[e]=[S,p,h];break}}else if(y&&(f=(t[w]||(t[w]={}))[e])&&f[0]===S)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:1===c.nodeType)&&++h&&(y&&((c[w]||(c[w]={}))[e]=[S,h]),c===t))break;return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||st.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ut(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=B.call(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ut(function(e){var t=[],n=[],r=u(e.replace(z,"$1"));return r[w]?ut(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)(s=o[u])&&(e[u]=!(t[u]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:ut(function(e){return function(t){return st(e,t).length>0}}),contains:ut(function(e){return function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:ut(function(e){return J.test(e||"")||st.error("unsupported lang: "+e),e=e.replace(nt,rt).toLowerCase(),function(t){var n;do if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pt(function(){return[0]}),last:pt(function(e,t){return[t-1]}),eq:pt(function(e,t,n){return[0>n?n+t:n]}),even:pt(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:pt(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:pt(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:pt(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ct(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=ht(t);return vt.prototype=r.filters=r.pseudos,r.setFilters=new vt,o=st.tokenize=function(e,t){var n,i,s,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=r.preFilter;while(u){(!n||(i=W.exec(u)))&&(i&&(u=u.slice(i[0].length)||u),a.push(s=[])),n=!1,(i=X.exec(u))&&(n=i.shift(),s.push({value:n,type:i[0].replace(z," ")}),u=u.slice(n.length));for(o in r.filter)!(i=K[o].exec(u))||f[o]&&!(i=f[o](i))||(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?st.error(e):N(e,a).slice(0)},u=st.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=o(e)),n=t.length;while(n--)s=St(t[n]),s[w]?r.push(s):i.push(s);s=C(e,xt(i,r)),s.selector=e}return s},a=st.select=function(e,t,i,s){var a,f,l,c,h,p="function"==typeof e&&e,d=!s&&o(e=p.selector||e);if(i=i||[],1===d.length){if(f=d[0]=d[0].slice(0),f.length>2&&"ID"===(l=f[0]).type&&n.getById&&9===t.nodeType&&v&&r.relative[f[1].type]){if(t=(r.find.ID(l.matches[0].replace(nt,rt),t)||[])[0],!t)return i;p&&(t=t.parentNode),e=e.slice(f.shift().value.length)}a=K.needsContext.test(e)?0:f.length;while(a--){if(l=f[a],r.relative[c=l.type])break;if((h=r.find[c])&&(s=h(l.matches[0].replace(nt,rt),et.test(f[0].type)&&dt(t.parentNode)||t))){if(f.splice(a,1),e=s.length&&mt(f),!e)return P.apply(i,s),i;break}}}return(p||u(e,d))(s,t,!v,i,et.test(e)&&dt(t.parentNode)||t),i},n.sortStable=w.split("").sort(k).join("")===w,n.detectDuplicates=!!c,h(),n.sortDetached=at(function(e){return 1&e.compareDocumentPosition(p.createElement("div"))}),at(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ft("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&at(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ft("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),at(function(e){return null==e.getAttribute("disabled")})||ft(j,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),st}(e);h.find=y,h.expr=y.selectors,h.expr[":"]=h.expr.pseudos,h.unique=y.uniqueSort,h.text=y.getText,h.isXMLDoc=y.isXML,h.contains=y.contains;var b=h.expr.match.needsContext,w=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,E=/^.[^:#\[\.,]*$/;h.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?h.find.matchesSelector(r,e)?[r]:[]:h.find.matches(e,h.grep(t,function(e){return 1===e.nodeType}))},h.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(h(e).filter(function(){for(t=0;i>t;t++)if(h.contains(r[t],this))return!0}));for(t=0;i>t;t++)h.find(e,r[t],n);return n=this.pushStack(i>1?h.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(S(this,e||[],!1))},not:function(e){return this.pushStack(S(this,e||[],!0))},is:function(e){return!!S(this,"string"==typeof e&&b.test(e)?h(e):e||[],!1).length}});var x,T=e.document,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=h.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||x).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof h?t[0]:t,h.merge(this,h.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:T,!0)),w.test(n[1])&&h.isPlainObject(t))for(n in t)h.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(r=T.getElementById(n[2]),r&&r.parentNode){if(r.id!==n[2])return x.find(e);this.length=1,this[0]=r}return this.context=T,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):h.isFunction(e)?"undefined"!=typeof x.ready?x.ready(e):e(h):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),h.makeArray(e,this))};C.prototype=h.fn,x=h(T);var k=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};h.extend({dir:function(e,t,n){var r=[],i=e[t];while(i&&9!==i.nodeType&&(void 0===n||1!==i.nodeType||!h(i).is(n)))1===i.nodeType&&r.push(i),i=i[t];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),h.fn.extend({has:function(e){var t,n=h(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(h.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,s=[],o=b.test(e)||"string"!=typeof e?h(e,t||this.context):0;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&h.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?h.unique(s):s)},index:function(e){return e?"string"==typeof e?h.inArray(this[0],h(e)):h.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(h.unique(h.merge(this.get(),h(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),h.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h.dir(e,"parentNode")},parentsUntil:function(e,t,n){return h.dir(e,"parentNode",n)},next:function(e){return A(e,"nextSibling")},prev:function(e){return A(e,"previousSibling")},nextAll:function(e){return h.dir(e,"nextSibling")},prevAll:function(e){return h.dir(e,"previousSibling")},nextUntil:function(e,t,n){return h.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return h.dir(e,"previousSibling",n)},siblings:function(e){return h.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return h.sibling(e.firstChild)},contents:function(e){return h.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:h.merge([],e.childNodes)}},function(e,t){h.fn[e]=function(n,r){var i=h.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=h.filter(r,i)),this.length>1&&(L[e]||(i=h.unique(i)),k.test(e)&&(i=i.reverse())),this.pushStack(i)}});var O=/\S+/g,M={};h.Callbacks=function(e){e="string"==typeof e?M[e]||_(e):h.extend({},e);var t,n,r,i,s,o,u=[],a=!e.once&&[],f=function(c){for(n=e.memory&&c,r=!0,s=o||0,o=0,i=u.length,t=!0;u&&i>s;s++)if(u[s].apply(c[0],c[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,u&&(a?a.length&&f(a.shift()):n?u=[]:l.disable())},l={add:function(){if(u){var r=u.length;!function s(t){h.each(t,function(t,n){var r=h.type(n);"function"===r?e.unique&&l.has(n)||u.push(n):n&&n.length&&"string"!==r&&s(n)})}(arguments),t?i=u.length:n&&(o=r,f(n))}return this},remove:function(){return u&&h.each(arguments,function(e,n){var r;while((r=h.inArray(n,u,r))>-1)u.splice(r,1),t&&(i>=r&&i--,s>=r&&s--)}),this},has:function(e){return e?h.inArray(e,u)>-1:!!u&&!!u.length},empty:function(){return u=[],i=0,this},disable:function(){return u=a=n=void 0,this},disabled:function(){return!u},lock:function(){return a=void 0,n||l.disable(),this},locked:function(){return!a},fireWith:function(e,n){return!u||r&&!a||(n=n||[],n=[e,n.slice?n.slice():n],t?a.push(n):f(n)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},h.extend({Deferred:function(e){var t=[["resolve","done",h.Callbacks("once memory"),"resolved"],["reject","fail",h.Callbacks("once memory"),"rejected"],["notify","progress",h.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return h.Deferred(function(n){h.each(t,function(t,s){var o=h.isFunction(e[t])&&e[t];i[s[1]](function(){var e=o&&o.apply(this,arguments);e&&h.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?h.extend(e,r):r}},i={};return r.pipe=r.then,h.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[1^e][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=r.call(arguments),i=n.length,s=1!==i||e&&h.isFunction(e.promise)?i:0,o=1===s?e:h.Deferred(),u=function(e,t,n){return function(i){t[e]=this,n[e]=arguments.length>1?r.call(arguments):i,n===a?o.notifyWith(t,n):--s||o.resolveWith(t,n)}},a,f,l;if(i>1)for(a=new Array(i),f=new Array(i),l=new Array(i);i>t;t++)n[t]&&h.isFunction(n[t].promise)?n[t].promise().done(u(t,l,n)).fail(o.reject).progress(u(t,f,a)):--s;return s||o.resolveWith(l,n),o.promise()}});var D;h.fn.ready=function(e){return h.ready.promise().done(e),this},h.extend({isReady:!1,readyWait:1,holdReady:function(e){e?h.readyWait++:h.ready(!0)},ready:function(e){if(e===!0?!--h.readyWait:!h.isReady){if(!T.body)return setTimeout(h.ready);h.isReady=!0,e!==!0&&--h.readyWait>0||(D.resolveWith(T,[h]),h.fn.triggerHandler&&(h(T).triggerHandler("ready"),h(T).off("ready")))}}}),h.ready.promise=function(t){if(!D)if(D=h.Deferred(),"complete"===T.readyState)setTimeout(h.ready);else if(T.addEventListener)T.addEventListener("DOMContentLoaded",H,!1),e.addEventListener("load",H,!1);else{T.attachEvent("onreadystatechange",H),e.attachEvent("onload",H);var n=!1;try{n=null==e.frameElement&&T.documentElement}catch(r){}n&&n.doScroll&&!function i(){if(!h.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}P(),h.ready()}}()}return D.promise(t)};var B="undefined",j;for(j in h(l))break;l.ownLast="0"!==j,l.inlineBlockNeedsLayout=!1,h(function(){var e,t,n,r;n=T.getElementsByTagName("body")[0],n&&n.style&&(t=T.createElement("div"),r=T.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==B&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",l.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=T.createElement("div");if(null==l.deleteExpando){l.deleteExpando=!0;try{delete e.test}catch(t){l.deleteExpando=!1}}e=null}(),h.acceptData=function(e){var t=h.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var F=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,I=/([A-Z])/g;h.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?h.cache[e[h.expando]]:e[h.expando],!!e&&!R(e)},data:function(e,t,n){return U(e,t,n)},removeData:function(e,t){return z(e,t)},_data:function(e,t,n){return U(e,t,n,!0)},_removeData:function(e,t){return z(e,t,!0)}}),h.fn.extend({data:function(e,t){var n,r,i,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(i=h.data(s),1===s.nodeType&&!h._data(s,"parsedAttrs"))){n=o.length;while(n--)o[n]&&(r=o[n].name,0===r.indexOf("data-")&&(r=h.camelCase(r.slice(5)),q(s,r,i[r])));h._data(s,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){h.data(this,e)}):arguments.length>1?this.each(function(){h.data(this,e,t)}):s?q(s,e,h.data(s,e)):void 0},removeData:function(e){return this.each(function(){h.removeData(this,e)})}}),h.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=h._data(e,t),n&&(!r||h.isArray(n)?r=h._data(e,t,h.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=h.queue(e,t),r=n.length,i=n.shift(),s=h._queueHooks(e,t),o=function(){h.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return h._data(e,n)||h._data(e,n,{empty:h.Callbacks("once memory").add(function(){h._removeData(e,t+"queue"),h._removeData(e,n)})})}}),h.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?h.queue(this[0],e):void 0===t?this:this.each(function(){var n=h.queue(this,e,t);h._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&h.dequeue(this,e)})},dequeue:function(e){return this.each(function(){h.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=h.Deferred(),s=this,o=this.length,u=function(){--r||i.resolveWith(s,[s])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(o--)n=h._data(s[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var W=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,X=["Top","Right","Bottom","Left"],V=function(e,t){return e=t||e,"none"===h.css(e,"display")||!h.contains(e.ownerDocument,e)},$=h.access=function(e,t,n,r,i,s,o){var u=0,a=e.length,f=null==n;if("object"===h.type(n)){i=!0;for(u in n)h.access(e,t,u,n[u],!0,s,o)}else if(void 0!==r&&(i=!0,h.isFunction(r)||(o=!0),f&&(o?(t.call(e,r),t=null):(f=t,t=function(e,t,n){return f.call(h(e),n)})),t))for(;a>u;u++)t(e[u],n,o?r:r.call(e[u],u,t(e[u],n)));return i?e:f?t.call(e):a?t(e[0],n):s},J=/^(?:checkbox|radio)$/i;!function(){var e=T.createElement("input"),t=T.createElement("div"),n=T.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",l.leadingWhitespace=3===t.firstChild.nodeType,l.tbody=!t.getElementsByTagName("tbody").length,l.htmlSerialize=!!t.getElementsByTagName("link").length,l.html5Clone="<:nav></:nav>"!==T.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),l.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",l.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){l.noCloneEvent=!1}),t.cloneNode(!0).click()),null==l.deleteExpando){l.deleteExpando=!0;try{delete t.test}catch(r){l.deleteExpando=!1}}}(),function(){var t,n,r=T.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(l[t+"Bubbles"]=n in e)||(r.setAttribute(n,"t"),l[t+"Bubbles"]=r.attributes[n].expando===!1);r=null}();var K=/^(?:input|select|textarea)$/i,Q=/^key/,G=/^(?:mouse|pointer|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Z=/^([^.]*)(?:\.(.+)|)$/;h.event={global:{},add:function(e,t,n,r,i){var s,o,u,a,f,l,c,p,d,v,m,g=h._data(e);if(g){n.handler&&(a=n,n=a.handler,i=a.selector),n.guid||(n.guid=h.guid++),(o=g.events)||(o=g.events={}),(l=g.handle)||(l=g.handle=function(e){return typeof h===B||e&&h.event.triggered===e.type?void 0:h.event.dispatch.apply(l.elem,arguments)},l.elem=e),t=(t||"").match(O)||[""],u=t.length;while(u--)s=Z.exec(t[u])||[],d=m=s[1],v=(s[2]||"").split(".").sort(),d&&(f=h.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=h.event.special[d]||{},c=h.extend({type:d,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&h.expr.match.needsContext.test(i),namespace:v.join(".")},a),(p=o[d])||(p=o[d]=[],p.delegateCount=0,f.setup&&f.setup.call(e,r,v,l)!==!1||(e.addEventListener?e.addEventListener(d,l,!1):e.attachEvent&&e.attachEvent("on"+d,l))),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),h.event.global[d]=!0);e=null}},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,p,d,v,m,g=h.hasData(e)&&h._data(e);if(g&&(l=g.events)){t=(t||"").match(O)||[""],f=t.length;while(f--)if(u=Z.exec(t[f])||[],d=m=u[1],v=(u[2]||"").split(".").sort(),d){c=h.event.special[d]||{},d=(r?c.delegateType:c.bindType)||d,p=l[d]||[],u=u[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=p.length;while(s--)o=p[s],!i&&m!==o.origType||n&&n.guid!==o.guid||u&&!u.test(o.namespace)||r&&r!==o.selector&&("**"!==r||!o.selector)||(p.splice(s,1),o.selector&&p.delegateCount--,c.remove&&c.remove.call(e,o));a&&!p.length&&(c.teardown&&c.teardown.call(e,v,g.handle)!==!1||h.removeEvent(e,d,g.handle),delete l[d])}else for(d in l)h.event.remove(e,d+t[f],n,r,!0);h.isEmptyObject(l)&&(delete g.handle,h._removeData(e,"events"))}},trigger:function(t,n,r,i){var s,o,u,a,l,c,p,d=[r||T],v=f.call(t,"type")?t.type:t,m=f.call(t,"namespace")?t.namespace.split("."):[];if(u=c=r=r||T,3!==r.nodeType&&8!==r.nodeType&&!Y.test(v+h.event.triggered)&&(v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),o=v.indexOf(":")<0&&"on"+v,t=t[h.expando]?t:new h.Event(v,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=m.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:h.makeArray(n,[t]),l=h.event.special[v]||{},i||!l.trigger||l.trigger.apply(r,n)!==!1)){if(!i&&!l.noBubble&&!h.isWindow(r)){for(a=l.delegateType||v,Y.test(a+v)||(u=u.parentNode);u;u=u.parentNode)d.push(u),c=u;c===(r.ownerDocument||T)&&d.push(c.defaultView||c.parentWindow||e)}p=0;while((u=d[p++])&&!t.isPropagationStopped())t.type=p>1?a:l.bindType||v,s=(h._data(u,"events")||{})[t.type]&&h._data(u,"handle"),s&&s.apply(u,n),s=o&&u[o],s&&s.apply&&h.acceptData(u)&&(t.result=s.apply(u,n),t.result===!1&&t.preventDefault());if(t.type=v,!i&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(d.pop(),n)===!1)&&h.acceptData(r)&&o&&r[v]&&!h.isWindow(r)){c=r[o],c&&(r[o]=null),h.event.triggered=v;try{r[v]()}catch(g){}h.event.triggered=void 0,c&&(r[o]=c)}return t.result}},dispatch:function(e){e=h.event.fix(e);var t,n,i,s,o,u=[],a=r.call(arguments),f=(h._data(this,"events")||{})[e.type]||[],l=h.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){u=h.event.handlers.call(this,e,f),t=0;while((s=u[t++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,o=0;while((i=s.handlers[o++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,n=((h.event.special[i.origType]||{}).handle||i.handler).apply(s.elem,a),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()))}return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,s,o=[],u=t.delegateCount,a=e.target;if(u&&a.nodeType&&(!e.button||"click"!==e.type))for(;a!=this;a=a.parentNode||this)if(1===a.nodeType&&(a.disabled!==!0||"click"!==e.type)){for(i=[],s=0;u>s;s++)r=t[s],n=r.selector+" ",void 0===i[n]&&(i[n]=r.needsContext?h(n,this).index(a)>=0:h.find(n,this,null,[a]).length),i[n]&&i.push(r);i.length&&o.push({elem:a,handlers:i})}return u<t.length&&o.push({elem:this,handlers:t.slice(u)}),o},fix:function(e){if(e[h.expando])return e;var t,n,r,i=e.type,s=e,o=this.fixHooks[i];o||(this.fixHooks[i]=o=G.test(i)?this.mouseHooks:Q.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new h.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=s.srcElement||T),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,o.filter?o.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button,o=t.fromElement;return null==e.pageX&&null!=t.clientX&&(r=e.target.ownerDocument||T,i=r.documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?t.toElement:o),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==nt()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===nt()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return h.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return h.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=h.extend(new h.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?h.event.trigger(i,null,t):h.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},h.removeEvent=T.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===B&&(e[r]=null),e.detachEvent(r,n))},h.Event=function(e,t){return this instanceof h.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?et:tt):this.type=e,t&&h.extend(this,t),this.timeStamp=e&&e.timeStamp||h.now(),void (this[h.expando]=!0)):new h.Event(e,t)},h.Event.prototype={isDefaultPrevented:tt,isPropagationStopped:tt,isImmediatePropagationStopped:tt,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=et,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=et,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=et,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},h.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){h.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;return(!i||i!==r&&!h.contains(r,i))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),l.submitBubbles||(h.event.special.submit={setup:function(){return h.nodeName(this,"form")?!1:void h.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=h.nodeName(t,"input")||h.nodeName(t,"button")?t.form:void 0;n&&!h._data(n,"submitBubbles")&&(h.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),h._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&h.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return h.nodeName(this,"form")?!1:void h.event.remove(this,"._submit")}}),l.changeBubbles||(h.event.special.change={setup:function(){return K.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(h.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),h.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),h.event.simulate("change",this,e,!0)})),!1):void h.event.add(this,"beforeactivate._change",function(e){var t=e.target;K.test(t.nodeName)&&!h._data(t,"changeBubbles")&&(h.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||h.event.simulate("change",this.parentNode,e,!0)}),h._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return h.event.remove(this,"._change"),!K.test(this.nodeName)}}),l.focusinBubbles||h.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){h.event.simulate(t,e.target,h.event.fix(e),!0)};h.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=h._data(r,t);i||r.addEventListener(e,n,!0),h._data(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=h._data(r,t)-1;i?h._data(r,t,i):(r.removeEventListener(e,n,!0),h._removeData(r,t))}}}),h.fn.extend({on:function(e,t,n,r,i){var s,o;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),r===!1)r=tt;else if(!r)return this;return 1===i&&(o=r,r=function(e){return h().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=h.guid++)),this.each(function(){h.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,h(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=tt),this.each(function(){h.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){h.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?h.event.trigger(e,t,n,!0):void 0}});var it="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",st=/ jQuery\d+="(?:null|\d+)"/g,ot=new RegExp("<(?:"+it+")[\\s/>]","i"),ut=/^\s+/,at=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ft=/<([\w:]+)/,lt=/<tbody/i,ct=/<|&#?\w+;/,ht=/<(?:script|style|link)/i,pt=/checked\s*(?:[^=]|=\s*.checked.)/i,dt=/^$|\/(?:java|ecma)script/i,vt=/^true\/(.*)/,mt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,gt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},yt=rt(T),bt=yt.appendChild(T.createElement("div"));gt.optgroup=gt.option,gt.tbody=gt.tfoot=gt.colgroup=gt.caption=gt.thead,gt.th=gt.td,h.extend({clone:function(e,t,n){var r,i,s,o,u,a=h.contains(e.ownerDocument,e);if(l.html5Clone||h.isXMLDoc(e)||!ot.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(bt.innerHTML=e.outerHTML,bt.removeChild(s=bt.firstChild)),!(l.noCloneEvent&&l.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||h.isXMLDoc(e)))for(r=wt(s),u=wt(e),o=0;null!=(i=u[o]);++o)r[o]&&kt(i,r[o]);if(t)if(n)for(u=u||wt(e),r=r||wt(s),o=0;null!=(i=u[o]);o++)Ct(i,r[o]);else Ct(e,s);return r=wt(s,"script"),r.length>0&&Nt(r,!a&&wt(e,"script")),r=u=i=null,s},buildFragment:function(e,t,n,r){for(var i,s,o,u,a,f,c,p=e.length,d=rt(t),v=[],m=0;p>m;m++)if(s=e[m],s||0===s)if("object"===h.type(s))h.merge(v,s.nodeType?[s]:s);else if(ct.test(s)){u=u||d.appendChild(t.createElement("div")),a=(ft.exec(s)||["",""])[1].toLowerCase(),c=gt[a]||gt._default,u.innerHTML=c[1]+s.replace(at,"<$1></$2>")+c[2],i=c[0];while(i--)u=u.lastChild;if(!l.leadingWhitespace&&ut.test(s)&&v.push(t.createTextNode(ut.exec(s)[0])),!l.tbody){s="table"!==a||lt.test(s)?"<table>"!==c[1]||lt.test(s)?0:u:u.firstChild,i=s&&s.childNodes.length;while(i--)h.nodeName(f=s.childNodes[i],"tbody")&&!f.childNodes.length&&s.removeChild(f)}h.merge(v,u.childNodes),u.textContent="";while(u.firstChild)u.removeChild(u.firstChild);u=d.lastChild}else v.push(t.createTextNode(s));u&&d.removeChild(u),l.appendChecked||h.grep(wt(v,"input"),Et),m=0;while(s=v[m++])if((!r||-1===h.inArray(s,r))&&(o=h.contains(s.ownerDocument,s),u=wt(d.appendChild(s),"script"),o&&Nt(u),n)){i=0;while(s=u[i++])dt.test(s.type||"")&&n.push(s)}return u=null,d},cleanData:function(e,t){for(var r,i,s,o,u=0,a=h.expando,f=h.cache,c=l.deleteExpando,p=h.event.special;null!=(r=e[u]);u++)if((t||h.acceptData(r))&&(s=r[a],o=s&&f[s])){if(o.events)for(i in o.events)p[i]?h.event.remove(r,i):h.removeEvent(r,i,o.handle);f[s]&&(delete f[s],c?delete r[a]:typeof r.removeAttribute!==B?r.removeAttribute(a):r[a]=null,n.push(s))}}}),h.fn.extend({text:function(e){return $(this,function(e){return void 0===e?h.text(this):this.empty().append((this[0]&&this[0].ownerDocument||T).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=St(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=St(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?h.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||h.cleanData(wt(n)),n.parentNode&&(t&&h.contains(n.ownerDocument,n)&&Nt(wt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){1===e.nodeType&&h.cleanData(wt(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&h.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return h.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(st,""):void 0;if(!("string"!=typeof e||ht.test(e)||!l.htmlSerialize&&ot.test(e)||!l.leadingWhitespace&&ut.test(e)||gt[(ft.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(at,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(h.cleanData(wt(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,h.cleanData(wt(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=i.apply([],e);var n,r,s,o,u,a,f=0,c=this.length,p=this,d=c-1,v=e[0],m=h.isFunction(v);if(m||c>1&&"string"==typeof v&&!l.checkClone&&pt.test(v))return this.each(function(n){var r=p.eq(n);m&&(e[0]=v.call(this,n,r.html())),r.domManip(e,t)});if(c&&(a=h.buildFragment(e,this[0].ownerDocument,!1,this),n=a.firstChild,1===a.childNodes.length&&(a=n),n)){for(o=h.map(wt(a,"script"),xt),s=o.length;c>f;f++)r=a,f!==d&&(r=h.clone(r,!0,!0),s&&h.merge(o,wt(r,"script"))),t.call(this[f],r,f);if(s)for(u=o[o.length-1].ownerDocument,h.map(o,Tt),f=0;s>f;f++)r=o[f],dt.test(r.type||"")&&!h._data(r,"globalEval")&&h.contains(u,r)&&(r.src?h._evalUrl&&h._evalUrl(r.src):h.globalEval((r.text||r.textContent||r.innerHTML||"").replace(mt,"")));a=n=null}return this}}),h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){h.fn[e]=function(e){for(var n,r=0,i=[],o=h(e),u=o.length-1;u>=r;r++)n=r===u?this:this.clone(!0),h(o[r])[t](n),s.apply(i,n.get());return this.pushStack(i)}});var Lt,At={};!function(){var e;l.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,r;return n=T.getElementsByTagName("body")[0],n&&n.style?(t=T.createElement("div"),r=T.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),typeof t.style.zoom!==B&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(T.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(r),e):void 0}}();var _t=/^margin/,Dt=new RegExp("^("+W+")(?!px)[a-z%]+$","i"),Pt,Ht,Bt=/^(top|right|bottom|left)$/;e.getComputedStyle?(Pt=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},Ht=function(e,t,n){var r,i,s,o,u=e.style;return n=n||Pt(e),o=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==o||h.contains(e.ownerDocument,e)||(o=h.style(e,t)),Dt.test(o)&&_t.test(t)&&(r=u.width,i=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=o,o=n.width,u.width=r,u.minWidth=i,u.maxWidth=s)),void 0===o?o:o+""}):T.documentElement.currentStyle&&(Pt=function(e){return e.currentStyle},Ht=function(e,t,n){var r,i,s,o,u=e.style;return n=n||Pt(e),o=n?n[t]:void 0,null==o&&u&&u[t]&&(o=u[t]),Dt.test(o)&&!Bt.test(t)&&(r=u.left,i=e.runtimeStyle,s=i&&i.left,s&&(i.left=e.currentStyle.left),u.left="fontSize"===t?"1em":o,o=u.pixelLeft+"px",u.left=r,s&&(i.left=s)),void 0===o?o:o+""||"auto"}),!function(){var t,n,r,i,s,o,u;if(t=T.createElement("div"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=r&&r.style){n.cssText="float:left;opacity:.5",l.opacity="0.5"===n.opacity,l.cssFloat=!!n.cssFloat,t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===t.style.backgroundClip,l.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,h.extend(l,{reliableHiddenOffsets:function(){return null==o&&a(),o},boxSizingReliable:function(){return null==s&&a(),s},pixelPosition:function(){return null==i&&a(),i},reliableMarginRight:function(){return null==u&&a(),u}});function a(){var t,n,r,a;n=T.getElementsByTagName("body")[0],n&&n.style&&(t=T.createElement("div"),r=T.createElement("div"),r.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",i=s=!1,u=!0,e.getComputedStyle&&(i="1%"!==(e.getComputedStyle(t,null)||{}).top,s="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,a=t.appendChild(T.createElement("div")),a.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",a.style.marginRight=a.style.width="0",t.style.width="1px",u=!parseFloat((e.getComputedStyle(a,null)||{}).marginRight)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=t.getElementsByTagName("td"),a[0].style.cssText="margin:0;border:0;padding:0;display:none",o=0===a[0].offsetHeight,o&&(a[0].style.display="",a[1].style.display="none",o=0===a[0].offsetHeight),n.removeChild(r))}}}(),h.swap=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i};var Ft=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,qt=/^(none|table(?!-c[ea]).+)/,Rt=new RegExp("^("+W+")(.*)$","i"),Ut=new RegExp("^([+-])=("+W+")","i"),zt={position:"absolute",visibility:"hidden",display:"block"},Wt={letterSpacing:"0",fontWeight:"400"},Xt=["Webkit","O","Moz","ms"];h.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ht(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,s,o,u=h.camelCase(t),a=e.style;if(t=h.cssProps[u]||(h.cssProps[u]=Vt(a,u)),o=h.cssHooks[t]||h.cssHooks[u],void 0===n)return o&&"get"in o&&void 0!==(i=o.get(e,!1,r))?i:a[t];if(s=typeof n,"string"===s&&(i=Ut.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(h.css(e,t)),s="number"),null!=n&&n===n&&("number"!==s||h.cssNumber[u]||(n+="px"),l.clearCloneStyle||""!==n||0!==t.indexOf("background")||(a[t]="inherit"),!(o&&"set"in o&&void 0===(n=o.set(e,n,r)))))try{a[t]=n}catch(f){}}},css:function(e,t,n,r){var i,s,o,u=h.camelCase(t);return t=h.cssProps[u]||(h.cssProps[u]=Vt(e.style,u)),o=h.cssHooks[t]||h.cssHooks[u],o&&"get"in o&&(s=o.get(e,!0,n)),void 0===s&&(s=Ht(e,t,r)),"normal"===s&&t in Wt&&(s=Wt[t]),""===n||n?(i=parseFloat(s),n===!0||h.isNumeric(i)?i||0:s):s}}),h.each(["height","width"],function(e,t){h.cssHooks[t]={get:function(e,n,r){return n?qt.test(h.css(e,"display"))&&0===e.offsetWidth?h.swap(e,zt,function(){return Qt(e,t,r)}):Qt(e,t,r):void 0},set:function(e,n,r){var i=r&&Pt(e);return Jt(e,n,r?Kt(e,t,r,l.boxSizing&&"border-box"===h.css(e,"boxSizing",!1,i),i):0)}}}),l.opacity||(h.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=h.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===h.trim(s.replace(Ft,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=Ft.test(s)?s.replace(Ft,i):s+" "+i)}}),h.cssHooks.marginRight=jt(l.reliableMarginRight,function(e,t){return t?h.swap(e,{display:"inline-block"},Ht,[e,"marginRight"]):void 0}),h.each({margin:"",padding:"",border:"Width"},function(e,t){h.cssHooks[e+t]={expand:function(n){for(var r=0,i={},s="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+X[r]+t]=s[r]||s[r-2]||s[0];return i}},_t.test(e)||(h.cssHooks[e+t].set=Jt)}),h.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,s={},o=0;if(h.isArray(t)){for(r=Pt(e),i=t.length;i>o;o++)s[t[o]]=h.css(e,t[o],!1,r);return s}return void 0!==n?h.style(e,t,n):h.css(e,t)},e,t,arguments.length>1)},show:function(){return $t(this,!0)},hide:function(){return $t(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){V(this)?h(this).show():h(this).hide()})}}),h.Tween=Gt,Gt.prototype={constructor:Gt,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(h.cssNumber[n]?"":"px")},cur:function(){var e=Gt.propHooks[this.prop];return e&&e.get?e.get(this):Gt.propHooks._default.get(this)},run:function(e){var t,n=Gt.propHooks[this.prop];return this.pos=t=this.options.duration?h.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Gt.propHooks._default.set(this),this}},Gt.prototype.init.prototype=Gt.prototype,Gt.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=h.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){h.fx.step[e.prop]?h.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[h.cssProps[e.prop]]||h.cssHooks[e.prop])?h.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Gt.propHooks.scrollTop=Gt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},h.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},h.fx=Gt.prototype.init,h.fx.step={};var Yt,Zt,en=/^(?:toggle|show|hide)$/,tn=new RegExp("^(?:([+-])=|)("+W+")([a-z%]*)$","i"),nn=/queueHooks$/,rn=[fn],sn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=tn.exec(t),s=i&&i[3]||(h.cssNumber[e]?"":"px"),o=(h.cssNumber[e]||"px"!==s&&+r)&&tn.exec(h.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,h.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&1!==u&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};h.Animation=h.extend(cn,{tweener:function(e,t){h.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;i>r;r++)n=e[r],sn[n]=sn[n]||[],sn[n].unshift(t)},prefilter:function(e,t){t?rn.unshift(e):rn.push(e)}}),h.speed=function(e,t,n){var r=e&&"object"==typeof e?h.extend({},e):{complete:n||!n&&t||h.isFunction(e)&&e,duration:e,easing:n&&t||t&&!h.isFunction(t)&&t};return r.duration=h.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in h.fx.speeds?h.fx.speeds[r.duration]:h.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){h.isFunction(r.old)&&r.old.call(this),r.queue&&h.dequeue(this,r.queue)},r},h.fn.extend({fadeTo:function(e,t,n,r){return this.filter(V).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=h.isEmptyObject(e),s=h.speed(t,n,r),o=function(){var t=cn(this,h.extend({},e),s);(i||h._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",s=h.timers,o=h._data(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&nn.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem!==this||null!=e&&s[i].queue!==e||(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&h.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=h._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=h.timers,o=r?r.length:0;for(n.finish=!0,h.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;o>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),h.each(["toggle","show","hide"],function(e,t){var n=h.fn[t];h.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(un(t,!0),e,r,i)}}),h.each({slideDown:un("show"),slideUp:un("hide"),slideToggle:un("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){h.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),h.timers=[],h.fx.tick=function(){var e,t=h.timers,n=0;for(Yt=h.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||h.fx.stop(),Yt=void 0},h.fx.timer=function(e){h.timers.push(e),e()?h.fx.start():h.timers.pop()},h.fx.interval=13,h.fx.start=function(){Zt||(Zt=setInterval(h.fx.tick,h.fx.interval))},h.fx.stop=function(){clearInterval(Zt),Zt=null},h.fx.speeds={slow:600,fast:200,_default:400},h.fn.delay=function(e,t){return e=h.fx?h.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e,t,n,r,i;t=T.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=t.getElementsByTagName("a")[0],n=T.createElement("select"),i=n.appendChild(T.createElement("option")),e=t.getElementsByTagName("input")[0],r.style.cssText="top:1px",l.getSetAttribute="t"!==t.className,l.style=/top/.test(r.getAttribute("style")),l.hrefNormalized="/a"===r.getAttribute("href"),l.checkOn=!!e.value,l.optSelected=i.selected,l.enctype=!!T.createElement("form").enctype,n.disabled=!0,l.optDisabled=!i.disabled,e=T.createElement("input"),e.setAttribute("value",""),l.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),l.radioValue="t"===e.value}();var hn=/\r/g;h.fn.extend({val:function(e){var t,n,r,i=this[0];if(arguments.length)return r=h.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,h(this).val()):e,null==i?i="":"number"==typeof i?i+="":h.isArray(i)&&(i=h.map(i,function(e){return null==e?"":e+""})),t=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=h.valHooks[i.type]||h.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(hn,""):null==n?"":n)}}),h.extend({valHooks:{option:{get:function(e){var t=h.find.attr(e,"value");return null!=t?t:h.trim(h.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,s="select-one"===e.type||0>i,o=s?null:[],u=s?i+1:r.length,a=0>i?u:s?i:0;u>a;a++)if(n=r[a],!(!n.selected&&a!==i||(l.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&h.nodeName(n.parentNode,"optgroup"))){if(t=h(n).val(),s)return t;o.push(t)}return o},set:function(e,t){var n,r,i=e.options,s=h.makeArray(t),o=i.length;while(o--)if(r=i[o],h.inArray(h.valHooks.option.get(r),s)>=0)try{r.selected=n=!0}catch(u){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),h.each(["radio","checkbox"],function(){h.valHooks[this]={set:function(e,t){return h.isArray(t)?e.checked=h.inArray(h(e).val(),t)>=0:void 0}},l.checkOn||(h.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var pn,dn,vn=h.expr.attrHandle,mn=/^(?:checked|selected)$/i,gn=l.getSetAttribute,yn=l.input;h.fn.extend({attr:function(e,t){return $(this,h.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){h.removeAttr(this,e)})}}),h.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===B?h.prop(e,t,n):(1===s&&h.isXMLDoc(e)||(t=t.toLowerCase(),r=h.attrHooks[t]||(h.expr.match.bool.test(t)?dn:pn)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=h.find.attr(e,t),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void h.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(O);if(s&&1===e.nodeType)while(n=s[i++])r=h.propFix[n]||n,h.expr.match.bool.test(n)?yn&&gn||!mn.test(n)?e[r]=!1:e[h.camelCase("default-"+n)]=e[r]=!1:h.attr(e,n,""),e.removeAttribute(gn?n:r)},attrHooks:{type:{set:function(e,t){if(!l.radioValue&&"radio"===t&&h.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),dn={set:function(e,t,n){return t===!1?h.removeAttr(e,n):yn&&gn||!mn.test(n)?e.setAttribute(!gn&&h.propFix[n]||n,n):e[h.camelCase("default-"+n)]=e[n]=!0,n}},h.each(h.expr.match.bool.source.match(/\w+/g),function(e,t){var n=vn[t]||h.find.attr;vn[t]=yn&&gn||!mn.test(t)?function(e,t,r){var i,s;return r||(s=vn[t],vn[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,vn[t]=s),i}:function(e,t,n){return n?void 0:e[h.camelCase("default-"+t)]?t.toLowerCase():null}}),yn&&gn||(h.attrHooks.value={set:function(e,t,n){return h.nodeName(e,"input")?void (e.defaultValue=t):pn&&pn.set(e,t,n)}}),gn||(pn={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},vn.id=vn.name=vn.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},h.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:pn.set},h.attrHooks.contenteditable={set:function(e,t,n){pn.set(e,""===t?!1:t,n)}},h.each(["width","height"],function(e,t){h.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),l.style||(h.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var bn=/^(?:input|select|textarea|button|object)$/i,wn=/^(?:a|area)$/i;h.fn.extend({prop:function(e,t){return $(this,h.prop,e,t,arguments.length>1)},removeProp:function(e){return e=h.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),h.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return s=1!==o||!h.isXMLDoc(e),s&&(t=h.propFix[t]||t,i=h.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=h.find.attr(e,"tabindex");return t?parseInt(t,10):bn.test(e.nodeName)||wn.test(e.nodeName)&&e.href?0:-1}}}}),l.hrefNormalized||h.each(["href","src"],function(e,t){h.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),l.optSelected||(h.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),h.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){h.propFix[this.toLowerCase()]=this}),l.enctype||(h.propFix.enctype="encoding");var En=/[\t\r\n\f]/g;h.fn.extend({addClass:function(e){var t,n,r,i,s,o,u=0,a=this.length,f="string"==typeof e&&e;if(h.isFunction(e))return this.each(function(t){h(this).addClass(e.call(this,t,this.className))});if(f)for(t=(e||"").match(O)||[];a>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(En," "):" ")){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");o=h.trim(r),n.className!==o&&(n.className=o)}return this},removeClass:function(e){var t,n,r,i,s,o,u=0,a=this.length,f=0===arguments.length||"string"==typeof e&&e;if(h.isFunction(e))return this.each(function(t){h(this).removeClass(e.call(this,t,this.className))});if(f)for(t=(e||"").match(O)||[];a>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(En," "):"")){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");o=e?h.trim(r):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(h.isFunction(e)?function(n){h(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n){var t,r=0,i=h(this),s=e.match(O)||[];while(t=s[r++])i.hasClass(t)?i.removeClass(t):i.addClass(t)}else(n===B||"boolean"===n)&&(this.className&&h._data(this,"__className__",this.className),this.className=this.className||e===!1?"":h._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(En," ").indexOf(t)>=0)return!0;return!1}}),h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){h.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),h.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Sn=h.now(),xn=/\?/,Tn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;h.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,r=null,i=h.trim(t+"");return i&&!h.trim(i.replace(Tn,function(e,t,i,s){return n&&t&&(r=0),0===r?e:(n=i||t,r+=!s-!i,"")}))?Function("return "+i)():h.error("Invalid JSON: "+t)},h.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(r=new DOMParser,n=r.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(i){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||h.error("Invalid XML: "+t),n};var Nn,Cn,kn=/#.*$/,Ln=/([?&])_=[^&]*/,An=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,On=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mn=/^(?:GET|HEAD)$/,_n=/^\/\//,Dn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Pn={},Hn={},Bn="*/".concat("*");try{Cn=location.href}catch(jn){Cn=T.createElement("a"),Cn.href="",Cn=Cn.href}Nn=Dn.exec(Cn.toLowerCase())||[],h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Cn,type:"GET",isLocal:On.test(Nn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":h.parseJSON,"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?qn(qn(e,h.ajaxSettings),t):qn(h.ajaxSettings,e)},ajaxPrefilter:Fn(Pn),ajaxTransport:Fn(Hn),ajax:function(e,t){function x(e,t,n,r){var f,g,y,w,S,x=t;2!==b&&(b=2,o&&clearTimeout(o),a=void 0,s=r||"",E.readyState=e>0?4:0,f=e>=200&&300>e||304===e,n&&(w=Rn(l,E,n)),w=Un(l,w,E,f),f?(l.ifModified&&(S=E.getResponseHeader("Last-Modified"),S&&(h.lastModified[i]=S),S=E.getResponseHeader("etag"),S&&(h.etag[i]=S)),204===e||"HEAD"===l.type?x="nocontent":304===e?x="notmodified":(x=w.state,g=w.data,y=w.error,f=!y)):(y=x,(e||!x)&&(x="error",0>e&&(e=0))),E.status=e,E.statusText=(t||x)+"",f?d.resolveWith(c,[g,x,E]):d.rejectWith(c,[E,x,y]),E.statusCode(m),m=void 0,u&&p.trigger(f?"ajaxSuccess":"ajaxError",[E,l,f?g:y]),v.fireWith(c,[E,x]),u&&(p.trigger("ajaxComplete",[E,l]),--h.active||h.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,i,s,o,u,a,f,l=h.ajaxSetup({},t),c=l.context||l,p=l.context&&(c.nodeType||c.jquery)?h(c):h.event,d=h.Deferred(),v=h.Callbacks("once memory"),m=l.statusCode||{},g={},y={},b=0,w="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!f){f={};while(t=An.exec(s))f[t[1].toLowerCase()]=t[2]}t=f[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(l.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else E.always(e[E.status]);return this},abort:function(e){var t=e||w;return a&&a.abort(t),x(0,t),this}};if(d.promise(E).complete=v.add,E.success=E.done,E.error=E.fail,l.url=((e||l.url||Cn)+"").replace(kn,"").replace(_n,Nn[1]+"//"),l.type=t.method||t.type||l.method||l.type,l.dataTypes=h.trim(l.dataType||"*").toLowerCase().match(O)||[""],null==l.crossDomain&&(n=Dn.exec(l.url.toLowerCase()),l.crossDomain=!(!n||n[1]===Nn[1]&&n[2]===Nn[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Nn[3]||("http:"===Nn[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=h.param(l.data,l.traditional)),In(Pn,l,t,E),2===b)return E;u=l.global,u&&0===h.active++&&h.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Mn.test(l.type),i=l.url,l.hasContent||(l.data&&(i=l.url+=(xn.test(i)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Ln.test(i)?i.replace(Ln,"$1_="+Sn++):i+(xn.test(i)?"&":"?")+"_="+Sn++)),l.ifModified&&(h.lastModified[i]&&E.setRequestHeader("If-Modified-Since",h.lastModified[i]),h.etag[i]&&E.setRequestHeader("If-None-Match",h.etag[i])),(l.data&&l.hasContent&&l.contentType!==!1||t.contentType)&&E.setRequestHeader("Content-Type",l.contentType),E.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Bn+"; q=0.01":""):l.accepts["*"]);for(r in l.headers)E.setRequestHeader(r,l.headers[r]);if(!l.beforeSend||l.beforeSend.call(c,E,l)!==!1&&2!==b){w="abort";for(r in{success:1,error:1,complete:1})E[r](l[r]);if(a=In(Hn,l,t,E)){E.readyState=1,u&&p.trigger("ajaxSend",[E,l]),l.async&&l.timeout>0&&(o=setTimeout(function(){E.abort("timeout")},l.timeout));try{b=1,a.send(g,x)}catch(S){if(!(2>b))throw S;x(-1,S)}}else x(-1,"No Transport");return E}return E.abort()},getJSON:function(e,t,n){return h.get(e,t,n,"json")},getScript:function(e,t){return h.get(e,void 0,t,"script")}}),h.each(["get","post"],function(e,t){h[t]=function(e,n,r,i){return h.isFunction(n)&&(i=i||r,r=n,n=void 0),h.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),h.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){h.fn[t]=function(e){return this.on(t,e)}}),h._evalUrl=function(e){return h.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},h.fn.extend({wrapAll:function(e){if(h.isFunction(e))return this.each(function(t){h(this).wrapAll(e.call(this,t))});if(this[0]){var t=h(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(h.isFunction(e)?function(t){h(this).wrapInner(e.call(this,t))}:function(){var t=h(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=h.isFunction(e);return this.each(function(n){h(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)}).end()}}),h.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!l.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||h.css(e,"display"))},h.expr.filters.visible=function(e){return!h.expr.filters.hidden(e)};var zn=/%20/g,Wn=/\[\]$/,Xn=/\r?\n/g,Vn=/^(?:submit|button|image|reset|file)$/i,$n=/^(?:input|select|textarea|keygen)/i;h.param=function(e,t){var n,r=[],i=function(e,t){t=h.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=h.ajaxSettings&&h.ajaxSettings.traditional),h.isArray(e)||e.jquery&&!h.isPlainObject(e))h.each(e,function(){i(this.name,this.value)});else for(n in e)Jn(n,e[n],t,i);return r.join("&").replace(zn,"+")},h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=h.prop(this,"elements");return e?h.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!h(this).is(":disabled")&&$n.test(this.nodeName)&&!Vn.test(e)&&(this.checked||!J.test(e))}).map(function(e,t){var n=h(this).val();return null==n?null:h.isArray(n)?h.map(n,function(e){return{name:t.name,value:e.replace(Xn,"\r\n")}}):{name:t.name,value:n.replace(Xn,"\r\n")}}).get()}}),h.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Yn()||Zn()}:Yn;var Kn=0,Qn={},Gn=h.ajaxSettings.xhr();e.ActiveXObject&&h(e).on("unload",function(){for(var e in Qn)Qn[e](void 0,!0)}),l.cors=!!Gn&&"withCredentials"in Gn,Gn=l.ajax=!!Gn,Gn&&h.ajaxTransport(function(e){if(!e.crossDomain||l.cors){var t;return{send:function(n,r){var i,s=e.xhr(),o=++Kn;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)void 0!==n[i]&&s.setRequestHeader(i,n[i]+"");s.send(e.hasContent&&e.data||null),t=function(n,i){var u,a,f;if(t&&(i||4===s.readyState))if(delete Qn[o],t=void 0,s.onreadystatechange=h.noop,i)4!==s.readyState&&s.abort();else{f={},u=s.status,"string"==typeof s.responseText&&(f.text=s.responseText);try{a=s.statusText}catch(l){a=""}u||!e.isLocal||e.crossDomain?1223===u&&(u=204):u=f.text?200:404}f&&r(u,a,f,s.getAllResponseHeaders())},e.async?4===s.readyState?setTimeout(t):s.onreadystatechange=Qn[o]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return h.globalEval(e),e}}}),h.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),h.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=T.head||h("head")[0]||T.documentElement;return{send:function(r,i){t=T.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||i(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var er=[],tr=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=er.pop()||h.expando+"_"+Sn++;return this[e]=!0,e}}),h.ajaxPrefilter("json jsonp",function(t,n,r){var i,s,o,u=t.jsonp!==!1&&(tr.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tr.test(t.data)&&"data");return u||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=h.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,u?t[u]=t[u].replace(tr,"$1"+i):t.jsonp!==!1&&(t.url+=(xn.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||h.error(i+" was not called"),o[0]},t.dataTypes[0]="json",s=e[i],e[i]=function(){o=arguments},r.always(function(){e[i]=s,t[i]&&(t.jsonpCallback=n.jsonpCallback,er.push(i)),o&&h.isFunction(s)&&s(o[0]),o=s=void 0}),"script"):void 0}),h.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||T;var r=w.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=h.buildFragment([e],t,i),i&&i.length&&h(i).remove(),h.merge([],r.childNodes))};var nr=h.fn.load;h.fn.load=function(e,t,n){if("string"!=typeof e&&nr)return nr.apply(this,arguments);var r,i,s,o=this,u=e.indexOf(" ");return u>=0&&(r=h.trim(e.slice(u,e.length)),e=e.slice(0,u)),h.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(s="POST"),o.length>0&&h.ajax({url:e,type:s,dataType:"html",data:t}).done(function(e){i=arguments,o.html(r?h("<div>").append(h.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,i||[e.responseText,t,e])}),this},h.expr.filters.animated=function(e){return h.grep(h.timers,function(t){return e===t.elem}).length};var rr=e.document.documentElement;h.offset={setOffset:function(e,t,n){var r,i,s,o,u,a,f,l=h.css(e,"position"),c=h(e),p={};"static"===l&&(e.style.position="relative"),u=c.offset(),s=h.css(e,"top"),a=h.css(e,"left"),f=("absolute"===l||"fixed"===l)&&h.inArray("auto",[s,a])>-1,f?(r=c.position(),o=r.top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(a)||0),h.isFunction(t)&&(t=t.call(e,n,u)),null!=t.top&&(p.top=t.top-u.top+o),null!=t.left&&(p.left=t.left-u.left+i),"using"in t?t.using.call(e,p):c.css(p)}},h.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){h.offset.setOffset(this,e,t)});var t,n,r={top:0,left:0},i=this[0],s=i&&i.ownerDocument;if(s)return t=s.documentElement,h.contains(t,i)?(typeof i.getBoundingClientRect!==B&&(r=i.getBoundingClientRect()),n=ir(s),{top:r.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:r.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):r},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===h.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),h.nodeName(e[0],"html")||(n=e.offset()),n.top+=h.css(e[0],"borderTopWidth",!0),n.left+=h.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-h.css(r,"marginTop",!0),left:t.left-n.left-h.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||rr;while(e&&!h.nodeName(e,"html")&&"static"===h.css(e,"position"))e=e.offsetParent;return e||rr})}}),h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);h.fn[e]=function(r){return $(this,function(e,r,i){var s=ir(e);return void 0===i?s?t in s?s[t]:s.document.documentElement[r]:e[r]:void (s?s.scrollTo(n?h(s).scrollLeft():i,n?i:h(s).scrollTop()):e[r]=i)},e,r,arguments.length,null)}}),h.each(["top","left"],function(e,t){h.cssHooks[t]=jt(l.pixelPosition,function(e,n){return n?(n=Ht(e,t),Dt.test(n)?h(e).position()[t]+"px":n):void 0})}),h.each({Height:"height",Width:"width"},function(e,t){h.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){h.fn[r]=function(r,i){var s=arguments.length&&(n||"boolean"!=typeof r),o=n||(r===!0||i===!0?"margin":"border");return $(this,function(t,n,r){var i;return h.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?h.css(t,n,o):h.style(t,n,r,o)},t,s?r:void 0,s,null)}})}),h.fn.size=function(){return this.length},h.fn.andSelf=h.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return h});var sr=e.jQuery,or=e.$;return h.noConflict=function(t){return e.$===h&&(e.$=or),t&&e.jQuery===h&&(e.jQuery=sr),h},typeof t===B&&(e.jQuery=e.$=h),h}),function(e){"function"==typeof define&&define.amd?define("jquery-ui",["jquery"],e):e(jQuery)}(function(e){function t(t,r){var i,s,o,u=t.nodeName.toLowerCase();return"area"===u?(i=t.parentNode,s=i.name,t.href&&s&&"map"===i.nodeName.toLowerCase()?(o=e("img[usemap='#"+s+"']")[0],!!o&&n(o)):!1):(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||r:r)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),r="absolute"===n,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var t=e(this);return r&&"static"===t.css("position")?!1:i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&s.length?s:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var r=e.attr(n,"tabindex"),i=isNaN(r);return(i||r>=0)&&t(n,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function r(t,n,r,s){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i="Width"===n?["Left","Right"]:["Top","Bottom"],s=n.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?o["inner"+n].call(this):this.each(function(){e(this).css(s,r(this,t)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?o["outer"+n].call(this,t):this.each(function(){e(this).css(s,r(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(n,r){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),r&&r.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,r,i=e(this[0]);i.length&&i[0]!==document;){if(n=i.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(r=parseInt(i.css("zIndex"),10),!isNaN(r)&&0!==r))return r;i=i.parent()}return 0}}),e.ui.plugin={add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n,r){var i,s=e.plugins[t];if(s&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;s.length>i;i++)e.options[s[i][0]]&&s[i][1].apply(e.element,n)}};var r=0,i=Array.prototype.slice;e.cleanData=function(t){return function(n){var r,i,s;for(s=0;null!=(i=n[s]);s++)try{r=e._data(i,"events"),r&&r.remove&&e(i).triggerHandler("remove")}catch(o){}t(n)}}(e.cleanData),e.widget=function(t,n,r){var i,s,o,u,a={},f=t.split(".")[0];return t=t.split(".")[1],i=f+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[f]=e[f]||{},s=e[f][t],o=e[f][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new o(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,r){return e.isFunction(r)?(a[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,s=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=s,t}}(),void 0):(a[t]=r,void 0)}),o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix||t:t},a,{constructor:o,namespace:f,widgetName:t,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var n,r,s=i.call(arguments,1),o=0,u=s.length;u>o;o++)for(n in s[o])r=s[o][n],s[o].hasOwnProperty(n)&&void 0!==r&&(t[n]=e.isPlainObject(r)?e.isPlainObject(t[n])?e.widget.extend({},t[n],r):e.widget.extend({},r):r);return t},e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(s){var o="string"==typeof s,u=i.call(arguments,1),a=this;return s=!o&&u.length?e.widget.extend.apply(null,[s].concat(u)):s,o?this.each(function(){var n,i=e.data(this,r);return"instance"===s?(a=i,!1):i?e.isFunction(i[s])&&"_"!==s.charAt(0)?(n=i[s].apply(i,u),n!==i&&void 0!==n?(a=n&&n.jquery?a.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+s+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+s+"'")}):this.each(function(){var t=e.data(this,r);t?(t.option(s||{}),t._init&&t._init()):e.data(this,r,new n(s,this))}),a}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=r++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r,i,s,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},r=t.split("."),t=r.shift(),r.length){for(i=o[t]=e.widget.extend({},this.options[t]),s=0;r.length-1>s;s++)i[r[s]]=i[r[s]]||{},i=i[r[s]];if(t=r.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=n}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var i,s=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?s[o]:o).apply(s,arguments):void 0}"string"!=typeof o&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var f=r.match(/^([\w:-]*)\s*(.*)$/),l=f[1]+s.eventNamespace,c=f[2];c?i.delegate(c,l,u):n.bind(l,u)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){"string"==typeof i&&(i={effect:i});var o,u=i?i===!0||"number"==typeof i?n:i.effect||n:t;i=i||{},"number"==typeof i&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}}),e.widget;var s=!1;e(document).mouseup(function(){s=!1}),e.widget("ui.mouse",{version:"1.11.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!s){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,r=1===t.which,i="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return r&&!i&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),s=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),s=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,n){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?n/100:1)]}function n(t,n){return parseInt(e.css(t,n),10)||0}function r(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var i,s,o=Math.max,u=Math.abs,a=Math.round,f=/left|center|right/,l=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,p=/%$/,d=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==i)return i;var t,n,r=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=r.children()[0];return e("body").append(r),t=s.offsetWidth,r.css("overflow","scroll"),n=s.offsetWidth,t===n&&(n=r[0].clientWidth),r.remove(),i=t-n},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,s="scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:i?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]),i=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:r,isDocument:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r||i?n.width():n.outerWidth(),height:r||i?n.height():n.outerHeight()}}},e.fn.position=function(i){if(!i||!i.of)return d.apply(this,arguments);i=e.extend({},i);var p,v,m,g,y,b,w=e(i.of),E=e.position.getWithinInfo(i.within),S=e.position.getScrollInfo(E),x=(i.collision||"flip").split(" "),T={};return b=r(w),w[0].preventDefault&&(i.at="left top"),v=b.width,m=b.height,g=b.offset,y=e.extend({},g),e.each(["my","at"],function(){var e,t,n=(i[this]||"").split(" ");1===n.length&&(n=f.test(n[0])?n.concat(["center"]):l.test(n[0])?["center"].concat(n):["center","center"]),n[0]=f.test(n[0])?n[0]:"center",n[1]=l.test(n[1])?n[1]:"center",e=c.exec(n[0]),t=c.exec(n[1]),T[this]=[e?e[0]:0,t?t[0]:0],i[this]=[h.exec(n[0])[0],h.exec(n[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===i.at[0]?y.left+=v:"center"===i.at[0]&&(y.left+=v/2),"bottom"===i.at[1]?y.top+=m:"center"===i.at[1]&&(y.top+=m/2),p=t(T.at,v,m),y.left+=p[0],y.top+=p[1],this.each(function(){var r,f,l=e(this),c=l.outerWidth(),h=l.outerHeight(),d=n(this,"marginLeft"),b=n(this,"marginTop"),N=c+d+n(this,"marginRight")+S.width,C=h+b+n(this,"marginBottom")+S.height,L=e.extend({},y),A=t(T.my,l.outerWidth(),l.outerHeight());"right"===i.my[0]?L.left-=c:"center"===i.my[0]&&(L.left-=c/2),"bottom"===i.my[1]?L.top-=h:"center"===i.my[1]&&(L.top-=h/2),L.left+=A[0],L.top+=A[1],s||(L.left=a(L.left),L.top=a(L.top)),r={marginLeft:d,marginTop:b},e.each(["left","top"],function(t,n){e.ui.position[x[t]]&&e.ui.position[x[t]][n](L,{targetWidth:v,targetHeight:m,elemWidth:c,elemHeight:h,collisionPosition:r,collisionWidth:N,collisionHeight:C,offset:[p[0]+A[0],p[1]+A[1]],my:i.my,at:i.at,within:E,elem:l})}),i.using&&(f=function(e){var t=g.left-L.left,n=t+v-c,r=g.top-L.top,s=r+m-h,a={target:{element:w,left:g.left,top:g.top,width:v,height:m},element:{element:l,left:L.left,top:L.top,width:c,height:h},horizontal:0>n?"left":t>0?"right":"center",vertical:0>s?"top":r>0?"bottom":"middle"};c>v&&v>u(t+n)&&(a.horizontal="center"),h>m&&m>u(r+s)&&(a.vertical="middle"),a.important=o(u(t),u(n))>o(u(r),u(s))?"horizontal":"vertical",i.using.call(this,e,a)}),l.offset(e.extend(L,{using:f}))})},e.ui.position={fit:{left:function(e,t){var n,r=t.within,i=r.isWindow?r.scrollLeft:r.offset.left,s=r.width,u=e.left-t.collisionPosition.marginLeft,a=i-u,f=u+t.collisionWidth-s-i;t.collisionWidth>s?a>0&&0>=f?(n=e.left+a+t.collisionWidth-s-i,e.left+=a-n):e.left=f>0&&0>=a?i:a>f?i+s-t.collisionWidth:i:a>0?e.left+=a:f>0?e.left-=f:e.left=o(e.left-u,e.left)},top:function(e,t){var n,r=t.within,i=r.isWindow?r.scrollTop:r.offset.top,s=t.within.height,u=e.top-t.collisionPosition.marginTop,a=i-u,f=u+t.collisionHeight-s-i;t.collisionHeight>s?a>0&&0>=f?(n=e.top+a+t.collisionHeight-s-i,e.top+=a-n):e.top=f>0&&0>=a?i:a>f?i+s-t.collisionHeight:i:a>0?e.top+=a:f>0?e.top-=f:e.top=o(e.top-u,e.top)}},flip:{left:function(e,t){var n,r,i=t.within,s=i.offset.left+i.scrollLeft,o=i.width,a=i.isWindow?i.scrollLeft:i.offset.left,f=e.left-t.collisionPosition.marginLeft,l=f-a,c=f+t.collisionWidth-o-a,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,d=-2*t.offset[0];0>l?(n=e.left+h+p+d+t.collisionWidth-o-s,(0>n||u(l)>n)&&(e.left+=h+p+d)):c>0&&(r=e.left-t.collisionPosition.marginLeft+h+p+d-a,(r>0||c>u(r))&&(e.left+=h+p+d))},top:function(e,t){var n,r,i=t.within,s=i.offset.top+i.scrollTop,o=i.height,a=i.isWindow?i.scrollTop:i.offset.top,f=e.top-t.collisionPosition.marginTop,l=f-a,c=f+t.collisionHeight-o-a,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,d="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,v=-2*t.offset[1];0>l?(r=e.top+p+d+v+t.collisionHeight-o-s,e.top+p+d+v>l&&(0>r||u(l)>r)&&(e.top+=p+d+v)):c>0&&(n=e.top-t.collisionPosition.marginTop+p+d+v-a,e.top+p+d+v>c&&(n>0||c>u(n))&&(e.top+=p+d+v))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,r,i,o,u=document.getElementsByTagName("body")[0],a=document.createElement("div");t=document.createElement(u?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},u&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in r)t.style[o]=r[o];t.appendChild(a),n=u||document.documentElement,n.insertBefore(t,n.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",i=e(a).offset().left,s=i>10&&11>i,t.innerHTML="",n.removeChild(t)}()}(),e.ui.position,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var n=this.options;return this._blurActiveElement(t),this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=this.document[0];if(this.handleElement.is(t.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&e(n.activeElement).blur()}catch(r){}},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper),i=r?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),r&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options,s=this.document[0];return this.relativeContainer=null,i.containment?"window"===i.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===i.containment?(this.containment=[0,0,e(s).width()-this.helperProportions.width-this.margins.left,(e(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):i.containment.constructor===Array?(this.containment=i.containment,void 0):("parent"===i.containment&&(i.containment=this.helper[0].parentNode),n=e(i.containment),r=n[0],r&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n),void 0):(this.containment=null,void 0)},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,r,i,s,o=this.options,u=this._isRootNode(this.scrollParent[0]),a=e.pageX,f=e.pageY;return u&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(a=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(f=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(a=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(f=n[3]+this.offset.click.top)),o.grid&&(i=o.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,f=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-o.grid[1]:i+o.grid[1]:i,s=o.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,a=n?s-this.offset.click.left>=n[0]||s-this.offset.click.left>n[2]?s:s-this.offset.click.left>=n[0]?s-o.grid[0]:s+o.grid[0]:s),"y"===o.axis&&(a=this.originalPageX),"x"===o.axis&&(f=this.originalPageY)),{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:u?0:this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:u?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,r){var i=e.extend({},n,{item:r.element});r.sortables=[],e(r.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(r.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,i))})},stop:function(t,n,r){var i=e.extend({},n,{item:r.element});r.cancelHelperRemoval=!1,e.each(r.sortables,function(){var e=this;e.isOver?(e.isOver=0,r.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,i))})},drag:function(t,n,r){e.each(r.sortables,function(){var i=!1,s=this;s.positionAbs=r.positionAbs,s.helperProportions=r.helperProportions,s.offset.click=r.offset.click,s._intersectsWith(s.containerCache)&&(i=!0,e.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==s&&this._intersectsWith(this.containerCache)&&e.contains(s.element[0],this.element[0])&&(i=!1),i})),i?(s.isOver||(s.isOver=1,s.currentItem=n.helper.appendTo(s.element).data("ui-sortable-item",!0),s.options._helper=s.options.helper,s.options.helper=function(){return n.helper[0]},t.target=s.currentItem[0],s._mouseCapture(t,!0),s._mouseStart(t,!0,!0),s.offset.click.top=r.offset.click.top,s.offset.click.left=r.offset.click.left,s.offset.parent.left-=r.offset.parent.left-s.offset.parent.left,s.offset.parent.top-=r.offset.parent.top-s.offset.parent.top,r._trigger("toSortable",t),r.dropped=s.element,e.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,s.fromOutside=r),s.currentItem&&(s._mouseDrag(t),n.position=s.position)):s.isOver&&(s.isOver=0,s.cancelHelperRemoval=!0,s.options._revert=s.options.revert,s.options.revert=!1,s._trigger("out",t,s._uiHash(s)),s._mouseStop(t,!0),s.options.revert=s.options._revert,s.options.helper=s.options._helper,s.placeholder&&s.placeholder.remove(),r._refreshOffsets(t),n.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,e.each(r.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,r){var i=e("body"),s=r.options;i.css("cursor")&&(s._cursor=i.css("cursor")),i.css("cursor",s.cursor)},stop:function(t,n,r){var i=r.options;i._cursor&&e("body").css("cursor",i._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,r){var i=e(n.helper),s=r.options;i.css("opacity")&&(s._opacity=i.css("opacity")),i.css("opacity",s.opacity)},stop:function(t,n,r){var i=r.options;i._opacity&&e(n.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,r){var i=r.options,s=!1,o=r.scrollParentNotHidden[0],u=r.document[0];o!==u&&"HTML"!==o.tagName?(i.axis&&"x"===i.axis||(r.overflowOffset.top+o.offsetHeight-t.pageY<i.scrollSensitivity?o.scrollTop=s=o.scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(o.scrollTop=s=o.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(r.overflowOffset.left+o.offsetWidth-t.pageX<i.scrollSensitivity?o.scrollLeft=s=o.scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(o.scrollLeft=s=o.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(u).scrollTop()<i.scrollSensitivity?s=e(u).scrollTop(e(u).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(u).scrollTop())<i.scrollSensitivity&&(s=e(u).scrollTop(e(u).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(u).scrollLeft()<i.scrollSensitivity?s=e(u).scrollLeft(e(u).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(u).scrollLeft())<i.scrollSensitivity&&(s=e(u).scrollLeft(e(u).scrollLeft()+i.scrollSpeed)))),s!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,r){var i=r.options;r.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var t=e(this),n=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,r){var i,s,o,u,a,f,l,c,h,p,d=r.options,v=d.snapTolerance,m=n.offset.left,g=m+r.helperProportions.width,y=n.offset.top,b=y+r.helperProportions.height;for(h=r.snapElements.length-1;h>=0;h--)a=r.snapElements[h].left-r.margins.left,f=a+r.snapElements[h].width,l=r.snapElements[h].top-r.margins.top,c=l+r.snapElements[h].height,a-v>g||m>f+v||l-v>b||y>c+v||!e.contains(r.snapElements[h].item.ownerDocument,r.snapElements[h].item)?(r.snapElements[h].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[h].item})),r.snapElements[h].snapping=!1):("inner"!==d.snapMode&&(i=v>=Math.abs(l-b),s=v>=Math.abs(c-y),o=v>=Math.abs(a-g),u=v>=Math.abs(f-m),i&&(n.position.top=r._convertPositionTo("relative",{top:l-r.helperProportions.height,left:0}).top),s&&(n.position.top=r._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.left=r._convertPositionTo("relative",{top:0,left:a-r.helperProportions.width}).left),u&&(n.position.left=r._convertPositionTo("relative",{top:0,left:f}).left)),p=i||s||o||u,"outer"!==d.snapMode&&(i=v>=Math.abs(l-y),s=v>=Math.abs(c-b),o=v>=Math.abs(a-m),u=v>=Math.abs(f-g),i&&(n.position.top=r._convertPositionTo("relative",{top:l,left:0}).top),s&&(n.position.top=r._convertPositionTo("relative",{top:c-r.helperProportions.height,left:0}).top),o&&(n.position.left=r._convertPositionTo("relative",{top:0,left:a}).left),u&&(n.position.left=r._convertPositionTo("relative",{top:0,left:f-r.helperProportions.width}).left)),!r.snapElements[h].snapping&&(i||s||o||u||p)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[h].item})),r.snapElements[h].snapping=i||s||o||u||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,r){var i,s=r.options,o=e.makeArray(e(s.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});o.length&&(i=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",i+t)}),this.css("zIndex",i+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,r){var i=e(n.helper),s=r.options;i.css("zIndex")&&(s._zIndex=i.css("zIndex")),i.css("zIndex",s.zIndex)},stop:function(t,n,r){var i=r.options;i._zIndex&&e(n.helper).css("zIndex",i._zIndex)}}),e.ui.draggable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r=n&&"left"===n?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)},_create:function(){var t,n,r,i,s,o=this,u=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!u.aspectRatio,aspectRatio:u.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:u.helper||u.ghost||u.animate?u.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=u.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;t.length>n;n++)r=e.trim(t[n]),s="ui-resizable-"+r,i=e("<div class='ui-resizable-handle "+s+"'></div>"),i.css({zIndex:u.zIndex}),"se"===r&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(i);this._renderAxis=function(t){var n,r,i,s;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String&&(this.handles[n]=this.element.children(this.handles[n]).first().show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(r=e(this.handles[n],this.element),s=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth(),i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(i,s),this._proportionallyResize()),e(this.handles[n]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=i&&i[1]?i[1]:"se")}),u.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){u.disabled||(e(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){u.disabled||o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,r,i=!1;for(n in this.handles)r=e(this.handles[n])[0],(r===t.target||e.contains(r,t.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var n,r,i,s=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),r=this._num(this.helper.css("top")),s.containment&&(n+=e(s.containment).scrollLeft()||0,r+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:n,top:r},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===i?this.axis+"-resize":i),o.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,r,i=this.originalMousePosition,s=this.axis,o=t.pageX-i.left||0,u=t.pageY-i.top||0,a=this._change[s];return this._updatePrevProperties(),a?(n=a.apply(this,[t,o,u]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var n,r,i,s,o,u,a,f=this.options,l=this;return this._helper&&(n=this._proportionallyResizeElements,r=n.length&&/textarea/i.test(n[0].nodeName),i=r&&this._hasScroll(n[0],"left")?0:l.sizeDiff.height,s=r?0:l.sizeDiff.width,o={width:l.helper.width()-s,height:l.helper.height()-i},u=parseInt(l.element.css("left"),10)+(l.position.left-l.originalPosition.left)||null,a=parseInt(l.element.css("top"),10)+(l.position.top-l.originalPosition.top)||null,f.animate||this.element.css(e.extend(o,{top:a,left:u})),l.helper.height(l.size.height),l.helper.width(l.size.width),this._helper&&!f.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,r,i,s,o=this.options;s={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,r=s.minWidth/this.aspectRatio,n=s.maxHeight*this.aspectRatio,i=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),r>s.minHeight&&(s.minHeight=r),s.maxWidth>n&&(s.maxWidth=n),s.maxHeight>i&&(s.maxHeight=i)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,r=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,i=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,u=this.originalPosition.left+this.originalSize.width,a=this.position.top+this.size.height,f=/sw|nw|w/.test(n),l=/nw|ne|n/.test(n);return s&&(e.width=t.minWidth),o&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),i&&(e.height=t.maxHeight),s&&f&&(e.left=u-t.minWidth),r&&f&&(e.left=u-t.maxWidth),o&&l&&(e.top=a-t.minHeight),i&&l&&(e.top=a-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],i=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)n[t]=parseInt(r[t],10)||0,n[t]+=parseInt(i[t],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:n.width-t}},n:function(e,t,n){var r=this.originalSize,i=this.originalPosition;return{top:i.top+n,height:r.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),r=n.options,i=n._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),o=s&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,u=s?0:n.sizeDiff.width,a={width:n.size.width-u,height:n.size.height-o},f=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,l=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(a,l&&f?{top:l,left:f}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&e(i[0]).css({width:r.width,height:r.height}),n._updateCache(r),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,r,i,s,o,u,a=e(this).resizable("instance"),f=a.options,l=a.element,c=f.containment,h=c instanceof e?c.get(0):/parent/.test(c)?l.parent().get(0):c;h&&(a.containerElement=e(h),/document/.test(c)||c===document?(a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,r){n[e]=a._num(t.css("padding"+r))}),a.containerOffset=t.offset(),a.containerPosition=t.position(),a.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},r=a.containerOffset,i=a.containerSize.height,s=a.containerSize.width,o=a._hasScroll(h,"left")?h.scrollWidth:s,u=a._hasScroll(h)?h.scrollHeight:i,a.parentData={element:h,left:r.left,top:r.top,width:o,height:u}))},resize:function(t){var n,r,i,s,o=e(this).resizable("instance"),u=o.options,a=o.containerOffset,f=o.position,l=o._aspectRatio||t.shiftKey,c={top:0,left:0},h=o.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(c=a),f.left<(o._helper?a.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-a.left:o.position.left-c.left),l&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=u.helper?a.left:0),f.top<(o._helper?a.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-a.top:o.position.top),l&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?a.top:0),i=o.containerElement.get(0)===o.element.parent().get(0),s=/relative|absolute/.test(o.containerElement.css("position")),i&&s?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),n=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-c.left:o.offset.left-a.left)),r=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-c.top:o.offset.top-a.top)),n+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-n,l&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),r+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-r,l&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,r=t.containerOffset,i=t.containerPosition,s=t.containerElement,o=e(t.helper),u=o.offset(),a=o.outerWidth()-t.sizeDiff.width,f=o.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(s.css("position"))&&e(this).css({left:u.left-i.left-r.left,width:a,height:f}),t._helper&&!n.animate&&/static/.test(s.css("position"))&&e(this).css({left:u.left-i.left-r.left,width:a,height:f})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),n=t.options,r=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof n.alsoResize||n.alsoResize.parentNode?r(n.alsoResize):n.alsoResize.length?(n.alsoResize=n.alsoResize[0],r(n.alsoResize)):e.each(n.alsoResize,function(e){r(e)})},resize:function(t,n){var r=e(this).resizable("instance"),i=r.options,s=r.originalSize,o=r.originalPosition,u={height:r.size.height-s.height||0,width:r.size.width-s.width||0,top:r.position.top-o.top||0,left:r.position.left-o.left||0},a=function(t,r){e(t).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),s={},o=r&&r.length?r:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(i[t]||0)+(u[t]||0);n&&n>=0&&(s[t]=n||null)}),t.css(s)})};"object"!=typeof i.alsoResize||i.alsoResize.nodeType?a(i.alsoResize):e.each(i.alsoResize,function(e,t){a(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.options,r=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),r=n.options,i=n.size,s=n.originalSize,o=n.originalPosition,u=n.axis,a="number"==typeof r.grid?[r.grid,r.grid]:r.grid,f=a[0]||1,l=a[1]||1,c=Math.round((i.width-s.width)/f)*f,h=Math.round((i.height-s.height)/l)*l,p=s.width+c,d=s.height+h,v=r.maxWidth&&p>r.maxWidth,m=r.maxHeight&&d>r.maxHeight,g=r.minWidth&&r.minWidth>p,y=r.minHeight&&r.minHeight>d;r.grid=a,g&&(p+=f),y&&(d+=l),v&&(p-=f),m&&(d-=l),/^(se|s|e)$/.test(u)?(n.size.width=p,n.size.height=d):/^(ne)$/.test(u)?(n.size.width=p,n.size.height=d,n.position.top=o.top-h):/^(sw)$/.test(u)?(n.size.width=p,n.size.height=d,n.position.left=o.left-c):((0>=d-l||0>=p-f)&&(t=n._getPaddingPlusBorderDimensions(this)),d-l>0?(n.size.height=d,n.position.top=o.top-h):(d=l-t.height,n.size.height=d,n.position.top=o.top+s.height-d),p-f>0?(n.size.width=p,n.position.left=o.left-c):(p=l-t.height,n.size.width=p,n.position.left=o.left+s.width-p))}}),e.ui.resizable,e.widget("ui.selectable",e.ui.mouse,{version:"1.11.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(n.options.filter,n.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this,r=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(r.filter,this.element[0]),this._trigger("start",t),e(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=e.data(this,"selectable-item");r.startselected=!0,t.metaKey||t.ctrlKey||(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,n._trigger("unselecting",t,{unselecting:r.element}))}),e(t.target).parents().addBack().each(function(){var r,i=e.data(this,"selectable-item");return i?(r=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass("ui-selected"),i.$element.removeClass(r?"ui-unselecting":"ui-selected").addClass(r?"ui-selecting":"ui-unselecting"),i.unselecting=!r,i.selecting=r,i.selected=r,r?n._trigger("selecting",t,{selecting:i.element}):n._trigger("unselecting",t,{unselecting:i.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,r=this,i=this.options,s=this.opos[0],o=this.opos[1],u=t.pageX,a=t.pageY;return s>u&&(n=u,u=s,s=n),o>a&&(n=a,a=o,o=n),this.helper.css({left:s,top:o,width:u-s,height:a-o}),this.selectees.each(function(){var n=e.data(this,"selectable-item"),f=!1;n&&n.element!==r.element[0]&&("touch"===i.tolerance?f=!(n.left>u||s>n.right||n.top>a||o>n.bottom):"fit"===i.tolerance&&(f=n.left>s&&u>n.right&&n.top>o&&a>n.bottom),f?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,r._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),r._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,r._trigger("unselecting",t,{unselecting:n.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-unselecting"),r.unselecting=!1,r.startselected=!1,n._trigger("unselected",t,{unselected:r.element})}),e(".ui-selecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,n._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&t+n>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||this._isFloating(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var r=null,i=!1,s=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,s.widgetName+"-item")===s?(r=e(this),!1):void 0}),e.data(t.target,s.widgetName+"-item")===s&&(r=e(t.target)),r?!this.options.handle||n||(e(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(i=!0)}),i)?(this.currentItem=r,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,n,r){var i,s,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,r,i,s,o=this.options,u=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-e(document).scrollTop()<o.scrollSensitivity?u=e(document).scrollTop(e(document).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<o.scrollSensitivity&&(u=e(document).scrollTop(e(document).scrollTop()+o.scrollSpeed)),t.pageX-e(document).scrollLeft()<o.scrollSensitivity?u=e(document).scrollLeft(e(document).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<o.scrollSensitivity&&(u=e(document).scrollLeft(e(document).scrollLeft()+o.scrollSpeed))),u!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=this.items[n],i=r.item[0],s=this._intersectsWithPointer(r),s&&r.instance===this.currentContainer&&i!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==i&&!e.contains(this.placeholder[0],i)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],i):!0)){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,i=this.placeholder.offset(),s=this.options.axis,o={};s&&"x"!==s||(o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,s=e.left,o=s+e.width,u=e.top,a=u+e.height,f=this.offset.click.top,l=this.offset.click.left,c="x"===this.options.axis||r+f>u&&a>r+f,h="y"===this.options.axis||t+l>s&&o>t+l,p=c&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>s&&o>n-this.helperProportions.width/2&&r+this.helperProportions.height/2>u&&a>i-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=t&&n,i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return r?this.floating?s&&"right"===s||"down"===i?2:1:i&&("down"===i?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?"right"===i&&n||"left"===i&&!n:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){u.push(this)}var r,i,s,o,u=[],a=[],f=this._connectWith();if(f&&t)for(r=f.length-1;r>=0;r--)for(s=e(f[r]),i=s.length-1;i>=0;i--)o=e.data(s[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&a.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(a.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=a.length-1;r>=0;r--)a[r][0].each(n);return e(u)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;t.length>n;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,r,i,s,o,u,a,f,l=this.items,c=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(i=e(h[n]),r=i.length-1;r>=0;r--)s=e.data(i[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(c.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s));for(n=c.length-1;n>=0;n--)for(o=c[n][1],u=c[n][0],r=0,f=u.length;f>r;r++)a=e(u[r]),a.data(this.widgetName+"-item",o),l.push({item:a,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,r,i,s;for(n=this.items.length-1;n>=0;n--)r=this.items[n],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=i.outerWidth(),r.height=i.outerHeight()),s=i.offset(),r.left=s.left,r.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)s=this.containers[n].element.offset(),this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,r=t.options;r.placeholder&&r.placeholder.constructor!==String||(n=r.placeholder,r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),i=e("<"+r+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===r?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)}):"img"===r&&i.attr("src",t.currentItem.attr("src")),n||i.css("visibility","hidden"),i},update:function(e,i){(!n||r.forcePlaceholderSize)&&(i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var n,r,i,s,o,u,a,f,l,c,h=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&e.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(i=1e4,s=null,l=h.floating||this._isFloating(this.currentItem),o=l?"left":"top",u=l?"width":"height",c=l?"clientX":"clientY",r=this.items.length-1;r>=0;r--)e.contains(this.containers[p].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(a=this.items[r].item.offset()[o],f=!1,t[c]-a>this.items[r][u]/2&&(f=!0),i>Math.abs(t[c]-a)&&(i=Math.abs(t[c]-a),s=this.items[r],this.direction=f?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width()),(!r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),("document"===i.containment||"window"===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===i.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===i.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],n=e(i.containment).offset(),r="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i=this.options,s=t.pageX,o=t.pageY,u="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(u[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid&&(n=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1],o=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n,r=this.originalPageX+Math.round((s-this.originalPageX)/i.grid[0])*i.grid[0],s=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:u.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:u.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i===this.counter&&this.refreshPositions(!r)})},_clear:function(e,t){function n(e,t,n){return function(r){n._trigger(e,r,t._uiHash(t))}}this.reverting=!1;var r,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(r in this._storedCSS)("auto"===this._storedCSS[r]||"static"===this._storedCSS[r])&&(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),r=this.containers.length-1;r>=0;r--)t||i.push(n("deactivate",this,this.containers[r])),this.containers[r].containerCache.over&&(i.push(n("out",this,this.containers[r])),this.containers[r].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(r=0;i.length>r;r++)i[r].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.widget("ui.menu",{version:"1.11.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target);!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var n=e(t.currentTarget);n.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var n,r,i,s,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,r=this.previousFilter||"",i=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),i===r?s=!0:i=r+i,n=this._filterMenuItems(i),n=s&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(i=String.fromCharCode(t.keyCode),n=this._filterMenuItems(i)),n.length?(this.focus(t,n),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,n,r=this,i=this.options.icons.submenu,s=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.parent(),r=e("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(r),t.attr("aria-labelledby",n.attr("id"))}),t=s.add(this.element),n=t.find(this.options.items),n.not(".ui-menu-item").each(function(){var t=e(this);r._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),n.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var n,r;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),r=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",r.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,r,i,s,o,u;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,r=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-n-r,s=this.activeMenu.scrollTop(),o=this.activeMenu.height(),u=t.outerHeight(),0>i?this.activeMenu.scrollTop(s+i):i+u>o&&this.activeMenu.scrollTop(s+i-o+u))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var r=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element),this._close(r),this.blur(t),this.activeMenu=r},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var r;this.active&&(r="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),r&&r.length&&this.active||(r=this.activeMenu.find(this.options.items)[t]()),this.focus(n,r)},nextPage:function(t){var n,r,i;return this.active?(this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=e(this),0>n.offset().top-r-i}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var n,r,i;return this.active?(this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-r+i>0}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)},_filterMenuItems:function(t){var n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),r=RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return r.test(e.trim(e(this).text()))})}}),e.widget("ui.autocomplete",{version:"1.11.2",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,r,i=this.element[0].nodeName.toLowerCase(),s="textarea"===i,o="input"===i;this.isMultiLine=s?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[s||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(i){if(this.element.prop("readOnly"))return t=!0,r=!0,n=!0,void 0;t=!1,r=!1,n=!1;var s=e.ui.keyCode;switch(i.keyCode){case s.PAGE_UP:t=!0,this._move("previousPage",i);break;case s.PAGE_DOWN:t=!0,this._move("nextPage",i);break;case s.UP:t=!0,this._keyEvent("previous",i);break;case s.DOWN:t=!0,this._keyEvent("next",i);break;case s.ENTER:this.menu.active&&(t=!0,i.preventDefault(),this.menu.select(i));break;case s.TAB:this.menu.active&&this.menu.select(i);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(i),i.preventDefault());break;default:n=!0,this._searchTimeout(i)}},keypress:function(r){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&r.preventDefault(),void 0;if(!n){var i=e.ui.keyCode;switch(r.keyCode){case i.PAGE_UP:this._move("previousPage",r);break;case i.PAGE_DOWN:this._move("nextPage",r);break;case i.UP:this._keyEvent("previous",r);break;case i.DOWN:this._keyEvent("next",r)}}},input:function(e){return r?(r=!1,e.preventDefault(),void 0):(this._searchTimeout(e),void 0)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(e),this._change(e),void 0)}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(r){r.target===t.element[0]||r.target===n||e.contains(n,r.target)||t.close()})})},menufocus:function(t,n){var r,i;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)}),void 0):(i=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:i})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value),r=n.item.attr("aria-label")||i.value,r&&e.trim(r).length&&(this.liveRegion.children().hide(),e("<div>").text(r).appendTo(this.liveRegion)),void 0)},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,r=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,r){r(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,i){r.xhr&&r.xhr.abort(),r.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){i(e)},error:function(){i([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),r=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!n&&!r)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var r=this;e.each(n,function(e,n){r._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").text(n.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[e](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var r=RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return r.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))}}),e.ui.autocomplete,e.widget("ui.progressbar",{version:"1.11.2",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),this._refreshValue(),void 0)},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,r=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",o=[];for(n=r.values&&r.values.length||1,i.length>n&&(i.slice(n).remove(),i=i.slice(0,n)),t=i.length;n>t;t++)o.push(s);this.handles=i.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,n="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,r,i,s,o,u,a,f,l=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},r=this._normValueFromMouse(n),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(r-l.values(t));(i>n||i===n&&(t===l._lastChangedValue||l.values(t)===c.min))&&(i=n,s=e(this),o=t)}),u=this._start(t,o),u===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,s.addClass("ui-state-active").focus(),a=s.offset(),f=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=f?{left:0,top:0}:{left:t.pageX-a.left-s.width()/2,top:t.pageY-a.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,r,i,s;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),r=n/t,r>1&&(r=1),0>r&&(r=0),"vertical"===this.orientation&&(r=1-r),i=this._valueMax()-this._valueMin(),s=this._valueMin()+r*i,this._trimAlignValue(s)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var r,i,s;this.options.values&&this.options.values.length?(r=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&n>r||1===t&&r>n)&&(n=r),n!==this.values(t)&&(i=this.values(),i[t]=n,s=this._trigger("slide",e,{handle:this.handles[t],value:n,values:i}),r=this.values(t?0:1),s!==!1&&this.values(t,n))):n!==this.value()&&(s=this._trigger("slide",e,{handle:this.handles[t],value:n}),s!==!1&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,n){var r,i,s;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(r=this.options.values,i=arguments[0],s=0;r.length>s;s+=1)r[s]=this._trimAlignValue(i[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,n){var r,i=0;switch("range"===t&&this.options.range===!0&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(i=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!n),this._super(t,n),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;i>r;r+=1)this._change(null,r);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,r;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),r=0;n.length>r;r+=1)n[r]=this._trimAlignValue(n[r]);return n}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,r=e-n;return 2*Math.abs(n)>=t&&(r+=n>0?t:-t),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var e=(this.options.max-this._valueMin())%this.options.step;this.max=this.options.max-e},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,n,r,i,s,o=this.options.range,u=this.options,a=this,f=this._animateOff?!1:u.animate,l={};this.options.values&&this.options.values.length?this.handles.each(function(r){n=100*((a.values(r)-a._valueMin())/(a._valueMax()-a._valueMin())),l["horizontal"===a.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[f?"animate":"css"](l,u.animate),a.options.range===!0&&("horizontal"===a.orientation?(0===r&&a.range.stop(1,1)[f?"animate":"css"]({left:n+"%"},u.animate),1===r&&a.range[f?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:u.animate})):(0===r&&a.range.stop(1,1)[f?"animate":"css"]({bottom:n+"%"},u.animate),1===r&&a.range[f?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:u.animate}))),t=n}):(r=this.value(),i=this._valueMin(),s=this._valueMax(),n=s!==i?100*((r-i)/(s-i)):0,l["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[f?"animate":"css"](l,u.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[f?"animate":"css"]({width:n+"%"},u.animate),"max"===o&&"horizontal"===this.orientation&&this.range[f?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:u.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[f?"animate":"css"]({height:n+"%"},u.animate),"max"===o&&"vertical"===this.orientation&&this.range[f?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:u.animate}))},_handleEvents:{keydown:function(t){var n,r,i,s,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),n=this._start(t,o),n===!1))return}switch(s=this.options.step,r=i=this.options.values&&this.options.values.length?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:i=this._valueMin();break;case e.ui.keyCode.END:i=this._valueMax();break;case e.ui.keyCode.PAGE_UP:i=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(r===this._valueMax())return;i=this._trimAlignValue(r+s);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(r===this._valueMin())return;i=this._trimAlignValue(r-s)}this._slide(t,o,i)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}})}),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.6.0";var T=x.each=x.forEach=function(e,t,r){if(e==null)return e;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else{var o=x.keys(e);for(var i=0,s=o.length;i<s;i++)if(t.call(r,e[o[i]],o[i],e)===n)return}return e};x.map=x.collect=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return e==null?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};x.contains=x.include=function(e,t){return e==null?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matches(t))},x.findWhere=function(e,t){return x.find(e,x.matches(t))},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var r=-Infinity,i=-Infinity;return T(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u>i&&(r=e,i=u)}),r},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var r=Infinity,i=Infinity;return T(e,function(e,s,o){var u=t?t.call(n,e,s,o):e;u<i&&(r=e,i=u)}),r},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r},x.sample=function(e,t,n){return t==null||n?(e.length!==+e.length&&(e=x.values(e)),e[x.random(e.length-1)]):x.shuffle(e).slice(0,Math.max(0,t))};var k=function(e){return e==null?x.identity:x.isFunction(e)?e:x.property(e)};x.sortBy=function(e,t,n){return t=k(t),x.pluck(x.map(e,function(e,r,i){return{value:e,index:r,criteria:t.call(n,e,r,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var L=function(e){return function(t,n,r){var i={};return n=k(n),T(t,function(s,o){var u=n.call(r,s,o,t);e(i,u,s)}),i}};x.groupBy=L(function(e,t,n){x.has(e,t)?e[t].push(n):e[t]=[n]}),x.indexBy=L(function(e,t,n){e[t]=n}),x.countBy=L(function(e,t){x.has(e,t)?e[t]++:e[t]=1}),x.sortedIndex=function(e,t,n,r){n=k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return e==null?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:t<0?[]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return t&&x.every(e,x.isArray)?a.apply(n,e):(T(e,function(e){x.isArray(e)||x.isArguments(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n)};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.partition=function(e,t){var n=[],r=[];return T(e,function(e){(t(e)?n:r).push(e)}),[n,r]},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){if(t?!r||o[o.length-1]!==n:!x.contains(o,n))o.push(n),s.push(e[r])}),s},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.contains(t,e)})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){var e=x.max(x.pluck(arguments,"length").concat(0)),t=new Array(e);for(var n=0;n<e;n++)t[n]=x.pluck(arguments,""+n);return t},x.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};x.bind=function(e,t){var n,r;if(S&&e.bind===S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=e.prototype;var i=new O;O.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){var n=0,r=t.slice();for(var i=0,s=r.length;i<s;i++)r[i]===x&&(r[i]=arguments[n++]);while(n<arguments.length)r.push(arguments[n++]);return e.apply(this,r)}},x.bindAll=function(e){var t=u.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");return T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:x.now(),o=null,s=e.apply(r,i),r=i=null};return function(){var f=x.now();!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0?(clearTimeout(o),o=null,u=f,s=e.apply(r,i),r=i=null):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},x.debounce=function(e,t,n){var r,i,s,o,u,a=function(){var f=x.now()-o;f<t?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i),s=i=null))};return function(){s=this,i=arguments,o=x.now();var f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i),s=i=null),u}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},x.wrap=function(e,t){return x.partial(t,e)},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},x.keys=function(e){if(!x.isObject(e))return[];if(E)return E(e);var t=[];for(var n in e)x.has(e,n)&&t.push(n);return t},x.values=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},x.pairs=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},x.invert=function(e){var t={},n=x.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),r.push(t);var a=0,l=!0;if(i=="[object Array]"){a=e.length,l=a==t.length;if(l)while(a--)if(!(l=M(e[a],t[a],n,r)))break}else{for(var c in e)if(x.has(e,c)){a++;if(!(l=x.has(t,c)&&M(e[c],t[c],n,r)))break}if(l){for(c in t)if(x.has(t,c)&&!(a--))break;l=!a}}return n.pop(),r.pop(),l};x.isEqual=function(e,t){return M(e,t,[],[])},x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType===1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),typeof /./!="function"&&(x.isFunction=function(e){return typeof e=="function"}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.property=function(e){return function(t){return t[e]}},x.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},x.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},x.now=Date.now||function(){return(new Date).getTime()};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};_.unescape=x.invert(_.escape);var D={escape:new RegExp("["+x.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(_.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),x.result=function(e,t){if(e==null)return void 0;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=++P+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(j,function(e){return"\\"+B[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],F.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),typeof define=="function"&&define.amd&&define("underscore",[],function(){return x})}.call(this),define("libs/underscore/1.6.0/underscore",function(){}),define("libs-patch/underscore/1.6.0/underscore-patch",["libs/underscore/1.6.0/underscore"],function(){return _.bindAll=function(e){var t=Array.prototype.slice.call(arguments,1);return t.length===0&&(t=_.functions(e)),_.each(t,function(t){e[t]=_.bind(e[t],e)}),e},_}),define("aicx/dev/ac-aicx",["underscore","require"],function(e,t){var n,r,i,s,o,u,a;return o=t.toUrl("aicx"),u=o.lastIndexOf("/"),a=o.indexOf(".js"),a!==-1?n=o.substr(u+1,a-u-1):n=o.substr(u+1),r=Ac.Aicx,r||(r=Ac.Aicx={}),i=r[n],i||(i=r[n]={}),i.VERSION=n,e.extend(i,{getBaseAicUrl:function(){return s||(Ac.config.getBaseUri?s=Ac.config.getBaseUri("aic_base_uri"):s=Ac.Plugins.groups.aic.base_url),s}}),i}),function(e,t){if(typeof define=="function"&&define.amd)define("libs/backbone/1.1.2/backbone",["underscore","jquery","exports"],function(n,r,i){e.Backbone=t(e,i,n,r)});else if(typeof exports!="undefined"){var n=require("underscore");t(e,exports,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,r){var i=e.Backbone,s=[],o=s.push,u=s.slice,a=s.splice;t.VERSION="1.1.2",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var f=t.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,r){if(!c(this,"once",e,[t,r])||!t)return this;var i=this,s=n.once(function(){i.off(e,s),t.apply(this,arguments)});return s._callback=t,this.on(e,s,r)},off:function(e,t,r){var i,s,o,u,a,f,l,h;if(!this._events||!c(this,"off",e,[t,r]))return this;if(!e&&!t&&!r)return this._events=void 0,this;u=e?[e]:n.keys(this._events);for(a=0,f=u.length;a<f;a++){e=u[a];if(o=this._events[e]){this._events[e]=i=[];if(t||r)for(l=0,h=o.length;l<h;l++)s=o[l],(t&&t!==s.callback&&t!==s.callback._callback||r&&r!==s.context)&&i.push(s);i.length||delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=u.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&h(n,t),r&&h(r,arguments),this},stopListening:function(e,t,r){var i=this._listeningTo;if(!i)return this;var s=!t&&!r;!r&&typeof t=="object"&&(r=this),e&&((i={})[e._listenId]=e);for(var o in i)e=i[o],e.off(t,r,this),(s||n.isEmpty(e._events))&&delete this._listeningTo[o];return this}},l=/\s+/,c=function(e,t,n,r){if(!n)return!0;if(typeof n=="object"){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(l.test(n)){var s=n.split(l);for(var o=0,u=s.length;o<u;o++)e[t].apply(e,[s[o]].concat(r));return!1}return!0},h=function(e,t){var n,r=-1,i=e.length,s=t[0],o=t[1],u=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,s);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o,u);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t);return}},p={listenTo:"on",listenToOnce:"once"};n.each(p,function(e,t){f[t]=function(t,r,i){var s=this._listeningTo||(this._listeningTo={}),o=t._listenId||(t._listenId=n.uniqueId("l"));return s[o]=t,!i&&typeof r=="object"&&(i=this),t[e](r,i,this),this}}),f.bind=f.on,f.unbind=f.off,n.extend(t,f);var d=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(d.prototype,f,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,r){var i,s,o,u,a,f,l,c;if(e==null)return this;typeof e=="object"?(s=e,r=t):(s={})[e]=t,r||(r={});if(!this._validate(s,r))return!1;o=r.unset,a=r.silent,u=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=n.clone(this.attributes),this.changed={}),c=this.attributes,l=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(i in s)t=s[i],n.isEqual(c[i],t)||u.push(i),n.isEqual(l[i],t)?delete this.changed[i]:this.changed[i]=t,o?delete c[i]:c[i]=t;if(!a){u.length&&(this._pending=r);for(var h=0,p=u.length;h<p;h++)this.trigger("change:"+u[h],this,c[u[h]],r)}if(f)return this;if(!a)while(this._pending)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var s in e){if(n.isEqual(i[s],t=e[s]))continue;(r||(r={}))[s]=t}return r},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,r=e.success;return e.success=function(n){if(!t.set(t.parse(n,e),e))return!1;r&&r(t,n,e),t.trigger("sync",t,n,e)},I(this,e),this.sync("read",this,e)},save:function(e,t,r){var i,s,o,u=this.attributes;e==null||typeof e=="object"?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0},r);if(i&&!r.wait){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&r.wait&&(this.attributes=n.extend({},u,i)),r.parse===void 0&&(r.parse=!0);var a=this,f=r.success;return r.success=function(e){a.attributes=u;var t=a.parse(e,r);r.wait&&(t=n.extend(i||{},t));if(n.isObject(t)&&!a.set(t,r))return!1;f&&f(a,e,r),a.trigger("sync",a,e,r)},I(this,r),s=this.isNew()?"create":r.patch?"patch":"update",s==="patch"&&(r.attrs=i),o=this.sync(s,this,r),i&&r.wait&&(this.attributes=u),o},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(n){(e.wait||t.isNew())&&i(),r&&r(t,n,e),t.isNew()||t.trigger("sync",t,n,e)};if(this.isNew())return e.success(),!1;I(this,e);var s=this.sync("delete",this,e);return e.wait||i(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||F();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1):!0}});var v=["keys","values","pairs","invert","pick","omit"];n.each(v,function(e){d.prototype[e]=function(){var t=u.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var m=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},g={add:!0,remove:!0,merge:!0},y={add:!0,remove:!1};n.extend(m.prototype,f,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,y))},remove:function(e,t){var r=!n.isArray(e);e=r?[e]:n.clone(e),t||(t={});var i,s,o,u;for(i=0,s=e.length;i<s;i++){u=e[i]=this.get(e[i]);if(!u)continue;delete this._byId[u.id],delete this._byId[u.cid],o=this.indexOf(u),this.models.splice(o,1),this.length--,t.silent||(t.index=o,u.trigger("remove",u,this,t)),this._removeReference(u,t)}return r?e[0]:e},set:function(e,t){t=n.defaults({},t,g),t.parse&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?e?[e]:[]:n.clone(e);var i,s,o,u,a,f,l,c=t.at,h=this.model,p=this.comparator&&c==null&&t.sort!==!1,v=n.isString(this.comparator)?this.comparator:null,m=[],y=[],b={},w=t.add,E=t.merge,S=t.remove,x=!p&&w&&S?[]:!1;for(i=0,s=e.length;i<s;i++){a=e[i]||{},a instanceof d?o=u=a:o=a[h.prototype.idAttribute||"id"];if(f=this.get(o))S&&(b[f.cid]=!0),E&&(a=a===u?u.attributes:a,t.parse&&(a=f.parse(a,t)),f.set(a,t),p&&!l&&f.hasChanged(v)&&(l=!0)),e[i]=f;else if(w){u=e[i]=this._prepareModel(a,t);if(!u)continue;m.push(u),this._addReference(u,t)}u=f||u,x&&(u.isNew()||!b[u.id])&&x.push(u),b[u.id]=!0}if(S){for(i=0,s=this.length;i<s;++i)b[(u=this.models[i]).cid]||y.push(u);y.length&&this.remove(y,t)}if(m.length||x&&x.length){p&&(l=!0),this.length+=m.length;if(c!=null)for(i=0,s=m.length;i<s;i++)this.models.splice(c+i,0,m[i]);else{x&&(this.models.length=0);var T=x||m;for(i=0,s=T.length;i<s;i++)this.models.push(T[i])}}l&&this.sort({silent:!0});if(!t.silent){for(i=0,s=m.length;i<s;i++)(u=m[i]).trigger("add",u,this,t);(l||x&&x.length)&&this.trigger("sort",this,t)}return r?e[0]:e},reset:function(e,t){t||(t={});for(var r=0,i=this.models.length;r<i;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return u.apply(this.models,arguments)},get:function(e){return e==null?void 0:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t(r,n,e),r.trigger("sync",r,n,e)},I(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};if(!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var r=this,i=t.success;return t.success=function(e,n){t.wait&&r.add(e,t),i&&i(e,n,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_addReference:function(e,t){this._byId[e.cid]=e,e.id!=null&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],t.id!=null&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments)}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(b,function(e){m.prototype[e]=function(){var t=u.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var w=["groupBy","countBy","sortBy","indexBy"];n.each(w,function(e){m.prototype[e]=function(t,r){var i=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,i,r)}});var E=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},S=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,f,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var r=e[t];n.isFunction(r)||(r=this[e[t]]);if(!r)continue;var i=t.match(S),s=i[1],o=i[2];r=n.bind(r,this),s+=".delegateEvents"+this.cid,o===""?this.$el.on(s,r):this.$el.on(s,o,r)}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(!this.el){var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var r=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(r,!1)}else this.setElement(n.result(this,"el"),!1)}}),t.sync=function(e,r,i){var s=N[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};i.url||(o.url=n.result(r,"url")||F()),i.data==null&&r&&(e==="create"||e==="update"||e==="patch")&&(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{});if(i.emulateHTTP&&(s==="PUT"||s==="DELETE"||s==="PATCH")){o.type="POST",i.emulateJSON&&(o.data._method=s);var u=i.beforeSend;i.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",s);if(u)return u.apply(this,arguments)}}o.type!=="GET"&&!i.emulateJSON&&(o.processData=!1),o.type==="PATCH"&&T&&(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var a=i.xhr=t.ajax(n.extend(o,i));return r.trigger("request",r,a,i),a};var T=typeof window!="undefined"&&!!window.ActiveXObject&&(!window.XMLHttpRequest||!(new XMLHttpRequest).dispatchEvent),N={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var C=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,L=/(\(\?)?:\w+/g,A=/\*\w+/g,O=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(C.prototype,f,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var s=this;return t.history.route(e,function(n){var o=s._extractParameters(e,n);s.execute(i,o),s.trigger.apply(s,["route:"+r].concat(o)),s.trigger("route",r,o),t.history.trigger("route",s,r,o)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(!this.routes)return;this.routes=n.result(this,"routes");var e,t=n.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(O,"\\$&").replace(k,"(?:$1)?").replace(L,function(e,t){return t?e:"([^/?]+)"}).replace(A,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var M=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},_=/^[#\/]|\s+$/g,D=/^\/+|\/+$/g,P=/msie [\w.]+/,H=/\/$/,B=/#.*$/;M.started=!1,n.extend(M.prototype,f,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(H,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(_,"")},start:function(e){if(M.started)throw new Error("Backbone.history has already been started");M.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),i=document.documentMode,s=P.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);this.root=("/"+this.root+"/").replace(D,"/");if(s&&this._wantsHashChange){var o=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=o.hide().appendTo("body")[0].contentWindow,this.navigate(r)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var u=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&u.hash&&(this.fragment=this.getHash().replace(_,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),M.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(e,t){if(!M.started)return!1;if(!t||t===!0)t={trigger:!!t};var n=this.root+(e=this.getFragment(e||""));e=e.replace(B,"");if(this.fragment===e)return;this.fragment=e,e===""&&n!=="/"&&(n=n.slice(0,-1));if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new M;var j=function(e,t){var r=this,i;e&&n.has(e,"constructor")?i=e.constructor:i=function(){return r.apply(this,arguments)},n.extend(i,r,t);var s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};d.extend=m.extend=C.extend=E.extend=M.extend=j;var F=function(){throw new Error('A "url" property or function must be specified')},I=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}};return t}),define("libs-patch/backbone/1.1.2/backbone-patch",["require","libs/backbone/1.1.2/backbone"],function(e){var t=e("libs/backbone/1.1.2/backbone");return t.View=function(e){return e.extend({constructor:function(t){this._configure(t||{}),e.apply(this,arguments)},_configure:function(e){var t=["model","collection","el","id","attributes","className","tagName","events"];this.options&&(e=_.extend({},_.result(this,"options"),e)),_.extend(this,_.pick(e,t)),this.options=e}})}(t.View),t}),define("core/dev/ac-core",["underscore","require","backbone"],function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E;return v=t.toUrl("core"),m=v.lastIndexOf("/"),g=v.indexOf(".js"),g!==-1?n=v.substr(m+1,g-m-1):n=v.substr(m+1),r=Ac.Core,r||(r=Ac.Core={}),i=r[n],i||(i=r[n]={}),i.VERSION=n,s=document.location,s.href.indexOf("jasmine_spec_runner")>0&&(o=!0),e.extend(i,{getBaseCloudUrl:function(){return u||(Ac.config.getBaseUri?u=Ac.config.getBaseUri("cloud_base_uri"):u=s.protocol+"//"+s.host+"/"),u},getBaseFilesUrl:function(){return a||(Ac.config.getBaseUri?a=Ac.config.getBaseUri("files_base_uri"):a=Ac.Features.getFeature("api_base_uri")),a},setBaseFilesUrl:function(e){a=e},setBaseFilesUrlFromApi:function(e){var t=e.lastIndexOf("api"),n=e.substring(0,t);this.setBaseFilesUrl(n)},getBaseFSSUrl:function(){return f||(f=Ac.config.getBaseUri("fss_base_uri")),f},getBaseAiCUrl:function(){return l||(l=Ac.config.getBaseUri("aic_base_uri")),l},getBaseGoMobileUrl:function(){return c||(c=Ac.config.getBaseUri("gomobile_base_uri")),c},isJasmine:function(){return o},getBaseReviewUrl:function(){return h||(h=Ac.config.getBaseUri("review_base_uri")),h},getUSSBaseUrl:function(){return y||(y=Ac.config.getBaseUri("adobe_uss_uri")),y},getDCBaseUrl:function(){return w||(w=Ac.config.getBaseUri("dc_base_uri")),w},getPGCBaseUrl:function(){return p||(p=Ac.config.getBaseUri("pgc_base_uri")),p},getCommentsBaseUrl:function(){return b||(b=Ac.config.getBaseUri("comment_base_uri")),b},getDocumentCloudBaseUrl:function(){return E||(E=Ac.config.getBaseUri("doccloud_base_uri")),E},getSophiaContentBaseUrl:function(){return d||(d=Ac.config.getBaseUri("sophia_content_base_uri")),d}}),i}),define("core/dev/utils/util",["core/ac-core"],function(e){const t=["psdc","aic","xdc"];return e.Util=function(e){function n(e){var t,n;if(!e)return;n=e.lastIndexOf(".");if(n>=0&&n!==e.length-1){n+=1;var r=e.indexOf(" ",n);r>=0?t=e.substring(n,r):t=e.substr(n)}return t&&(t=t.toLowerCase()),t}function r(e){return t.indexOf(e)!==-1}function i(e){var t=e+"=",n,r,i=document.cookie.split(";");for(n=0;n<i.length;n+=1){r=i[n];while(r.charAt(0)===" ")r=r.substring(1,r.length);if(r.indexOf(t)===0)return r.substring(t.length,r.length)}return null}function s(e){var t=e.split("."),n=window,r,i;for(r=0,i=t.length;r<i;r+=1)n&&(n=n[t[r]]);if(typeof n!="function")throw new Error("Ac.Core.Util.getClassFromName: '"+e+"' not found");return n}function o(e){var t="";return _.each(e,function(n,r){_.has(e,r)&&!_.isFunction(n)&&(t&&(t+="\n"),t+="  "+r+": "+n)}),t}function u(e){LOG(o(e))}function a(e,t){return t&&(e=e.concat(t)),e}function f(){var e=navigator.userAgent.indexOf(" Mobile/")>0;return e?"mobile":"desktop"}function l(e){return e?e.replace(/\ /g," "):e}function c(e){return e.indexOf("??")>=0&&(e=e.replace(/\?\?+/g,"?")),e}function h(){return navigator.userAgent.indexOf("Windows")>=0}function p(){return navigator.userAgent.toLowerCase().indexOf("windows nt 6.2")>=0||navigator.userAgent.toLowerCase().indexOf("windows nt 6.3")>=0}function d(){return navigator.userAgent.indexOf("Macintosh")>=0}function v(){return navigator.userAgent.indexOf("MSIE")>=0}function m(){return navigator.userAgent.indexOf("MSIE 8")>=0}function g(){return navigator.userAgent.indexOf("MSIE 9")>=0}function y(){return g()||m()}function b(){return navigator.userAgent.indexOf("MSIE 10")>=0}function w(){var e=navigator.userAgent;return b()?!0:e.indexOf("Mozilla")>=0&&e.indexOf("Windows NT")>=0&&e.indexOf("Trident")>=0&&e.indexOf("MSIE")<0}function E(){return navigator.userAgent.indexOf("Firefox")>=0}function S(){return navigator.userAgent.indexOf("Firefox/3.6")>=0}function x(e){var t,n,r;return t=navigator.userAgent,n=t.indexOf("Firefox"),n<0?!1:(r=parseInt(t.substr(n+8),10),r>=e)}function T(){return this.isReader()||this.isAcrobat()}function N(){return navigator.userAgent.indexOf("ReaderServices")>=0}function C(){return navigator.userAgent.indexOf("AcrobatServices")>=0}function k(){return navigator.userAgent.indexOf("iPad")>=0}function L(){return navigator.userAgent.indexOf("iPhone")>=0}function A(){return navigator.userAgent.indexOf("AppleWebKit")>=0}function O(e){return navigator.userAgent.indexOf("Version/"+e)>=0}function M(){return navigator.userAgent.indexOf("Android")>=0}function D(){var e=navigator.userAgent.match(/(Reader|Acrobat)Services\/([0-9]+)\.([0-9]+)\.([0-9]+)/),t=e&&e[4]?parseInt(e[4]):0;return t>=1e4&&t<2e4?"Beta":t>=2e4&&t<3e4?"DC":t>=3e4&&t<4e4?"2017":"Trunk"}function P(){return D()=="Trunk"}function H(){return D()=="Beta"}function B(){return D()=="DC"}function j(){return D()=="2017"}function F(){var e="(-webkit-min-device-pixel-ratio: 1.5),                    (min--moz-device-pixel-ratio: 1.5),                    (-o-min-device-pixel-ratio: 3/2),                    (min-resolution: 1.5dppx)";return window.devicePixelRatio>1?!0:window.matchMedia&&window.matchMedia(e).matches?!0:!1}function I(){return k()||L()||M()}function q(){return!I()&&!m()&&!g()}function R(){var t=e(document.createElement("div")),n;return t.html("<svg/>"),n=t.find(":first-child"),n.length===1&&n[0].namespaceURI==="http://www.w3.org/2000/svg"}function U(){return window.File}function z(){return navigator.onLine}function W(){return!L()}return{getExtension:n,isCCFile:r,getCookie:i,getClassFromName:s,formatProperties:o,logProperties:u,addToArray:a,getClientType:f,replaceSpaceWithNbsp:l,compressQuestionMarks:c,isWindows:h,isWindows8:p,isMac:d,isIE:v,isIE8:m,isIE9:g,isIE9orBelow:y,isIE10:b,isIE10orAbove:w,isFirefox:E,isFirefox36:S,isFirefoxGte:x,isCEF:T,isReader:N,isAcrobat:C,isIpad:k,isIphone:L,isAppleWekKit:A,isIosVersion:O,isAndroid:M,isRetina:F,isTouchDevice:I,isDragAndDropSupported:q,isSvgSupported:R,isFileApiSupported:U,isConnected:z,showBreadcrumbs:W,isTrunk:P,isBeta:H,isConsumer:B,isClassic:j}}(jQuery),e.Util}),define("core/dev/utils/ajax-util",["core/ac-core","core/utils/util"],function(e,t){function c(){var t=(new Date).getTime(),n,r=!1;return a||(a=e.Features.getFeature("throttle_interval_threshold")),u&&(n=t-u,r=n>a),u=t,r}function h(t){var u=t.type,a=t.url,l=t.data,h;return!t.throttleOn||t.throttleIgnore?!1:(l&&(h=JSON.stringify(l)),c()||u!==n||a!==r||h!==i?(n=u,r=a,i=h,f=undefined,s=1,!1):(s+=1,o||(o=e.Features.getFeature("throttle_count_threshold")),s>o))}var n,r,i,s=0,o,u,a,f,l;return e.AjaxUtil={addGlobalAjaxHandlers:function(e){var t=$(document);_.each(e,function(e,n){n==="ajaxStart"?t.ajaxStart(e):n==="ajaxSend"?t.ajaxSend(e):n==="ajaxComplete"?t.ajaxComplete(e):n==="ajaxStop"?t.ajaxStop(e):n==="ajaxError"&&t.ajaxError(e)})},removeGlobalAjaxHandlers:function(e){var t=$(document);if(!e){t.unbind("ajaxStart"),t.unbind("ajaxSend"),t.unbind("ajaxComplete"),t.unbind("ajaxStop"),t.unbind("ajaxError");return}_.each(e,function(e,n){n==="ajaxStart"?t.unbind("ajaxStart",e):n==="ajaxSend"?t.unbind("ajaxSend",e):n==="ajaxComplete"?t.unbind("ajaxComplete",e):n==="ajaxStop"?t.unbind("ajaxStop",e):n==="ajaxError"&&t.unbind("ajaxError",e)})},setContextOptions:function(e){l=e},resetThrottle:function(){n=undefined,r=undefined,i=undefined,s=0,o=undefined,u=undefined,a=undefined,f=undefined},beforeSend:function(t,n){var r=h(n),i;return e.Features.isFeatureEnabled("throttle_ajax_requests")?(r&&(i=n.type+" "+n.url+" cancelled: repeated "+o+" or more times, each within "+a+" msecs of previous. data="+(n.data||""),i!==f&&(l&&_.defer(function(){e.opFactory.create("SendingLogEventOp",l).run({message:i,ajaxOptions:{throttleIgnore:!0}})}),f=i)),!r):!0},complete:function(e){var n;t.isCEF()&&l&&(n=e.status===0?!1:!0,n!==l.appApi.networkConnectivityApi.isOnline()&&l.networkConnectivityModel.set({is_connected:n,ajax_status:n}))}},e.AjaxUtil}),function(){function t(e,t,n,r,i,s){t[e]&&(n.push(e),(t[e]===!0||t[e]===1)&&r.push(i+e+"/"+s))}function n(e,t,n,r,i){var s=r+t+"/"+i;require._fileExists(e.toUrl(s+".js"))&&n.push(s)}function r(e,t,n){var i;for(i in t)t.hasOwnProperty(i)&&(!e.hasOwnProperty(i)||n)?e[i]=t[i]:typeof t[i]=="object"&&(!e[i]&&t[i]&&(e[i]={}),r(e[i],t[i],n))}var e=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/;define("i18n",["module"],function(i){var s=i.config?i.config():{};return{version:"2.0.4",load:function(i,o,u,a){a=a||{},a.locale&&(s.locale=a.locale);var f,l=e.exec(i),c=l[1],h=l[4],p=l[5],d=h.split("-"),v=[],m={},g,y,b="";l[5]?(c=l[1],f=c+p):(f=i,p=l[4],h=s.locale,h||(h=s.locale=typeof navigator=="undefined"?"root":(navigator.language||navigator.userLanguage||"root").toLowerCase()),d=h.split("-"));if(a.isBuild){v.push(f),n(o,"root",v,c,p);for(g=0;g<d.length;g++)y=d[g],b+=(b?"-":"")+y,n(o,b,v,c,p);o(v,function(){u()})}else o([f],function(e){var n=[],i;t("root",e,n,v,c,p);for(g=0;g<d.length;g++)i=d[g],b+=(b?"-":"")+i,t(b,e,n,v,c,p);o(v,function(){var t,i,s;for(t=n.length-1;t>-1&&n[t];t--){s=n[t],i=e[s];if(i===!0||i===1)i=o(c+s+"/"+p);r(m,i)}u(m)})})}}})}(),define("core/dev/nls/ui-strings",{root:!0,"bg-bg":!0,"ar-ae":!0,"ca-es":!0,"cs-cz":!0,"da-dk":!0,"de-de":!0,"en-ae":!0,"en-gb":!0,"en-il":!0,"es-es":!0,"eu-es":!0,"fi-fi":!0,"fr-fr":!0,"fr-ma":!0,"he-il":!0,"hr-hr":!0,"hu-hu":!0,"it-it":!0,"ja-jp":!0,"ko-kr":!0,"nb-no":!0,"nl-nl":!0,"pl-pl":!0,"pt-br":!0,"ro-ro":!0,"ru-ru":!0,"sk-sk":!0,"sl-si":!0,"sl-sl":!0,"sv-se":!0,"tr-tr":!0,"uk-ua":!0,"zh-cn":!0,"zh-tw":!0}),define("core/dev/nls/root/ui-strings",{ACTIONS:"Actions",ACTIONS_UC:"ACTIONS",ADDED:"Added",ADD_ACCOUNT:"Add file storage",BACK:"Back",CLOSE:"Close",CONTINUE:"Continue",NEXT:"Next",EXTENSION:"(.<%- ext %>)",FILES:"Files",FILE_NAME:"File Name",FOLDER_NAME:"Folder Name",LOCATION:"Location",MODIFIED:"Modified",LAST_ACTIVITY:"Last Activity",NAME:"Name",OR:"or",PROPERTIES:"Properties",PROPERTIES_UC:"PROPERTIES",REMOVE:"Remove",REMOVE_SHARED:"Remove From Shared",REMOVE_SHARED_HINT:"Remove file from Shared list",REMOVE_TODO_CARD:"Remove To Do Card",SELECT_FILES:"Select files",SELECT_FILE:"Select file",DESELECT_FILES:"Deselect files",DESELECT_FILE:"Deselect file",DESELECT_ALL:"Deselect all",VIRGO_NON_SHARED:"Only you",VIRGO_SHARED_FILE:"Shared",VIRGO_EMPTY_DOCUMENT_CLOUD_TITLE:"There aren’t any files in Adobe's cloud storage yet",VIRGO_EMPTY_FOLDER_SUBTITLE:"Files you add to Adobe's cloud storage will appear here. You can work with and share them across web, desktop, and mobile.",VIRGO_EMPTY_FOLDER_CC_SUBTITLE:"Files you add to Creative Cloud will appear here. You can work with and share them across web, desktop, and mobile.",VIRGO_EMPTY_SUB_FOLDER_SUBTITLE:"There aren’t any files here yet.",VIRGO_EMPTY_FOLDER_UPLOAD_ACTION:"Upload Files",VIRGO_EMPTY_FOLDER_NEW_FOLDER_ACTION:"Create New Folder",REVERSE_SORT_ORDER:"Reverse sort order",VIRGO_EMPTY_CREATIVE_CLOUD_TITLE:"There aren’t any files in Creative Cloud yet",VIRGO_EMPTY_FOLDER_TITLE:"No files in this folder",VIRGO_EMPTY_MY_COMPUTER:"When you open files from your computer, you’ll see their folders here.",VIRGO_NON_SIGNED_IN_DC_TITLE:"Sign in to access Adobe's cloud storage files.",VIRGO_NON_SIGNED_IN_DC_SUBTITLEE:"Work with, manage, and share files across web, desktop, and mobile.",VIRGO_NON_SIGNED_IN_CC_TITLE:"Sign in to access Creative Cloud files.",VIRGO_NON_SIGNED_IN_CC_SUBTITLEE:"Store, manage, and share files synced across Creative Cloud desktop, libraries, and mobile apps.",VIRGO_NON_SIGNED_IN_OTHERS_TITLE:"Sign in to access files.",VIRGO_NON_SIGNED_IN_ACTION:"Sign In",VIRGO_NO_INTERNET_CONNECTION_TITLE:"You’re not connected to the internet.",VIRGO_NO_INTERNET_CONNECTION_DC_SUBTITLE:"To access Adobe's cloud storage files, please connect to the internet and try again.",VIRGO_NO_INTERNET_CONNECTION_CC_SUBTITLE:"To access Creative Cloud files, please connect to the internet and try again.",VIRGO_NO_INTERNET_CONNECTION_OTHERS_SUBTITLE:"To access your files, please connect to the internet and try again.",VIRGO_NO_INTERNET_CONNECTION_CONNECTORS_SUBTITLE:"To access shared files, please connect to the internet and try again.",SIZE:"Size",SELECT_ALL:"Select all",TOTAL_FILES:"Total Files",VIRGO_NAME:"NAME",VIRGO_HDR_SHARE:"SHARING",VIRGO_SIZE:"SIZE",VIRGO_TYPE:"TYPE",VIRGO_MODIFIED:"MODIFIED",VIRGO_CREATED:"ADDED",VIRGO_VIEWED:"VIEWED",VIRGO_OPENED:"OPENED",SORTED_BY:"SORTED BY",N_ITEMS_CLICK_TO_VIEW:"<%= num %> items. Click to view.",CREATED_DATE:"Date Added",MODIFIED_DATE:"Date Modified",VIEWED_DATE:"Date Viewed",OPENED_DATE:"Date Opened",DATE_HH_MM_AMPM:"<%= hour %><%= sep %><%= minute %> <%= amPm %>",DATE_YESTERDAY:"Yesterday",DATE_MM_DD_YYYY:"<%= month %>/<%= day %>/<%= year %>",DATE_MMM_DD:"<%= MMM %> <%= DD %>",DATE_MMM_DD_YYYY:"<%= MMM %> <%= DD %>, <%= YYYY %>",DATE_AND_TIME:"<%= dateStr %>, <%= timeStr %>",DATETYPE_AND_TIME:"<%= dateType %> <%= date %>",YYYY:"YYYY",AM:"AM",PM:"PM",HH:"H",HH_MM_SEPARATOR:":",MM:"M",DD:"D",ANIMATION:"Animation",AUDIO:"Audio",CALENDAR:"Calendar",CASCADING_STYLE_SHEET:"Cascading Style Sheet",CERTIFICATE:"Certificate",FONT:"Font",IMAGE:"Image",PLAIN_TEXT:"Plain Text",PRESENTATION:"Presentation",RICH_TEXT:"Rich Text",SPREADSHEET:"Spreadsheet",STYLE_SHEET:"Style Sheet",TEXT:"Text",UNKNOWN:"Unknown",VIDEO:"Video",VIRGO_ANY_TYPE:"Any type",VIRGO_ANY_TIME:"Any time",VIRGO_ANY_FILE_NAME:"Any name",VIRGO_RESET_FILTER:"Reset",KB:"<%= num %> KB",MB:"<%= num %> MB",GB:"<%= num %> GB",DECIMAL_SEPARATOR:".",THOUSANDS_SEPARATOR:",",FILE_NAME_CONTAINS:"File Name contains",FILE_TYPE_IS:"File Type is",FILE_CONTENT:"File contains",DATE_LAST_MODIFIED:"Date Last Modified is",DATE_LAST_VIEWED:"Date Last Viewed is",DATE_ADDED:"Date Added is",FILE_ADDED_BY:"File Added by",MIN_SIZE:"Min Size",MAX_SIZE:"Max Size",VIRGO_FILTER:"Filter",FILTER_DISPLAY_VALUE:"<%= field %>: <%= value %>",CREATE_PDF:"Create PDF",EXPORT_PDF:"Export PDF",COMBINECONVERT_PDF:"Convert PDF",COMBINE_PDF:"Combine PDF",FILL_SIGN:"Fill & Sign",ADOBE_ACROBAT:"Adobe Acrobat",ADOBE_READER_MOBILE:"Adobe Reader Mobile",ADOBE_READER:"Adobe Reader",ADOBE_SCAN:"Adobe Scan",TODAY:"Today",YESTERDAY:"Yesterday",WITHIN_LAST_WEEK:"Within Last Week",WITHIN_LAST_MONTH:"Within Last Month",ONE_TO_TWO_MONTHS_AGO:"1-2 Months Ago",TWO_TO_THREE_MONTHS_AGO:"2-3 Months Ago",THREE_TO_FOUR_MONTHS_AGO:"3-4 Months Ago",FOUR_TO_FIVE_MONTHS_AGO:"4-5 Months Ago",FIVE_TO_SIX_MONTHS_AGO:"5-6 Months Ago",SIX_TO_TWELVE_MONTHS_AGO:"6-12 Months Ago",MORE_THAN_ONE_YEAR_AGO:"1+ Year Ago",CUSTOM:"Custom Range",VIRGO_VIRGO_PAST_HOUR:"Past hour",VIRGO_Past_24_HOUR:"Past 24 hours",VIRGO_PAST_WEEK:"Past week",VIRGO_PAST_MONTH:"Past month",VIRGO_PAST_YEAR:"Past year",VIRGO_CUSTOM_RANGE:"Custom Range...",STARRED_FILE:"This is a starred file",STAR_FILE:"Star this file",UNSTAR_FILE:"Unstar this file",STARRING_FAILED_TOAST:"Failed to star",UNSTARRING_FAILED_TOAST:"Failed to Unstar",TRY_LATER_TOAST:"Please try after some time",OK:"OK",CANCEL:"Cancel",DIALOG:"Dialog",TO_ACTIVATE_PRESS_SPACE_BAR:"To activate press space bar",CONFIRM_DELETE_TITLE:"Delete",CONFIRM_DELETE_MSG_ONE_ITEM:"Are you sure you want to delete this item?",CONFIRM_DELETE_MSG_N_ITEMS:"Are you sure you want to delete these <%= numItems %> items?",DOWNLOAD:"Download",DOWNLOAD_FILE:"Download File",DOWNLOAD_FILES:"Download Files",DOWNLOAD_FOLDER:"Download Folder",RENAME:"Rename",RENAME_ELLIPSIS:"Rename...",RENAME_FILE:"Rename File",RENAME_FOLDER:"Rename Folder",MOVE_FILE:"Move file",MOVE_FILES:"Move files",MOVE_FOLDER:"Move folder to a different folder",MOVE_FOLDERS:"Move folders to a different folder",MOVE_FILE_AND_FOLDER:"Move file and folder to a different folder",MOVE_FILES_AND_FOLDER:"Move files and folder to a different folder",MOVE_FILE_AND_FOLDERS:"Move file and folders to a different folder",MOVE_FILES_AND_FOLDERS:"Move files and folders to a different folder",SHARE:"Share",SHARE_ELLIPSIS:"Share...",SHARE_FILE:"Share File",SHARE_FILES:"Share Files",SEND_FILE:"Send & Track File",SEND_FILES:"Send & Track Files",DELETE:"Delete",SHARED_BY_SBO_CB:"Shared by ",SHARE_FILE_PDF:"Share File",ATTACH_TO_EMAIL_PDF:"Attach to Email",SEND_FOR_REVIEW_PDF:"Send For Comments",SEND_FOR_SIGNATURE_PDF:"Adobe Acrobat Sign",EDIT_PDF:"Edit PDF",COMMENT_PDF:"Comment",ORGANIZE_PDF:"Organize PDF",FILL_SIGN_PDF:"Fill and Sign",SHARE_FILE_TOOLTIP:"Send documents, track views and downloads",SHARE_FILE_VIRGO_TOOLTIP:"Share files for viewing or adding comments and track responses",SHARE_REVIEW_FILE_VIRGO_TOOLTIP:"Invite people to add comments on a shared file and track responses",SIGNATURE_FILE_VIRGO_TOOLTIP:"Send PDFs to others to sign online without needing Acrobat.",EXPORT_FILE_VIRGO_TOOLTIP:"Convert a PDF to Microsoft Word, Excel, PowerPoint, and more",COMMENT_FILE_VIRGO_TOOLTIP:"Add comments with highlights, sticky notes, and markup tools",FILL_SIGN_FILE_VIRGO_TOOLTIP:"Fill and sign documents electronically",FILL_SIGN_FILE_VIRGO_TOOLTIP_NEW:"Fill and sign forms or get them signed from others",ORGANIZE_FILE_VIRGO_TOOLTIP:"Delete, insert, extract, or rotate pages",RENAME_FILE_VIRGO_TOOLTIP:"Rename file",MOVE_FILE_VIRGO_TOOLTIP:"Move file to a different folder",DOWNLOAD_FILE_VIRGO_TOOLTIP:"Download file",DELETE_FILE_VIRGO_TOOLTIP:"Permanently delete file",DELETE_FILES_VIRGO_TOOLTIP:"Permanently delete files",DELETE_FOLDER_VIRGO_TOOLTIP:"Permanently delete folder",DELETE_FOLDERS_VIRGO_TOOLTIP:"Permanently delete folders",DELETE_FILE_FOLDER_VIRGO_TOOLTIP:"Permanently delete file and folder",DELETE_FILE_FOLDERS_VIRGO_TOOLTIP:"Permanently delete file and folders",DELETE_FILES_FOLDER_VIRGO_TOOLTIP:"Permanently delete files and folder",DELETE_FILES_FOLDERS_VIRGO_TOOLTIP:"Permanently delete files and folders",EDIT_FILE_VIRGO_TOOLTIP:"Edit text and images in a PDF file",SEND_FOR_REVIEW:"Automatically collect comments from reviewers in a single PDF",SEND_FOR_SIGNATURE:"Get signatures from others and track results",EDIT:"Edit text and images in PDF files",COMMENT:"Add comments with highlights, sticky notes, and mark-up tools",FILL_SIGN_FILE:"Fill and sign documents and forms electronically",ORGANIZE:"Delete, insert, extract or rotate pages",ATTACH_TO_EMAIL_TOOLTIP:"Send file as email attachment",EXPORT_PDF_TOOLTIP:"Convert a PDF to Microsoft Word, Excel, PowerPoint, and more",CREATE_PDF_TOOLTIP:"Create a PDF from any format",COMBINECONVERT_PDF_TOOLTIP:"Convert a PDF to Word, Powerpoint, Excel or create PDFs from these native formats",RHP_ACTIVITY_TOOLTIP:"View all activity for this agreement",RHP_AUDIT_REPORT_TOOLTIP:"Download audit report for this agreement (opens PDF in new tab)",RHP_CANCEL_TOOLTIP:"Cancel this agreement",RHP_STATUS_TOOLTIP:"View list of recipients for this agreement",RHP_REMINDER_TOOLTIP:"Send a reminder",FOLDER_PATH:"FOLDER",MODIFIED_PROPERTY:"Modified",HOME:"Home",ITEMS_SELECTED:"Selected",ENTER_KEYWORD:"Search",SEARCH:"Search",SHARED_S:"Shared",PREVIEW_NOT_AVAILABLE:"Cannot Preview Filetype",PREVIEW_NOT_AVAILABLE_DESC:"Please <a class='preview-download' href='javascript:void(0)'>download</a> the file for viewing.",RENAME_NAME_IN_USE:'The <%= existingType %> named "<%= name %>" already exists in this location. Please choose another <%= renamedType %> name.',RENAME_ILLEGAL_NAME:"The name contains illegal characters or has too many characters. Please choose another <%= renamedType %> name.",MOVE:"Move",MOVE_FILE_TO:"Move File To...",MOVE_FILES_TO:"Move Files To...",MOVE_FOLDER_TO:"Move Folder To...",MOVE_FOLDERS_TO:"Move Folders To...",MOVE_FILE_AND_FOLDER_TO:"Move File and Folder To...",MOVE_FILES_AND_FOLDER_TO:"Move Files and Folder To...",MOVE_FILE_AND_FOLDERS_TO:"Move File and Folders To...",MOVE_FILES_AND_FOLDERS_TO:"Move Files and Folders To...",DUPLICATE_NAME_TITLE:"Duplicate <%= type %> Name",DUPLICATE_NAME_PROMPT:'A <%= type %> named "<%- name %>" already exists at this location. What would you like to do?',DUPLICATE_NAME_REPLACE_EXISTING:"Replace the existing <%= type %>",DUPLICATE_NAME_RENAME_UPLOADED:"Rename the uploaded <%= type %>",DUPLICATE_NAME_DELETE_MOVED:"Delete the moved <%= type %>",DUPLICATE_NAME_RENAME_MOVED:"Rename the moved <%= type %>",FILE_INITIAL_CAP:"File",FILE:"file",FOLDER_INITIAL_CAP:"Folder",FOLDER:"folder",REPORT_ABUSE:"Report Abuse",REPORT_ABUSE_TITLE:"Report Abuse",REPORT_ABUSE_CONTENT_LABEL:"Content",REPORT_ABUSE_TITLE_LABEL:"Title",REPORT_ABUSE_DEFAMATION_LABEL:"Defamation",REPORT_ABUSE_OFFENSIVE_LABEL:"Offensive Content",REPORT_ABUSE_EXPLICIT_LABEL:"Sexually Explicit Content",REPORT_ABUSE_TRADEMARK_LABEL:"Trademark Infringement",REPORT_ABUSE_RACIST_LABEL:"Racist or Hate Content",REPORT_ABUSE_OTHER_LABEL:"Other",REPORT_ABUSE_BLURB:"If you feel that this content violates the Adobe <a class='abuse-dialog-link' href='http://www.adobe.com/go/gfooter_terms_of_use' target='_blank'>Terms of Use</a>, you may report this content by filling out this quick form.",REPORT_ABUSE_EMAIL_PROMPT:"Your Email",REPORT_ABUSE_NAME_PROMPT:"Your Name",REPORT_ABUSE_TARGET_TYPE_PROMPT:"What are you reporting?",REPORT_ABUSE_REASON_PROMPT:"Why are you reporting this content?",REPORT_ABUSE_DESCRIPTION_PROMPT:"Please provide a description of your concern.",REPORT_ABUSE_COPYRIGHT_REPORT:"To report a Copyright Violation, please follow Section 17 in the <a class='abuse-dialog-link' href='http://www.adobe.com/go/gfooter_terms_of_use' target='_blank'>Terms of Use</a>.",REPORT_ABUSE_REPORT_BUTTON:"Report Abuse",REPORT_ABUSE_EMAIL_ERROR:"You must enter a valid email address.",LANGUAGE_CHANGE:"<%= lang %> (Change)",CHOOSE_LANGUAGE:"Choose Your Language",QUOTA_WARNING_DLG_TITLE_RUNNING_OUT:"File Storage Running Out",QUOTA_WARNING_DLG_MSG_RUNNING_OUT:"You are currently using <%= using %> of your <%= allotment %> allotment and will soon run out of storage.",QUOTA_WARNING_DLG_TITLE_EXCEEDED:"File Storage Exceeded",QUOTA_WARNING_DLG_MSG_LOGIN_EXCEEDED:"Your total storage of <%= using %> exceeds the maximum <%= allotment %> allowed with your new subscription.",QUOTA_WARNING_DLG_MSG_UPLOAD_EXCEEDED:"The uploaded file could not be saved because it would exceed your quota allotment of <%= allotment %>.",QUOTA_WARNING_DLG_MSG_YOU_MAY_VIEW:"You may view and download all existing files, but to save additional files you must upgrade your account.",QUOTA_WARNING_DLG_MSG_YOU_WILL_NEED:"You will need to delete some files to free up some additional space.",QUOTA_WARNING_DLG_MSG_UPGRADE:"Upgrade your account for more storage and additional features.",LEARN_MORE:"Learn More",UPGRADE:"Upgrade",ERROR:"Error",MISC_ERROR_ACROBAT_FILE_OPEN_MAX_TITLE:"File Open Maximum Exceeded",MISC_ERROR_ACROBAT_FILE_OPEN_MAX_MSG:"You can open at most 50 files at a time.",HTTP_STATUS_DEFAULT_TITLE:"Could not complete your request",HTTP_STATUS_DEFAULT_MSG:"An error occurred while trying to complete your request, and it could not be completed.",HTTP_STATUS_DEFAULT_MSG_CEF:"An error occurred while connecting to the service. Please try again later.",HTTP_STATUS_400_TITLE:"Could not complete your request (400)",HTTP_STATUS_400_TITLE_CEF:"Could not complete your request",HTTP_STATUS_400_MSG:"An error occurred while trying to complete your request, and it could not be completed.",HTTP_STATUS_401_TITLE:"You have been logged out (401)",HTTP_STATUS_401_TITLE_CEF:"You have been logged out",HTTP_STATUS_401_MSG:'Your session has expired and you have been logged out due to inactivity. Click "Sign In" below to log back in.',HTTP_STATUS_401_MSG_CEF:"An error occurred. Please try signing out, and signing in again",HTTP_STATUS_403_QUOTA_TITLE:"Storage Quota Exceeded (403)",HTTP_STATUS_403_QUOTA_TITLE_CEF:"Storage Quota Exceeded",HTTP_STATUS_403_QUOTA_MSG:"Your file could not be uploaded, as it would exceed your storage quota. You may want to delete some existing files to provide more space.",HTTP_STATUS_403_DEL_FOLDER_TITLE:"Cannot Delete Folder With Content (403)",HTTP_STATUS_403_DEL_FOLDER_TITLE_CEF:"Cannot Delete Folder With Content",HTTP_STATUS_403_DEL_FOLDER_MSG:"You may only delete empty folders. Please delete all contents before deleting the folder.",HTTP_STATUS_403_NO_SHARING_TITLE:"Sharing Disallowed (403)",HTTP_STATUS_403_NO_SHARING_TITLE_CEF:"Sharing Disallowed",HTTP_STATUS_403_NO_SHARING_MSG:"Your file could not be shared because it is an audio or video file.",HTTP_STATUS_403_VIRUS_TITLE:"Virus Detected (403)",HTTP_STATUS_403_VIRUS_TITLE_CEF:"Virus Detected",HTTP_STATUS_403_VIRUS_MSG:"Your file could not be uploaded because it contains a virus.",HTTP_STATUS_403_ENCRYPTION_TITLE:"Decryption failed (403)",HTTP_STATUS_403_ENCRYPTION_TITLE_CEF:"Decryption failed",HTTP_STATUS_403_ENCRYPTION_MSG:"There was an error accessing your content. Decryption failed. Contact your IT Administrator.",HTTP_STATUS_403_TITLE:"Forbidden (403)",HTTP_STATUS_403_TITLE_CEF:"Forbidden",HTTP_STATUS_403_MSG:"The operation could not be completed. Please try again later.",HTTP_STATUS_404_TITLE:"File Not Found (404)",HTTP_STATUS_404_TITLE_CEF:"File Not Found",HTTP_STATUS_404_MSG:"The file you are trying to access could not be found. The file may have been deleted or moved in another session.",HTTP_STATUS_405_TITLE:"Method Not Allowed (405)",HTTP_STATUS_405_TITLE_CEF:"Method Not Allowed",HTTP_STATUS_405_MSG:"Your request could not be completed, as the method is not allowed.",HTTP_STATUS_406_TITLE:"Browser Incompatibility",HTTP_STATUS_406_TITLE_CEF:"Type Not Supported",HTTP_STATUS_406_MSG:"Your browser is unable to communicate with this website. Please try a different browser. (Error 406: Type not supported).",HTTP_STATUS_415_TITLE:"Unsupported Media Type (415)",HTTP_STATUS_415_TITLE_CEF:"Unsupported Media Type",HTTP_STATUS_415_MSG:"Your request could not be completed, as the media type specified is not supported.",HTTP_STATUS_500_TITLE:"Internal Server Error (500)",HTTP_STATUS_500_TITLE_CEF:"Internal Server Error",HTTP_STATUS_500_MSG:"Your request could not be completed due to an internal server error.",HTTP_STATUS_501_TITLE:"Request not Implemented (501)",HTTP_STATUS_501_TITLE_CEF:"Request not Implemented",HTTP_STATUS_501_MSG:"The request you are trying to make is not yet implemented in the server.",HTTP_STATUS_503_TITLE:"Server Currently Unavailable (503)",HTTP_STATUS_503_TITLE_CEF:"Server Currently Unavailable",HTTP_STATUS_503_MSG:"The server could not reached, and may be down. Please try again later.",DOWNLOAD_FORM_TITLE:"Form File",DOWNLOAD_FORM_MESSAGE:"Your form file must be converted to PDF to be downloaded.",DOWNLOAD_FORMS_EXCLUDED_MESSAGE:"Your selection includes form files, which are not available for download. These files will be excluded. You can download PDF versions by selecting a single form file for download.",DOWNLOAD_FORMS_MESSAGE:"Form files are not available for download. You can download PDF versions by selecting a single form file for download.",SETTINGS:"Settings",DONE:"Done",FILE_LISTS:"FILES",FILE_LISTS_SEARCH:"Adobe cloud storage",SHARED_DOCUMENTS:"Other file storage",SIGN_SEARCH:"AGREEMENTS",ENTERPRISE_SIGN_SEARCH:"Agreements",EDIT_ACCOUNTS:"Edit Accounts",DOCUMENT_CLOUD_FILES:"Document Cloud",REMOVE_ACCOUNT:"Remove Account",ACROBAT_DOT_COM_FILES:"Adobe cloud storage",ACROBAT_DOT_COM_ALL_FILES:"Your files",DOWNLOAD_ALL:"Download All",NOTIFICATION_UPLOADING:"Uploading...",NOTIFICATION_CONVERTING:"Converting...",NOTIFICATION_CONVERSION_FAILURE:"Conversion Failure",NOTIFICATION_DOWNLOAD_FAILURE:"Download Failure",READY:"Ready",NOTIFICATION_WAITING:"Pending...",NOTIFICATION_DOWNLOADING:"Downloading...",NOTIFICATION_PROCESSING:"Processing...",NOTIFICATION_DOWNLOAD_ERROR:"An error occurred while downloading this file",NOTIFICATION_RETRY:"Retry",YES:"Yes",NO:"No",REPLACE_EXISTING_FILE_TITLE:"Replace existing file",REPLACE_EXISTING_FILE_MSG:"A file with this name already exists. Do you want to replace it?",REPLACE_EXISTING_FILE_ARIA_LABEL:"Replace existing file. Yes",OPEN:"Open",OPEN_FILE:"Open File",OPEN_FILES:"Open Files",OPEN_FOLDER:"Open Folder",SAVE_AS:"Save As",SAVE_AS_FILE:"Save As File",SAVE_AS_FILES:"Save As Zip",SAVED:"Saved",SAVE:"Save",SHOW_IN_FOLDER:"Show in Folder",SEND:"Send",CONVERT_TO_PDF:"Convert to PDF",COMBINE:"Combine",BROWSE_FOLDER:"Browse...",CHOOSE_DIFFERENT_FOLDER:"Choose a Different Folder...",ATTACH_TO_EMAIL:"Attach to Email",SEND_AND_TRACK:"Send & Track",PRINT:"Print",PUBLIC_ICON_TOOLTIP:"File shared with Adobe Send & Track",RNA_VERSION_DIALOG_TITLE:"An error occurred",RNA_VERSION_DIALOG_CONTENT:"Features in this area connect to the Adobe Document Cloud and must be updated to remain compatible with the service. To update to the latest version, choose Check for Updates from the Help menu or click the link below to continue your work in a web browser.",RNA_VERSION_DIALOG_LINK_TITLE:"Go to Document Cloud",EXPORTPDF_RHP_GOURL:"http://www.adobe.com/go/epdfrhprdr6_12_0_0",EXPORTPDF_GOURL:"http://www.adobe.com/go/epdfrdr6_12_0_0",CREATEPDF_RHP_GOURL:"http://www.adobe.com/go/cpdfrhprdr6_12_0_0",CREATEPDF_GOURL:"http://www.adobe.com/go/cpdfrdr2_12_0_0",MY_FILES_GOURL:"http://www.adobe.com/go/doccloudfilesrdr_12_0_0",FILLSIGN_GOURL:"http://www.adobe.com/go/fsrdr1_12_0_0",SEND_GOURL:"http://www.adobe.com/go/sendpluginrdr2_12_0_0",SENTFILES_GOURL:"http://www.adobe.com/go/sendpluginrdr3_12_0_0",MY_FILES_GOURL_ACRO:"http://www.adobe.com/go/doccloudfilesacro_12_0_0",FILLSIGN_GOURL_ACRO:"http://www.adobe.com/go/fsacro1_12_0_0",SEND_GOURL_ACRO:"http://www.adobe.com/go/sendpluginacro2_12_0_0",SENTFILES_GOURL_ACRO:"http://www.adobe.com/go/sendpluginacro3_12_0_0",SERVER_OUTAGE_DIALOG_TITLE:"An error occurred",SERVER_OUTAGE_DIALOG_CONTENT:"The service you are trying to reach is temporarily unavailable.  Please try again later.",FROM:"From",TO:"To",GO:"Go",JANUARY:"JANUARY",FEBRUARY:"FEBRUARY",MARCH:"MARCH",APRIL:"APRIL",MAY:"MAY",JUNE:"JUNE",JULY:"JULY",AUGUST:"AUGUST",SEPTEMBER:"SEPTEMBER",OCTOBER:"OCTOBER",NOVEMBER:"NOVEMBER",DECEMBER:"DECEMBER",JANUARY_S:"January",FEBRUARY_S:"February",MARCH_S:"March",APRIL_S:"April",MAY_S:"May",JUNE_S:"June",JULY_S:"July",AUGUST_S:"August",SEPTEMBER_S:"September",OCTOBER_S:"October",NOVEMBER_S:"November",DECEMBER_S:"December",MONTH_1:"Jan",MONTH_2:"Feb",MONTH_3:"Mar",MONTH_4:"Apr",MONTH_5:"May",MONTH_6:"Jun",MONTH_7:"Jul",MONTH_8:"Aug",MONTH_9:"Sep",MONTH_10:"Oct",MONTH_11:"Nov",MONTH_12:"Dec",SUNDAY:"SUNDAY",MONDAY:"MONDAY",TUESDAY:"TUESDAY",WEDNESDAY:"WEDNESDAY",THURSDAY:"THURSDAY",FRIDAY:"FRIDAY",SATURDAY:"SATURDAY",INVALID_DATE:"Invalid date",INVALID_DATE_RANGE:"Invalid date range",PREVIOUS_MONTH:"Previous Month",NEXT_MONTH:"Next Month",SUNDAY_SHORT:"SU",MONDAY_SHORT:"MO",TUESDAY_SHORT:"TU",WEDNESDAY_SHORT:"WE",THURSDAY_SHORT:"TH",FRIDAY_SHORT:"FR",SATURDAY_SHORT:"SA",MONTH_YEAR:"<%= month %> <%= year %>",MONTH_S:"MM",DAY_S:"DD",YEAR_S:"YYYY",SUNDAY_S:"Sunday",MONDAY_S:"Monday",TUESDAY_S:"Tuesday",WEDNESDAY_S:"Wednesday",THURSDAY_S:"Thursday",FRIDAY_S:"Friday",SATURDAY_S:"Saturday",UNSHARE:"Unshare",UNSHARED_STRING:"Unshared",UNSHARE_FILE:"Unshare File",DELETE_SHARED_FILE:"Delete Shared File",HISTORY:"History",FORWARD:"Forward",COPYLINK:"Copy Shared Link",SAVE_A_COPY:"Save A Copy",RHP:"RHP",SIGN:"Sign",AGREEMENT:"Agreement",VIEW_SIGN:"View & Sign",VIEW_SIGN_LABEL:"View & Sign this agreement",APRROVE:"Approve",VIEW_APRROVE:"View & Approve",VIEW_APRROVE_LABEL:"View & Approve this agreement",DELEGATE:"Delegate",VIEW_DELEGATE:"View & Delegate",VIEW_DELEGATE_LABEL:"View & Delegate this agreement",ACKNOWLEDGE:"Acknowledge",VIEW_ACKNOWLEDGE:"View & Acknowledge",VIEW_ACKNOWLEDGE_LABEL:"View & Acknowledge this agreement",ACCEPT:"Accept",VIEW_ACCEPT:"View & Accept",VIEW_ACCEPT_LABEL:"View & Accept this agreement",FILL_FORM:"Fill Form",VIEW_FILL_FORM:"View & Fill Form",VIEW_FILL_FORM_LABEL:"View & Fill this agreement",DUE:"Due",CREATED:"Created",DRAFT:"Draft",REPORT_ABUSE_TOOLTIP:"Report abusive or harmful content to Adobe",DOWNLOAD_FILE_TOOLTIP:"Download file",COPY_SHARED_FILE_TOOLTIP:"Copy shared file link",SAVE_LINK_IN_DC_TOOLTIP:"Add file link to Adobe's cloud storage",REMOVE_LINK_FROM_DC_TOOLTIP:"Remove file link from Document Cloud",DELETE_PARCEL_TOOLTIP:"Delete shared file from Document Cloud",UNSHARE_FILES_TOOLTIP:"Stop sharing files with others",UNSHARE_FILE_TOOLTIP:"Stop sharing file with others",ACTIVITY_TOOLTIP:"View activity for shared file",WAITING_FOR_YOU:"Waiting for you",SIGNED:"Signed",COMPLETED:"Completed",WAITING:"Waiting",CANCELLED:"Cancelled",EXPIRED:"Expired",APPROVED:"Approved",DELIVERED:"Delivered",ACCEPTED:"Accepted",FORM_FILLED:"Form filled",CC:"CC-ed",DRAFT:"Draft",SIGNED_C:"SIGNED",INITIATOR:"OWNER",REPLACE:"Replace",ACTIVITY:"Activity",REMINDERS:"Reminders",AUDIT_REPORT:"Audit Report",ADD:"Add",DIMMED:"Dimmed",CANCEL:"Cancel",SEE_ALL:"See All",EDIT:"Edit",SEE_LESS:"See Less",ANONYMOUS:"Anonymous",REMIND_CAPTION_NEXT:"Send a reminder to the next signer:",REMIND_CAPTION_ALL:"Remind All Pending Signers",REMIND_PLACEHOLDER_NOTE_INITIAL:"The document",REMIND_PLACEHOLDER_NOTE_LATER:"is waiting for you to sign.",REMIND_PLACEHOLDER_NOTE_GENERIC:"Please add comments and complete this document.",REMINDER_SENT_SUCCESSFUL:"Your reminder has been sent.",REMINDER_SENT_UNSUCCESUL:"Failed to Send Reminder.Please Try Again",CANCEL_AGREEMENT:"Cancel Agreement",CANCEL_AGREEMENT_PLACEHOLDER:"Enter a reason for cancelling this agreement. (All those notified will receive this).",CANCEL_NOTIFY:"Notify participants via email",CANCEL_SUCCESSFUL:"Your document has been cancelled.",PROTECTED_DATA:"Protected data",ES_SESSION_SIGNIN_PROMPT:"To help protect your sign agreements, you'll need to sign in again.",COPY_REVIEW_LINK:"Copy Shared Link",DOWNLOAD_A_COPY:"Download a copy",CLOSE_REVIEW:"Close Shared document",UNSHARE_REVIEW:"Unshare File",DELETE_REVIEW:"Delete Shared File",REMOVE_ME:"Remove Me",REMOVE_FROM_RECENT:"Remove From Recent",REVIEWERS:"Reviewers",REVIEWER:"Reviewer",REVIEWED:"REVIEWED",NOT_REVIEWED:"NOT REVIEWED",OPENED:"OPENED",NOT_OPENED:"NOT OPENED",REMOVE_FROM_TRACKING:"Remove from Tracking",PARTICIPANTS:"People",PARTICIPANT:"Person",COMMENTED:"<%= num %> of <%= total %>Commented",ANY_TIME:"Any Time",ANY_STATUS:"Any Status",ANY_STATE:"Any State",HOUR:"Hours",MINUTES:"Minutes",PAST_HOUR:"Past Hour",PAST_24_HOURs:"Past 24 Hours",PAST_WEEK:"Past Week",PAST_MONTH:"Past Month",PAST_YEAR:"Past Year",CUSTOM_RANGE:"Custom Range",NOT_SIGNED:"NOT SIGNED",COMPLETE:"Complete",NOT_SIGNED_S:"Not Signed",NOT_APPROVED:"Not Approved",NOT_ACCEPTED:"Not Accepted",DELEGATED:"Delegated",NOT_DELEGATED:"Not Delegated",FORM_FILLED:"Form Filled",NOT_FORM_FILLED:"Not Filled",ACKNOWLEDGED:"Acnowledged",NOT_ACKNOWLEDGED:"Not Acnowledged",LAST_COMMENTED:"Last commented",GUEST:"GUEST",SENDER_UC:"SENDER",OWNER_UC:"OWNER",VIEWED_UC:"VIEWED",NOT_VIEWED_UC:"NOT VIEWED",SIGN_IN:"Sign In",FILTER_TOOL_TIP:"Filter",SHARE_TOOL_TIP:"Share file",COMMENT_TOOL_TIP:"Add comments with highlights, sticky notes, and markup tools",UPLOAD_FILE_TOOL_TIP:"Upload a file to Document Cloud",CREATE_PDF_TOOL_TIP:"Create a PDF from any format",EXPORT_PDF_TOOL_TIP:"Convert PDFs to Word, Excel, PowerPoint and more",COMBINE_FILES_TOOL_TIP:"Combine and arrange files into a single PDF",ORGANIZE_PAGES_TOOL_TIP:"Delete, insert, extract, or rotate pages",SEND_FOR_REVIEW_TOOL_TIP:"Send to others for review and track results",SEND_FOR_SIGNATURE_TOOL_TIP:"Get signatures from others and track results",FILL_SIGN_TOOL_TIP:"Fill and sign documents and forms electronically",CREATE_TEMPLATE_TOOL_TIP:"Create a reusable template for documents and forms",REMOVE_FROM_RECENT_TOOL_TIP:"Remove file from recent list",RENAME_TOOL_TIP:"Rename file",MOVE_TOOL_TIP:"Move file to a different folder",MOVE_FILES_TOOL_TIP:"Move files to a different folder",DOWNLOAD_TOOL_TIP:"Download file",FORWARD_TOOL_TIP:"Forward file to others",DELETE_TOOL_TIP:"Permanently delete file",DELETE_FILES_TOOL_TIP:"Permanently delete files",HISTORY_TOOL_TIP:"History",UNSHARE_TOOL_TIP:"Stop sharing file with others",LIST_OF_OPENERS_TOOL_TIP:"List of people who have opened file",LIST_OF_REVIEWERS_TOOL_TIP:"List of people",LIST_OF_SIGNERS_TOOL_TIP:"List of Signers",SIGNATURE_ACTIVITY_TOOL_TIP:"Signature Activity",REMINDERS_TOOL_TIP:"Reminders",COPY_LINK_TOOL_TIP:"Copy Link",PRINT_TOOL_TIP:"Print file",EDIT_PDF_TOOL_TIP:"Edit text and images in PDF files",SEND_AND_TRACK_TOOL_TIP:"Send documents; track views and downloads",STAMP_TOOL_TIP:'Add stamps such as "approved" or "draft"',MEASURE_TOOL_TIP:"Measure distance, area, and perimeter of objects",CERTIFICATES_TOOL_TIP:"Digitally sign or certify documents and validate authenticity",REDACT_TOOL_TIP:"Permanently delete sensitive text, graphics, or hidden data",PROTECT_TOOL_TIP:"Prevent others from copying, printing, and editing the information in PDFs",SEND_FOR_COMMENTS_TOOL_TIP:"Automatically collect comments from reviewers in a single PDF",OF:"of",OPENED_S:"Opened",SENT:"Sent",RECEIVED:"Received",SHARED_FILE:"SHARED FILE",SHARED_FILES:"SHARED FILES",SIGN_AGREEMENT:"SIGN AGREEMENT",REVIEW_FILE:"REVIEW FILE",SHARED:"SHARED",REVIEW:"REVIEW",SORT_BY:"SORT BY",NAME_S:"Name",SENT_RECIEVED_S:"Date Sent/Recieved",SENDER_S:"Sender",STATUS_S:"Status",LAST_ACTIVITY_S:"Date Last Activity",INITIATOR_S:"Owner",OWNER_S:"Owner",SAVE_LINK_IN_DC:"Save Link in Adobe's cloud storage",REMOVE_LINK_FROM_DC:"Remove Link from Document Cloud",ADDED_RECIPIENT_NO_COUNT:"ADDED RECIPIENTS",GENERIC_ARIA_LABEL_STRING:"<%= prefix %>. <%= suffix %>",SHARE_REMOVE:"Remove File",SHARE_EMAIL_REMOVE:"Remove e-mail",ENTER_EMAIL_ADDR:"Enter name or email",ADD_REVIEWERS:"Add People",ADD_RECIPIENTS:"Add recipients",REVIEWER_ADD:"Add",ADDRESS_BOOK:"Address Book",REVIEWERS_ADDED_SUCCESSFULLY_TOAST:"Invited new people.",REVIEWER_ADDED_SUCCESSFULLY_TOAST:"Invited a new person.",REVIEWER_ADDED_FAILED_TOAST:"People could not be invited. Please add after some time.",RECIPIENTS_ADDED_SUCCESSFULLY_TOAST:"Invitations sent.",RECIPIENT_ADDED_SUCCESSFULLY_TOAST:"Invitation sent.",RECIPIENT_ADDED_FAILED_TOAST:"People couldn't be added, try again later.",COPIED_STRING:"Copied",N_RECIPIENTS:"<%= num %> People",N_RECIPIENT:"<%= num %> Person",LAST_VIEWED_DATE:"Last viewed <%= date %>",LAST_ACCESSED_ON:"Last accessed on",LAST_ACCESSED:"Last accessed",LAST_COMMENTED_ON:"Last commented on",FINISHED_REVIEWING:"Finished Commenting",COPY_REVIEW_LINK_T:"Copy file link to clipboard",DOWNLOAD_A_COPY_T:"Download a copy of this shared file",CLOSE_REVIEW_T:"Close shared document and lock comments",UNSHARE_REVIEW_T:"Stop sharing file with others",DELETE_REVIEW_T:"Delete shared file from Document Cloud",REMOVE_ME_T:"Remove yourself from the shared file",REPORT_ABUSE_T:"Report abusive or harmful content to Adobe",VIRGO_RHP_STATUS_VIEWED:"viewed",COPY_REVIEW_LINK_COACHMARK:"Copy the link and share with others.",ADD_REVIEWER_COACHMARK:"You can add more people here.",BUTTON:"Button",GET_MS_GRAPH_CONTACTS_MSG:"Sign in with your Office account to access Outlook contacts.",GET_MS_GRAPH_CONTACTS_MSG_1:"Sign in with your ",GET_MS_GRAPH_CONTACTS_MSG_2:" account to access ",GET_MS_GRAPH_CONTACTS_MSG_3:" contacts.",CONFIRM_UNSHARE_MSG_ONE_ITEM:"If you unshare this file, people won’t be able to access it anymore. You can share it again later.",CONFIRM_REMOVE_TITLE:"Delete shared file",CONFIRM_REMOVE_BUTTON:"Delete file",CONFIRM_DELETE_MSG_ONE_ITEM_SHARED:"Deleting this shared file will permanently remove it from Document Cloud. This can’t be undone.",NO_FILES_TITLE:"No Files",NO_FILES_MESSAGE:"There are no files available to download. The files may have been deleted.",SHARE_INITIAL_SUBJECT:"Shared Files",DELETE_REVIEW_MESSAGE:"Deleting this shared file will permanently remove it and all associated comments from Document Cloud for all participants. This can't be undone.",DUE_BY:"Due by",OPEN_UNSHARED_OR_DELETED_FILE_ERROR_TITLE_RECEPIENT:"Shared file not available",OPEN_UNSHARED_OR_DELETED_FILE_ERROR_MSG_RECEPIENT:"This file has been unshared or deleted. Contact the owner for more information.",OPEN_UNSHARED_OR_DELETED_FILE_ERROR_BUTTON_RECEPIENT:"OK",CONFIRM_UNSHARE_TITLE:"Unshare file",CONFIRM_UNSHARE_MSG:"If you unshare this file, recipients won't be able to access it.",CONFIRM_UNSHARE_BUTTON:"Unshare",CONFIRM_DELETE_FILE_TITLE:"Delete file",CONFIRM_DELETE_FILE_MSG:'Are you sure you want to delete "<%= filename %>"?',CONFIRM_DELETE_FILE_BUTTON:"Delete",CONFIRM_DELETE_SHARED_FILE_TITLE_NO_COPY_MODEL:"Delete shared file",CONFIRM_DELETE_SHARED_FILE_MSG_NO_COPY_MODEL:"You and the people you shared this file with won't be able to access it once it has been deleted. The file will be permanently deleted and this action can't be undone.",CONFIRM_DELETE_SHARED_FILE_BUTTON_NO_COPY_MODEL:"Delete anyway",CONFIRM_DELETE_SHARED_FILE_TITLE_COPY_MODEL:"Delete shared file",CONFIRM_DELETE_SHARED_FILE_MSG_COPY_MODEL:"You and the people you shared this file with won't be able to access it once it has been deleted. The file will be permanently deleted and this action can't be undone.",CONFIRM_DELETE_SHARED_FILE_BUTTON_COPY_MODEL:"Delete anyway",CONFIRM_DELETE_N_FILES_TITLE:"Delete files",CONFIRM_DELETE_N_FILES_MSG:"One or more selected files have been shared. If you delete these files, both you and recipients will no longer be able to access them.",CONFIRM_DELETE_N_FILES_BUTTON:"Delete anyway",CONFIRM_UNSHARE_FAILURE_OWNER_TITLE:"Unshare error",CONFIRM_UNSHARE_FAILURE_OWNER_MSG:"If you continue to unshare this file, the comments will be lost. You can unshare anyway, or try again later.",CONFIRM_UNSHARE_FAILURE_OWNER_BUTTON:"Unshare anyway",DATE_MODIFIED_CAPS:"DATE MODIFIED",SAVE_COPY_TOOLTIP:"Save a copy of file",CREATE_LINK_SECURITY_INFO:"Anyone with the link can access the file.",DELETED_STRING:"Deleted",BOOTSTRAP_FAIL_MSG:"We can't display information for this file at this time. Please try again later.",COPY_SHARED_LINK_FAILED_SHARING_RESTRICTION:"Unable to copy shared link. Your organization has enabled sharing restrictions.",PARTIAL_RECIPIENTS_FAILED_SHARING_RESTRICTION_MY_ORG:"Some people can't be invited because your organization has enabled sharing restrictions.",PARTIAL_RECIPIENTS_FAILED_SHARING_RESTRICTION_RECIPIENT_ORG:"Some people can't be invited because their organization has enabled sharing restrictions.",COPY_SHARED_LINK_FAILED_GENERIC:"Unable to create shared link. Please try again later.",PARTIAL_RECIPIENTS_FAILED_GENERIC:"Some people couldn't be invited",UNOPENED:"Unopened",AV2_COPY_REVIEW_LINK:"Copy shared link",AV2_UNSHARE_REVIEW:"Unshare file",AV2_REMOVE_ME:"Remove me",AV2_REPORT_ABUSE:"Report abuse",AV2_SAVE_A_COPY:"Save a copy",AV2_CLOSE_REVIEW:"Close shared document",AV2_N_RECIPIENTS:"<%= num %> people",AV2_ADD_REVIEWERS:"Add people",AV2_CANCEL_AGREEMENT:"Cancel agreement",AV2_AUDIT_REPORT:"Audit report",EXPORT_BUTTON:"Convert to",DROPDOWN_DOCX:"Microsoft Word (*.docx)",DROPDOWN_DOC:"Microsoft Word (*.doc)",DROPDOWN_PPTX:"Microsoft PowerPoint (*.pptx)",DROPDOWN_XLSX:"Microsoft Excel (*.xlsx)",DROPDOWN_RTF:"Rich Text Format (*.rtf)",DROPDOWN_JPEG:"JPEG (*.jpg)",DROPDOWN_TIFF:"TIFF (*.tiff)",DROPDOWN_PNG:"PNG (*.png)",AV2_SEND_FOR_SIGNATURE_PDF:"Request e-signatures",AV2_EDIT_PDF:"Edit text & images",AV2_COMMENT_PDF:"Add comments",AV2_ORGANIZE_PDF:"Organize pages",AV2_REMOVE_FROM_RECENT:"Remove from recent",AV2_EXPORT_PDF:"Export a PDF",AV2_COMBINECONVERT_PDF:"Convert to PDF",AV2_CREATE_PDF:"Create a PDF",AV2_SEND_FOR_SIGNATURE_VIRGO_TOOLTIP:"Send a document to anyone to e-sign online fast",AV2_EDIT_VIRGO_TOOLTIP:"Modify or add text, images, pages, and more",AV2_COMMENT_VIRGO_TOOLTIP:"Add sticky notes, highlights, and other annotations",AV2_FILL_SIGN_FILE_VIRGO_TOOLTIP:"Fill in forms, add your signature, or send to others for e-signing",AV2_ORGANIZE_VIRGO_TOOLTIP:"Delete, rotate, extract, insert, or reorder pages",AV2_EXPORT_PDF_VIRGO_TOOLTIP:"Convert PDFs to Microsoft Office files, images, and more",AV2_SHARE_VIRGO_TOOLTIP:"Send a file to others for commenting or viewing",AV2_EXPORT_FILE_VIRGO_TOOLTIP:"Convert PDFs to Microsoft Office files, images, and more",AV2_CREATE_PDF_TOOLTIP:"Create PDFs from images, Microsoft Office files, and more",AV2_COMBINECONVERT_PDF_TOOLTIP:"Turn almost any file into a PDF",AV2_USE_TEMPLATE:"Use Template",AV2_CREATE_TEMPLATE:"Create a template",CREATE_LINK_ORG_SECURITY_INFO:"Anyone in <%= ORGNAME %> with the link can access the file.",CREATE_LINK_PRIV_SECURITY_INFO:"Only invited people can access the file."}),define("core/dev/utils/num-util",["core/ac-core","i18n!core/nls/ui-strings"],function(e,t){var n=9007199254740992,r=2147483647,i=1024,s=i*i,o=i*s,u=0,a=i,f=999.5*i-1,l=1.05*s-1,c=9.95*s-1,h=999.5*s-1,p=1.05*o-1,d=_.template(t.KB),v=_.template(t.MB),m=_.template(t.GB);return e.NumUtil={MAX_INT:n,MAX_INT32:r,KB:i,MB:s,GB:o,localizeDecimalPoint:function(e){return e.replace(/\./g,t.DECIMAL_SEPARATOR)},formatWithThousandsSeparator:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t.THOUSANDS_SEPARATOR)},formatSize:function(e){var t;return e>p?t=m({num:(e/o).toFixed(0)}):e>h?t=m({num:1}):e>c?t=v({num:(e/s).toFixed(0)}):e>l?t=v({num:(e/s).toFixed(1)}):e>f?t=v({num:1}):e>a?t=d({num:Math.ceil(e/i).toFixed(0)}):t=d({num:e>u?1:0}),this.formatWithThousandsSeparator(this.localizeDecimalPoint(t))},removeNonNumerics:function(e){var t="",n,r=e.length,i;for(n=0;n<r;n+=1)i=e.charCodeAt(n),i>=48&&i<=57&&(t+=String.fromCharCode(i));return t},pad:function(e,t,n){var r=e.toString(),i="0";n&&n.pad&&(i=n.pad);while(r.length<t)r=i+r;return r},padSpace:function(e,t){return this.pad(e,t,{pad:" "})}},e.NumUtil}),define("core/dev/utils/crypto-util",["core/ac-core","core/utils/num-util"],function(e,t){return e.CryptoUtil={getSha256:function(e){return $.sha256?$.sha256(e):""},getRandomString:function(e){var n=(new Date).toString()+_.random(t.MAX_INT);return this.getSha256(n).substr(0,e||32)}},e.CryptoUtil}),define("core/dev/utils/http-util",["core/ac-core","core/utils/ajax-util","core/utils/crypto-util"],function(e,t,n){var r="application/vnd.adobe.skybox+json;version=<%= version %>",i="application/vnd.adobe.skybox+json;version=<%= version %>;charset=utf-8",s="application/vnd.adobe.dex+json;version=<%= version %>",o="application/vnd.adobe.dex+json;version=<%= version %>;charset=utf-8",u={},a={},f={},l={},c;return e.HttpUtil={REQUEST_HEADER_CLIENT_ID:"api_browser",setSessionAttrs:function(e,t){var n=_.pick(t,"primary_token","expiration_time","expiration_time_utc");e.set(n),c=n},updateAccessTokenForSessionAttr:function(e){e&&e.appApi&&e.appApi.sessionApi&&(c.primary_token=e.appApi.sessionApi.getPrimaryToken())},clearSessionAttrs:function(e){e&&e.unset("primary_token"),c=undefined},getRequestHeaders:function(t,r,i){var s,o,u,a,f,l,h;i?(r=r||{},r.isAicRequest=i):i=r&&r.isAicRequest;if(t==="GET"||t==="DELETE")s=i?this.getAicRequestHeadersGetDelete(r):this.getBhRequestHeadersGetDelete(r);else if(t==="POST"||t==="PUT")s=i?this.getAicRequestHeadersPostPut(r):this.getBhRequestHeadersPostPut(r);return r&&(u=r.excludeAccessToken,a=r.excludeClientId,f=r.includeCsrf,l=r.etag,h=r.useProvidedAccessToken),a||(s["x-api-client-id"]=this.REQUEST_HEADER_CLIENT_ID),o=c?c.primary_token:undefined,h&&(o=h),o&&!u&&(s.Authorization="Bearer "+o),f&&(s["x-csrftoken"]=e.Util.getCookie("csrftoken")),l&&(s["If-None-Match"]=l),i&&(s["x-request-id"]=n.getRandomString(32)),s},getRequestHeadersNoClientId:function(e,t,n){return this.getRequestHeaders(e,_.extend({},t,{excludeClientId:!0}),n)},getBhRequestHeadersGetDelete:function(e){var t;return e&&(t=e.bhAcceptVersion),t=t||1,{Accept:this.getBhRequestHeaderAccept(t)}},getBhRequestHeadersPostPut:function(e){var t,n;return e&&(t=e.bhAcceptVersion,n=e.bhContentTypeVersion),t=t||1,n=n||1,{Accept:this.getBhRequestHeaderAccept(t),"Content-Type":this.getBhRequestHeaderContentType(n)}},getBhRequestHeaderAccept:function(e){return this._getRenderedHeaderTemplate(r,e,u)},getBhRequestHeaderContentType:function(e){return this._getRenderedHeaderTemplate(i,e,a)},getAicRequestHeadersGetDelete:function(e){var t;return e&&(t=e.aicAcceptVersion),t=t||1,{Accept:this.getAicRequestHeaderAccept(t)}},getAicRequestHeadersPostPut:function(e){var t,n;return e&&(t=e.aicAcceptVersion,n=e.aicContentTypeVersion),t=t||1,n=n||1,{Accept:this.getAicRequestHeaderAccept(t),"Content-Type":this.getAicRequestHeaderContentType(n)}},getAicRequestHeaderAccept:function(e){return this._getRenderedHeaderTemplate(s,e,f)},getAicRequestHeaderContentType:function(e){return this._getRenderedHeaderTemplate(o,e,l)},getUSSRequestHeaders:function(e){var t={"x-api-key":"AdobeAcrobat9","x-product":"acrobat.adobe.com","x-product-location":"uss search input","Content-Type":"application/vnd.adobe.search-request+json"};return c&&c.primary_token&&(t.Authorization="Bearer "+c.primary_token),t},getSignRequestHeaders:function(e){var t={"x-api-client-id":this.REQUEST_HEADER_CLIENT_ID};return t},addRequestHeaders:function(e,t,n){var r=this.getRequestHeaders(e,t,n);return t=_.extend({},t),_.extend(t,{headers:r})},customizeOptions:function(e,n,r){return n=this.addRequestHeaders(e,n,r),_.extend(n,{throttleOn:!0,beforeSend:t.beforeSend,complete:t.complete})},getClientIdQueryParam:function(){return"x-api-client-id="+this.REQUEST_HEADER_CLIENT_ID},getSophiaClientIdQueryParam:function(){return"adcXAPIClientID="+this.REQUEST_HEADER_CLIENT_ID},_getRenderedHeaderTemplate:function(e,t,n){var r="v"+t,i;return i=n[r],i||(i=n[r]=_.template(e,{version:t})),i}},e.HttpUtil}),define("core/dev/models/model",["core/ac-core","core/utils/http-util"],function(e,t){return e.Model=Backbone.Model.extend({initialize:function(){Backbone.Model.prototype.initialize.call(this),this.idAttribute="id"},fetch:function(e){return Backbone.Model.prototype.fetch.call(this,this.customizeOptions("GET",e))},save:function(e,t,n){var r=Backbone.Model.prototype.save,i;return!e||_.isObject(e)?i=r.call(this,e,this.customizeOptions("POST",t)):i=r.call(this,e,t,this.customizeOptions("POST",n)),i},destroy:function(e){return Backbone.Model.prototype.destroy.call(this,this.customizeOptions("DELETE",e))},customizeOptions:function(e,n){return t.customizeOptions(e,_.extend({},n,{excludeClientId:!1}))},_getClientIdQueryParam:function(){return t.getClientIdQueryParam()}}),e.Model}),define("aicx/dev/models/aicx-model",["core/ac-core","aicx/ac-aicx","core/utils/http-util","core/models/model"],function(e,t,n){t.AicxModel=e.Model.extend({customizeOptions:function(e,t){return n.customizeOptions(e,t,!0)}})}),define("aicx/dev/models/base-aic-uris-model",["aicx/ac-aicx","core/utils/util","aicx/models/aicx-model"],function(e,t){return e.BaseAicUrisModel=e.AicxModel.extend({url:function(){var n="";return t.isCEF()?n=e.getBaseAicUrl()+"createpdf/api/base_uris":n=Ac.Aicx.baseCpdfUri+"base_uris",Ac.config.isUserMigratedToACP&&(n+="?force=true"),n}}),e.BaseAicUrisModel}),define("aicx/dev/models/users-me-identity-model",["aicx/ac-aicx","aicx/models/aicx-model"],function(e){return e.UsersMeIdentityModel=e.AicxModel.extend({url:function(){return e.baseAicUrisModel.get("users")+"users/me/identity"}}),e.UsersMeIdentityModel}),define("aicx/dev/models/users-me-limits-conversions-model",["aicx/ac-aicx","aicx/models/aicx-model"],function(e){return e.UsersMeLimitsConversionsModel=e.AicxModel.extend({url:function(){return e.baseAicUrisModel.get("users")+"users/me/limits/conversions"}}),e.UsersMeLimitsConversionsModel}),define("aicx/dev/models/users-me-limits-model",["aicx/ac-aicx","aicx/models/aicx-model"],function(e){return e.UsersMeLimitsModel=e.AicxModel.extend({initialize:function(t,n){e.AicxModel.prototype.initialize.call(this),this._category=n.category},url:function(){return e.baseAicUrisModel.get("users")+"users/me/limits/"+this._category}}),e.UsersMeLimitsModel}),define("aicx/dev/models/users-me-model",["aicx/ac-aicx","core/utils/util","aicx/models/aicx-model"],function(e,t){return e.UsersMeModel=e.AicxModel.extend({url:function(){var n=e.baseAicUrisModel.get("users")+"users/me"+"?fields=identity,subscriptions,"+"limits/acrobat,"+"limits/common,"+"limits/conversions,"+"limits/esign,"+"limits/fillsign,"+"limits/send,"+"prefs/comments,"+"prefs/common,"+"prefs/conversions,"+"prefs/files,"+"prefs/fillsign,"+"prefs/send";return t.isCEF()||(n+=",prefs/rfe"),n}}),e.UsersMeModel}),define("aicx/dev/models/users-me-prefs-conversions-model",["aicx/ac-aicx","aicx/models/aicx-model"],function(e){return e.UsersMePrefsConversionsModel=e.AicxModel.extend({url:function(){return""}}),e.UsersMePrefsConversionsModel}),define("aicx/dev/models/users-me-prefs-model",["aicx/ac-aicx","aicx/models/aicx-model"],function(e){return e.UsersMePrefsModel=e.AicxModel.extend({initialize:function(t,n){e.AicxModel.prototype.initialize.call(this),this._category=n.category},url:function(){return e.baseAicUrisModel.get("users")+"users/me/prefs/"+this._category}}),e.UsersMePrefsModel}),define("aicx/dev/models/users-me-subscriptions-model",["aicx/ac-aicx","aicx/models/aicx-model"],function(e){return e.UsersMeSubscriptionsModel=e.AicxModel.extend({url:function(){return e.baseAicUrisModel.get("users")+"users/me/subscriptions"}}),e.UsersMeSubscriptionsModel}),define("aicx/dev/models/model-factory",["core/ac-core","aicx/ac-aicx","core/models/model","aicx/models/base-aic-uris-model","aicx/models/users-me-identity-model","aicx/models/users-me-limits-conversions-model","aicx/models/users-me-limits-model","aicx/models/users-me-model","aicx/models/users-me-prefs-conversions-model","aicx/models/users-me-prefs-model","aicx/models/users-me-subscriptions-model"],function(e,t){return t.ModelFactory=e.Model.extend({create:function(e,n,r){var i=t[e];if(!!i)return new i(n,r);LOG(0,"AcAicx.ModelFactory.create: Unrecognized class: "+e)}}),t.ModelFactory}),define("core/dev/utils/cache-network-call-util",["core/ac-core"],function(e){var t={};try{var n=window.btoa("acrobat.com");t[n]=!0,n=window.btoa("adobe.io"),t[n]=!0,n=window.btoa("acrocomcontent.com"),t[n]=!0,n=window.btoa("adobelogin.com"),t[n]=!0}catch(r){}return e.CacheNetworkCallUtil={checkIfLocalStorageIsAvailable:function(){try{var e="test",t="testKey";return window.localStorage.setItem(t,e),window.localStorage.removeItem(t),!0}catch(n){return console.log("Storage not available"),!1}},setCacheInLocalStorage:function(e,t,n,r){if(this.checkIfLocalStorageIsAvailable()===!1)return!1;var i;try{i=window.btoa(e),localStorage.getItem(i)&&localStorage.removeItem(i)}catch(s){}var o={};o.StatusCode=t;var u=n;if(u&&u.search("max-age=")===-1)return!1;var a=u.split("max-age=");u=a[1],a=u.split(","),u=a[0],o.ExpiresAt=Math.round(new Date/1e3)+parseInt(u),o.Endpoints=r;var f;try{f=window.btoa(JSON.stringify(o)),localStorage.setItem(i,f)}catch(s){return console.log("Caching in localstorage failed"),!1}return!0},setCacheInLocalStorageIfDcApiUnsupported:function(e,t){if(this.checkIfLocalStorageIsAvailable()===!1)return!1;var n;try{n=window.btoa(e),localStorage.getItem(n)&&localStorage.removeItem(n)}catch(r){}var i={};i.StatusCode=t;var s;try{s=window.btoa(JSON.stringify(i)),localStorage.setItem(n,s)}catch(r){return console.log("Caching in localstorage failed"),!1}return!0},getCacheFromLocalStorage:function(e){var t,n,r=!1,i=!1;if(this.checkIfLocalStorageIsAvailable()===!1)return{isLocalStorageAvailable:i};i=!0;var s,o;try{o=window.btoa(e),s=localStorage.getItem(o)}catch(u){return console.log("Couldn't fetch cache from localStorage"),{isLocalStorageAvailable:i,fetchedFromCache:r}}if(s){const a=(new TextEncoder).encode(s).length,f=a/1024;if(f>10)return{isLocalStorageAvailable:i,fetchedFromCache:r};var l;try{l=window.atob(s)}catch(u){return{isLocalStorageAvailable:i,fetchedFromCache:r}}var c;try{c=JSON.parse(l)}catch(u){return{isLocalStorageAvailable:i,fetchedFromCache:r}}if(this.performEndpointValidation(c.Endpoints)===!1)return{isLocalStorageAvailable:i,fetchedFromCache:r};t=c.StatusCode;if(t===410)r=!0,n=null;else if(t===200)if(c.ExpiresAt>Math.round(new Date/1e3)&&c.ExpiresAt<Math.round(new Date/1e3)+2592e3)r=!0,n=c.Endpoints;else try{localStorage.removeItem(o)}catch(u){console.log("Couldn't remove cache from localStorage")}else try{localStorage.removeItem(o)}catch(u){console.log("Couldn't remove cache from localStorage")}}return{isLocalStorageAvailable:i,fetchedFromCache:r,status:t,endPoints:n}},performEndpointValidation:function(e){var n=!0;const r=Object.values(e);for(var i=0;i<r.length;i++){var s=r[i].indexOf("://"),o=r[i].substr(0,s);if(o!=="https"){n=!1;break}var u=r[i].substr(s+3);s=u.indexOf("/"),u=u.substr(0,s);var a=u.split("."),f=a[a.length-2]+"."+a[a.length-1];try{u=window.btoa(f)}catch(l){}if(t[u]!==!0){n=!1;break}}return n},purgeCacheIfSignInChange:function(e){var t=!0;try{var n=window.btoa(e);localStorage.removeItem(n)}catch(r){t=!1,console.log("Couldn't remove cache from localStorage")}return t}},e.CacheNetworkCallUtil}),define("plugins-common/dev/ac-plugins",["underscore"],function(e){var t=Ac.Plugins;return t||(t=Ac.Plugins={}),e.extend(t,{ACROBAT:"acrobat",CONVERTPDF:"convertpdf",CREATEPDF:"createpdf",CREATEPDF_RHP:"createpdf_rhp",DESKTOP_CONNECTOR_FILES:"desktop_connector_files",EXPORTPDF:"exportpdf",CombineConvertPDF:"combineconvertpdf",EXPORTPDF_RHP:"exportpdf_rhp",CombineConvertPDF_RHP:"combineconvertpdf_rhp",FILLSIGN:"fillsign",FILLSIGN_SETTINGS:"fillsign_settings",FORMSCENTRAL:"formscentral",HOME:"home",SAMPLE_FILES:"sample_files",MY_COMPUTER:"my_computer",MY_COMPUTER_SELECT:"my_computer_select",MY_FILES:"my_files",MY_FILES_SELECT:"my_files_select",SCAN_FILES:"scan_files",APP_CENTER:"app_center",MY_RECENT_FILES:"my_recent_files",MY_SHAREPOINT_FILES:"my_sharepoint_files",SEND:"send",OB_PREVIEW:"ob_preview",TOOL_EXAMPLE:"tool_example",DIGSIG:"digsig",UNIFIED_SHARE:"unified_share",ACTIVITY_BADGE:"activity_badge",REVIEWS:"reviews",SIGNATURES:"signatures",SIGN_SERVICES_AUTH:"sign_services_auth",PROTECT_MODAL:"protectmodal",REDACT:"redact",OAUTH_DIALOG:"oauthdialog",CCX:"ccx",MIP:"mip"}),t}),define("core/dev/ops/op",["underscore","core/ac-core","core/utils/util","core/utils/http-util","plugins-common/ac-plugins"],function(e,t,n,r,i){return t.Op=Backbone.View.extend({initialize:function(){Backbone.View.prototype.initialize.call(this),this.cid=e.uniqueId("op"),delete this.options.viewId,delete this.$el,delete this.el,e.bindAll(this)},run:function(){return LOG(0,"AcCore.Op.run must be implemented by sub-class"),undefined},teardown:function(){return undefined},_showModalUi:function(e,t){this.options.appApi.displayApi.showModal(e,t).showSpinner(e)},_getResolvedPromise:function(e){return $.Deferred().resolve().promise(e)},_getRejectedPromise:function(e){return $.Deferred().reject().promise(e)},_getUnresolvedPromise:function(e){return $.Deferred().promise(e)},_logSiteCatalystEvent:function(e){var t=this.options,r=[];if(t.noScAnalytics)return;r=n.addToArray(r,t.scContext),r=n.addToArray(r,this._getSiteCatalystContext()),r=n.addToArray(r,e),t.appApi.siteCatalystApi.logScEvent(r)},_getSiteCatalystContext:function(){return undefined},_logFormScEvent:function(t,n,s){var o=this.options,u,a,f,l=o.appApi,c={},h={};if(o.noScAnalytics)return;n&&(c.featureType=n,h.action=n),t&&(c.sectionName=t,h.category=t),s&&(h.label=s),l.siteCatalystApi.logScEvent([s],c),u=l.pluginsApi.getBaseUrl(i.FILLSIGN)+"/api/event",a="POST",f=e.extend({},r.getRequestHeaders(a),{"Content-Type":"application/json"}),o=e.extend({},o,{type:a,headers:f,dataType:"json",modal:!1,data:JSON.stringify(h)}),l.networkApi.throttledAjax(u,o)}}),t.Op}),define("aicx/dev/ops/getting/getting-base-aic-uris-op",["core/ac-core","aicx/ac-aicx","core/utils/cache-network-call-util","core/ops/op"],function(e,t,n){return t.GettingBaseAicUrisOp=e.Op.extend({run:function(){this.options.appApi.sessionApi.removeSignedInChangeCallback(this.onSignedInChange),this.options.appApi.sessionApi.addSignedInChangeCallback(this.onSignedInChange);var e=t.baseAicUrisModel,r=$.Deferred(),i;return e&&!_.isEmpty(e.attributes)?this._getResolvedPromise(e):(t.baseAicUrisModel=e=this.options.baseAicUrisModel,this.options.appApi.rnaApi.done(_.bind(function(t){var s=n.getCacheFromLocalStorage("Base-Aic-Uris-Cache");s.isLocalStorageAvailable===!0&&s.fetchedFromCache===!0&&(s.status===200?(e.set(s.endPoints),r.resolve()):s.fetchedFromCache=!1);var o=s.fetchedFromCache;o===!1&&t.responseCacheApi.getBaseAicUris().done(function(t){e.set(t),r.resolve()}).fail(function(){i=e.fetch({modal:!1,cache:!1}).done(function(){var s=n.setCacheInLocalStorage("Base-Aic-Uris-Cache",i.status,i.getResponseHeader("cache-control"),i.responseJSON);t.responseCacheApi.setBaseAicUris(e.toJSON()),r.resolve()})})},this)),r)},onSignedInChange:function(e,r){r||(t.baseAicUrisModel&&(t.baseAicUrisModel.attributes={}),this.options.appApi.rnaApi.done(_.bind(function(e){e.responseCacheApi.setBaseAicUris({})},this)),n.purgeCacheIfSignInChange("Base-Aic-Uris-Cache"))}}),t.GettingBaseAicUrisOp}),define("aicx/dev/ops/user/getting-users-me-op",["core/ac-core","aicx/ac-aicx","core/ops/op"],function(e,t){var n=["comments","common","conversions","files","fillsign","rfe","send"],r=["acrobat","common","conversions","esign","fillsign","send"];return t.GettingUsersMeOp=e.Op.extend({run:function(){var e=this.options,t=e.appApi.localeApi,i=e.usersMeIdentityModel,s=e.usersMeModel,o,u,a,f,l=$.Deferred();o=i.get("user_id");var c=e.appApi.rnaApi.done(_.bind(function(e){e.responseCacheApi.getUsersMeLimits().done(function(e){e.identity.display_name=decodeURIComponent(e.identity.display_name),s.set(e),l.resolve(e)}).fail(function(){s.fetch({modal:!1}).done(function(){e.responseCacheApi.setUsersMeLimits(s.toJSON()),l.resolve(s.toJSON())})})},this));return l.then(_.bind(function(s){e.usersMeIdentityModel.set(s.identity),e.usersMeSubscriptionsModel.set("subscriptions",s.subscriptions),e.usersMeLimitsConversionsModel.set(s["limits/conversions"]),e.usersMePrefsConversionsModel.set(s["prefs/conversions"]),_.each(n,_.bind(function(e){this._getPrefsModel(e).set(s["prefs/"+e])},this)),_.each(r,_.bind(function(e){this._getLimitsModel(e).set(s["limits/"+e])},this)),f=_.isString(t.getQueryParamLocale()),u=t.getNormalizedLocale(),a=t.getNormalizedLocale(s.identity.user_lang),!f&&u!==a&&t.setLocale(a),!_.isUndefined(o)&&o!==i.get("user_id")&&e.appApi.routerApi.reloadPage({noDeepLink:!0,reason:"User ID changed"})},this))},_getPrefsModel:function(e){var n=this.options,r=n.prefsModels,i;return r||(r=n.prefsModels={}),i=r[e],i||(i=r[e]=t.modelFactory.create("UsersMePrefsModel",undefined,{category:e})),i},_getLimitsModel:function(e){var n=this.options,r=n.limitsModels,i;return r||(r=n.limitsModels={}),i=r[e],i||(i=r[e]=t.modelFactory.create("UsersMeLimitsModel",undefined,{category:e})),i},_getLimitsResponse:function(){var e=new $.Deferred;return this.options.appApi.rnaApi.done(_.bind(function(t){t.invokeMethod({methodName:"obtainUsersLimitsResponse",methodArgs:""}).done(_.bind(function(t){t.length?e.resolve(t):e.reject()},this))},this)),e.promise()}}),t.GettingUsersMeOp}),define("aicx/dev/ops/user/getting-users-me-limits-op",["core/ac-core","aicx/ac-aicx","core/ops/op"],function(e,t){var n={};return t.GettingUsersMeLimitsOp=e.Op.extend({run:function(e,t){function i(){var t=$.Deferred().resolve(r.attributes).promise();return n[e]=t,t}var r;return r=this.options.limitsModels[e],r?t?r.fetch({modal:!1}).then(function(){return i()}):n[e]||i():(LOG("AcAicx.GettingUsersMeLimitsOp.run: Unrecognized preferences category: "+e),this._getResolvedPromise())}}),t.GettingUsersMeLimitsOp}),define("aicx/dev/ops/user/getting-users-me-prefs-op",["core/ac-core","aicx/ac-aicx","core/ops/op"],function(e,t){var n={};return t.GettingUsersMePrefsOp=e.Op.extend({run:function(e,t){function i(){var t=$.Deferred().resolve(r.attributes).promise();return n[e]=t,t}var r;return r=this.options.prefsModels[e],r?t?r.fetch({modal:!1}).then(function(){return i()}):n[e]||i():(LOG("AcAicx.GettingUsersMePrefsOp.run: Unrecognized preferences category: "+e),this._getResolvedPromise())}}),t.GettingUsersMePrefsOp}),define("aicx/dev/ops/user/setting-users-me-prefs-op",["core/ac-core","aicx/ac-aicx","core/ops/op"],function(e,t){return t.SettingUsersMePrefsOp=e.Op.extend({run:function(e,t){var n=this.options.prefsModels[e];return n?(t=_.clone(t),n.clear({silent:!0}),n.set("id","_"),n.save(t,{global:!1}).then(function(){return $.Deferred().resolve(n.attributes).promise()})):(LOG("AcAicx.SettingUsersMePrefsOp.run no model for '"+e+"' category"),this._getRejectedPromise())}}),t.SettingUsersMePrefsOp}),define("aicx/dev/ops/op-factory",["core/ac-core","aicx/ac-aicx","aicx/ops/getting/getting-base-aic-uris-op","aicx/ops/user/getting-users-me-op","aicx/ops/user/getting-users-me-limits-op","aicx/ops/user/getting-users-me-prefs-op","aicx/ops/user/setting-users-me-prefs-op"],function(e,t){return t.OpFactory=e.Op.extend({create:function(e,n){var r=t[e];if(!!r)return new r(n);LOG(0,"AcAicx.OpFactory.create: Unrecognized class: "+e)}}),t.OpFactory}),define("aicx/dev/ac-aicx-init",["aicx/ac-aicx","aicx/models/model-factory","aicx/ops/op-factory"],function(e){return _.extend(e,{modelFactory:new e.ModelFactory,opFactory:new e.OpFactory}),e}),define("aicx/dev/all-modules",["aicx-unmapped/dev/ac-aicx-init","aicx-unmapped/dev/ops/user/getting-users-me-op","aicx-unmapped/dev/ops/user/getting-users-me-limits-op","aicx-unmapped/dev/ops/user/setting-users-me-prefs-op","aicx-unmapped/dev/ops/user/getting-users-me-prefs-op","aicx-unmapped/dev/ops/op-factory","aicx-unmapped/dev/ops/getting/getting-base-aic-uris-op","aicx-unmapped/dev/models/users-me-prefs-conversions-model","aicx-unmapped/dev/models/users-me-model","aicx-unmapped/dev/models/base-aic-uris-model","aicx-unmapped/dev/models/users-me-prefs-model","aicx-unmapped/dev/models/users-me-identity-model","aicx-unmapped/dev/models/aicx-model","aicx-unmapped/dev/models/users-me-subscriptions-model","aicx-unmapped/dev/models/model-factory","aicx-unmapped/dev/models/users-me-limits-model","aicx-unmapped/dev/models/users-me-limits-conversions-model","aicx-unmapped/dev/ac-aicx"],function(){return undefined}),define("app-api/dev/ac-app-api",["require"],function(e){var t,n,r,i,s,o;return i=e.toUrl("core"),s=i.lastIndexOf("/"),o=i.indexOf(".js"),o!==-1?t=i.substr(s+1,o-s-1):t=i.substr(s+1),n=Ac.AppApi,n||(n=Ac.AppApi={}),r=n[t],r||(r=n[t]={}),r.VERSION=t,r}),define("core/dev/utils/app-api-mgr",["core/ac-core"],function(e){var t={},n="dev";return e.AppApiMgr={addAppApi:function(e,n){t[e]=n},hasAppApi:function(e){return!!t[e]},getAppApi:function(e){var r;return e&&(r=t[e],r||LOG("AcCore.AppApiMgr.getAppApi ERROR No App API for version '"+e+"'")),r||(r=t[n]),r},appApisAreReady:function(){_.each(t,function(e){e.appIsReady()})}},e.AppApiMgr}),function(e){function t(e,t,n){switch(arguments.length){case 2:return null!=e?e:t;case 3:return null!=e?e:null!=t?t:n;default:throw new Error("Implement me")}}function n(e,t){return Nt.call(e,t)}function r(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function i(e){bt.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function s(e,t){var n=!0;return h(function(){return n&&(i(e),n=!1),t.apply(this,arguments)},t)}function o(e,t){gn[e]||(i(t),gn[e]=!0)}function u(e,t){return function(n){return v(e.call(this,n),t)}}function a(e,t){return function(n){return this.localeData().ordinal(e.call(this,n),t)}}function f(){}function l(e,t){t!==!1&&M(e),p(this,e),this._d=new Date(+e._d)}function c(e){var t=T(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||0,o=t.day||0,u=t.hour||0,a=t.minute||0,f=t.second||0,l=t.millisecond||0;this._milliseconds=+l+1e3*f+6e4*a+36e5*u,this._days=+o+7*s,this._months=+i+3*r+12*n,this._data={},this._locale=bt.localeData(),this._bubble()}function h(e,t){for(var r in t)n(t,r)&&(e[r]=t[r]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t){var n,r,i;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),Pt.length>0)for(n in Pt)r=Pt[n],i=t[r],"undefined"!=typeof i&&(e[r]=i);return e}function d(e){return 0>e?Math.ceil(e):Math.floor(e)}function v(e,t,n){for(var r=""+Math.abs(e),i=e>=0;r.length<t;)r="0"+r;return(i?n?"+":"":"-")+r}function m(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t- +e.clone().add(n.months,"M"),n}function g(e,t){var n;return t=B(t,e),e.isBefore(t)?n=m(e,t):(n=m(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function y(e,t){return function(n,r){var i,s;return null===r||isNaN(+r)||(o(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),s=n,n=r,r=s),n="string"==typeof n?+n:n,i=bt.duration(n,r),b(this,i,e),this}}function b(e,t,n,r){var i=t._milliseconds,s=t._days,o=t._months;r=null==r?!0:r,i&&e._d.setTime(+e._d+i*n),s&&pt(e,"Date",ht(e,"Date")+s*n),o&&ct(e,ht(e,"Month")+o*n),r&&bt.updateOffset(e,s||o)}function w(e){return"[object Array]"===Object.prototype.toString.call(e)}function E(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function S(e,t,n){var r,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(r=0;i>r;r++)(n&&e[r]!==t[r]||!n&&C(e[r])!==C(t[r]))&&o++;return o+s}function x(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=ln[e]||cn[t]||t}return e}function T(e){var t,r,i={};for(r in e)n(e,r)&&(t=x(r),t&&(i[t]=e[r]));return i}function N(t){var n,r;if(0===t.indexOf("week"))n=7,r="day";else{if(0!==t.indexOf("month"))return;n=12,r="month"}bt[t]=function(i,s){var o,u,a=bt._locale[t],f=[];if("number"==typeof i&&(s=i,i=e),u=function(e){var t=bt().utc().set(r,e);return a.call(bt._locale,t,i||"")},null!=s)return u(s);for(o=0;n>o;o++)f.push(u(o));return f}}function C(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function k(e,t){return(new Date(Date.UTC(e,t+1,0))).getUTCDate()}function L(e,t,n){return ut(bt([e,11,31+t-n]),t,n).week}function A(e){return O(e)?366:365}function O(e){return e%4===0&&e%100!==0||e%400===0}function M(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[kt]<0||e._a[kt]>11?kt:e._a[Lt]<1||e._a[Lt]>k(e._a[Ct],e._a[kt])?Lt:e._a[At]<0||e._a[At]>23?At:e._a[Ot]<0||e._a[Ot]>59?Ot:e._a[Mt]<0||e._a[Mt]>59?Mt:e._a[_t]<0||e._a[_t]>999?_t:-1,e._pf._overflowDayOfYear&&(Ct>t||t>Lt)&&(t=Lt),e._pf.overflow=t)}function _(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function D(e){return e?e.toLowerCase().replace("_","-"):e}function P(e){for(var t,n,r,i,s=0;s<e.length;){for(i=D(e[s]).split("-"),t=i.length,n=D(e[s+1]),n=n?n.split("-"):null;t>0;){if(r=H(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&S(i,n,!0)>=t-1)break;t--}s++}return null}function H(e){var t=null;if(!Dt[e]&&Ht)try{t=bt.locale(),require("./locale/"+e),bt.locale(t)}catch(n){}return Dt[e]}function B(e,t){return t._isUTC?bt(e).zone(t._offset||0):bt(e).local()}function j(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function F(e){var t,n,r=e.match(It);for(t=0,n=r.length;n>t;t++)r[t]=mn[r[t]]?mn[r[t]]:j(r[t]);return function(i){var s="";for(t=0;n>t;t++)s+=r[t]instanceof Function?r[t].call(i,e):r[t];return s}}function I(e,t){return e.isValid()?(t=q(t,e.localeData()),hn[t]||(hn[t]=F(t)),hn[t](e)):e.localeData().invalidDate()}function q(e,t){function n(e){return t.longDateFormat(e)||e}var r=5;for(qt.lastIndex=0;r>=0&&qt.test(e);)e=e.replace(qt,n),qt.lastIndex=0,r-=1;return e}function R(e,t){var n,r=t._strict;switch(e){case"Q":return Gt;case"DDDD":return Zt;case"YYYY":case"GGGG":case"gggg":return r?en:zt;case"Y":case"G":case"g":return nn;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return r?tn:Wt;case"S":if(r)return Gt;case"SS":if(r)return Yt;case"SSS":if(r)return Zt;case"DDD":return Ut;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Vt;case"a":case"A":return t._locale._meridiemParse;case"X":return Kt;case"Z":case"ZZ":return $t;case"T":return Jt;case"SSSS":return Xt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return r?Yt:Rt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Rt;case"Do":return Qt;default:return n=new RegExp(Q(K(e.replace("\\","")),"i"))}}function U(e){e=e||"";var t=e.match($t)||[],n=t[t.length-1]||[],r=(n+"").match(an)||["-",0,0],i=+(60*r[1])+C(r[2]);return"+"===r[0]?-i:i}function z(e,t,n){var r,i=n._a;switch(e){case"Q":null!=t&&(i[kt]=3*(C(t)-1));break;case"M":case"MM":null!=t&&(i[kt]=C(t)-1);break;case"MMM":case"MMMM":r=n._locale.monthsParse(t),null!=r?i[kt]=r:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(i[Lt]=C(t));break;case"Do":null!=t&&(i[Lt]=C(parseInt(t,10)));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=C(t));break;case"YY":i[Ct]=bt.parseTwoDigitYear(t);break;case"YYYY":case"YYYYY":case"YYYYYY":i[Ct]=C(t);break;case"a":case"A":n._isPm=n._locale.isPM(t);break;case"H":case"HH":case"h":case"hh":i[At]=C(t);break;case"m":case"mm":i[Ot]=C(t);break;case"s":case"ss":i[Mt]=C(t);break;case"S":case"SS":case"SSS":case"SSSS":i[_t]=C(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=U(t);break;case"dd":case"ddd":case"dddd":r=n._locale.weekdaysParse(t),null!=r?(n._w=n._w||{},n._w.d=r):n._pf.invalidWeekday=t;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":e=e.substr(0,1);case"gggg":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=C(t));break;case"gg":case"GG":n._w=n._w||{},n._w[e]=bt.parseTwoDigitYear(t)}}function W(e){var n,r,i,s,o,u,a;n=e._w,null!=n.GG||null!=n.W||null!=n.E?(o=1,u=4,r=t(n.GG,e._a[Ct],ut(bt(),1,4).year),i=t(n.W,1),s=t(n.E,1)):(o=e._locale._week.dow,u=e._locale._week.doy,r=t(n.gg,e._a[Ct],ut(bt(),o,u).year),i=t(n.w,1),null!=n.d?(s=n.d,o>s&&++i):s=null!=n.e?n.e+o:o),a=at(r,i,s,u,o),e._a[Ct]=a.year,e._dayOfYear=a.dayOfYear}function X(e){var n,r,i,s,o=[];if(!e._d){for(i=$(e),e._w&&null==e._a[Lt]&&null==e._a[kt]&&W(e),e._dayOfYear&&(s=t(e._a[Ct],i[Ct]),e._dayOfYear>A(s)&&(e._pf._overflowDayOfYear=!0),r=rt(s,0,e._dayOfYear),e._a[kt]=r.getUTCMonth(),e._a[Lt]=r.getUTCDate()),n=0;3>n&&null==e._a[n];++n)e._a[n]=o[n]=i[n];for(;7>n;n++)e._a[n]=o[n]=null==e._a[n]?2===n?1:0:e._a[n];e._d=(e._useUTC?rt:nt).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()+e._tzm)}}function V(e){var t;e._d||(t=T(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],X(e))}function $(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function J(e){if(e._f===bt.ISO_8601)return void Y(e);e._a=[],e._pf.empty=!0;var t,n,r,i,s,o=""+e._i,u=o.length,a=0;for(r=q(e._f,e._locale).match(It)||[],t=0;t<r.length;t++)i=r[t],n=(o.match(R(i,e))||[])[0],n&&(s=o.substr(0,o.indexOf(n)),s.length>0&&e._pf.unusedInput.push(s),o=o.slice(o.indexOf(n)+n.length),a+=n.length),mn[i]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(i),z(i,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(i);e._pf.charsLeftOver=u-a,o.length>0&&e._pf.unusedInput.push(o),e._isPm&&e._a[At]<12&&(e._a[At]+=12),e._isPm===!1&&12===e._a[At]&&(e._a[At]=0),X(e),M(e)}function K(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})}function Q(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function G(e){var t,n,i,s,o;if(0===e._f.length)return e._pf.invalidFormat=!0,void (e._d=new Date(0/0));for(s=0;s<e._f.length;s++)o=0,t=p({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=r(),t._f=e._f[s],J(t),_(t)&&(o+=t._pf.charsLeftOver,o+=10*t._pf.unusedTokens.length,t._pf.score=o,(null==i||i>o)&&(i=o,n=t));h(e,n||t)}function Y(e){var t,n,r=e._i,i=rn.exec(r);if(i){for(e._pf.iso=!0,t=0,n=on.length;n>t;t++)if(on[t][1].exec(r)){e._f=on[t][0]+(i[6]||" ");break}for(t=0,n=un.length;n>t;t++)if(un[t][1].exec(r)){e._f+=un[t][0];break}r.match($t)&&(e._f+="Z"),J(e)}else e._isValid=!1}function Z(e){Y(e),e._isValid===!1&&(delete e._isValid,bt.createFromInputFallback(e))}function et(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function tt(t){var n,r=t._i;r===e?t._d=new Date:E(r)?t._d=new Date(+r):null!==(n=Bt.exec(r))?t._d=new Date(+n[1]):"string"==typeof r?Z(t):w(r)?(t._a=et(r.slice(0),function(e){return parseInt(e,10)}),X(t)):"object"==typeof r?V(t):"number"==typeof r?t._d=new Date(r):bt.createFromInputFallback(t)}function nt(e,t,n,r,i,s,o){var u=new Date(e,t,n,r,i,s,o);return 1970>e&&u.setFullYear(e),u}function rt(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function it(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function st(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function ot(e,t,n){var r=bt.duration(e).abs(),i=Tt(r.as("s")),s=Tt(r.as("m")),o=Tt(r.as("h")),u=Tt(r.as("d")),a=Tt(r.as("M")),f=Tt(r.as("y")),l=i<pn.s&&["s",i]||1===s&&["m"]||s<pn.m&&["mm",s]||1===o&&["h"]||o<pn.h&&["hh",o]||1===u&&["d"]||u<pn.d&&["dd",u]||1===a&&["M"]||a<pn.M&&["MM",a]||1===f&&["y"]||["yy",f];return l[2]=t,l[3]=+e>0,l[4]=n,st.apply({},l)}function ut(e,t,n){var r,i=n-t,s=n-e.day();return s>i&&(s-=7),i-7>s&&(s+=7),r=bt(e).add(s,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function at(e,t,n,r,i){var s,o,u=rt(e,0,1).getUTCDay();return u=0===u?7:u,n=null!=n?n:i,s=i-u+(u>r?7:0)-(i>u?7:0),o=7*(t-1)+(n-i)+s+1,{year:o>0?e:e-1,dayOfYear:o>0?o:A(e-1)+o}}function ft(t){var n=t._i,r=t._f;return t._locale=t._locale||bt.localeData(t._l),null===n||r===e&&""===n?bt.invalid({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),bt.isMoment(n)?new l(n,!0):(r?w(r)?G(t):J(t):tt(t),new l(t)))}function lt(e,t){var n,r;if(1===t.length&&w(t[0])&&(t=t[0]),!t.length)return bt();for(n=t[0],r=1;r<t.length;++r)t[r][e](n)&&(n=t[r]);return n}function ct(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),k(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function ht(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function pt(e,t,n){return"Month"===t?ct(e,n):e._d["set"+(e._isUTC?"UTC":"")+t](n)}function dt(e,t){return function(n){return null!=n?(pt(this,e,n),bt.updateOffset(this,t),this):ht(this,e)}}function vt(e){return 400*e/146097}function mt(e){return 146097*e/400}function gt(e){bt.duration.fn[e]=function(){return this._data[e]}}function yt(e){"undefined"==typeof ender&&(wt=xt.moment,xt.moment=e?s("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",bt):bt)}for(var bt,wt,Et,St="2.8.3",xt="undefined"!=typeof global?global:this,Tt=Math.round,Nt=Object.prototype.hasOwnProperty,Ct=0,kt=1,Lt=2,At=3,Ot=4,Mt=5,_t=6,Dt={},Pt=[],Ht="undefined"!=typeof module&&module.exports,Bt=/^\/?Date\((\-?\d+)/i,jt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ft=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,It=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,qt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Rt=/\d\d?/,Ut=/\d{1,3}/,zt=/\d{1,4}/,Wt=/[+\-]?\d{1,6}/,Xt=/\d+/,Vt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,$t=/Z|[\+\-]\d\d:?\d\d/gi,Jt=/T/i,Kt=/[\+\-]?\d+(\.\d{1,3})?/,Qt=/\d{1,2}/,Gt=/\d/,Yt=/\d\d/,Zt=/\d{3}/,en=/\d{4}/,tn=/[+-]?\d{6}/,nn=/[+-]?\d+/,rn=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,sn="YYYY-MM-DDTHH:mm:ssZ",on=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],un=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],an=/([\+\-]|\d\d)/gi,fn=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ln={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},cn={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},hn={},pn={s:45,m:45,h:22,d:26,M:11},dn="DDD w W M D d".split(" "),vn="M D H h m s w W".split(" "),mn={M:function(){return this.month()+1},MMM:function(e){return this.localeData().monthsShort(this,e)},MMMM:function(e){return this.localeData().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.localeData().weekdaysMin(this,e)},ddd:function(e){return this.localeData().weekdaysShort(this,e)},dddd:function(e){return this.localeData().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return v(this.year()%100,2)},YYYY:function(){return v(this.year(),4)},YYYYY:function(){return v(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+v(Math.abs(e),6)},gg:function(){return v(this.weekYear()%100,2)},gggg:function(){return v(this.weekYear(),4)},ggggg:function(){return v(this.weekYear(),5)},GG:function(){return v(this.isoWeekYear()%100,2)},GGGG:function(){return v(this.isoWeekYear(),4)},GGGGG:function(){return v(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return C(this.milliseconds()/100)},SS:function(){return v(C(this.milliseconds()/10),2)},SSS:function(){return v(this.milliseconds(),3)},SSSS:function(){return v(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+v(C(e/60),2)+":"+v(C(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+v(C(e/60),2)+v(C(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},gn={},yn=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];dn.length;)Et=dn.pop(),mn[Et+"o"]=a(mn[Et],Et);for(;vn.length;)Et=vn.pop(),mn[Et+Et]=u(mn[Et],2);mn.DDDD=u(mn.DDD,3),h(f.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,r;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=bt.utc([2e3,t]),r="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(r.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=bt([2e3,1]).day(t),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(e,t,n,r):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return ut(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),bt=function(t,n,i,s){var o;return"boolean"==typeof i&&(s=i,i=e),o={},o._isAMomentObject=!0,o._i=t,o._f=n,o._l=i,o._strict=s,o._isUTC=!1,o._pf=r(),ft(o)},bt.suppressDeprecationWarnings=!1,bt.createFromInputFallback=s("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i)}),bt.min=function(){var e=[].slice.call(arguments,0);return lt("isBefore",e)},bt.max=function(){var e=[].slice.call(arguments,0);return lt("isAfter",e)},bt.utc=function(t,n,i,s){var o;return"boolean"==typeof i&&(s=i,i=e),o={},o._isAMomentObject=!0,o._useUTC=!0,o._isUTC=!0,o._l=i,o._i=t,o._f=n,o._strict=s,o._pf=r(),ft(o).utc()},bt.unix=function(e){return bt(1e3*e)},bt.duration=function(e,t){var r,i,s,o,u=e,a=null;return bt.isDuration(e)?u={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(u={},t?u[t]=e:u.milliseconds=e):(a=jt.exec(e))?(r="-"===a[1]?-1:1,u={y:0,d:C(a[Lt])*r,h:C(a[At])*r,m:C(a[Ot])*r,s:C(a[Mt])*r,ms:C(a[_t])*r}):(a=Ft.exec(e))?(r="-"===a[1]?-1:1,s=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*r},u={y:s(a[2]),M:s(a[3]),d:s(a[4]),h:s(a[5]),m:s(a[6]),s:s(a[7]),w:s(a[8])}):"object"==typeof u&&("from"in u||"to"in u)&&(o=g(bt(u.from),bt(u.to)),u={},u.ms=o.milliseconds,u.M=o.months),i=new c(u),bt.isDuration(e)&&n(e,"_locale")&&(i._locale=e._locale),i},bt.version=St,bt.defaultFormat=sn,bt.ISO_8601=function(){},bt.momentProperties=Pt,bt.updateOffset=function(){},bt.relativeTimeThreshold=function(t,n){return pn[t]===e?!1:n===e?pn[t]:(pn[t]=n,!0)},bt.lang=s("moment.lang is deprecated. Use moment.locale instead.",function(e,t){return bt.locale(e,t)}),bt.locale=function(e,t){var n;return e&&(n="undefined"!=typeof t?bt.defineLocale(e,t):bt.localeData(e),n&&(bt.duration._locale=bt._locale=n)),bt._locale._abbr},bt.defineLocale=function(e,t){return null!==t?(t.abbr=e,Dt[e]||(Dt[e]=new f),Dt[e].set(t),bt.locale(e),Dt[e]):(delete Dt[e],null)},bt.langData=s("moment.langData is deprecated. Use moment.localeData instead.",function(e){return bt.localeData(e)}),bt.localeData=function(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return bt._locale;if(!w(e)){if(t=H(e))return t;e=[e]}return P(e)},bt.isMoment=function(e){return e instanceof l||null!=e&&n(e,"_isAMomentObject")},bt.isDuration=function(e){return e instanceof c};for(Et=yn.length-1;Et>=0;--Et)N(yn[Et]);bt.normalizeUnits=function(e){return x(e)},bt.invalid=function(e){var t=bt.utc(0/0);return null!=e?h(t._pf,e):t._pf.userInvalidated=!0,t},bt.parseZone=function(){return bt.apply(null,arguments).parseZone()},bt.parseTwoDigitYear=function(e){return C(e)+(C(e)>68?1900:2e3)},h(bt.fn=l.prototype,{clone:function(){return bt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=bt(this).utc();return 0<e.year()&&e.year()<=9999?I(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):I(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return _(this)},isDSTShifted:function(){return this._a?this.isValid()&&S(this._a,(this._isUTC?bt.utc(this._a):bt(this._a)).toArray())>0:!1},parsingFlags:function(){return h({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(e){return this.zone(0,e)},local:function(e){return this._isUTC&&(this.zone(0,e),this._isUTC=!1,e&&this.add(this._dateTzOffset(),"m")),this},format:function(e){var t=I(this,e||bt.defaultFormat);return this.localeData().postformat(t)},add:y(1,"add"),subtract:y(-1,"subtract"),diff:function(e,t,n){var r,i,s,o=B(e,this),u=6e4*(this.zone()-o.zone());return t=x(t),"year"===t||"month"===t?(r=432e5*(this.daysInMonth()+o.daysInMonth()),i=12*(this.year()-o.year())+(this.month()-o.month()),s=this-bt(this).startOf("month")-(o-bt(o).startOf("month")),s-=6e4*(this.zone()-bt(this).startOf("month").zone()-(o.zone()-bt(o).startOf("month").zone())),i+=s/r,"year"===t&&(i/=12)):(r=this-o,i="second"===t?r/1e3:"minute"===t?r/6e4:"hour"===t?r/36e5:"day"===t?(r-u)/864e5:"week"===t?(r-u)/6048e5:r),n?i:d(i)},from:function(e,t){return bt.duration({to:this,from:e}).locale(this.locale()).humanize(!t)},fromNow:function(e){return this.from(bt(),e)},calendar:function(e){var t=e||bt(),n=B(t,this).startOf("day"),r=this.diff(n,"days",!0),i=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this))},isLeapYear:function(){return O(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=it(e,this.localeData()),this.add(e-t,"d")):t},month:dt("Month",!0),startOf:function(e){switch(e=x(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=x(e),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(e,t){return t=x("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=bt.isMoment(e)?e:bt(e),+this>+e):+this.clone().startOf(t)>+bt(e).startOf(t)},isBefore:function(e,t){return t=x("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=bt.isMoment(e)?e:bt(e),+e>+this):+this.clone().startOf(t)<+bt(e).startOf(t)},isSame:function(e,t){return t=x(t||"millisecond"),"millisecond"===t?(e=bt.isMoment(e)?e:bt(e),+this===+e):+this.clone().startOf(t)===+B(e,this).startOf(t)},min:s("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(e){return e=bt.apply(null,arguments),this>e?this:e}),max:s("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(e){return e=bt.apply(null,arguments),e>this?this:e}),zone:function(e,t){var n,r=this._offset||0;return null==e?this._isUTC?r:this._dateTzOffset():("string"==typeof e&&(e=U(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&t&&(n=this._dateTzOffset()),this._offset=e,this._isUTC=!0,null!=n&&this.subtract(n,"m"),r!==e&&(!t||this._changeInProgress?b(this,bt.duration(r-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,bt.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?bt(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return k(this.year(),this.month())},dayOfYear:function(e){var t=Tt((bt(this).startOf("day")-bt(this).startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},quarter:function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},weekYear:function(e){var t=ut(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")},isoWeekYear:function(e){var t=ut(this,1,4).year;return null==e?t:this.add(e-t,"y")},week:function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},isoWeek:function(e){var t=ut(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},weekday:function(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},isoWeeksInYear:function(){return L(this.year(),1,4)},weeksInYear:function(){var e=this.localeData()._week;return L(this.year(),e.dow,e.doy)},get:function(e){return e=x(e),this[e]()},set:function(e,t){return e=x(e),"function"==typeof this[e]&&this[e](t),this},locale:function(t){var n;return t===e?this._locale._abbr:(n=bt.localeData(t),null!=n&&(this._locale=n),this)},lang:s("moment().lang() is deprecated. Use moment().localeData() instead.",function(t){return t===e?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateTzOffset:function(){return 15*Math.round(this._d.getTimezoneOffset()/15)}}),bt.fn.millisecond=bt.fn.milliseconds=dt("Milliseconds",!1),bt.fn.second=bt.fn.seconds=dt("Seconds",!1),bt.fn.minute=bt.fn.minutes=dt("Minutes",!1),bt.fn.hour=bt.fn.hours=dt("Hours",!0),bt.fn.date=dt("Date",!0),bt.fn.dates=s("dates accessor is deprecated. Use date instead.",dt("Date",!0)),bt.fn.year=dt("FullYear",!0),bt.fn.years=s("years accessor is deprecated. Use year instead.",dt("FullYear",!0)),bt.fn.days=bt.fn.day,bt.fn.months=bt.fn.month,bt.fn.weeks=bt.fn.week,bt.fn.isoWeeks=bt.fn.isoWeek,bt.fn.quarters=bt.fn.quarter,bt.fn.toJSON=bt.fn.toISOString,h(bt.duration.fn=c.prototype,{_bubble:function(){var e,t,n,r=this._milliseconds,i=this._days,s=this._months,o=this._data,u=0;o.milliseconds=r%1e3,e=d(r/1e3),o.seconds=e%60,t=d(e/60),o.minutes=t%60,n=d(t/60),o.hours=n%24,i+=d(n/24),u=d(vt(i)),i-=d(mt(u)),s+=d(i/30),i%=30,u+=d(s/12),s%=12,o.days=i,o.months=s,o.years=u},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return d(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12)},humanize:function(e){var t=ot(this,!e,this.localeData());return e&&(t=this.localeData().pastFuture(+this,t)),this.localeData().postformat(t)},add:function(e,t){var n=bt.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=bt.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=x(e),this[e.toLowerCase()+"s"]()},as:function(e){var t,n;if(e=x(e),"month"===e||"year"===e)return t=this._days+this._milliseconds/864e5,n=this._months+12*vt(t),"month"===e?n:n/12;switch(t=this._days+mt(this._months/12),e){case"week":return t/7+this._milliseconds/6048e5;case"day":return t+this._milliseconds/864e5;case"hour":return 24*t+this._milliseconds/36e5;case"minute":return 24*t*60+this._milliseconds/6e4;case"second":return 24*t*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+e)}},lang:bt.fn.lang,locale:bt.fn.locale,toIsoString:s("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),i=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||i||s?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(s?s+"S":""):"P0D"},localeData:function(){return this._locale}}),bt.duration.fn.toString=bt.duration.fn.toISOString;for(Et in fn)n(fn,Et)&&gt(Et.toLowerCase());bt.duration.fn.asMilliseconds=function(){return this.as("ms")},bt.duration.fn.asSeconds=function(){return this.as("s")},bt.duration.fn.asMinutes=function(){return this.as("m")},bt.duration.fn.asHours=function(){return this.as("h")},bt.duration.fn.asDays=function(){return this.as("d")},bt.duration.fn.asWeeks=function(){return this.as("weeks")},bt.duration.fn.asMonths=function(){return this.as("M")},bt.duration.fn.asYears=function(){return this.as("y")},bt.locale("en",{ordinal:function(e){var t=e%10,n=1===C(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),Ht?module.exports=bt:"function"==typeof define&&define.amd?(define("moment",["require","exports","module"],function(e,t,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(xt.moment=wt),bt}),yt(!0)):yt()}.call(this),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("moment-with-locales",t):e.moment=t()}(this,function(){function n(){return e.apply(null,arguments)}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){return void 0===e}function o(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function u(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)f(t,n)&&(e[n]=t[n]);return f(t,"toString")&&(e.toString=t.toString),f(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,r){return kn(e,t,n,r,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function p(e){if(null==e._isValid){var n=h(e),r=t.call(n.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&r);if(e._strict&&(i=i&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function d(e){var t=c(NaN);return null!=e?l(h(t),e):h(t).userInvalidated=!0,t}function m(e,t){var n,r,i;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=h(t)),s(t._locale)||(e._locale=t._locale),0<v.length)for(n=0;n<v.length;n++)s(i=t[r=v[n]])||(e[r]=i);return e}function y(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===g&&(g=!0,n.updateOffset(this),g=!1)}function b(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function E(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=w(t)),n}function S(e,t,n){var r,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&E(e[r])!==E(t[r]))&&o++;return o+s}function x(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function T(e,t){var r=!0;return l(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),r){for(var i,s=[],o=0;o<arguments.length;o++){if(i="","object"==typeof arguments[o]){for(var u in i+="\n["+o+"] ",arguments[0])i+=u+": "+arguments[0][u]+", ";i=i.slice(0,-2)}else i=arguments[o];s.push(i)}x(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)},t)}function k(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),C[e]||(x(t),C[e]=!0)}function L(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e,t){var n,r=l({},e);for(n in t)f(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},l(r[n],e[n]),l(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)f(e,n)&&!f(t,n)&&i(e[n])&&(r[n]=l({},r[n]));return r}function O(e){null!=e&&this.set(e)}function _(e,t){var n=e.toLowerCase();M[n]=M[n+"s"]=M[t]=e}function D(e){return"string"==typeof e?M[e]||M[e.toLowerCase()]:void 0}function P(e){var t,n,r={};for(n in e)f(e,n)&&(t=D(n))&&(r[t]=e[n]);return r}function B(e,t){H[e]=t}function j(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function U(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(R[e]=i),t&&(R[t[0]]=function(){return j(i.apply(this,arguments),t[1],t[2])}),n&&(R[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function z(e,t){return e.isValid()?(t=W(t,e.localeData()),q[t]=q[t]||function(e){var t,n,r,i=e.match(F);for(t=0,n=i.length;t<n;t++)R[i[t]]?i[t]=R[i[t]]:i[t]=(r=i[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,s="";for(r=0;r<n;r++)s+=L(i[r])?i[r].call(t,e):i[r];return s}}(t),q[t](e)):e.localeData().invalidDate()}function W(e,t){function r(e){return t.longDateFormat(e)||e}var n=5;for(I.lastIndex=0;0<=n&&I.test(e);)e=e.replace(I,r),I.lastIndex=0,n-=1;return e}function at(e,t,n){ut[e]=L(t)?t:function(e,r){return e&&n?n:t}}function ft(e,t){return f(ut,e)?ut[e](t._strict,t._locale):new RegExp(lt(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})))}function lt(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ht(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),o(t)&&(r=function(e,n){n[t]=E(e)}),n=0;n<e.length;n++)ct[e[n]]=r}function pt(e,t){ht(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function xt(e){return Tt(e)?366:365}function Tt(e){return e%4==0&&e%100!=0||e%400==0}function kt(e,t){return function(r){return null!=r?(At(this,e,r),n.updateOffset(this,t),this):Lt(this,e)}}function Lt(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function At(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Tt(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ot(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Ot(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?Tt(e)?29:28:31-r%7%2}function Pt(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=E(t);else if(!o(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ot(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ht(e){return null!=e?(Pt(this,e),n.updateOffset(this,!0),this):Lt(this,"Month")}function Ft(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],s=[];for(t=0;t<12;t++)n=c([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),s.push(this.months(n,"")),s.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),s.sort(e),t=0;t<12;t++)r[t]=lt(r[t]),i[t]=lt(i[t]);for(t=0;t<24;t++)s[t]=lt(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function It(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&0<=e&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function qt(e,t,n){var r=7+t-n;return-((7+It(e,0,r).getUTCDay()-t)%7)+r-1}function Rt(e,t,n,r,i){var s,o,u=1+7*(t-1)+(7+n-r)%7+qt(e,r,i);return u<=0?o=xt(s=e-1)+u:u>xt(e)?(s=e+1,o=u-xt(e)):(s=e,o=u),{year:s,dayOfYear:o}}function Ut(e,t,n){var r,i,s=qt(e.year(),t,n),o=Math.floor((e.dayOfYear()-s-1)/7)+1;return o<1?r=o+zt(i=e.year()-1,t,n):o>zt(e.year(),t,n)?(r=o-zt(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function zt(e,t,n){var r=qt(e,t,n),i=qt(e+1,t,n);return(xt(e)-r+i)/7}function Qt(){function e(e,t){return t.length-e.length}var t,n,r,i,s,o=[],u=[],a=[],f=[];for(t=0;t<7;t++)n=c([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),s=this.weekdays(n,""),o.push(r),u.push(i),a.push(s),f.push(r),f.push(i),f.push(s);for(o.sort(e),u.sort(e),a.sort(e),f.sort(e),t=0;t<7;t++)u[t]=lt(u[t]),a[t]=lt(a[t]),f[t]=lt(f[t]);this._weekdaysRegex=new RegExp("^("+f.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Gt(){return this.hours()%12||12}function Yt(e,t){U(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Zt(e,t){return t._meridiemParse}function on(e){return e?e.toLowerCase().replace("_","-"):e}function un(e){var t=null;if(!rn[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=en._abbr,require("./locale/"+e),an(t)}catch(e){}return rn[e]}function an(e,t){var n;return e&&((n=s(t)?ln(e):fn(e,t))?en=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),en._abbr}function fn(e,t){if(null!==t){var n,r=nn;if(t.abbr=e,null!=rn[e])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=rn[e]._config;else if(null!=t.parentLocale)if(null!=rn[t.parentLocale])r=rn[t.parentLocale]._config;else{if(null==(n=un(t.parentLocale)))return sn[t.parentLocale]||(sn[t.parentLocale]=[]),sn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return rn[e]=new O(A(r,t)),sn[e]&&sn[e].forEach(function(e){fn(e.name,e.config)}),an(e),rn[e]}return delete rn[e],null}function ln(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return en;if(!r(e)){if(t=un(e))return t;e=[e]}return function(e){for(var t,n,r,i,s=0;s<e.length;){for(t=(i=on(e[s]).split("-")).length,n=(n=on(e[s+1]))?n.split("-"):null;0<t;){if(r=un(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&S(i,n,!0)>=t-1)break;t--}s++}return en}(e)}function cn(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[vt]<0||11<n[vt]?vt:n[mt]<1||n[mt]>Ot(n[dt],n[vt])?mt:n[gt]<0||24<n[gt]||24===n[gt]&&(0!==n[yt]||0!==n[bt]||0!==n[wt])?gt:n[yt]<0||59<n[yt]?yt:n[bt]<0||59<n[bt]?bt:n[wt]<0||999<n[wt]?wt:-1,h(e)._overflowDayOfYear&&(t<dt||mt<t)&&(t=mt),h(e)._overflowWeeks&&-1===t&&(t=Et),h(e)._overflowWeekday&&-1===t&&(t=St),h(e).overflow=t),e}function hn(e,t,n){return null!=e?e:null!=t?t:n}function pn(e){var t,r,i,s,o,u=[];if(!e._d){var a,f;for(a=e,f=new Date(n.now()),i=a._useUTC?[f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()]:[f.getFullYear(),f.getMonth(),f.getDate()],e._w&&null==e._a[mt]&&null==e._a[vt]&&function(e){var t,n,r,i,s,o,u,a;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)s=1,o=4,n=hn(t.GG,e._a[dt],Ut(Ln(),1,4).year),r=hn(t.W,1),((i=hn(t.E,1))<1||7<i)&&(a=!0);else{s=e._locale._week.dow,o=e._locale._week.doy;var f=Ut(Ln(),s,o);n=hn(t.gg,e._a[dt],f.year),r=hn(t.w,f.week),null!=t.d?((i=t.d)<0||6<i)&&(a=!0):null!=t.e?(i=t.e+s,(t.e<0||6<t.e)&&(a=!0)):i=s}r<1||r>zt(n,s,o)?h(e)._overflowWeeks=!0:null!=a?h(e)._overflowWeekday=!0:(u=Rt(n,r,i,s,o),e._a[dt]=u.year,e._dayOfYear=u.dayOfYear)}(e),null!=e._dayOfYear&&(o=hn(e._a[dt],i[dt]),(e._dayOfYear>xt(o)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),r=It(o,0,e._dayOfYear),e._a[vt]=r.getUTCMonth(),e._a[mt]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=u[t]=i[t];for(;t<7;t++)e._a[t]=u[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[gt]&&0===e._a[yt]&&0===e._a[bt]&&0===e._a[wt]&&(e._nextDay=!0,e._a[gt]=0),e._d=(e._useUTC?It:function(e,t,n,r,i,s,o){var u=new Date(e,t,n,r,i,s,o);return e<100&&0<=e&&isFinite(u.getFullYear())&&u.setFullYear(e),u}).apply(null,u),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[gt]=24),e._w&&void 0!==e._w.d&&e._w.d!==s&&(h(e).weekdayMismatch=!0)}}function wn(e){var t,n,r,i,s,o,u=e._i,a=dn.exec(u)||vn.exec(u);if(a){for(h(e).iso=!0,t=0,n=gn.length;t<n;t++)if(gn[t][1].exec(a[1])){i=gn[t][0],r=!1!==gn[t][2];break}if(null==i)return void (e._isValid=!1);if(a[3]){for(t=0,n=yn.length;t<n;t++)if(yn[t][1].exec(a[3])){s=(a[2]||" ")+yn[t][0];break}if(null==s)return void (e._isValid=!1)}if(!r&&null!=s)return void (e._isValid=!1);if(a[4]){if(!mn.exec(a[4]))return void (e._isValid=!1);o="Z"}e._f=i+(s||"")+(o||""),Nn(e)}else e._isValid=!1}function Sn(e,t,n,r,i,s){var o=[function(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}(e),Dt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function Tn(e){var t,n,r,i=En.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(i){var s=Sn(i[4],i[3],i[2],i[5],i[6],i[7]);if(t=i[1],n=s,r=e,!(!t||Xt.indexOf(t)===(new Date(n[0],n[1],n[2])).getDay()||(h(r).weekdayMismatch=!0,r._isValid=!1)))return;e._a=s,e._tzm=function(e,t,n){if(e)return xn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(i[8],i[9],i[10]),e._d=It.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function Nn(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],h(e).empty=!0;var t,r,i,s,o,u,a,l,c=""+e._i,p=c.length,d=0;for(i=W(e._f,e._locale).match(F)||[],t=0;t<i.length;t++)s=i[t],(r=(c.match(ft(s,e))||[])[0])&&(0<(o=c.substr(0,c.indexOf(r))).length&&h(e).unusedInput.push(o),c=c.slice(c.indexOf(r)+r.length),d+=r.length),R[s]?(r?h(e).empty=!1:h(e).unusedTokens.push(s),u=s,l=e,null!=(a=r)&&f(ct,u)&&ct[u](a,l._a,l,u)):e._strict&&!r&&h(e).unusedTokens.push(s);h(e).charsLeftOver=p-d,0<c.length&&h(e).unusedInput.push(c),e._a[gt]<=12&&!0===h(e).bigHour&&0<e._a[gt]&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[gt]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0)),t)}(e._locale,e._a[gt],e._meridiem),pn(e),cn(e)}else Tn(e);else wn(e)}function Cn(e){var t,f,c,v,g=e._i,w=e._f;return e._locale=e._locale||ln(e._l),null===g||void 0===w&&""===g?d({nullInput:!0}):("string"==typeof g&&(e._i=g=e._locale.preparse(g)),b(g)?new y(cn(g)):(u(g)?e._d=g:r(w)?function(e){var t,n,r,i,s;if(0===e._f.length)return h(e).invalidFormat=!0,e._d=new Date(NaN);for(i=0;i<e._f.length;i++)s=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Nn(t),p(t)&&(s+=h(t).charsLeftOver,s+=10*h(t).unusedTokens.length,h(t).score=s,(null==r||s<r)&&(r=s,n=t));l(e,n||t)}(e):w?Nn(e):s(f=(t=e)._i)?t._d=new Date(n.now()):u(f)?t._d=new Date(f.valueOf()):"string"==typeof f?(c=t,null===(v=bn.exec(c._i))?(wn(c),!1===c._isValid&&(delete c._isValid,Tn(c),!1===c._isValid&&(delete c._isValid,n.createFromInputFallback(c)))):c._d=new Date(+v[1])):r(f)?(t._a=a(f.slice(0),function(e){return parseInt(e,10)}),pn(t)):i(f)?function(e){if(!e._d){var t=P(e._i);e._a=a([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),pn(e)}}(t):o(f)?t._d=new Date(f):n.createFromInputFallback(t),p(e)||(e._d=null),e))}function kn(e,t,n,s,o){var u,a={};return!0!==n&&!1!==n||(s=n,n=void 0),(i(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||r(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=o,a._l=n,a._i=e,a._f=t,a._strict=s,(u=new y(cn(Cn(a))))._nextDay&&(u.add(1,"d"),u._nextDay=void 0),u}function Ln(e,t,n,r){return kn(e,t,n,r,!1)}function Mn(e,t){var n,i;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return Ln();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}function Dn(e){var t=P(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||0,o=t.day||0,u=t.hour||0,a=t.minute||0,f=t.second||0,l=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Nt.call(_n,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<_n.length;++r)if(e[_n[r]]){if(n)return!1;parseFloat(e[_n[r]])!==E(e[_n[r]])&&(n=!0)}return!0}(t),this._milliseconds=+l+1e3*f+6e4*a+1e3*u*60*60,this._days=+o+7*s,this._months=+i+3*r+12*n,this._data={},this._locale=ln(),this._bubble()}function Pn(e){return e instanceof Dn}function Hn(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Bn(e,t){U(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+j(~~(e/60),2)+t+j(~~e%60,2)})}function Fn(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(jn)||["-",0,0],i=60*r[1]+E(r[2]);return 0===i?0:"+"===r[0]?i:-i}function In(e,t){var r,i;return t._isUTC?(r=t.clone(),i=(b(e)||u(e)?e.valueOf():Ln(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),n.updateOffset(r,!1),r):Ln(e).local()}function qn(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Rn(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Wn(e,t){var n,r,i,s=e,u=null;return Pn(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:o(e)?(s={},t?s[t]=e:s.milliseconds=e):(u=Un.exec(e))?(n="-"===u[1]?-1:1,s={y:0,d:E(u[mt])*n,h:E(u[gt])*n,m:E(u[yt])*n,s:E(u[bt])*n,ms:E(Hn(1e3*u[wt]))*n}):(u=zn.exec(e))?(n="-"===u[1]?-1:(u[1],1),s={y:Xn(u[2],n),M:Xn(u[3],n),w:Xn(u[4],n),d:Xn(u[5],n),h:Xn(u[6],n),m:Xn(u[7],n),s:Xn(u[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(i=function(e,t){var n;return!e.isValid()||!t.isValid()?{milliseconds:0,months:0}:(t=In(t,e),e.isBefore(t)?n=Vn(e,t):((n=Vn(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n)}(Ln(s.from),Ln(s.to)),(s={}).ms=i.milliseconds,s.M=i.months),r=new Dn(s),Pn(e)&&f(e,"_locale")&&(r._locale=e._locale),r}function Xn(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Vn(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t- +e.clone().add(n.months,"M"),n}function $n(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(k(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Jn(this,Wn(n="string"==typeof n?+n:n,r),e),this}}function Jn(e,t,r,i){var s=t._milliseconds,o=Hn(t._days),u=Hn(t._months);e.isValid()&&(i=null==i||i,u&&Pt(e,Lt(e,"Month")+u*r),o&&At(e,"Date",Lt(e,"Date")+o*r),s&&e._d.setTime(e._d.valueOf()+s*r),i&&n.updateOffset(e,o||u))}function Gn(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Yn(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ln(e))&&(this._locale=t),this)}function er(){return this._locale}function tr(e,t){U(0,[e,e.length],0,t)}function nr(e,t,n,r,i){var s;return null==e?Ut(this,r,i).year:((s=zt(e,r,i))<t&&(t=s),function(e,t,n,r,i){var s=Rt(e,t,n,r,i),o=It(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,e,t,n,r,i))}function ur(e,t){t[wt]=E(1e3*("0."+e))}function lr(e){return e}function hr(e,t,n,r){var i=ln(),s=c().set(r,t);return i[n](s,e)}function pr(e,t,n){if(o(e)&&(t=e,e=void 0),e=e||"",null!=t)return hr(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=hr(e,r,n,"month");return i}function dr(e,t,n,r){"boolean"==typeof e?o(t)&&(n=t,t=void 0):(t=e,e=!1,o(n=t)&&(n=t,t=void 0)),t=t||"";var i,s=ln(),u=e?s._week.dow:0;if(null!=n)return hr(t,(n+u)%7,r,"day");var a=[];for(i=0;i<7;i++)a[i]=hr(t,(i+u)%7,r,"day");return a}function mr(e,t,n,r){var i=Wn(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function gr(e){return e<0?Math.floor(e):Math.ceil(e)}function yr(e){return 4800*e/146097}function br(e){return 146097*e/4800}function wr(e){return function(){return this.as(e)}}function Ar(e){return function(){return this.isValid()?this._data[e]:NaN}}function qr(e){return(0<e)-(e<0)||+e}function Rr(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Ir(this._milliseconds)/1e3,r=Ir(this._days),i=Ir(this._months);t=w((e=w(n/60))/60),n%=60,e%=60;var s=w(i/12),o=i%=12,u=r,a=t,f=e,l=n?n.toFixed(3).replace(/\.?0+$/,""):"",c=this.asSeconds();if(!c)return"P0D";var h=c<0?"-":"",p=qr(this._months)!==qr(c)?"-":"",d=qr(this._days)!==qr(c)?"-":"",v=qr(this._milliseconds)!==qr(c)?"-":"";return h+"P"+(s?p+s+"Y":"")+(o?p+o+"M":"")+(u?d+u+"D":"")+(a||f||l?"T":"")+(a?v+a+"H":"")+(f?v+f+"M":"")+(l?v+l+"S":"")}function ri(e,t,n){var r,i;return"m"===n?t?"хвіліна":"хвіліну":"h"===n?t?"гадзіна":"гадзіну":e+" "+(r=+e,i={ss:t?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:t?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:t?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"}[n].split("_"),r%10==1&&r%100!=11?i[0]:2<=r%10&&r%10<=4&&(r%100<10||20<=r%100)?i[1]:i[2])}function ai(e,t,n){return e+" "+function(e,t){return 2===t?function(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}(e):e}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}function fi(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}function hi(e){return 1<e&&e<5&&1!=~~(e/10)}function pi(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"pár sekund":"pár sekundami";case"ss":return t||r?i+(hi(e)?"sekundy":"sekund"):i+"sekundami";case"m":return t?"minuta":r?"minutu":"minutou";case"mm":return t||r?i+(hi(e)?"minuty":"minut"):i+"minutami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?i+(hi(e)?"hodiny":"hodin"):i+"hodinami";case"d":return t||r?"den":"dnem";case"dd":return t||r?i+(hi(e)?"dny":"dní"):i+"dny";case"M":return t||r?"měsíc":"měsícem";case"MM":return t||r?i+(hi(e)?"měsíce":"měsíců"):i+"měsíci";case"y":return t||r?"rok":"rokem";case"yy":return t||r?i+(hi(e)?"roky":"let"):i+"lety"}}function di(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}function vi(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}function mi(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}function Ai(e,t,n,r){var i={s:["mõne sekundi","mõni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["ühe minuti","üks minut"],mm:[e+" minuti",e+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[e+" tunni",e+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[e+" kuu",e+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}function Pi(e,t,n,r){var i,s,o="";switch(n){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"ss":return r?"sekunnin":"sekuntia";case"m":return r?"minuutin":"minuutti";case"mm":o=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":o=r?"tunnin":"tuntia";break;case"d":return r?"päivän":"päivä";case"dd":o=r?"päivän":"päivää";break;case"M":return r?"kuukauden":"kuukausi";case"MM":o=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":o=r?"vuoden":"vuotta"}return s=r,o=((i=e)<10?s?Di[i]:_i[i]:i)+" "+o}function ji(e,t,n,r){var i={s:["thodde secondanim","thodde second"],ss:[e+" secondanim",e+" second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka horan","ek hor"],hh:[e+" horanim",e+" horam"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return t?i[n][0]:i[n][1]}function Ui(e,t,n){var r=e+" ";switch(n){case"ss":return r+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return r+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return r+=1===e?"dan":"dana";case"MM":return r+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return r+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}function Wi(e,t,n,r){var i=e;switch(n){case"s":return r||t?"néhány másodperc":"néhány másodperce";case"ss":return i+(r||t)?" másodperc":" másodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return i+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" óra":" órája");case"hh":return i+(r||t?" óra":" órája");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return i+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hónap":" hónapja");case"MM":return i+(r||t?" hónap":" hónapja");case"y":return"egy"+(r||t?" év":" éve");case"yy":return i+(r||t?" év":" éve")}return""}function Xi(e){return(e?"":"[múlt] ")+"["+zi[this.day()]+"] LT[-kor]"}function Vi(e){return e%100==11||e%10!=1}function $i(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"nokkrar sekúndur":"nokkrum sekúndum";case"ss":return Vi(e)?i+(t||r?"sekúndur":"sekúndum"):i+"sekúnda";case"m":return t?"mínúta":"mínútu";case"mm":return Vi(e)?i+(t||r?"mínútur":"mínútum"):t?i+"mínúta":i+"mínútu";case"hh":return Vi(e)?i+(t||r?"klukkustundir":"klukkustundum"):i+"klukkustund";case"d":return t?"dagur":r?"dag":"degi";case"dd":return Vi(e)?t?i+"dagar":i+(r?"daga":"dögum"):t?i+"dagur":i+(r?"dag":"degi");case"M":return t?"mánuður":r?"mánuð":"mánuði";case"MM":return Vi(e)?t?i+"mánuðir":i+(r?"mánuði":"mánuðum"):t?i+"mánuður":i+(r?"mánuð":"mánuði");case"y":return t||r?"ár":"ári";case"yy":return Vi(e)?i+(t||r?"ár":"árum"):i+(t||r?"ár":"ári")}}function es(e,t,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?i[n][0]:i[n][1]}function ts(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return ts(0===t?e/10:t)}if(e<1e4){for(;10<=e;)e/=10;return ts(e)}return ts(e/=1e3)}function rs(e,t,n,r){return t?ss(n)[0]:r?ss(n)[1]:ss(n)[2]}function is(e){return e%10==0||10<e&&e<20}function ss(e){return ns[e].split("_")}function os(e,t,n,r){var i=e+" ";return 1===e?i+rs(0,t,n[0],r):t?i+(is(e)?ss(n)[1]:ss(n)[0]):r?i+ss(n)[1]:i+(is(e)?ss(n)[1]:ss(n)[2])}function as(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function fs(e,t,n){return e+" "+as(us[n],e,t)}function ls(e,t,n){return as(us[n],e,t)}function hs(e,t,n,r){switch(n){case"s":return t?"хэдхэн секунд":"хэдхэн секундын";case"ss":return e+(t?" секунд":" секундын");case"m":case"mm":return e+(t?" минут":" минутын");case"h":case"hh":return e+(t?" цаг":" цагийн");case"d":case"dd":return e+(t?" өдөр":" өдрийн");case"M":case"MM":return e+(t?" сар":" сарын");case"y":case"yy":return e+(t?" жил":" жилийн");default:return e}}function vs(e,t,n,r){var i="";if(t)switch(n){case"s":i="काही सेकंद";break;case"ss":i="%d सेकंद";break;case"m":i="एक मिनिट";break;case"mm":i="%d मिनिटे";break;case"h":i="एक तास";break;case"hh":i="%d तास";break;case"d":i="एक दिवस";break;case"dd":i="%d दिवस";break;case"M":i="एक महिना";break;case"MM":i="%d महिने";break;case"y":i="एक वर्ष";break;case"yy":i="%d वर्षे"}else switch(n){case"s":i="काही सेकंदां";break;case"ss":i="%d सेकंदां";break;case"m":i="एका मिनिटा";break;case"mm":i="%d मिनिटां";break;case"h":i="एका तासा";break;case"hh":i="%d तासां";break;case"d":i="एका दिवसा";break;case"dd":i="%d दिवसां";break;case"M":i="एका महिन्या";break;case"MM":i="%d महिन्यां";break;case"y":i="एका वर्षा";break;case"yy":i="%d वर्षां"}return i.replace(/%d/i,e)}function _s(e){return e%10<5&&1<e%10&&~~(e/10)%10!=1}function Ds(e,t,n){var r=e+" ";switch(n){case"ss":return r+(_s(e)?"sekundy":"sekund");case"m":return t?"minuta":"minutę";case"mm":return r+(_s(e)?"minuty":"minut");case"h":return t?"godzina":"godzinę";case"hh":return r+(_s(e)?"godziny":"godzin");case"MM":return r+(_s(e)?"miesiące":"miesięcy");case"yy":return r+(_s(e)?"lata":"lat")}}function Ps(e,t,n){var r=" ";return(20<=e%100||100<=e&&e%100==0)&&(r=" de "),e+r+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[n]}function Hs(e,t,n){var r,i;return"m"===n?t?"минута":"минуту":e+" "+(r=+e,i={ss:t?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:t?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[n].split("_"),r%10==1&&r%100!=11?i[0]:2<=r%10&&r%10<=4&&(r%100<10||20<=r%100)?i[1]:i[2])}function Rs(e){return 1<e&&e<5}function Us(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"pár sekúnd":"pár sekundami";case"ss":return t||r?i+(Rs(e)?"sekundy":"sekúnd"):i+"sekundami";case"m":return t?"minúta":r?"minútu":"minútou";case"mm":return t||r?i+(Rs(e)?"minúty":"minút"):i+"minútami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?i+(Rs(e)?"hodiny":"hodín"):i+"hodinami";case"d":return t||r?"deň":"dňom";case"dd":return t||r?i+(Rs(e)?"dni":"dní"):i+"dňami";case"M":return t||r?"mesiac":"mesiacom";case"MM":return t||r?i+(Rs(e)?"mesiace":"mesiacov"):i+"mesiacmi";case"y":return t||r?"rok":"rokom";case"yy":return t||r?i+(Rs(e)?"roky":"rokov"):i+"rokmi"}}function zs(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"nekaj sekund":"nekaj sekundami";case"ss":return i+=1===e?t?"sekundo":"sekundi":2===e?t||r?"sekundi":"sekundah":e<5?t||r?"sekunde":"sekundah":"sekund";case"m":return t?"ena minuta":"eno minuto";case"mm":return i+=1===e?t?"minuta":"minuto":2===e?t||r?"minuti":"minutama":e<5?t||r?"minute":"minutami":t||r?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return i+=1===e?t?"ura":"uro":2===e?t||r?"uri":"urama":e<5?t||r?"ure":"urami":t||r?"ur":"urami";case"d":return t||r?"en dan":"enim dnem";case"dd":return i+=1===e?t||r?"dan":"dnem":2===e?t||r?"dni":"dnevoma":t||r?"dni":"dnevi";case"M":return t||r?"en mesec":"enim mesecem";case"MM":return i+=1===e?t||r?"mesec":"mesecem":2===e?t||r?"meseca":"mesecema":e<5?t||r?"mesece":"meseci":t||r?"mesecev":"meseci";case"y":return t||r?"eno leto":"enim letom";case"yy":return i+=1===e?t||r?"leto":"letom":2===e?t||r?"leti":"letoma":e<5?t||r?"leta":"leti":t||r?"let":"leti"}}function Qs(e,t,n,r){var i=function(e){var t=Math.floor(e%1e3/100),n=Math.floor(e%100/10),r=e%10,i="";return 0<t&&(i+=Ks[t]+"vatlh"),0<n&&(i+=(""!==i?" ":"")+Ks[n]+"maH"),0<r&&(i+=(""!==i?" ":"")+Ks[r]),""===i?"pagh":i}(e);switch(n){case"ss":return i+" lup";case"mm":return i+" tup";case"hh":return i+" rep";case"dd":return i+" jaj";case"MM":return i+" jar";case"yy":return i+" DIS"}}function Ys(e,t,n,r){var i={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n míut","'iens míut"],mm:[e+" míuts",e+" míuts"],h:["'n þora","'iensa þora"],hh:[e+" þoras",e+" þoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return r?i[n][0]:t?i[n][0]:i[n][1]}function Zs(e,t,n){var r,i;return"m"===n?t?"хвилина":"хвилину":"h"===n?t?"година":"годину":e+" "+(r=+e,i={ss:t?"секунда_секунди_секунд":"секунду_секунди_секунд",mm:t?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:t?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"}[n].split("_"),r%10==1&&r%100!=11?i[0]:2<=r%10&&r%10<=4&&(r%100<10||20<=r%100)?i[1]:i[2])}function eo(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}var e,t;t=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var v=n.momentProperties=[],g=!1,N,C={};n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,N=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)f(e,t)&&n.push(t);return n};var M={},H={},F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,I=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,q={},R={},X=/\d/,V=/\d\d/,$=/\d{3}/,J=/\d{4}/,K=/[+-]?\d{6}/,Q=/\d\d?/,G=/\d\d\d\d?/,Y=/\d\d\d\d\d\d?/,Z=/\d{1,3}/,et=/\d{1,4}/,tt=/[+-]?\d{1,6}/,nt=/\d+/,rt=/[+-]?\d+/,it=/Z|[+-]\d\d:?\d\d/gi,st=/Z|[+-]\d\d(?::?\d\d)?/gi,ot=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ut={},ct={},dt=0,vt=1,mt=2,gt=3,yt=4,bt=5,wt=6,Et=7,St=8;U("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),_("year","y"),B("year",1),at("Y",rt),at("YY",Q,V),at("YYYY",et,J),at("YYYYY",tt,K),at("YYYYYY",tt,K),ht(["YYYYY","YYYYYY"],dt),ht("YYYY",function(e,t){t[dt]=2===e.length?n.parseTwoDigitYear(e):E(e)}),ht("YY",function(e,t){t[dt]=n.parseTwoDigitYear(e)}),ht("Y",function(e,t){t[dt]=parseInt(e,10)}),n.parseTwoDigitYear=function(e){return E(e)+(68<E(e)?1900:2e3)};var Nt,Ct=kt("FullYear",!0);Nt=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),U("MMMM",0,0,function(e){return this.localeData().months(this,e)}),_("month","M"),B("month",8),at("M",Q),at("MM",Q,V),at("MMM",function(e,t){return t.monthsShortRegex(e)}),at("MMMM",function(e,t){return t.monthsRegex(e)}),ht(["M","MM"],function(e,t){t[vt]=E(e)-1}),ht(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[vt]=i:h(n).invalidMonth=e});var Mt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,_t="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Dt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Bt=ot,jt=ot;U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),_("week","w"),_("isoWeek","W"),B("week",5),B("isoWeek",5),at("w",Q),at("ww",Q,V),at("W",Q),at("WW",Q,V),pt(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=E(e)}),U("d",0,"do","day"),U("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),U("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),U("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),_("day","d"),_("weekday","e"),_("isoWeekday","E"),B("day",11),B("weekday",11),B("isoWeekday",11),at("d",Q),at("e",Q),at("E",Q),at("dd",function(e,t){return t.weekdaysMinRegex(e)}),at("ddd",function(e,t){return t.weekdaysShortRegex(e)}),at("dddd",function(e,t){return t.weekdaysRegex(e)}),pt(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:h(n).invalidWeekday=e}),pt(["d","e","E"],function(e,t,n,r){t[r]=E(e)});var Wt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Xt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Vt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),$t=ot,Jt=ot,Kt=ot;U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Gt),U("k",["kk",2],0,function(){return this.hours()||24}),U("hmm",0,0,function(){return""+Gt.apply(this)+j(this.minutes(),2)}),U("hmmss",0,0,function(){return""+Gt.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+j(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)}),Yt("a",!0),Yt("A",!1),_("hour","h"),B("hour",13),at("a",Zt),at("A",Zt),at("H",Q),at("h",Q),at("k",Q),at("HH",Q,V),at("hh",Q,V),at("kk",Q,V),at("hmm",G),at("hmmss",Y),at("Hmm",G),at("Hmmss",Y),ht(["H","HH"],gt),ht(["k","kk"],function(e,t,n){var r=E(e);t[gt]=24===r?0:r}),ht(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ht(["h","hh"],function(e,t,n){t[gt]=E(e),h(n).bigHour=!0}),ht("hmm",function(e,t,n){var r=e.length-2;t[gt]=E(e.substr(0,r)),t[yt]=E(e.substr(r)),h(n).bigHour=!0}),ht("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[gt]=E(e.substr(0,r)),t[yt]=E(e.substr(r,2)),t[bt]=E(e.substr(i)),h(n).bigHour=!0}),ht("Hmm",function(e,t,n){var r=e.length-2;t[gt]=E(e.substr(0,r)),t[yt]=E(e.substr(r))}),ht("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[gt]=E(e.substr(0,r)),t[yt]=E(e.substr(r,2)),t[bt]=E(e.substr(i))});var en,tn=kt("Hours",!0),nn={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:_t,monthsShort:Dt,week:{dow:0,doy:6},weekdays:Wt,weekdaysMin:Vt,weekdaysShort:Xt,meridiemParse:/[ap]\.?m?\.?/i},rn={},sn={},dn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mn=/Z|[+-]\d\d(?::?\d\d)?/,gn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],yn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],bn=/^\/?Date\((\-?\d+)/i,En=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,xn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};n.createFromInputFallback=T("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var An=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ln.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:d()}),On=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ln.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:d()}),_n=["year","quarter","month","week","day","hour","minute","second","millisecond"];Bn("Z",":"),Bn("ZZ",""),at("Z",st),at("ZZ",st),ht(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Fn(st,e)});var jn=/([\+\-]|\d\d)/gi;n.updateOffset=function(){};var Un=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,zn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Wn.fn=Dn.prototype,Wn.invalid=function(){return Wn(NaN)};var Kn=$n(1,"add"),Qn=$n(-1,"subtract");n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Zn=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),tr("gggg","weekYear"),tr("ggggg","weekYear"),tr("GGGG","isoWeekYear"),tr("GGGGG","isoWeekYear"),_("weekYear","gg"),_("isoWeekYear","GG"),B("weekYear",1),B("isoWeekYear",1),at("G",rt),at("g",rt),at("GG",Q,V),at("gg",Q,V),at("GGGG",et,J),at("gggg",et,J),at("GGGGG",tt,K),at("ggggg",tt,K),pt(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=E(e)}),pt(["gg","GG"],function(e,t,r,i){t[i]=n.parseTwoDigitYear(e)}),U("Q",0,"Qo","quarter"),_("quarter","Q"),B("quarter",7),at("Q",X),ht("Q",function(e,t){t[vt]=3*(E(e)-1)}),U("D",["DD",2],"Do","date"),_("date","D"),B("date",9),at("D",Q),at("DD",Q,V),at("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ht(["D","DD"],mt),ht("Do",function(e,t){t[mt]=E(e.match(Q)[0])});var rr=kt("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),_("dayOfYear","DDD"),B("dayOfYear",4),at("DDD",Z),at("DDDD",$),ht(["DDD","DDDD"],function(e,t,n){n._dayOfYear=E(e)}),U("m",["mm",2],0,"minute"),_("minute","m"),B("minute",14),at("m",Q),at("mm",Q,V),ht(["m","mm"],yt);var ir=kt("Minutes",!1);U("s",["ss",2],0,"second"),_("second","s"),B("second",15),at("s",Q),at("ss",Q,V),ht(["s","ss"],bt);var sr,or=kt("Seconds",!1);for(U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),_("millisecond","ms"),B("millisecond",16),at("S",Z,X),at("SS",Z,V),at("SSS",Z,$),sr="SSSS";sr.length<=9;sr+="S")at(sr,nt);for(sr="S";sr.length<=9;sr+="S")ht(sr,ur);var ar=kt("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var fr=y.prototype;fr.add=Kn,fr.calendar=function(e,t){var r=e||Ln(),i=In(r,this).startOf("day"),s=n.calendarFormat(this,i)||"sameElse",o=t&&(L(t[s])?t[s].call(this,r):t[s]);return this.format(o||this.localeData().calendar(s,this,Ln(r)))},fr.clone=function(){return new y(this)},fr.diff=function(e,t,n){var r,i,s;if(!this.isValid())return NaN;if(!(r=In(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=D(t)){case"year":s=Gn(this,r)/12;break;case"month":s=Gn(this,r);break;case"quarter":s=Gn(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:w(s)},fr.endOf=function(e){return void 0===(e=D(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},fr.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=z(this,e);return this.localeData().postformat(t)},fr.from=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||Ln(e).isValid())?Wn({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fr.fromNow=function(e){return this.from(Ln(),e)},fr.to=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||Ln(e).isValid())?Wn({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},fr.toNow=function(e){return this.to(Ln(),e)},fr.get=function(e){return L(this[e=D(e)])?this[e]():this},fr.invalidAt=function(){return h(this).overflow},fr.isAfter=function(e,t){var n=b(e)?e:Ln(e);return!!this.isValid()&&!!n.isValid()&&("millisecond"===(t=D(s(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},fr.isBefore=function(e,t){var n=b(e)?e:Ln(e);return!!this.isValid()&&!!n.isValid()&&("millisecond"===(t=D(s(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},fr.isBetween=function(e,t,n,r){return("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))},fr.isSame=function(e,t){var n,r=b(e)?e:Ln(e);return!!this.isValid()&&!!r.isValid()&&("millisecond"===(t=D(t||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},fr.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},fr.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},fr.isValid=function(){return p(this)},fr.lang=Zn,fr.locale=Yn,fr.localeData=er,fr.max=On,fr.min=An,fr.parsingFlags=function(){return l({},h(this))},fr.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:H[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=P(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(L(this[e=D(e)]))return this[e](t);return this},fr.startOf=function(e){switch(e=D(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},fr.subtract=Qn,fr.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},fr.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},fr.toDate=function(){return new Date(this.valueOf())},fr.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||9999<n.year()?z(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):L(Date.prototype.toISOString)?t?this.toDate().toISOString():(new Date(this.valueOf()+60*this.utcOffset()*1e3)).toISOString().replace("Z",z(n,"Z")):z(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},fr.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},fr.toJSON=function(){return this.isValid()?this.toISOString():null},fr.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},fr.unix=function(){return Math.floor(this.valueOf()/1e3)},fr.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},fr.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},fr.year=Ct,fr.isLeapYear=function(){return Tt(this.year())},fr.weekYear=function(e){return nr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},fr.isoWeekYear=function(e){return nr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},fr.quarter=fr.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},fr.month=Ht,fr.daysInMonth=function(){return Ot(this.year(),this.month())},fr.week=fr.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},fr.isoWeek=fr.isoWeeks=function(e){var t=Ut(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},fr.weeksInYear=function(){var e=this.localeData()._week;return zt(this.year(),e.dow,e.doy)},fr.isoWeeksInYear=function(){return zt(this.year(),1,4)},fr.date=rr,fr.day=fr.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,r=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof (t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-r,"d")):r},fr.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},fr.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=(n=e,r=this.localeData(),"string"==typeof n?r.weekdaysParse(n)%7||7:isNaN(n)?null:n);return this.day(this.day()%7?t:t-7)}return this.day()||7;var n,r},fr.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},fr.hour=fr.hours=tn,fr.minute=fr.minutes=ir,fr.second=fr.seconds=or,fr.millisecond=fr.milliseconds=ar,fr.utcOffset=function(e,t,r){var i,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Fn(st,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(i=qn(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==e&&(!t||this._changeInProgress?Jn(this,Wn(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:qn(this)},fr.utc=function(e){return this.utcOffset(0,e)},fr.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(qn(this),"m")),this},fr.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Fn(it,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},fr.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Ln(e).utcOffset():0,(this.utcOffset()-e)%60==0)},fr.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},fr.isLocal=function(){return!!this.isValid()&&!this._isUTC},fr.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},fr.isUtc=Rn,fr.isUTC=Rn,fr.zoneAbbr=function(){return this._isUTC?"UTC":""},fr.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},fr.dates=T("dates accessor is deprecated. Use date instead.",rr),fr.months=T("months accessor is deprecated. Use month instead",Ht),fr.years=T("years accessor is deprecated. Use year instead",Ct),fr.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),fr.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),(e=Cn(e))._a){var t=e._isUTC?c(e._a):Ln(e._a);this._isDSTShifted=this.isValid()&&0<S(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var cr=O.prototype;cr.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return L(r)?r.call(t,n):r},cr.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},cr.invalidDate=function(){return this._invalidDate},cr.ordinal=function(e){return this._ordinal.replace("%d",e)},cr.preparse=lr,cr.postformat=lr,cr.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return L(i)?i(e,t,n,r):i.replace(/%d/i,e)},cr.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return L(n)?n(t):n.replace(/%s/i,t)},cr.set=function(e){var t,n;for(n in e)L(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},cr.months=function(e,t){return e?r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Mt).test(t)?"format":"standalone"][e.month()]:r(this._months)?this._months:this._months.standalone},cr.monthsShort=function(e,t){return e?r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Mt.test(t)?"format":"standalone"][e.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},cr.monthsParse=function(e,t,n){var r,i,s;if(this._monthsParseExact)return function(e,t,n){var r,i,s,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=c([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Nt.call(this._shortMonthsParse,o))?i:null:-1!==(i=Nt.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=Nt.call(this._shortMonthsParse,o))?i:-1!==(i=Nt.call(this._longMonthsParse,o))?i:null:-1!==(i=Nt.call(this._longMonthsParse,o))?i:-1!==(i=Nt.call(this._shortMonthsParse,o))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=c([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},cr.monthsRegex=function(e){return this._monthsParseExact?(f(this,"_monthsRegex")||Ft.call(this),e?this._monthsStrictRegex:this._monthsRegex):(f(this,"_monthsRegex")||(this._monthsRegex=jt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},cr.monthsShortRegex=function(e){return this._monthsParseExact?(f(this,"_monthsRegex")||Ft.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(f(this,"_monthsShortRegex")||(this._monthsShortRegex=Bt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},cr.week=function(e){return Ut(e,this._week.dow,this._week.doy).week},cr.firstDayOfYear=function(){return this._week.doy},cr.firstDayOfWeek=function(){return this._week.dow},cr.weekdays=function(e,t){return e?r(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:r(this._weekdays)?this._weekdays:this._weekdays.standalone},cr.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},cr.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},cr.weekdaysParse=function(e,t,n){var r,i,s;if(this._weekdaysParseExact)return function(e,t,n){var r,i,s,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=c([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Nt.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Nt.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Nt.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=Nt.call(this._weekdaysParse,o))?i:-1!==(i=Nt.call(this._shortWeekdaysParse,o))?i:-1!==(i=Nt.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Nt.call(this._shortWeekdaysParse,o))?i:-1!==(i=Nt.call(this._weekdaysParse,o))?i:-1!==(i=Nt.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Nt.call(this._minWeekdaysParse,o))?i:-1!==(i=Nt.call(this._weekdaysParse,o))?i:-1!==(i=Nt.call(this._shortWeekdaysParse,o))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=c([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},cr.weekdaysRegex=function(e){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(f(this,"_weekdaysRegex")||(this._weekdaysRegex=$t),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},cr.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(f(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Jt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},cr.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(f(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(f(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Kt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},cr.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},cr.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},an("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===E(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=T("moment.lang is deprecated. Use moment.locale instead.",an),n.langData=T("moment.langData is deprecated. Use moment.localeData instead.",ln);var vr=Math.abs,Er=wr("ms"),Sr=wr("s"),xr=wr("m"),Tr=wr("h"),Nr=wr("d"),Cr=wr("w"),kr=wr("M"),Lr=wr("y"),Or=Ar("milliseconds"),Mr=Ar("seconds"),_r=Ar("minutes"),Dr=Ar("hours"),Pr=Ar("days"),Hr=Ar("months"),Br=Ar("years"),jr=Math.round,Fr={ss:44,s:45,m:45,h:22,d:26,M:11},Ir=Math.abs,Ur=Dn.prototype;Ur.isValid=function(){return this._isValid},Ur.abs=function(){var e=this._data;return this._milliseconds=vr(this._milliseconds),this._days=vr(this._days),this._months=vr(this._months),e.milliseconds=vr(e.milliseconds),e.seconds=vr(e.seconds),e.minutes=vr(e.minutes),e.hours=vr(e.hours),e.months=vr(e.months),e.years=vr(e.years),this},Ur.add=function(e,t){return mr(this,e,t,1)},Ur.subtract=function(e,t){return mr(this,e,t,-1)},Ur.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=D(e))||"year"===e)return t=this._days+r/864e5,n=this._months+yr(t),"month"===e?n:n/12;switch(t=this._days+Math.round(br(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},Ur.asMilliseconds=Er,Ur.asSeconds=Sr,Ur.asMinutes=xr,Ur.asHours=Tr,Ur.asDays=Nr,Ur.asWeeks=Cr,Ur.asMonths=kr,Ur.asYears=Lr,Ur.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*E(this._months/12):NaN},Ur._bubble=function(){var e,t,n,r,i,s=this._milliseconds,o=this._days,u=this._months,a=this._data;return 0<=s&&0<=o&&0<=u||s<=0&&o<=0&&u<=0||(s+=864e5*gr(br(u)+o),u=o=0),a.milliseconds=s%1e3,e=w(s/1e3),a.seconds=e%60,t=w(e/60),a.minutes=t%60,n=w(t/60),a.hours=n%24,u+=i=w(yr(o+=w(n/24))),o-=gr(br(i)),r=w(u/12),u%=12,a.days=o,a.months=u,a.years=r,this},Ur.clone=function(){return Wn(this)},Ur.get=function(e){return e=D(e),this.isValid()?this[e+"s"]():NaN},Ur.milliseconds=Or,Ur.seconds=Mr,Ur.minutes=_r,Ur.hours=Dr,Ur.days=Pr,Ur.weeks=function(){return w(this.days()/7)},Ur.months=Hr,Ur.years=Br,Ur.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,n,r,i,s,o,u,a,f,l,c,h=this.localeData(),p=(n=!e,r=h,i=Wn(t=this).abs(),s=jr(i.as("s")),o=jr(i.as("m")),u=jr(i.as("h")),a=jr(i.as("d")),f=jr(i.as("M")),l=jr(i.as("y")),(c=s<=Fr.ss&&["s",s]||s<Fr.s&&["ss",s]||o<=1&&["m"]||o<Fr.m&&["mm",o]||u<=1&&["h"]||u<Fr.h&&["hh",u]||a<=1&&["d"]||a<Fr.d&&["dd",a]||f<=1&&["M"]||f<Fr.M&&["MM",f]||l<=1&&["y"]||["yy",l])[2]=n,c[3]=0<+t,c[4]=r,function(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}.apply(null,c));return e&&(p=h.pastFuture(+this,p)),h.postformat(p)},Ur.toISOString=Rr,Ur.toString=Rr,Ur.toJSON=Rr,Ur.locale=Yn,Ur.localeData=er,Ur.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Rr),Ur.lang=Zn,U("X",0,0,"unix"),U("x",0,0,"valueOf"),at("x",rt),at("X",/[+-]?\d+(\.\d{1,3})?/),ht("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),ht("x",function(e,t,n){n._d=new Date(E(e))}),n.version="2.22.2",e=Ln,n.fn=fr,n.min=function(){return Mn("isBefore",[].slice.call(arguments,0))},n.max=function(){return Mn("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+(new Date)},n.utc=c,n.unix=function(e){return Ln(1e3*e)},n.months=function(e,t){return pr(e,t,"months")},n.isDate=u,n.locale=an,n.invalid=d,n.duration=Wn,n.isMoment=b,n.weekdays=function(e,t,n){return dr(e,t,n,"weekdays")},n.parseZone=function(){return Ln.apply(null,arguments).parseZone()},n.localeData=ln,n.isDuration=Pn,n.monthsShort=function(e,t){return pr(e,t,"monthsShort")},n.weekdaysMin=function(e,t,n){return dr(e,t,n,"weekdaysMin")},n.defineLocale=fn,n.updateLocale=function(e,t){if(null!=t){var n,r,i=nn;null!=(r=un(e))&&(i=r._config),(n=new O(t=A(i,t))).parentLocale=rn[e],rn[e]=n,an(e)}else null!=rn[e]&&(null!=rn[e].parentLocale?rn[e]=rn[e].parentLocale:null!=rn[e]&&delete rn[e]);return rn[e]},n.locales=function(){return N(rn)},n.weekdaysShort=function(e,t,n){return dr(e,t,n,"weekdaysShort")},n.normalizeUnits=D,n.relativeTimeRounding=function(e){return void 0===e?jr:"function"==typeof e&&(jr=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==Fr[e]&&(void 0===t?Fr[e]:(Fr[e]=t,"s"===e&&(Fr.ss=t-1),!0))},n.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=fr,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},n.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}}),n.defineLocale("ar-dz",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اثنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"أح_إث_ثلا_أر_خم_جم_سب".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:4}}),n.defineLocale("ar-kw",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:12}});var zr={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},Wr=function(e){return 0===e?0:1===e?1:2===e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5},Xr={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},Vr=function(e){return function(t,n,r,i){var s=Wr(t),o=Xr[e][Wr(t)];return 2===s&&(o=o[n?0:1]),o.replace(/%d/i,t)}},$r=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];n.defineLocale("ar-ly",{months:$r,monthsShort:$r,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:Vr("s"),ss:Vr("s"),m:Vr("m"),mm:Vr("m"),h:Vr("h"),hh:Vr("h"),d:Vr("d"),dd:Vr("d"),M:Vr("M"),MM:Vr("M"),y:Vr("y"),yy:Vr("y")},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return zr[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}}),n.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:6,doy:12}});var Jr={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},Kr={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};n.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(e){return Kr[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Jr[e]}).replace(/,/g,"،")},week:{dow:0,doy:6}}),n.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}});var Qr={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},Gr={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},Yr=function(e){return 0===e?0:1===e?1:2===e?2:3<=e%100&&e%100<=10?3:11<=e%100?4:5},Zr={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},ei=function(e){return function(t,n,r,i){var s=Yr(t),o=Zr[e][Yr(t)];return 2===s&&(o=o[n?0:1]),o.replace(/%d/i,t)}},ti=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];n.defineLocale("ar",{months:ti,monthsShort:ti,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:ei("s"),ss:ei("s"),m:ei("m"),mm:ei("m"),h:ei("h"),hh:ei("h"),d:ei("d"),dd:ei("d"),M:ei("M"),MM:ei("M"),y:ei("y"),yy:ei("y")},preparse:function(e){return e.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(e){return Gr[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Qr[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}});var ni={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};n.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"birneçə saniyə",ss:"%d saniyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(e){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gecə":e<12?"səhər":e<17?"gündüz":"axşam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(e){if(0===e)return e+"-ıncı";var t=e%10;return e+(ni[t]||ni[e%100-t]||ni[100<=e?100:null])},week:{dow:1,doy:7}}),n.defineLocale("be",{months:{format:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_"),standalone:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_")},monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:{format:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_"),standalone:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:ri,mm:ri,h:ri,hh:ri,d:"дзень",dd:ri,M:"месяц",MM:ri,y:"год",yy:ri},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночы":e<12?"раніцы":e<17?"дня":"вечара"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-ы":e+"-і";case"D":return e+"-га";default:return e}},week:{dow:1,doy:7}}),n.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[В изминалата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[В изминалия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",ss:"%d секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дни",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":10<n&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}}),n.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mɛkalo_Zuwɛnkalo_Zuluyekalo_Utikalo_Sɛtanburukalo_ɔkutɔburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_Mɛ_Zuw_Zul_Uti_Sɛt_ɔku_Now_Des".split("_"),weekdays:"Kari_Ntɛnɛn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Ntɛ_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm"},calendar:{sameDay:"[Bi lɛrɛ] LT",nextDay:"[Sini lɛrɛ] LT",nextWeek:"dddd [don lɛrɛ] LT",lastDay:"[Kunu lɛrɛ] LT",lastWeek:"dddd [tɛmɛnen lɛrɛ] LT",sameElse:"L"},relativeTime:{future:"%s kɔnɔ",past:"a bɛ %s bɔ",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lɛrɛ kelen",hh:"lɛrɛ %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}});var ii={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},si={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};n.defineLocale("bn",{months:"জানুয়ারী_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব_মার্চ_এপ্র_মে_জুন_জুল_আগ_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গ_বুধ_বৃহঃ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",ss:"%d সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(e){return si[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return ii[e]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(e,t){return 12===e&&(e=0),"রাত"===t&&4<=e||"দুপুর"===t&&e<5||"বিকাল"===t?e+12:e},meridiem:function(e,t,n){return e<4?"রাত":e<10?"সকাল":e<17?"দুপুর":e<20?"বিকাল":"রাত"},week:{dow:0,doy:6}});var oi={1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"},ui={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"};n.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",ss:"%d སྐར་ཆ།",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(e){return e.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(e){return ui[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return oi[e]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(e,t){return 12===e&&(e=0),"མཚན་མོ"===t&&4<=e||"ཉིན་གུང"===t&&e<5||"དགོང་དག"===t?e+12:e},meridiem:function(e,t,n){return e<4?"མཚན་མོ":e<10?"ཞོགས་ཀས":e<17?"ཉིན་གུང":e<20?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}}),n.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondennoù",ss:"%d eilenn",m:"ur vunutenn",mm:ai,h:"un eur",hh:"%d eur",d:"un devezh",dd:ai,M:"ur miz",MM:ai,y:"ur bloaz",yy:function(e){switch(function t(e){return 9<e?t(e%10):e}(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(e){return e+(1===e?"añ":"vet")},week:{dow:1,doy:4}}),n.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:fi,m:fi,mm:fi,h:fi,hh:fi,d:"dan",dd:fi,M:"mjesec",MM:fi,y:"godinu",yy:fi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),n.defineLocale("ca",{months:{standalone:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de març_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}});var li="leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),ci="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_");n.defineLocale("cs",{months:li,monthsShort:ci,monthsParse:function(e,t){var n,r=[];for(n=0;n<12;n++)r[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return r}(li,ci),shortMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(ci),longMonthsParse:function(e){var t,n=[];for(t=0;t<12;t++)n[t]=new RegExp("^"+e[t]+"$","i");return n}(li),weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:pi,ss:pi,m:pi,mm:pi,h:pi,hh:pi,d:pi,dd:pi,M:pi,MM:pi,y:pi,yy:pi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("cv",{months:"кӑрлач_нарӑс_пуш_ака_май_ҫӗртме_утӑ_ҫурла_авӑн_юпа_чӳк_раштав".split("_"),monthsShort:"кӑр_нар_пуш_ака_май_ҫӗр_утӑ_ҫур_авн_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кӗҫнерникун_эрнекун_шӑматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кӗҫ_эрн_шӑм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кҫ_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ]",LLL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm",LLLL:"dddd, YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ӗнер] LT [сехетре]",nextWeek:"[Ҫитес] dddd LT [сехетре]",lastWeek:"[Иртнӗ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){return e+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(e)?"рен":/\u04ab\u0443\u043b$/i.exec(e)?"тан":"ран")},past:"%s каялла",s:"пӗр-ик ҫеккунт",ss:"%d ҫеккунт",m:"пӗр минут",mm:"%d минут",h:"пӗр сехет",hh:"%d сехет",d:"пӗр кун",dd:"%d кун",M:"пӗр уйӑх",MM:"%d уйӑх",y:"пӗр ҫул",yy:"%d ҫул"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-мӗш",week:{dow:1,doy:7}}),n.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return 20<e?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":0<e&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}}),n.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"på dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:di,mm:"%d Minuten",h:di,hh:"%d Stunden",d:di,dd:di,M:di,MM:di,y:di,yy:di},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("de-ch",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:vi,mm:"%d Minuten",h:vi,hh:"%d Stunden",d:vi,dd:vi,M:vi,MM:vi,y:vi,yy:vi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:mi,mm:"%d Minuten",h:mi,hh:"%d Stunden",d:mi,dd:mi,M:mi,MM:mi,y:mi,yy:mi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var gi=["ޖެނުއަރީ","ފެބްރުއަރީ","މާރިޗު","އޭޕްރީލު","މޭ","ޖޫން","ޖުލައި","އޯގަސްޓު","ސެޕްޓެމްބަރު","އޮކްޓޯބަރު","ނޮވެމްބަރު","ޑިސެމްބަރު"],yi=["އާދިއްތަ","ހޯމަ","އަންގާރަ","ބުދަ","ބުރާސްފަތި","ހުކުރު","ހޮނިހިރު"];n.defineLocale("dv",{months:gi,monthsShort:gi,weekdays:yi,weekdaysShort:yi,weekdaysMin:"އާދި_ހޯމަ_އަން_ބުދަ_ބުރާ_ހުކު_ހޮނި".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(e){return"މފ"===e},meridiem:function(e,t,n){return e<12?"މކ":"މފ"},calendar:{sameDay:"[މިއަދު] LT",nextDay:"[މާދަމާ] LT",nextWeek:"dddd LT",lastDay:"[އިއްޔެ] LT",lastWeek:"[ފާއިތުވި] dddd LT",sameElse:"L"},relativeTime:{future:"ތެރޭގައި %s",past:"ކުރިން %s",s:"ސިކުންތުކޮޅެއް",ss:"d% ސިކުންތު",m:"މިނިޓެއް",mm:"މިނިޓު %d",h:"ގަޑިއިރެއް",hh:"ގަޑިއިރު %d",d:"ދުވަހެއް",dd:"ދުވަސް %d",M:"މަހެއް",MM:"މަސް %d",y:"އަހަރެއް",yy:"އަހަރު %d"},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:7,doy:12}}),n.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,n){return 11<e?n?"μμ":"ΜΜ":n?"πμ":"ΠΜ"},isPM:function(e){return"μ"===(e+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[το προηγούμενο] dddd [{}] LT";default:return"[την προηγούμενη] dddd [{}] LT"}},sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],r=t&&t.hours();return L(n)&&(n=n.apply(t)),n.replace("{}",r%12==1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",ss:"%d δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%dη",week:{dow:1,doy:4}}),n.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),n.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),n.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),n.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),n.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec".split("_"),weekdays:"dimanĉo_lundo_mardo_merkredo_ĵaŭdo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_ĵaŭ_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_ĵa_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return 11<e?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"antaŭ %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});var bi="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),wi="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),Ei=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],Si=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;n.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?wi[e.month()]:bi[e.month()]:bi},monthsRegex:Si,monthsShortRegex:Si,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:Ei,longMonthsParse:Ei,shortMonthsParse:Ei,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%dº",week:{dow:1,doy:4}});var xi="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Ti="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");n.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?Ti[e.month()]:xi[e.month()]:xi},monthsParseExact:!0,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"MMMM [de] D [de] YYYY",LLL:"MMMM [de] D [de] YYYY h:mm A",LLLL:"dddd, MMMM [de] D [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%dº",week:{dow:0,doy:6}});var Ni="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Ci="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),ki=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],Li=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;n.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?Ci[e.month()]:Ni[e.month()]:Ni},monthsRegex:Li,monthsShortRegex:Li,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:ki,longMonthsParse:ki,shortMonthsParse:ki,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%dº",week:{dow:1,doy:4}}),n.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:Ai,ss:Ai,m:Ai,mm:Ai,h:Ai,hh:Ai,d:Ai,dd:"%d päeva",M:Ai,MM:Ai,y:Ai,yy:Ai},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Oi={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},Mi={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};n.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(e){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(e)},meridiem:function(e,t,n){return e<12?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چند ثانیه",ss:"ثانیه d%",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(e){return e.replace(/[\u06f0-\u06f9]/g,function(e){return Mi[e]}).replace(/\u060c/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return Oi[e]}).replace(/,/g,"،")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%dم",week:{dow:6,doy:12}});var _i="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),Di=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",_i[7],_i[8],_i[9]];n.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:Pi,ss:Pi,m:Pi,mm:Pi,h:Pi,hh:Pi,d:Pi,dd:Pi,M:Pi,MM:Pi,y:Pi,yy:Pi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",ss:"%d sekundir",m:"ein minutt",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaði",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}}),n.defineLocale("fr-ch",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}}),n.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}});var Hi="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),Bi="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");n.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?Bi[e.month()]:Hi[e.month()]:Hi},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}}),n.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Màrt","An Giblean","An Cèitean","An t-Ògmhios","An t-Iuchar","An Lùnastal","An t-Sultain","An Dàmhair","An t-Samhain","An Dùbhlachd"],monthsShort:["Faoi","Gear","Màrt","Gibl","Cèit","Ògmh","Iuch","Lùn","Sult","Dàmh","Samh","Dùbh"],monthsParseExact:!0,weekdays:["Didòmhnaich","Diluain","Dimàirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["Dò","Lu","Mà","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-màireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-dè aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mìos",MM:"%d mìosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}}),n.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuño_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xuñ._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mércores_xoves_venres_sábado".split("_"),weekdaysShort:"dom._lun._mar._mér._xov._ven._sáb.".split("_"),weekdaysMin:"do_lu_ma_mé_xo_ve_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%dº",week:{dow:1,doy:4}}),n.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:ji,ss:ji,m:ji,mm:ji,h:ji,hh:ji,d:ji,dd:ji,M:ji,MM:ji,y:ji,yy:ji},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokalli"===t?e:"donparam"===t?12<e?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokalli":e<16?"donparam":e<20?"sanje":"rati"}});var Fi={1:"૧",2:"૨",3:"૩",4:"૪",5:"૫",6:"૬",7:"૭",8:"૮",9:"૯",0:"૦"},Ii={"૧":"1","૨":"2","૩":"3","૪":"4","૫":"5","૬":"6","૭":"7","૮":"8","૯":"9","૦":"0"};n.defineLocale("gu",{months:"જાન્યુઆરી_ફેબ્રુઆરી_માર્ચ_એપ્રિલ_મે_જૂન_જુલાઈ_ઑગસ્ટ_સપ્ટેમ્બર_ઑક્ટ્બર_નવેમ્બર_ડિસેમ્બર".split("_"),monthsShort:"જાન્યુ._ફેબ્રુ._માર્ચ_એપ્રિ._મે_જૂન_જુલા._ઑગ._સપ્ટે._ઑક્ટ્._નવે._ડિસે.".split("_"),monthsParseExact:!0,weekdays:"રવિવાર_સોમવાર_મંગળવાર_બુધ્વાર_ગુરુવાર_શુક્રવાર_શનિવાર".split("_"),weekdaysShort:"રવિ_સોમ_મંગળ_બુધ્_ગુરુ_શુક્ર_શનિ".split("_"),weekdaysMin:"ર_સો_મં_બુ_ગુ_શુ_શ".split("_"),longDateFormat:{LT:"A h:mm વાગ્યે",LTS:"A h:mm:ss વાગ્યે",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm વાગ્યે",LLLL:"dddd, D MMMM YYYY, A h:mm વાગ્યે"},calendar:{sameDay:"[આજ] LT",nextDay:"[કાલે] LT",nextWeek:"dddd, LT",lastDay:"[ગઇકાલે] LT",lastWeek:"[પાછલા] dddd, LT",sameElse:"L"},relativeTime:{future:"%s મા",past:"%s પેહલા",s:"અમુક પળો",ss:"%d સેકંડ",m:"એક મિનિટ",mm:"%d મિનિટ",h:"એક કલાક",hh:"%d કલાક",d:"એક દિવસ",dd:"%d દિવસ",M:"એક મહિનો",MM:"%d મહિનો",y:"એક વર્ષ",yy:"%d વર્ષ"},preparse:function(e){return e.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(e){return Ii[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Fi[e]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(e,t){return 12===e&&(e=0),"રાત"===t?e<4?e:e+12:"સવાર"===t?e:"બપોર"===t?10<=e?e:e+12:"સાંજ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"રાત":e<10?"સવાર":e<17?"બપોર":e<20?"સાંજ":"રાત"},week:{dow:0,doy:6}}),n.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY HH:mm",LLLL:"dddd, D [ב]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",ss:"%d שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){return 2===e?"שעתיים":e+" שעות"},d:"יום",dd:function(e){return 2===e?"יומיים":e+" ימים"},M:"חודש",MM:function(e){return 2===e?"חודשיים":e+" חודשים"},y:"שנה",yy:function(e){return 2===e?"שנתיים":e%10==0&&10!==e?e+" שנה":e+" שנים"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(e){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(e)},meridiem:function(e,t,n){return e<5?"לפנות בוקר":e<10?"בבוקר":e<12?n?'לפנה"צ':"לפני הצהריים":e<18?n?'אחה"צ':"אחרי הצהריים":"בערב"}});var qi={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},Ri={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};n.defineLocale("hi",{months:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",ss:"%d सेकंड",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return Ri[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return qi[e]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात"===t?e<4?e:e+12:"सुबह"===t?e:"दोपहर"===t?10<=e?e:e+12:"शाम"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"रात":e<10?"सुबह":e<17?"दोपहर":e<20?"शाम":"रात"},week:{dow:0,doy:6}}),n.defineLocale("hr",{months:{format:"siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:Ui,m:Ui,mm:Ui,h:Ui,hh:Ui,d:"dan",dd:Ui,M:"mjesec",MM:Ui,y:"godinu",yy:Ui},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var zi="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");n.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return Xi.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return Xi.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:Wi,ss:Wi,m:Wi,mm:Wi,h:Wi,hh:Wi,d:Wi,dd:Wi,M:Wi,MM:Wi,y:Wi,yy:Wi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("hy-am",{months:{format:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_"),standalone:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_")},monthsShort:"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_"),weekdays:"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_"),weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., HH:mm",LLLL:"dddd, D MMMM YYYY թ., HH:mm"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",ss:"%d վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(e){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(e)},meridiem:function(e){return e<4?"գիշերվա":e<12?"առավոտվա":e<17?"ցերեկվա":"երեկոյան"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-ին":e+"-րդ";default:return e}},week:{dow:1,doy:7}}),n.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?11<=e?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),n.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:$i,ss:$i,m:$i,mm:$i,h:"klukkustund",hh:$i,d:$i,dd:$i,M:$i,MM:$i,y:$i,yy:$i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%dº",week:{dow:1,doy:4}}),n.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(e){return"午後"===e},meridiem:function(e,t,n){return e<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:function(e){return e.week()<this.week()?"[来週]dddd LT":"dddd LT"},lastDay:"[昨日] LT",lastWeek:function(e){return this.week()<e.week()?"[先週]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",ss:"%d秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}}),n.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?11<=e?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),n.defineLocale("ka",{months:{standalone:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),format:"იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს".split("_")},monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:{standalone:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),format:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10ec\u10d4\u10da\u10d8)/.test(e)?e.replace(/\u10d8$/,"ში"):e+"ში"},past:function(e){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(e)?e.replace(/(\u10d8|\u10d4)$/,"ის წინ"):/\u10ec\u10d4\u10da\u10d8/.test(e)?e.replace(/\u10ec\u10d4\u10da\u10d8$/,"წლის წინ"):void 0},s:"რამდენიმე წამი",ss:"%d წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(e){return 0===e?e:1===e?e+"-ლი":e<20||e<=100&&e%20==0||e%100==0?"მე-"+e:e+"-ე"},week:{dow:1,doy:7}});var Ji={0:"-ші",1:"-ші",2:"-ші",3:"-ші",4:"-ші",5:"-ші",6:"-шы",7:"-ші",8:"-ші",9:"-шы",10:"-шы",20:"-шы",30:"-шы",40:"-шы",50:"-ші",60:"-шы",70:"-ші",80:"-ші",90:"-шы",100:"-ші"};n.defineLocale("kk",{months:"қаңтар_ақпан_наурыз_сәуір_мамыр_маусым_шілде_тамыз_қыркүйек_қазан_қараша_желтоқсан".split("_"),monthsShort:"қаң_ақп_нау_сәу_мам_мау_шіл_там_қыр_қаз_қар_жел".split("_"),weekdays:"жексенбі_дүйсенбі_сейсенбі_сәрсенбі_бейсенбі_жұма_сенбі".split("_"),weekdaysShort:"жек_дүй_сей_сәр_бей_жұм_сен".split("_"),weekdaysMin:"жк_дй_сй_ср_бй_жм_сн".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгін сағат] LT",nextDay:"[Ертең сағат] LT",nextWeek:"dddd [сағат] LT",lastDay:"[Кеше сағат] LT",lastWeek:"[Өткен аптаның] dddd [сағат] LT",sameElse:"L"},relativeTime:{future:"%s ішінде",past:"%s бұрын",s:"бірнеше секунд",ss:"%d секунд",m:"бір минут",mm:"%d минут",h:"бір сағат",hh:"%d сағат",d:"бір күн",dd:"%d күн",M:"бір ай",MM:"%d ай",y:"бір жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(e){return e+(Ji[e]||Ji[e%10]||Ji[100<=e?100:null])},week:{dow:1,doy:7}});var Ki={1:"១",2:"២",3:"៣",4:"៤",5:"៥",6:"៦",7:"៧",8:"៨",9:"៩",0:"០"},Qi={"១":"1","២":"2","៣":"3","៤":"4","៥":"5","៦":"6","៧":"7","៨":"8","៩":"9","០":"0"};n.defineLocale("km",{months:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),weekdaysMin:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(e){return"ល្ងាច"===e},meridiem:function(e,t,n){return e<12?"ព្រឹក":"ល្ងាច"},calendar:{sameDay:"[ថ្ងៃនេះ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",ss:"%d វិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"ទី%d",preparse:function(e){return e.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(e){return Qi[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Ki[e]})},week:{dow:1,doy:4}});var Gi={1:"೧",2:"೨",3:"೩",4:"೪",5:"೫",6:"೬",7:"೭",8:"೮",9:"೯",0:"೦"},Yi={"೧":"1","೨":"2","೩":"3","೪":"4","೫":"5","೬":"6","೭":"7","೮":"8","೯":"9","೦":"0"};n.defineLocale("kn",{months:"ಜನವರಿ_ಫೆಬ್ರವರಿ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂಬರ್_ಅಕ್ಟೋಬರ್_ನವೆಂಬರ್_ಡಿಸೆಂಬರ್".split("_"),monthsShort:"ಜನ_ಫೆಬ್ರ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂ_ಅಕ್ಟೋ_ನವೆಂ_ಡಿಸೆಂ".split("_"),monthsParseExact:!0,weekdays:"ಭಾನುವಾರ_ಸೋಮವಾರ_ಮಂಗಳವಾರ_ಬುಧವಾರ_ಗುರುವಾರ_ಶುಕ್ರವಾರ_ಶನಿವಾರ".split("_"),weekdaysShort:"ಭಾನು_ಸೋಮ_ಮಂಗಳ_ಬುಧ_ಗುರು_ಶುಕ್ರ_ಶನಿ".split("_"),weekdaysMin:"ಭಾ_ಸೋ_ಮಂ_ಬು_ಗು_ಶು_ಶ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[ಇಂದು] LT",nextDay:"[ನಾಳೆ] LT",nextWeek:"dddd, LT",lastDay:"[ನಿನ್ನೆ] LT",lastWeek:"[ಕೊನೆಯ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ನಂತರ",past:"%s ಹಿಂದೆ",s:"ಕೆಲವು ಕ್ಷಣಗಳು",ss:"%d ಸೆಕೆಂಡುಗಳು",m:"ಒಂದು ನಿಮಿಷ",mm:"%d ನಿಮಿಷ",h:"ಒಂದು ಗಂಟೆ",hh:"%d ಗಂಟೆ",d:"ಒಂದು ದಿನ",dd:"%d ದಿನ",M:"ಒಂದು ತಿಂಗಳು",MM:"%d ತಿಂಗಳು",y:"ಒಂದು ವರ್ಷ",yy:"%d ವರ್ಷ"},preparse:function(e){return e.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(e){return Yi[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Gi[e]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(e,t){return 12===e&&(e=0),"ರಾತ್ರಿ"===t?e<4?e:e+12:"ಬೆಳಿಗ್ಗೆ"===t?e:"ಮಧ್ಯಾಹ್ನ"===t?10<=e?e:e+12:"ಸಂಜೆ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ರಾತ್ರಿ":e<10?"ಬೆಳಿಗ್ಗೆ":e<17?"ಮಧ್ಯಾಹ್ನ":e<20?"ಸಂಜೆ":"ರಾತ್ರಿ"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(e){return e+"ನೇ"},week:{dow:0,doy:6}}),n.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",ss:"%d초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"일";case"M":return e+"월";case"w":case"W":return e+"주";default:return e}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(e){return"오후"===e},meridiem:function(e,t,n){return e<12?"오전":"오후"}});var Zi={0:"-чү",1:"-чи",2:"-чи",3:"-чү",4:"-чү",5:"-чи",6:"-чы",7:"-чи",8:"-чи",9:"-чу",10:"-чу",20:"-чы",30:"-чу",40:"-чы",50:"-чү",60:"-чы",70:"-чи",80:"-чи",90:"-чу",100:"-чү"};n.defineLocale("ky",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),weekdays:"Жекшемби_Дүйшөмбү_Шейшемби_Шаршемби_Бейшемби_Жума_Ишемби".split("_"),weekdaysShort:"Жек_Дүй_Шей_Шар_Бей_Жум_Ише".split("_"),weekdaysMin:"Жк_Дй_Шй_Шр_Бй_Жм_Иш".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгүн саат] LT",nextDay:"[Эртең саат] LT",nextWeek:"dddd [саат] LT",lastDay:"[Кече саат] LT",lastWeek:"[Өткен аптанын] dddd [күнү] [саат] LT",sameElse:"L"},relativeTime:{future:"%s ичинде",past:"%s мурун",s:"бирнече секунд",ss:"%d секунд",m:"бир мүнөт",mm:"%d мүнөт",h:"бир саат",hh:"%d саат",d:"бир күн",dd:"%d күн",M:"бир ай",MM:"%d ай",y:"бир жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(e){return e+(Zi[e]||Zi[e%10]||Zi[100<=e?100:null])},week:{dow:1,doy:7}}),n.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return ts(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return ts(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:es,mm:"%d Minutten",h:es,hh:"%d Stonnen",d:es,dd:"%d Deeg",M:es,MM:"%d Méint",y:es,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("lo",{months:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),monthsShort:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),weekdays:"ອາທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysShort:"ທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysMin:"ທ_ຈ_ອຄ_ພ_ພຫ_ສກ_ສ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ວັນdddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(e){return"ຕອນແລງ"===e},meridiem:function(e,t,n){return e<12?"ຕອນເຊົ້າ":"ຕອນແລງ"},calendar:{sameDay:"[ມື້ນີ້ເວລາ] LT",nextDay:"[ມື້ອື່ນເວລາ] LT",nextWeek:"[ວັນ]dddd[ໜ້າເວລາ] LT",lastDay:"[ມື້ວານນີ້ເວລາ] LT",lastWeek:"[ວັນ]dddd[ແລ້ວນີ້ເວລາ] LT",sameElse:"L"},relativeTime:{future:"ອີກ %s",past:"%sຜ່ານມາ",s:"ບໍ່ເທົ່າໃດວິນາທີ",ss:"%d ວິນາທີ",m:"1 ນາທີ",mm:"%d ນາທີ",h:"1 ຊົ່ວໂມງ",hh:"%d ຊົ່ວໂມງ",d:"1 ມື້",dd:"%d ມື້",M:"1 ເດືອນ",MM:"%d ເດືອນ",y:"1 ປີ",yy:"%d ປີ"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(e){return"ທີ່"+e}});var ns={ss:"sekundė_sekundžių_sekundes",m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"};n.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegužė_birželis_liepa_rugpjūtis_rugsėjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadienį_pirmadienį_antradienį_trečiadienį_ketvirtadienį_penktadienį_šeštadienį".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:function(e,t,n,r){return t?"kelios sekundės":r?"kelių sekundžių":"kelias sekundes"},ss:os,m:rs,mm:os,h:rs,hh:os,d:rs,dd:os,M:rs,MM:os,y:rs,yy:os},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}});var us={ss:"sekundes_sekundēm_sekunde_sekundes".split("_"),m:"minūtes_minūtēm_minūte_minūtes".split("_"),mm:"minūtes_minūtēm_minūte_minūtes".split("_"),h:"stundas_stundām_stunda_stundas".split("_"),hh:"stundas_stundām_stunda_stundas".split("_"),d:"dienas_dienām_diena_dienas".split("_"),dd:"dienas_dienām_diena_dienas".split("_"),M:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),MM:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};n.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pēc %s",past:"pirms %s",s:function(e,t){return t?"dažas sekundes":"dažām sekundēm"},ss:fs,m:ls,mm:fs,h:ls,hh:fs,d:ls,dd:fs,M:ls,MM:fs,y:ls,yy:fs},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var cs={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:2<=e&&e<=4?t[1]:t[2]},translate:function(e,t,n){var r=cs.words[n];return 1===n.length?t?r[0]:r[1]:e+" "+cs.correctGrammaticalCase(e,r)}};n.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedjelje] [u] LT","[prošlog] [ponedjeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srijede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:cs.translate,m:cs.translate,mm:cs.translate,h:cs.translate,hh:cs.translate,d:"dan",dd:cs.translate,M:"mjesec",MM:cs.translate,y:"godinu",yy:cs.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),n.defineLocale("mi",{months:"Kohi-tāte_Hui-tanguru_Poutū-te-rangi_Paenga-whāwhā_Haratua_Pipiri_Hōngoingoi_Here-turi-kōkā_Mahuru_Whiringa-ā-nuku_Whiringa-ā-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hōngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rātapu_Mane_Tūrei_Wenerei_Tāite_Paraire_Hātarei".split("_"),weekdaysShort:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),weekdaysMin:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hēkona ruarua",ss:"%d hēkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%dº",week:{dow:1,doy:4}}),n.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"[Во] dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"после %s",past:"пред %s",s:"неколку секунди",ss:"%d секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",M:"месец",MM:"%d месеци",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":10<n&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}}),n.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),monthsParseExact:!0,weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -നു",LLLL:"dddd, D MMMM YYYY, A h:mm -നു"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",ss:"%d സെക്കൻഡ്",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(e,t){return 12===e&&(e=0),"രാത്രി"===t&&4<=e||"ഉച്ച കഴിഞ്ഞ്"===t||"വൈകുന്നേരം"===t?e+12:e},meridiem:function(e,t,n){return e<4?"രാത്രി":e<12?"രാവിലെ":e<17?"ഉച്ച കഴിഞ്ഞ്":e<20?"വൈകുന്നേരം":"രാത്രി"}}),n.defineLocale("mn",{months:"Нэгдүгээр сар_Хоёрдугаар сар_Гуравдугаар сар_Дөрөвдүгээр сар_Тавдугаар сар_Зургадугаар сар_Долдугаар сар_Наймдугаар сар_Есдүгээр сар_Аравдугаар сар_Арван нэгдүгээр сар_Арван хоёрдугаар сар".split("_"),monthsShort:"1 сар_2 сар_3 сар_4 сар_5 сар_6 сар_7 сар_8 сар_9 сар_10 сар_11 сар_12 сар".split("_"),monthsParseExact:!0,weekdays:"Ням_Даваа_Мягмар_Лхагва_Пүрэв_Баасан_Бямба".split("_"),weekdaysShort:"Ням_Дав_Мяг_Лха_Пүр_Баа_Бям".split("_"),weekdaysMin:"Ня_Да_Мя_Лх_Пү_Ба_Бя".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY оны MMMMын D",LLL:"YYYY оны MMMMын D HH:mm",LLLL:"dddd, YYYY оны MMMMын D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(e){return"ҮХ"===e},meridiem:function(e,t,n){return e<12?"ҮӨ":"ҮХ"},calendar:{sameDay:"[Өнөөдөр] LT",nextDay:"[Маргааш] LT",nextWeek:"[Ирэх] dddd LT",lastDay:"[Өчигдөр] LT",lastWeek:"[Өнгөрсөн] dddd LT",sameElse:"L"},relativeTime:{future:"%s дараа",past:"%s өмнө",s:hs,ss:hs,m:hs,mm:hs,h:hs,hh:hs,d:hs,dd:hs,M:hs,MM:hs,y:hs,yy:hs},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" өдөр";default:return e}}});var ps={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},ds={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};n.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm वाजता",LLLL:"dddd, D MMMM YYYY, A h:mm वाजता"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%sमध्ये",past:"%sपूर्वी",s:vs,ss:vs,m:vs,mm:vs,h:vs,hh:vs,d:vs,dd:vs,M:vs,MM:vs,y:vs,yy:vs},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return ds[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return ps[e]})},meridiemParse:/\u0930\u093e\u0924\u094d\u0930\u0940|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात्री"===t?e<4?e:e+12:"सकाळी"===t?e:"दुपारी"===t?10<=e?e:e+12:"सायंकाळी"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"रात्री":e<10?"सकाळी":e<17?"दुपारी":e<20?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}}),n.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?11<=e?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),n.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?11<=e?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),n.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_Ġunju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diċembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_Ġun_Lul_Aww_Set_Ott_Nov_Diċ".split("_"),weekdays:"Il-Ħadd_It-Tnejn_It-Tlieta_L-Erbgħa_Il-Ħamis_Il-Ġimgħa_Is-Sibt".split("_"),weekdaysShort:"Ħad_Tne_Tli_Erb_Ħam_Ġim_Sib".split("_"),weekdaysMin:"Ħa_Tn_Tl_Er_Ħa_Ġi_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Għada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-bieraħ fil-]LT",lastWeek:"dddd [li għadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f’ %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siegħa",hh:"%d siegħat",d:"ġurnata",dd:"%d ġranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%dº",week:{dow:1,doy:4}});var ms={1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"},gs={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"};n.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",ss:"%d စက္ကန့်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(e){return e.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(e){return gs[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return ms[e]})},week:{dow:1,doy:4}}),n.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var ys={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},bs={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};n.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),monthsParseExact:!0,weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आ._सो._मं._बु._बि._शु._श.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aको h:mm बजे",LLLL:"dddd, D MMMM YYYY, Aको h:mm बजे"},preparse:function(e){return e.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(e){return bs[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return ys[e]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(e,t){return 12===e&&(e=0),"राति"===t?e<4?e:e+12:"बिहान"===t?e:"दिउँसो"===t?10<=e?e:e+12:"साँझ"===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"राति":e<12?"बिहान":e<16?"दिउँसो":e<20?"साँझ":"राति"},calendar:{sameDay:"[आज] LT",nextDay:"[भोलि] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडि",s:"केही क्षण",ss:"%d सेकेण्ड",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:0,doy:6}});var ws="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),Es="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),Ss=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],xs=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;n.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?Es[e.month()]:ws[e.month()]:ws},monthsRegex:xs,monthsShortRegex:xs,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:Ss,longMonthsParse:Ss,shortMonthsParse:Ss,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}});var Ts="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),Ns="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),Cs=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],ks=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;n.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?Ns[e.month()]:Ts[e.month()]:Ts},monthsRegex:ks,monthsShortRegex:ks,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:Cs,longMonthsParse:Cs,shortMonthsParse:Cs,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}}),n.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mån_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_må_ty_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Ls={1:"੧",2:"੨",3:"੩",4:"੪",5:"੫",6:"੬",7:"੭",8:"੮",9:"੯",0:"੦"},As={"੧":"1","੨":"2","੩":"3","੪":"4","੫":"5","੬":"6","੭":"7","੮":"8","੯":"9","੦":"0"};n.defineLocale("pa-in",{months:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),monthsShort:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),weekdays:"ਐਤਵਾਰ_ਸੋਮਵਾਰ_ਮੰਗਲਵਾਰ_ਬੁਧਵਾਰ_ਵੀਰਵਾਰ_ਸ਼ੁੱਕਰਵਾਰ_ਸ਼ਨੀਚਰਵਾਰ".split("_"),weekdaysShort:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),weekdaysMin:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),longDateFormat:{LT:"A h:mm ਵਜੇ",LTS:"A h:mm:ss ਵਜੇ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ਵਜੇ",LLLL:"dddd, D MMMM YYYY, A h:mm ਵਜੇ"},calendar:{sameDay:"[ਅਜ] LT",nextDay:"[ਕਲ] LT",nextWeek:"[ਅਗਲਾ] dddd, LT",lastDay:"[ਕਲ] LT",lastWeek:"[ਪਿਛਲੇ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ਵਿੱਚ",past:"%s ਪਿਛਲੇ",s:"ਕੁਝ ਸਕਿੰਟ",ss:"%d ਸਕਿੰਟ",m:"ਇਕ ਮਿੰਟ",mm:"%d ਮਿੰਟ",h:"ਇੱਕ ਘੰਟਾ",hh:"%d ਘੰਟੇ",d:"ਇੱਕ ਦਿਨ",dd:"%d ਦਿਨ",M:"ਇੱਕ ਮਹੀਨਾ",MM:"%d ਮਹੀਨੇ",y:"ਇੱਕ ਸਾਲ",yy:"%d ਸਾਲ"},preparse:function(e){return e.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(e){return As[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Ls[e]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(e,t){return 12===e&&(e=0),"ਰਾਤ"===t?e<4?e:e+12:"ਸਵੇਰ"===t?e:"ਦੁਪਹਿਰ"===t?10<=e?e:e+12:"ਸ਼ਾਮ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ਰਾਤ":e<10?"ਸਵੇਰ":e<17?"ਦੁਪਹਿਰ":e<20?"ਸ਼ਾਮ":"ਰਾਤ"},week:{dow:0,doy:6}});var Os="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),Ms="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");n.defineLocale("pl",{months:function(e,t){return e?""===t?"("+Ms[e.month()]+"|"+Os[e.month()]+")":/D MMMM/.test(t)?Ms[e.month()]:Os[e.month()]:Os},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_śr_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedzielę o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W środę o] LT";case 6:return"[W sobotę o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:Ds,m:Ds,mm:Ds,h:Ds,hh:Ds,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:Ds,y:"rok",yy:Ds},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%dº"}),n.defineLocale("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%dº",week:{dow:1,doy:4}}),n.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",ss:Ps,m:"un minut",mm:Ps,h:"o oră",hh:Ps,d:"o zi",dd:Ps,M:"o lună",MM:Ps,y:"un an",yy:Ps},week:{dow:1,doy:7}});var Bs=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];n.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?\] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:Bs,longMonthsParse:Bs,shortMonthsParse:Bs,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},calendar:{sameDay:"[Сегодня, в] LT",nextDay:"[Завтра, в] LT",lastDay:"[Вчера, в] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В следующее] dddd, [в] LT";case 1:case 2:case 4:return"[В следующий] dddd, [в] LT";case 3:case 5:case 6:return"[В следующую] dddd, [в] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd, [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd, [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd, [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",ss:Hs,m:Hs,mm:Hs,h:"час",hh:Hs,d:"день",dd:Hs,M:"месяц",MM:Hs,y:"год",yy:Hs},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночи":e<12?"утра":e<17?"дня":"вечера"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:4}});var js=["جنوري","فيبروري","مارچ","اپريل","مئي","جون","جولاءِ","آگسٽ","سيپٽمبر","آڪٽوبر","نومبر","ڊسمبر"],Fs=["آچر","سومر","اڱارو","اربع","خميس","جمع","ڇنڇر"];n.defineLocale("sd",{months:js,monthsShort:js,weekdays:Fs,weekdaysShort:Fs,weekdaysMin:Fs,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[اڄ] LT",nextDay:"[سڀاڻي] LT",nextWeek:"dddd [اڳين هفتي تي] LT",lastDay:"[ڪالهه] LT",lastWeek:"[گزريل هفتي] dddd [تي] LT",sameElse:"L"},relativeTime:{future:"%s پوء",past:"%s اڳ",s:"چند سيڪنڊ",ss:"%d سيڪنڊ",m:"هڪ منٽ",mm:"%d منٽ",h:"هڪ ڪلاڪ",hh:"%d ڪلاڪ",d:"هڪ ڏينهن",dd:"%d ڏينهن",M:"هڪ مهينو",MM:"%d مهينا",y:"هڪ سال",yy:"%d سال"},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}}),n.defineLocale("se",{months:"ođđajagemánnu_guovvamánnu_njukčamánnu_cuoŋománnu_miessemánnu_geassemánnu_suoidnemánnu_borgemánnu_čakčamánnu_golggotmánnu_skábmamánnu_juovlamánnu".split("_"),monthsShort:"ođđj_guov_njuk_cuo_mies_geas_suoi_borg_čakč_golg_skáb_juov".split("_"),weekdays:"sotnabeaivi_vuossárga_maŋŋebárga_gaskavahkku_duorastat_bearjadat_lávvardat".split("_"),weekdaysShort:"sotn_vuos_maŋ_gask_duor_bear_láv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geažes",past:"maŋit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mánnu",MM:"%d mánut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("si",{months:"ජනවාරි_පෙබරවාරි_මාර්තු_අප්‍රේල්_මැයි_ජූනි_ජූලි_අගෝස්තු_සැප්තැම්බර්_ඔක්තෝබර්_නොවැම්බර්_දෙසැම්බර්".split("_"),monthsShort:"ජන_පෙබ_මාර්_අප්_මැයි_ජූනි_ජූලි_අගෝ_සැප්_ඔක්_නොවැ_දෙසැ".split("_"),weekdays:"ඉරිදා_සඳුදා_අඟහරුවාදා_බදාදා_බ්‍රහස්පතින්දා_සිකුරාදා_සෙනසුරාදා".split("_"),weekdaysShort:"ඉරි_සඳු_අඟ_බදා_බ්‍රහ_සිකු_සෙන".split("_"),weekdaysMin:"ඉ_ස_අ_බ_බ්‍ර_සි_සෙ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [වැනි] dddd, a h:mm:ss"},calendar:{sameDay:"[අද] LT[ට]",nextDay:"[හෙට] LT[ට]",nextWeek:"dddd LT[ට]",lastDay:"[ඊයේ] LT[ට]",lastWeek:"[පසුගිය] dddd LT[ට]",sameElse:"L"},relativeTime:{future:"%sකින්",past:"%sකට පෙර",s:"තත්පර කිහිපය",ss:"තත්පර %d",m:"මිනිත්තුව",mm:"මිනිත්තු %d",h:"පැය",hh:"පැය %d",d:"දිනය",dd:"දින %d",M:"මාසය",MM:"මාස %d",y:"වසර",yy:"වසර %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(e){return e+" වැනි"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(e){return"ප.ව."===e||"පස් වරු"===e},meridiem:function(e,t,n){return 11<e?n?"ප.ව.":"පස් වරු":n?"පෙ.ව.":"පෙර වරු"}});var Is="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),qs="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");n.defineLocale("sk",{months:Is,monthsShort:qs,weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 4:case 5:return"[minulý] dddd [o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:Us,ss:Us,m:Us,mm:Us,h:Us,hh:Us,d:Us,dd:Us,M:Us,MM:Us,y:Us,yy:Us},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejšnjo] [nedeljo] [ob] LT";case 3:return"[prejšnjo] [sredo] [ob] LT";case 6:return"[prejšnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"pred %s",s:zs,ss:zs,m:zs,mm:zs,h:zs,hh:zs,d:zs,dd:zs,M:zs,MM:zs,y:zs,yy:zs},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),n.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",ss:"%d sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Ws={words:{ss:["секунда","секунде","секунди"],m:["један минут","једне минуте"],mm:["минут","минуте","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],dd:["дан","дана","дана"],MM:["месец","месеца","месеци"],yy:["година","године","година"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:2<=e&&e<=4?t[1]:t[2]},translate:function(e,t,n){var r=Ws.words[n];return 1===n.length?t?r[0]:r[1]:e+" "+Ws.correctGrammaticalCase(e,r)}};n.defineLocale("sr-cyrl",{months:"јануар_фебруар_март_април_мај_јун_јул_август_септембар_октобар_новембар_децембар".split("_"),monthsShort:"јан._феб._мар._апр._мај_јун_јул_авг._сеп._окт._нов._дец.".split("_"),monthsParseExact:!0,weekdays:"недеља_понедељак_уторак_среда_четвртак_петак_субота".split("_"),weekdaysShort:"нед._пон._уто._сре._чет._пет._суб.".split("_"),weekdaysMin:"не_по_ут_ср_че_пе_су".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){return["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",ss:Ws.translate,m:Ws.translate,mm:Ws.translate,h:Ws.translate,hh:Ws.translate,d:"дан",dd:Ws.translate,M:"месец",MM:Ws.translate,y:"годину",yy:Ws.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Xs={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:2<=e&&e<=4?t[1]:t[2]},translate:function(e,t,n){var r=Xs.words[n];return 1===n.length?t?r[0]:r[1]:e+" "+Xs.correctGrammaticalCase(e,r)}};n.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:Xs.translate,m:Xs.translate,mm:Xs.translate,h:Xs.translate,hh:Xs.translate,d:"dan",dd:Xs.translate,M:"mesec",MM:Xs.translate,y:"godinu",yy:Xs.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),n.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?11<=e?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),n.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"e":1===t?"a":2===t?"a":"e")},week:{dow:1,doy:4}}),n.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});var Vs={1:"௧",2:"௨",3:"௩",4:"௪",5:"௫",6:"௬",7:"௭",8:"௮",9:"௯",0:"௦"},$s={"௧":"1","௨":"2","௩":"3","௪":"4","௫":"5","௬":"6","௭":"7","௮":"8","௯":"9","௦":"0"};n.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",ss:"%d விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(e){return e+"வது"},preparse:function(e){return e.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(e){return $s[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return Vs[e]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(e,t,n){return e<2?" யாமம்":e<6?" வைகறை":e<10?" காலை":e<14?" நண்பகல்":e<18?" எற்பாடு":e<22?" மாலை":" யாமம்"},meridiemHour:function(e,t){return 12===e&&(e=0),"யாமம்"===t?e<2?e:e+12:"வைகறை"===t||"காலை"===t?e:"நண்பகல்"===t&&10<=e?e:e+12},week:{dow:0,doy:6}}),n.defineLocale("te",{months:"జనవరి_ఫిబ్రవరి_మార్చి_ఏప్రిల్_మే_జూన్_జూలై_ఆగస్టు_సెప్టెంబర్_అక్టోబర్_నవంబర్_డిసెంబర్".split("_"),monthsShort:"జన._ఫిబ్ర._మార్చి_ఏప్రి._మే_జూన్_జూలై_ఆగ._సెప్._అక్టో._నవ._డిసె.".split("_"),monthsParseExact:!0,weekdays:"ఆదివారం_సోమవారం_మంగళవారం_బుధవారం_గురువారం_శుక్రవారం_శనివారం".split("_"),weekdaysShort:"ఆది_సోమ_మంగళ_బుధ_గురు_శుక్ర_శని".split("_"),weekdaysMin:"ఆ_సో_మం_బు_గు_శు_శ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[నేడు] LT",nextDay:"[రేపు] LT",nextWeek:"dddd, LT",lastDay:"[నిన్న] LT",lastWeek:"[గత] dddd, LT",sameElse:"L"},relativeTime:{future:"%s లో",past:"%s క్రితం",s:"కొన్ని క్షణాలు",ss:"%d సెకన్లు",m:"ఒక నిమిషం",mm:"%d నిమిషాలు",h:"ఒక గంట",hh:"%d గంటలు",d:"ఒక రోజు",dd:"%d రోజులు",M:"ఒక నెల",MM:"%d నెలలు",y:"ఒక సంవత్సరం",yy:"%d సంవత్సరాలు"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%dవ",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(e,t){return 12===e&&(e=0),"రాత్రి"===t?e<4?e:e+12:"ఉదయం"===t?e:"మధ్యాహ్నం"===t?10<=e?e:e+12:"సాయంత్రం"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"రాత్రి":e<10?"ఉదయం":e<17?"మధ్యాహ్నం":e<20?"సాయంత్రం":"రాత్రి"},week:{dow:0,doy:6}}),n.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juñu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}});var Js={0:"-ум",1:"-ум",2:"-юм",3:"-юм",4:"-ум",5:"-ум",6:"-ум",7:"-ум",8:"-ум",9:"-ум",10:"-ум",12:"-ум",13:"-ум",20:"-ум",30:"-юм",40:"-ум",50:"-ум",60:"-ум",70:"-ум",80:"-ум",90:"-ум",100:"-ум"};n.defineLocale("tg",{months:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"якшанбе_душанбе_сешанбе_чоршанбе_панҷшанбе_ҷумъа_шанбе".split("_"),weekdaysShort:"яшб_дшб_сшб_чшб_пшб_ҷум_шнб".split("_"),weekdaysMin:"яш_дш_сш_чш_пш_ҷм_шб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Имрӯз соати] LT",nextDay:"[Пагоҳ соати] LT",lastDay:"[Дирӯз соати] LT",nextWeek:"dddd[и] [ҳафтаи оянда соати] LT",lastWeek:"dddd[и] [ҳафтаи гузашта соати] LT",sameElse:"L"},relativeTime:{future:"баъди %s",past:"%s пеш",s:"якчанд сония",m:"як дақиқа",mm:"%d дақиқа",h:"як соат",hh:"%d соат",d:"як рӯз",dd:"%d рӯз",M:"як моҳ",MM:"%d моҳ",y:"як сол",yy:"%d сол"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(e,t){return 12===e&&(e=0),"шаб"===t?e<4?e:e+12:"субҳ"===t?e:"рӯз"===t?11<=e?e:e+12:"бегоҳ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"шаб":e<11?"субҳ":e<16?"рӯз":e<19?"бегоҳ":"шаб"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(e){return e+(Js[e]||Js[e%10]||Js[100<=e?100:null])},week:{dow:1,doy:7}}),n.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),monthsParseExact:!0,weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(e){return"หลังเที่ยง"===e},meridiem:function(e,t,n){return e<12?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",ss:"%d วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}}),n.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});var Ks="pagh_wa’_cha’_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");n.defineLocale("tlh",{months:"tera’ jar wa’_tera’ jar cha’_tera’ jar wej_tera’ jar loS_tera’ jar vagh_tera’ jar jav_tera’ jar Soch_tera’ jar chorgh_tera’ jar Hut_tera’ jar wa’maH_tera’ jar wa’maH wa’_tera’ jar wa’maH cha’".split("_"),monthsShort:"jar wa’_jar cha’_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa’maH_jar wa’maH wa’_jar wa’maH cha’".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa’leS] LT",nextWeek:"LLL",lastDay:"[wa’Hu’] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu’":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:Qs,m:"wa’ tup",mm:Qs,h:"wa’ rep",hh:Qs,d:"wa’ jaj",dd:Qs,M:"wa’ jar",MM:Qs,y:"wa’ DIS",yy:Qs},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Gs={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};n.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(e,t){switch(t){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'ıncı";var n=e%10;return e+(Gs[n]||Gs[e%100-n]||Gs[100<=e?100:null])}},week:{dow:1,doy:7}}),n.defineLocale("tzl",{months:"Januar_Fevraglh_Març_Avrïu_Mai_Gün_Julia_Guscht_Setemvar_Listopäts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gün_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Súladi_Lúneçi_Maitzi_Márcuri_Xhúadi_Viénerçi_Sáturi".split("_"),weekdaysShort:"Súl_Lún_Mai_Már_Xhú_Vié_Sát".split("_"),weekdaysMin:"Sú_Lú_Ma_Má_Xh_Vi_Sá".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return 11<e?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi à] LT",nextDay:"[demà à] LT",nextWeek:"dddd [à] LT",lastDay:"[ieiri à] LT",lastWeek:"[sür el] dddd [lasteu à] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:Ys,ss:Ys,m:Ys,mm:Ys,h:Ys,hh:Ys,d:Ys,dd:Ys,M:Ys,MM:Ys,y:Ys,yy:Ys},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),n.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),n.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",ss:"%d ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}}),n.defineLocale("ug-cn",{months:"يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر".split("_"),monthsShort:"يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر".split("_"),weekdays:"يەكشەنبە_دۈشەنبە_سەيشەنبە_چارشەنبە_پەيشەنبە_جۈمە_شەنبە".split("_"),weekdaysShort:"يە_دۈ_سە_چا_پە_جۈ_شە".split("_"),weekdaysMin:"يە_دۈ_سە_چا_پە_جۈ_شە".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-يىلىM-ئاينىڭD-كۈنى",LLL:"YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm",LLLL:"dddd، YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(e,t){return 12===e&&(e=0),"يېرىم كېچە"===t||"سەھەر"===t||"چۈشتىن بۇرۇن"===t?e:"چۈشتىن كېيىن"===t||"كەچ"===t?e+12:11<=e?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"يېرىم كېچە":r<900?"سەھەر":r<1130?"چۈشتىن بۇرۇن":r<1230?"چۈش":r<1800?"چۈشتىن كېيىن":"كەچ"},calendar:{sameDay:"[بۈگۈن سائەت] LT",nextDay:"[ئەتە سائەت] LT",nextWeek:"[كېلەركى] dddd [سائەت] LT",lastDay:"[تۆنۈگۈن] LT",lastWeek:"[ئالدىنقى] dddd [سائەت] LT",sameElse:"L"},relativeTime:{future:"%s كېيىن",past:"%s بۇرۇن",s:"نەچچە سېكونت",ss:"%d سېكونت",m:"بىر مىنۇت",mm:"%d مىنۇت",h:"بىر سائەت",hh:"%d سائەت",d:"بىر كۈن",dd:"%d كۈن",M:"بىر ئاي",MM:"%d ئاي",y:"بىر يىل",yy:"%d يىل"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-كۈنى";case"w":case"W":return e+"-ھەپتە";default:return e}},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:7}}),n.defineLocale("uk",{months:{format:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),standalone:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_")},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:function(e,t){var n={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")};return e?n[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(t)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative},weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"},calendar:{sameDay:eo("[Сьогодні "),nextDay:eo("[Завтра "),lastDay:eo("[Вчора "),nextWeek:eo("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return eo("[Минулої] dddd [").call(this);case 1:case 2:case 4:return eo("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",ss:Zs,m:Zs,mm:Zs,h:"годину",hh:Zs,d:"день",dd:Zs,M:"місяць",MM:Zs,y:"рік",yy:Zs},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(e){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночі":e<12?"ранку":e<17?"дня":"вечора"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}});var to=["جنوری","فروری","مارچ","اپریل","مئی","جون","جولائی","اگست","ستمبر","اکتوبر","نومبر","دسمبر"],no=["اتوار","پیر","منگل","بدھ","جمعرات","جمعہ","ہفتہ"];return n.defineLocale("ur",{months:to,monthsShort:to,weekdays:no,weekdaysShort:no,weekdaysMin:no,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[آج بوقت] LT",nextDay:"[کل بوقت] LT",nextWeek:"dddd [بوقت] LT",lastDay:"[گذشتہ روز بوقت] LT",lastWeek:"[گذشتہ] dddd [بوقت] LT",sameElse:"L"},relativeTime:{future:"%s بعد",past:"%s قبل",s:"چند سیکنڈ",ss:"%d سیکنڈ",m:"ایک منٹ",mm:"%d منٹ",h:"ایک گھنٹہ",hh:"%d گھنٹے",d:"ایک دن",dd:"%d دن",M:"ایک ماہ",MM:"%d ماہ",y:"ایک سال",yy:"%d سال"},preparse:function(e){return e.replace(/\u060c/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}}),n.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}}),n.defineLocale("uz",{months:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",ss:"%d фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}}),n.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",ss:"%d giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}}),n.defineLocale("x-pseudo",{months:"J~áñúá~rý_F~ébrú~árý_~Márc~h_Áp~ríl_~Máý_~Júñé~_Júl~ý_Áú~gúst~_Sép~témb~ér_Ó~ctób~ér_Ñ~óvém~bér_~Décé~mbér".split("_"),monthsShort:"J~áñ_~Féb_~Már_~Ápr_~Máý_~Júñ_~Júl_~Áúg_~Sép_~Óct_~Ñóv_~Déc".split("_"),monthsParseExact:!0,weekdays:"S~úñdá~ý_Mó~ñdáý~_Túé~sdáý~_Wéd~ñésd~áý_T~húrs~dáý_~Fríd~áý_S~átúr~dáý".split("_"),weekdaysShort:"S~úñ_~Móñ_~Túé_~Wéd_~Thú_~Frí_~Sát".split("_"),weekdaysMin:"S~ú_Mó~_Tú_~Wé_T~h_Fr~_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~ódá~ý át] LT",nextDay:"[T~ómó~rró~w át] LT",nextWeek:"dddd [át] LT",lastDay:"[Ý~ést~érdá~ý át] LT",lastWeek:"[L~ást] dddd [át] LT",sameElse:"L"},relativeTime:{future:"í~ñ %s",past:"%s á~gó",s:"á ~féw ~sécó~ñds",ss:"%d s~écóñ~ds",m:"á ~míñ~úté",mm:"%d m~íñú~tés",h:"á~ñ hó~úr",hh:"%d h~óúrs",d:"á ~dáý",dd:"%d d~áýs",M:"á ~móñ~th",MM:"%d m~óñt~hs",y:"á ~ýéár",yy:"%d ý~éárs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),n.defineLocale("yo",{months:"Sẹ́rẹ́_Èrèlè_Ẹrẹ̀nà_Ìgbé_Èbibi_Òkùdu_Agẹmo_Ògún_Owewe_Ọ̀wàrà_Bélú_Ọ̀pẹ̀̀".split("_"),monthsShort:"Sẹ́r_Èrl_Ẹrn_Ìgb_Èbi_Òkù_Agẹ_Ògú_Owe_Ọ̀wà_Bél_Ọ̀pẹ̀̀".split("_"),weekdays:"Àìkú_Ajé_Ìsẹ́gun_Ọjọ́rú_Ọjọ́bọ_Ẹtì_Àbámẹ́ta".split("_"),weekdaysShort:"Àìk_Ajé_Ìsẹ́_Ọjr_Ọjb_Ẹtì_Àbá".split("_"),weekdaysMin:"Àì_Aj_Ìs_Ọr_Ọb_Ẹt_Àb".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Ònì ni] LT",nextDay:"[Ọ̀la ni] LT",nextWeek:"dddd [Ọsẹ̀ tón'bọ] [ni] LT",lastDay:"[Àna ni] LT",lastWeek:"dddd [Ọsẹ̀ tólọ́] [ni] LT",sameElse:"L"},relativeTime:{future:"ní %s",past:"%s kọjá",s:"ìsẹjú aayá die",ss:"aayá %d",m:"ìsẹjú kan",mm:"ìsẹjú %d",h:"wákati kan",hh:"wákati %d",d:"ọjọ́ kan",dd:"ọjọ́ %d",M:"osù kan",MM:"osù %d",y:"ọdún kan",yy:"ọdún %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"ọjọ́ %d",week:{dow:1,doy:4}}),n.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"下午"===t||"晚上"===t?e+12:11<=e?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",ss:"%d 秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}}),n.defineLocale("zh-hk",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?11<=e?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}}),n.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?11<=e?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天] LT",nextDay:"[明天] LT",nextWeek:"[下]dddd LT",lastDay:"[昨天] LT",lastWeek:"[上]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}}),n.locale("en"),n}),define("core/dev/utils/date-util",["core/ac-core","i18n!core/nls/ui-strings","core/utils/num-util","moment","moment-with-locales"],function(e,t,n,r,i){var s=(new Date).getTime(),o,u,a=_.template(t.DATE_HH_MM_AMPM);return e.DateUtil={TODAY:"today",YESTERDAY:"yesterday",WITHIN_LAST_WEEK:"within-last-week",WITHIN_LAST_MONTH:"within-last-month",ONE_TO_TWO_MONTHS_AGO:"one-to-two-months-ago",TWO_TO_THREE_MONTHS_AGO:"two-to-three-months-ago",THREE_TO_FOUR_MONTHS_AGO:"three-to-four-months-ago",FOUR_TO_FIVE_MONTHS_AGO:"four-to-five-months-ago",FIVE_TO_SIX_MONTHS_AGO:"five-to-six-months-ago",SIX_TO_TWELVE_MONTHS_AGO:"six-to-twelve-months-ago",MORE_THAN_ONE_YEAR_AGO:"more-than-one-year-ago",ALL_TIME:"all-time",getDateTemplateKey:function(e){var t=this.getBeginningOfDay(new Date);return e.getYear()==t.getYear()?"DATE_MMM_DD":"DATE_MMM_DD_YYYY"},formatDate:function(e){var n,i;return n=r.utc(e).toDate(),i=new Date,i=this.getBeginningOfDay(i),n>i?this.formatTimeOnly(e):(i=this.getNumDaysAgo(i,1),n>i?t.DATE_YESTERDAY:this.formatDateOnly(e))},formatDateWithFormat:function(e,n,i,s){s==undefined&&(s=!0);var o,u,a=this.getBeginningOfDay(new Date),f=this.getNumDaysAgo(a,1);i===undefined&&(i=!0),n?o=r.utc(e,n).toDate():o=r.utc(e).toDate();if(this.areDatesEqual(o,a))u=t.TODAY,i=!0;else if(this.areDatesEqual(o,f))u=t.DATE_YESTERDAY,i=!0;else{var l=this.getDateTemplateKey(o);u=this.formatDateOnly(e,n,l)}return i&&(u=_.template(t.DATE_AND_TIME,{dateStr:u,timeStr:this.formatTimeOnly(e,n,s)})),u},formatDateOnly:function(e,n,i){var s,o,u;return n?o=r.utc(e,n).local():o=r.utc(e).local(),i!=undefined&&i in t?s=t[i]:s=t.DATE_MMM_DD_YYYY,u=t["MONTH_"+o.format("M")],$.trim(_.template(s,{D:o.format("D"),DD:o.format("DD"),MM:o.format("MM"),MMM:u,YY:o.format("YY"),YYYY:o.format("YYYY")}))},formatDateOnlyVariant:function(e,n){var r=_.template(n),i=e.getMonth()+1,s=e.getDate(),o=e.getFullYear();return t.YYYY==="YY"&&(o-=2e3,this._yearDecr=2e3),$.trim(r({month:i,day:s,year:o}))},areDatesEqual:function(e,t){return e.getDate()==t.getDate()&&e.getMonth()==t.getMonth()&&e.getFullYear()==t.getFullYear()},formatTimeOnly:function(e,i,s){var o,u,f,l;return i?o=r.utc(e,i).toDate():o=r.utc(e).toDate(),u=o.getHours(),s&&this.useAmPm()?(u<12?l=t.AM:(u-=12,l=t.PM),u===0&&(u=12)):l="",t.HH==="HH"&&(u=n.pad(u,2)),f=n.pad(o.getMinutes(),2),$.trim(a({hour:u,sep:t.HH_MM_SEPARATOR,minute:f,amPm:l}))},getBeginningOfDay:function(e){return e=new Date(e.getTime()),e.setHours(0,0,0,0),e},getEndOfDay:function(e){return e=new Date(e.getTime()),e.setHours(23,59,59,999),e},getNumDaysAgo:function(e,t){return e=new Date(e.getTime()-t*864e5),this.getBeginningOfDay(e)},getNumMonthsAgo:function(e,t){return _.times(t,_.bind(function(){e=this.getOneMonthAgo(e)},this)),this.getBeginningOfDay(e)},getOneMonthAgo:function(e){return e=new Date(e.getTime()),e.setDate(e.getDate()-this.getNumDaysInMonth(e)),this.getBeginningOfDay(e)},isLeapYear:function(e){return(new Date(e,1,29)).getMonth()===1},getNumDaysInMonth:function(e){var t,n=e.getMonth();return n===1?t=this.isLeapYear(e.getFullYear())?29:28:n===3||n===5||n===8||n===10?t=30:t=31,t},useAmPm:function(){return t.AM.length>0&&t.PM.length>0},getDateRange:function(e,t,n){var r={},i=new Date,s;switch(e){case"today":r.begin=this.getBeginningOfDay(i),r.end=this.getEndOfDay(i);break;case"pastHour":var o=new Date(i.getTime()-36e5);r.begin=o,r.end=i;break;case"yesterday":s=this.getBeginningOfDay(i),r.begin=this.getNumDaysAgo(s,1),r.end=s;break;case"within-last-week":r.begin=this.getNumDaysAgo(i,7),r.end=this.getEndOfDay(i);break;case"within-last-month":r.begin=this.getNumMonthsAgo(i,1),r.end=this.getEndOfDay(i);break;case"one-to-two-months-ago":r.begin=this.getNumMonthsAgo(i,2),r.end=this.getNumMonthsAgo(i,1);break;case"two-to-three-months-ago":r.begin=this.getNumMonthsAgo(i,3),r.end=this.getNumMonthsAgo(i,2);break;case"three-to-four-months-ago":r.begin=this.getNumMonthsAgo(i,4),r.end=this.getNumMonthsAgo(i,3);break;case"four-to-five-months-ago":r.begin=this.getNumMonthsAgo(i,5),r.end=this.getNumMonthsAgo(i,4);break;case"five-to-six-months-ago":r.begin=this.getNumMonthsAgo(i,6),r.end=this.getNumMonthsAgo(i,5);break;case"six-to-twelve-months-ago":r.begin=this.getNumMonthsAgo(i,12),r.end=this.getNumMonthsAgo(i,6);break;case"pastYear":r.begin=this.getNumMonthsAgo(i,12),r.end=this.getEndOfDay(i);break;case"more-than-one-year-ago":r.begin=new Date(0),r.end=this.getNumMonthsAgo(i,12);break;case"custom":r.begin=t,r.end=this.getEndOfDay(n)}return r.begin=r.begin.getTime(),r.end=r.end.getTime(),r},getISOLocalDate:function(e){var t,r,i,s;return t=e.getTimezoneOffset(),t>0?s="-":(t=-t,s="+"),i=t%60,r=(t-i)/60,e.getFullYear()+"-"+n.pad(e.getMonth()+1,2)+"-"+n.pad(e.getDate(),2)+"T"+n.pad(e.getHours(),2)+":"+n.pad(e.getMinutes(),2)+":"+n.pad(e.getSeconds(),2)+s+n.pad(r,2)+":"+n.pad(i,2)},toggleElapsedTimeLogging:function(){u=!u},logElapsedTime:function(e,t){var r,i,a;if(!Ac.Features.isFeatureEnabled("elapsed_time_console_logging"))return;r=(new Date).getTime(),t&&t.startTime&&(s=t.startTime),o||(o=s),i=r-o,a=r-s,o=r,u&&LOG(n.padSpace(a,8)+n.padSpace(i,8)+": "+e)},isGreaterThanCutoffDate:function(t,n){var i=r.utc(t,n?undefined:"YYMMDDHHmmssZ").toDate(),s;return e.Util.isBeta()?s=new Date(2018,6,17):s=new Date(2018,8,10),i>s?!0:!1}},e.DateUtil}),define("core/dev/apis/api",["underscore","core/ac-core"],function(e,t){return t.Api=Backbone.View.extend({initialize:function(){Backbone.View.prototype.initialize.call(this),this.cid=e.uniqueId("api"),delete this.options.viewId,delete this.$el,delete this.el,e.bindAll(this)},_addModelChangeCallback:function(e,t){e.on("change",function(e,n){var r={};try{r=JSON.parse(n.xhr.responseText)}catch(i){}t(r)})},_getResolvedPromise:function(e){return $.Deferred().resolve().promise(e)}}),t.Api}),define("app-api/dev/acrobat-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.AcrobatApi=e.Api.extend({isInAcrobat:function(){return this.options.acrobatUiModel.get("is_in_acrobat")},setInAcrobat:function(e){this.options.acrobatUiModel.set("is_in_acrobat",e)},isFolderSelectionMode:function(){return this.options.acrobatUiModel.isFolderSelectionMode()},allowMultipleSelection:function(){return this.options.acrobatUiModel.get("allow_multiple_selection")},getSelectedFilterIndex:function(){return this.options.acrobatUiModel.get("selected_filter_index")},setSelectedFilterIndex:function(e){this.options.acrobatUiModel.set("selected_filter_index",e)},addSelectedFilterIndexChangeCallback:function(e){this.options.acrobatUiModel.on("change:selected_filter_index",e)},removeSelectedFilterIndexChangeCallback:function(e){this.options.acrobatUiModel.off("change:selected_filter_index",e)},getFilterFileExtensions:function(e){return this.options.acrobatUiModel.get("file_filters")[e].extensions}}),t.AcrobatApi}),define("app-api/dev/base-aic-uris-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.BaseAicUrisApi=e.Api.extend({getApiUris:function(){return this.options.baseAicUrisModel.attributes}}),t.BaseAicUrisApi}),define("app-api/dev/base-files-uris-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.BaseFilesUrisApi=e.Api.extend({getApiUri:function(){return Ac.baseFilesUrisModel.getApiUri()},getDownloadUri:function(){return Ac.baseFilesUrisModel.getDownloadUri()},getImsUri:function(){return Ac.baseFilesUrisModel.getImsUri()},getRenditionUri:function(){return Ac.baseFilesUrisModel.getRenditionUri()},getUploadUri:function(){return Ac.baseFilesUrisModel.getUploadUri()},getAlternateUploadUri:function(){return Ac.baseFilesUrisModel.getAlternateUploadUri()},getSendApiUri:function(){return Ac.baseFilesUrisModel.getSendApiUri()},getServerVersion:function(){return Ac.baseFilesUrisModel.get("server_version")}}),t.BaseFilesUrisApi}),define("app-api/dev/base-cloud-uris-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.BaseCloudUrisApi=e.Api.extend({getApiUri:function(){return Ac.baseCloudUrisModel.getApiUri()},getDownloadUri:function(){return Ac.baseCloudUrisModel.getDownloadUri()},getImsUri:function(){return Ac.baseCloudUrisModel.getImsUri()},getRenditionUri:function(){return Ac.baseCloudUrisModel.getRenditionUri()},getUploadUri:function(){return Ac.baseCloudUrisModel.getUploadUri()},getCpdfUri:function(){return Ac.baseCloudUrisModel.getCpdfUri()},getExplodePdfUri:function(){return Ac.baseCloudUrisModel.getExplodePdfUri()}}),t.BaseCloudUrisApi}),define("core/dev/utils/sc-analytics",["core/ac-core"],function(e){return e.ScAnalytics={APP_WEB:"A-WEB",APP_READER:"A-RDR",APP_ACROUNKNOWN:"A-AC-",APP_ACROPRO:"A-ACP",APP_ACROSTD:"A-ACS",APP_DOMAIN:"cloud.acrobat.com",LEVEL_ANNUAL:"an",LEVEL_MONTHLY:"mo",LEVEL_BASIC:"basic",LEVEL_FREE:"free",AB_TEST:"ABTEST",CHAT_POD_TEST:"CHAT_POD_TEST",CONTROL:"Control",VAR1:"Var1",VAR2:"Var2",VAR3:"Var3",NOT_IN:"not_in",0:"0",1:"1","2_TO_5":"2to5","6_TO_10":"6to10","11_OR_MORE":"11orMore","1_2_MONTHS_AGO":"1-2MonthsAgo","2_3_MONTHS_AGO":"2-3MonthsAgo","3_4_MONTHS_AGO":"3-4MonthsAgo","4_5_MONTHS_AGO":"4-5MonthsAgo","5_6_MONTHS_AGO":"5-6MonthsAgo","6_12_MONTHS_AGO":"6-12MonthsAgo",ABOUT_PRODUCT:"AboutProduct",ACOM:"Acom",ACOM_AND_MY_COMPUTER:"AcomAndMyComptr",ACOM_FILES:"AcomFiles",ACOM_ONLY:"AcomOnly",ACOM_TREFOIL:"AcomTrefoil",ADOBE_DOT_COM:"adobe.com",ACTIONS:"Actions",ACTION_BAR:"ActionBar",ADD_FILES:"AddFiles",ADD_FILES_TO_EXPORT:"AddFilestoExport",ADD_FILES_TO_CONVERT:"AddFilestoConvert",ALL:"All",ALL_FILES:"AllFiles",ANALYTICS_CLASS:"site-catalyst",ANALYTICS_SELECTOR:".site-catalyst",ASK_US:"AskUs",ATTACH_TO_EMAIL:"AttachToEmail",A_DOT_COM:"Acrobat.com",BACK:"Back",BIZ_SRC:"BizSrc",BOTTOM_NAV_BAR:"BottomNavBar",BREADCRUMB:"BreadCrumb",BROWSE:"Browse",CANCEL:"Cancel",CHANGE:"change",CHAT:"Chat",CHAT_POD:"ChatPod",CHECKBOX:"Checkbox",CHECKED:"Checked",CHOOSE_FILES:"ChooseFiles",CHOOSE_FILES_DLG:"ChooseFilesDlg",CLEARED:"Cleared",CLICK:"click",CLICKED:"Clicked",CLICKED_NOOP:"ClickedNoOp",CLICK_URL:"ClickURL",CLOSE:"Close",CLOSED:"Closed",COMPLETED:"Completed",CONTINUE:"Continue",COPY_SHARED:"CopyShared",COUNT_FILES:"CountFiles",CREATE_PDF:"CreatePDF",CREATED_BY_TOOL:"CreatedByTool",CRITERIA:"Criteria",DATE:"Date",DATE_ACCESSED:"DateAccessed",DATE_ACCESSED_DOWN:"DateAccessedDown",DATE_ACCESSED_UP:"DateAccessedUp",DATE_ADDED:"DateAdded",DATE_ADDED_DOWN:"DateAddedDown",DATE_ADDED_UP:"DateAddedUp",DATE_DOWN:"DateDown",DATE_MODIFIED:"DateModified",DATE_MODIFIED_DOWN:"DateModifiedDown",DATE_MODIFIED_UP:"DateModifiedUp",DATE_UP:"DateUp",DELETE:"Delete",DELETED:"Deleted",DELETE_DLG:"DeleteDlg",DELETE_EXISTING:"DeleteExisting",DELETE_UPLOADED:"DeleteUploaded",DESKTOP_CONNECTOR:"DesktopConnector",DESKTOP_CONNECTOR_FILES:"DesktopConnectorFiles",DIALOG_CANCEL:"cancel",DIALOG_COMMIT:"commit",DISMISS:"Dismiss",DISMISSED:"Dismissed",DOCUMENT_CLOUD:"DOCCLD",SCAN_DOC_OPEN:"ScanFileOpened",DOWNLOAD:"Download",DOWNLOAD_CLICKED:"DownloadClicked",DOWNLOAD_ICON:"DownloadIcon",DOWNLOAD_LINK:"DownloadLink",DOWNLOAD_SUCCESS:"DownloadSuccess",DOWNLOAD_TEXT:"DownloadText",DRAG_FILES:"DragFiles",DUP_FILE_NAME_DLG:"DupFileNameDlg",EMAIL_LINK:"EmailLink",EMAIL_LINK_BUTTON:"EmailLinkButton",EMAIL_SHARED:"EmailShared",EMPTY:"Empty",EMPTY_UPLOAD_FILE:"EmptyUploadFile",ENTERED:"Entered",ERROR:"Error",ERROR_DLG:"ErrorDlg",ES_SUBSCRIBE_PAGE:"ESSubscribePage",EULA:"eula",EXCEL:"Excel",EXISTING:"Existing",EXIT_FULL_SCREEN:"ExitFullScreen",EXPANDED:"Expanded",EXPORT_PDF:"ExportPDF",COMBINE_CONVERT_PDF:"CombineConvertPDF",FAILED:"Failed",FILE:"File",FILES:"Files",FILE_ADDED_BY:"FileAddedBy",FILE_LIST:"FileList",FILE_LISTING:"FileListing",FILE_NAME:"FileName",FILE_NAME_DOWN:"FileNameDown",FILE_EXISTS:"FileExists",FILE_NAME_UP:"FileNameUp",FILE_SIZE_DOWN:"FileSizeDown",FILE_SIZE_UP:"FileSizeUp",FILE_TYPE:"FileType",FILE_TYPE_DOWN:"FileTypeDown",FILE_TYPE_UP:"FileTypeUp",FILE_VIEW:"FileView",FILTER:"Filter",FILTER_ICON:"FilterIcon",FIRST_MILE_CARD:"FirstMileCard",FIRST_TIME_USER:"FirstTimeUser",FIT_FULL_PAGE:"FitPgFull",FIT_PAGE_WIDTH:"FitPgWidth",FOLDER_NAME:"FolderName",FOLDER_EXISTS:"FolderExists",FOLDER_NOT_EMPTY:"FolderNotEmpty",FORBIDDEN:"Forbidden",FULL_SCREEN:"FullScreen",GEAR_ICON:"GearIcon",GEAR_MENU:"GearMenu",GENERAL:"General",GENERIC:"Generic",HELP:"Help",HELP_MENU:"HelpMenu",HIDDEN:"Hidden",HIDE:"Hide",HIDE_FILE_INFO:"HideFileInfo",HIDE_RHP:"HideRHP",HOME:"Home",HTML:"HTML",HUD:"HUD",ILLUSTRATOR:"Illustrator",IMAGE:"Image",INDESIGN:"InDesign",INITIAL_STARTUP:"InitialStartup",INITIAL_VIEW:"InitialView",KEYWORD:"Keyword",KEYWORDS:"Keywords",LAST_MONTH:"LastMonth",LAST_WEEK:"LastWeek",LEFT:"Left",LIMIT:"Limit",LIST:"List",MAKE_PRIVATE:"MakePrivate",MAKE_PUBLIC:"MakePublic",MANAGE_SUB:"ManageSubscription",MENU_BTN:"MenuBtn",MOVE:"Move",MOVE_BUTTON:"MoveButton",MOVE_DLG:"MoveDlg",MULTIPLE:"Multiple",MULTI_EMAIL:"MultiEmail",MY_COMPUTER:"MyCmptr",MY_COMPUTER_ONLY:"MyCmptrOnly",MY_INFO:"MyInformation",NAME:"Name",NAME_DOWN:"NameDown",NAME_ENTERED:"NameEntered",NAME_UP:"NameUp",NEW_FOLDER:"NewFolder",NEW_FOLDER_DLG:"NewFolderDlg",NEW_FOLDER_ICON:"NewFolderIcon",NEXT_PAGE:"NextPg",NGDOC:"NGDoc",NONE:"None",NON_PDF:"NonPDF",NOT_FOUND:"NotFound",NUM_FILES:"NumFiles",NUM_FILES_CHECKED:"NumFilesChecked",NUM_FILES_SHOWN:"NumFilesShown",NUM_FOLDERS_CHECKED:"NumFoldersChecked",NUM_FOLDERS_SHOWN:"NumFoldersShown",OP:"Op",OPTION_DLG:"OptionDlg",OS_OPEN_DLG:"OSOpenDlg",OTHER:"Other",OVER_1_YEAR_AGO:"Over1YearAgo",PAGE_NUM_ENTERED:"PgNumEntered",PDF:"PDF",PHOTOSHOP:"Photoshop",PLAN_TYPE:"PlanType",PLUS:"Plus",POWERPOINT:"Powerpoint",PREVIEW:"Preview",PREV_PAGE:"PrevPg",PRIVATE:"Private",PRODUCTS:"products",PROGRESS_STATUS_MENU:"ProgressStatusMenu",PUBLIC:"Public",QUOTA_EXCEEDED:"QuotaExceeded",RECEIVER:"Receiver",RECENT_FILES:"RecentFiles",RECENT_FOLDER:"RecentFolder",REMOVE_HISTORY:"RemoveHistory",RENAME:"Rename",RENAME_DLG:"RenameDlg",RENAME_FILE:"RenameFile",RENAME_UPLOADED:"RenameUploaded",RENDER:"show",REPORT_ABUSE:"ReportAbuse",RESULTS:"Results",RETURNING_USER:"ReturningUser",RHP:"RHP",SC_UNDEFINED:"SC_UNDEFINED",ADOBE_SCAN:"AdobeScan",SCROLL:"Scroll",SEARCH:"Search",SEARCH_BAR:"SearchBar",SEARCH_BOX:"SearchBox",SEARCH_TEXT_ENTERED:"SearchTextEntered",SETTINGS_DLG:"SettingsDlg",SELECTED:"Selected",SELECT_FILES:"SelectFiles",SEND_AND_TRACK:"SendAndTrack",SEND_ICON:"SendIcon",SEND_MENU:"SendMenu",SEND_FOR_SIG:"SendForSig",SENT:"Sent",SHARE:"Share",SHARED:"Shared",SHAREPOINT:"SharePoint",SHAREPOINT_FILES:"SharePointFiles",SHARE_DIALOG:"ShareFileDlg",REVIEW:"ContextBoard:SendForReview",SIGNATURE:"ContextBoard:SendForSignature",EDITPDF:"ContextBoard:EditPDF",ORGANIZE:"ConextBoard:OrganizePDF",FILLSIGN:"ContextBoard:FillandSign",COMMENT:"ContextBoard:Comment",COMBINE:"ContextBoard:Combine",SHOW:"Show",SHOWN:"Shown",SHOW_FILE_INFO:"ShowFileInfo",SHOW_IMAGE_PREVIEW:"ShowImagePreview",SHOW_NGDOC_PREVIEW:"ShowNGDocPreview",SHOW_RHP:"ShowRHP",SHRUNK:"Shrunk",SIGN_IN:"SignIn",SIGN_OUT:"SignOut",SIGNED_IN:"SignedIn",SIGNED_OUT:"SignedOut",SINGLE:"Single",SINGLE_EMAIL:"SingleEmail",SIZE:"Size",SIZE_DOWN:"SizeDown",SIZE_UP:"SizeUp",SMALL_PREVIEW:"SmallPreview",SORT:"Sort",SORT_BY:"SortBy",SORT_COLUMN:"SortColumn",SORT_ICON:"SortIcon",START_NOW:"StartNow",SUCCESS:"Success",SUPPORT:"Support",TEXT:"Text",TERM:"Term",THIRD_PARTY:"third_party",THUMB:"Thumb",TODAY:"Today",TOOLBAR:"Toolbar",TOOLS:"Tools",TOP_HEADER:"TopHeader",TYPED_TEXT:"TypedText",UI:"ui",UNCHECKED:"Unchecked",UNKNOWN:"Unknown",UNSHARE:"Unshare",UPLOAD:"Upload",UPLOADED:"Uploaded",UPLOAD_FILE:"UploadFile",UPLOAD_ICON:"UploadIcon",UPSELL_STARTED:"UpsellStarted",URL_HIGHLIGHT:"UrlHighlight",USER:"User",USE:"Use",USER_ACCOUNT_MENU:"UserAcctMenu",VIDEO:"Video",VIEW_ALL_CREATED_FILES:"ViewAllCreatedPDFFiles",VIEW_ALL_EXPORTED_FILES:"ViewAllExportedFiles",VIEW_BY:"ViewBy",VIRUS_DETECTED:"VirusDetected",WEB_PLUGIN_VARIANT:"WebPluginVariant",WORD:"Word",YESTERDAY:"Yesterday",ZIP:"Zip",ZOOM_IN:"ZoomIn",ZOOM_OUT:"ZoomOut",PROGRESS_BAR:"ProgressBar",ALL_BUTTON:"AllButton",SAVE_AS:"SaveAs",UPLOADING:"1-Uploading",UPLOAD_COMPLETE:"2-Upload_Complete",UPLOAD_CANCELLED:"Upload_Cancelled",UPLOAD_ERROR:"Upload_Error",CONVERTING:"3-Converting",CONVERT_FAILED:"Convert_Failed",COMPLETE:"4-Complete",DOWNLOAD_CLICK:"5-Download",DOWNLOADING:"6-Downloading",DOWNLOAD_COMPLETE:"7-Downloaded",SHOW_IN_FOLDER:"ShowInFolder",HOVER_OVER:"HoverOver",SIGN_FILES:"SignatureFiles",SIGN_FILES_HOME_VIEW:"SignatureFiles:HomeView",SIGN_DOC_OPEN:"SignatureAgreementOpened",SIGN_DOC_OPEN_FOR_SIGN:"SignatureAgreementOpenedForSign",SIGN_EVENT_CB:"ContextBoard",SIGN_ACTIVITY_CLICK:"SignatureContextBoard:ActivityClicked",SIGN_AUDIT_TRAIL:"SignatureContextBoard:AuditTrailClicked",SIGN_REMIND_TAB_OPENED:"SignatureContextBoard:RemindTabOpened",SIGN_REMIND_API_CALLED:"SignatureContextBoard:RemindAPICalled",SIGN_CANCEL_TAB_OPENED:"SignatureContextBoard:CancelTabOpened",SIGN_CANCEL_API_CALLED:"SignatureContextBoard:CancelAPICalled",SIGN_EVENT_FROM_DOC_VIEW:"SignatureContextBoard:DocumentView",VIRGO_HOME:"HomeView",VIRGO_VIEWER:"Viewer",VIRGO_SCAN:"AdobeScan",VIRGO_MYCOMPUTER:"MyComputer",VIRGO_DC:"DocumentCloud",VIRGO_CC:"CreativeCloud",VIRGO_ONEDRIVE:"OneDrive",VIRGO_SENDTRACK:"Views",VIRGO_REVIEW:"Reviews",VIRGO_SIGN:"Signatures",VIRGO_FILE_OPEN:"FileOpen",VIRGO_SELECT_ALL:"SelectAll",VIRGO_SCAN_CB:"AdobeScanContextBoard",VIRGO_DC_CB:"DocCloudContextBoard",VIRGO_CC_CB:"CreativeCloudContextBoard",VIRGO_USS_CB:"SearchContextBoard",VIRGO_CONNECTOR_CB:"ContextBoard",VIRGO_SENDTRACK_CB:"ViewsContextBoard",VIRGO_REVIEW_CB:"ReviewsContextBoard",VIRGO_SIGN_CB:"SignaturesContextBoard",VIRGO_RHP_SHOWN:"Shown",VIRGO_CREATE_FOLDER:"CreateFolder",VIRGO_CTA_SINGLE:"SingleFile",VIRGO_CTA_MULTIPLE:"MultipleFiles",VIRGO_SORT:"SortBy",VIRGO_SORT_ASC:"Ascending",VIRGO_SORT_DESC:"Descending",VIRGO_FILTER:"Filter",VIRGO_FILTER_TYPE:"Type",VIRGO_FILTER_TIME:"Time",VIRGO_FILTER_FILENAME:"FileName",VIRGO_SORT_FILENAME:"Name",VIRGO_SORT_LAST_ACTIVITY:"LastActivity",VIRGO_SORT_SENDER:"Sender",VIRGO_SORT_STATUS:"Status",VIRGO_SORT_DATE_SENT:"DateSentRecieved",VIRGO_SORT_DATE_ADDED:"DateAdded",VIRGO_SORT_DATE_MODIFIED:"DateModified",VIRGO_SORT_LAST_ACCESS:"DateLastAccess",VIRGO_SORT_SIZE:"Size",VIRGO_CTA_UNSHARE:"Unshare",VIRGO_CTA_DELETE:"Delete",VIRGO_CTA_DOWNLOAD_ALL:"DownloadAll",VIRGO_CTA_SHARE_LINK:"CopyShareLink",VIRGO_CTA_ACTIVITY:"Activity",VIRGO_CTA_REPORT_ABUSE:"ReportAbuse",VIRGO_CTA_SAVE_DC:"SaveLinkInDC",VIRGO_CTA_REMOVE_DC:"RemoveLinkFromDC",VIRGO_CTA_DOWNLOAD_FILE:"DownloadFile",VIRGO_CTA_REMOVE_TRACK:"RemoveFromTracking",VIRGO_CTA_CLOSE_REVIEW:"CloseReview",VIRGO_CTA_REMOVE_ME:"RemoveMe",VIRGO_CTA_ADD_REVIEWER:"AddReviewer",VIRGO_CTA_ADD_RECIPIENT:"AddRecipient",VIRGO_CTA_SEND:"Send",VIRGO_CTA_CANCEL_WORKFLOW_EXPAND:"CancelAgreementExpand",VIRGO_CTA_CANCEL_WORKFLOW:"CancelAgreement",VIRGO_CTA_AUDIT_REPORT:"AuditReport",VIRGO_CTA_EXPAND_REMINDERS:"ExpandReminders",VIRGO_CTA_SEND_REMINDER:"Reminders",VIRGO_ORIGINAL_SHARE:"_Original",getCountCode:function(e){var t;return e<=0?t=this[0]:e===1?t=this[1]:e<=5?t=this["2_TO_5"]:e<=10?t=this["6_TO_10"]:t=this["11_OR_MORE"],t},getValue:function(e){return e.data("value")?e.data("value"):e.attr("type")==="checkbox"?e.prop("checked")?"Checked":"UnChecked":e.attr("type")==="radio"?e.is(":checked")?e.val():null:e.val()},contextKeys:{commenttype:"adb.event.context.eureka.participate.use.commenttype",CountUserAdded:"adb.event.context.Share.Use.AddUser.CountUserAdded",CountDocsAdded:"adb.event.context.Share.Use.CountDocsAdded"},logTo:{HBOnly:0,AAOnly:1,BothHBandAA:2}},e.ScAnalytics}),define("files/dev/nls/ui-strings",{root:!0,"ar-ae":!0,"bg-bg":!0,"ca-es":!0,"cs-cz":!0,"da-dk":!0,"de-de":!0,"en-ae":!0,"en-gb":!0,"en-il":!0,"es-es":!0,"eu-es":!0,"fi-fi":!0,"fr-fr":!0,"fr-ma":!0,"he-il":!0,"hr-hr":!0,"hu-hu":!0,"it-it":!0,"ja-jp":!0,"ko-kr":!0,"nb-no":!0,"nl-nl":!0,"pl-pl":!0,"pt-br":!0,"ro-ro":!0,"ru-ru":!0,"sk-sk":!0,"sl-si":!0,"sl-sl":!0,"sv-se":!0,"tr-tr":!0,"uk-ua":!0,"zh-cn":!0,"zh-tw":!0}),define("files/dev/nls/root/ui-strings",{SHOW:"Show",OPEN_SELECTED:"Open Selected",SAVE:"Save",NEW_FOLDER:"New Folder",UPLOAD_FILE:"Upload File",CANCEL_UPLOAD:"Cancel upload",SORT:"Sort",SEARCH_HEADER:"<%= label%> (<%= count%>)",NO_FILES_IN_ROOT:"There are currently no files in Document Cloud.",NO_FILES_IN_CONNECTOR:"There are currently no files in <%= connector %>.",NO_FILES_IN_FOLDER:"This folder is empty.",UPLOAD_TO_ACCESS:"Upload your files to have access to them anywhere.",UNSUPPORTED_CONNECTOR_MSG:"<%= actionName %> is currently not supported for files stored in <%= connectorLabel %>.",NO_SEARCH_RESULTS:"No Search Results.",NO_SEARCH_RESULTS_VIRGO:"No results found",TRY_DIFFERENT_SEARCH:"Please try a different search.",TRY_DIFFERENT_SEARCH_VIRGO:"Check your spelling or try broadening your search.",NO_SEARCH_RESULTS_FOLDER:"There are no applicable files in this folder.",TOO_MANY_SEARCH_TERMS_HEADER:"Maximum search queries exceeded.",TOO_MANY_SEARCH_TERMS_MESSAGE:"Please remove some search queries to see their search results.",NEW_FOLDER_TITLE:"New Folder",NEW_FOLDER_NAME_PLACEHOLDER:"Edit New Folder Name",CREATE_FOLDER:"Create Folder",SORT_BY:"Sort by:",SORT_BY_FILE_NAME:"File Name",SORT_BY_FILE_TYPE:"File Type",SORT_BY_SIZE:"Size",SORT_BY_DATE_ADDED:"Date Added",SORT_BY_DATE_MODIFIED:"Date Modified",SORT_BY_DATE_VIEWED:"Date Viewed",SORT_BY_DATE_OPENED:"Date Opened",ASCENDING:"Ascending",DESCENDING:"Descending",SORTED_BY:"SORTED BY",PREVIEW_NEXT_PAGE:"Preview Next Page",PREVIEW_PREVIOUS_PAGE:"Preview Previous Page",DISPLAY:"Sort",VIEW_BY:"View by:",LIST:"List",THUMBNAIL:"Thumbnail",SORT_BY_FILE_SIZE:"File Size",FILTER:"Filter",FILTER_BY:"Filter by...",TAGS_TITLE:"Tags: Coming soon...",TAGS:"Tags",SEARCH_TITLE:"Search for files",CLEAR_SEARCH_TITLE:"Clear search",SEARCH_RESULTS:"Search Results ...",SEARCH_RESULTS_COUNT:"Search Results (<%= count %>)",SEARCH_RESULTS_UNAVAILABLE:"Search Results Unavailable",ADD_FILTER:"Add Filter",REMOVE_FILTER:"Remove Filter",SELECT_ATTRIBUTE:"Select Attribute",SELECT_VALUE:"Select Value",SELECT_FORMAT:"Select Format",SELECT_DATES:"Select Dates",SELECT_TOOL:"Select Tool",ENTER_VALUE:"Enter Value",SEARCH:"Search",EXPORT_FROM_PDF:"Export PDF",CONVERT_TO_PDF:"Create PDF",COMBINE_TO_PDF:"Combine Files",FILL_SIGN:"Fill & Sign",ADOBE_ACROBAT:"Adobe Acrobat",ADOBE_READER_MOBILE:"Adobe Reader Mobile",ADOBE_READER:"Adobe Reader",MARK_AS_FAVORITE:"Mark As Favorite",FILE_INFO:"File Info",TYPE:"Type",ADDED:"Added",MODIFIED:"Modified",PAGES:"Pages",SIZE:"Size",SHARING_LINK:"Sharing Link",UNSHARE:"unshare",MARK_AS_FAVORITE_COMING_SOON:"Mark As Favorite: Coming soon...",COMING_SOON:"Coming soon...",PREV_PAGE_TITLE:"Previous Page",NEXT_PAGE_TITLE:"Next Page",PAGE_NUM_TITLE:"Page Number",PAGE_NUM_SEPARATOR:"/",PAGE_COUNT_TITLE:"Number of Pages",ZOOM_OUT_TITLE:"Zoom out",ZOOM_IN_TITLE:"Zoom in",SCROLL_PAGES_TITLE:"Scroll Pages",FIT_PAGE_WIDTH_TITLE:"Fit Page Width",FIT_FULL_PAGE_TITLE:"Fit Full Page",SHOW_RHP:"Show Right-Hand Panel",HIDE_RHP:"Hide Right-Hand Panel",SHOW_FILE_INFO:"Show File Info",HIDE_FILE_INFO:"Hide File Info",SHOW_IMAGE_PREVIEW:"Display Classic Preview",SHOW_NGDOC_PREVIEW:"Display Enhanced Preview",UNDOCK:"Undock",DOCK_TO_BOTTOM:"Dock to Bottom",ZERO_ITEMS:"0 items",ONE_FILE:"1 file",N_FILES:"<%= numFiles %> files",ONE_FOLDER:"1 folder",N_FOLDERS:"<%= numFolders %> folders",ONE_FOLDER_ONE_FILE:"1 folder, 1 file",ONE_FOLDER_N_FILES:"1 folder, <%= numFiles %> files",N_FOLDERS_ONE_FILE:"<%= numFolders %> folders, 1 file",N_FOLDERS_N_FILES:"<%= numFolders %> folders, <%= numFiles %> files",UPLOADING:"Uploading...",PROCESSING:"Processing...",SHARED:"Shared",MAKE_PUBLIC:"Make Public",MAKE_PRIVATE:"Make Private",PRIVATE:"Private",PUBLIC:"Public",SHARE_FILES_PRIVATE_TEXT:"The selected files are private and only viewable by you.",SHARE_FILE_PRIVATE_TEXT:"The selected file is private and only viewable by you.",SHARE_FILES_PUBLIC_TEXT:"The selected files are public, and anyone with the links below can view the files.",SHARE_FILE_PUBLIC_TEXT:"The selected file is public, and anyone with the link below can view the file.",SHARE_FILES_MIXED_TEXT:"The selected files include both public and private files. Click one of the buttons below to share or unshare all files.",EMAIL_BUTTON_SINGLE:"Email Link",EMAIL_BUTTON_MULTI:"Email Links",EMAIL_LINK:"Email",SAVE_BUTTON:"Close",SHARE_FILES_ERROR:"There was an error changing the sharing state of the file(s): <%= error %>",SHARE_FILES_SESSION_TIMEOUT:'Your session has expired. Click "Close" below to return to the Sign In page.',SHARE_FILE_EMAIL_BODY:"To view the file, please click on the link below:",SHARE_FILES_EMAIL_BODY:"To view the files, please click on the links below:",SHARE_FILE_EMAIL_SUBJECT:"<%= firstName %> <%= lastName %> has shared a file with you.",SHARE_FILES_EMAIL_SUBJECT:"<%= firstName %> <%= lastName %> has shared files with you.",SHARE_FILES_AV_DISALLOWED:'Sharing of the file "<%= filename %>" failed because the sharing of audio and video files is not allowed.',SHARE_FILES_SHARING_DISALLOWED:'Sharing of the file "<%= filename %>" failed because sharing the file is not allowed.',FOLDER_UPLOAD_NOT_SUPPORTED_TITLE:"Folder Upload Not Available",FOLDER_UPLOAD_NOT_SUPPORTED_MSG:"We were unable to complete your upload request. Upload of a folder is not currently supported.",FILE_UPLOAD_FAILED_TITLE:"File Upload Failed",FILE_UPLOAD_FAILED_MSG:"We were unable to complete your upload request. You may have tried to upload a file too large or a folder.",FILE_OFFLINE_TITLE:"You're not connected to the internet.",FILE_OFFLINE_CONTENT:"To access shared files, please connect to the internet and try again.",FILE_OFFLINE_OK_LABEL:"Try Again",FILE_OFFLINE_ARIA_LABEL:"No Internet Connection. Try Again.",FILENAME_TEXT:"File Name",RESTRICT_EDITING:"Restrict Editing",REDUCE_FILE_SIZE:"Reduce File Size",EXPORT_FILE_FORMAT:"File Format",EXPORT_SETTINGS:"Settings",EXPORT_VIEW_RESULT:"Open file after export",SHARED_FILE_OVERWRITE_WARNING:"A shared file of the same name exists in this folder, which cannot be replaced. Try another name.",FILES_SIGN_OUT_TITLE:"Adobe's cloud storage",FILES_SIGN_OUT_CONTENT:"Sign in to access files",FILES_SIGN_IN_LABEL:"Sign In Now",CCLOUD_SIGN_OUT_TITLE:"Creative Cloud",CCLOUD_SIGN_OUT_CONTENT:"Sign in to access files",FILES_NO_ACCESS_TITLE:"No Access To Service",FILES_NO_ACCESS_MESSAGE:"You do not have access to this service. Please contact your IT Administrator to gain access, or try to ",FILES_NO_ACCESS_SIGN_IN_LINK:"Sign In with an Adobe ID.",MANAGE_DOCUMENTS_SENT_FOR_SIGNATURE:"Manage Documents Sent for Signature",ENCRYPTION_KEY_DISABLED_TITLE:"This content is unavailable due to enterprise restrictions",ENCRYPTION_KEY_DISABLED_MESSAGE:"The encryption key has been revoked and this content is no longer available. Please contact your administrator to re-enable the encryption key and check back again.",VIRGO_DOCUMENT_CLOUD:"Adobe cloud storage",VIRGO_SCANS:"Scans",VIRGO_NAME:"NAME",VIRGO_HDR_SHARE:"SHARING",VIRGO_MODIFIED:"MODIFIED",VIRGO_SIZE:"SIZE",VIRGO_CREATIVE_CLOUD:"Adobe Creative Cloud",VIRGO_SHAREPOINT:"SharePoint Site",VIRGO_DROPBOX:"Dropbox",VIRGO_GOOGLE_DRIVE:"Google Drive",VIRGO_BOX:"Box",VIRGO_ONEDRIVE:"OneDrive",VIRGO_LIST_VIEW:"List view",VIRGO_THUMBNAIL_VIEW:"Thumbnail view",VIRGO_ADOBE_SCAN:"Adobe Scan",OPTIMIZE_CHECKBOX_COACKMARK_TITLE:"Reduce your file size",OPTIMIZE_CHECKBOX_COACKMARK_CONTENT:"This file size is more than <%= fileSizeInMB %> MB. Reduce the file size before sending it to others."}),define("app-api/dev/connectors-api",["core/ac-core","app-api/dev/ac-app-api","core/utils/sc-analytics","core/utils/util","i18n!files/nls/ui-strings","core/apis/api"],function(e,t,n,r,i){return t.ConnectorsApi=e.Api.extend({getConnectors:function(){return this.options.systemFoldersModel.get("connectors")},getConnector:function(e){return _.filter(this.getConnectors(),function(t){return t.name===e})},getConnectorsUiHelpers:function(e){var t=this.options.connectorsUiHelpersModel.attributes;return t.connectors||(t.connectors={}),e?t.connectors[e]:t},getConnectorPluginId:function(e,t,n,r){var i,s=this.getConnector(e);return this.isConnectorRemovable(e)?(_.isUndefined(t)&&s&&(t=s.id),t===""||_.isUndefined(t)?i=e:i=e+"-"+t,n&&(i+="-select"),r&&(i+="-search"),i):(i=n?e+"-select":e,i)},getConnectorName:function(e){var t=_.find(this.getConnectors(),function(t){return t.id===e});return t?t.name:""},setConnectorPluginRoot:function(e,t){this.options.connectorPluginInfo[e]=_.extend({},this.options.connectorPluginInfo[e],{rootId:t})},getConnectorPluginRoot:function(e){return this.isConnectorPlugin(e)?this.options.connectorPluginInfo[e].rootId:""},setConnectorPluginName:function(e,t){this.options.connectorPluginInfo[e]=_.extend({},this.options.connectorPluginInfo[e],{name:t})},getConnectorPluginName:function(e){return this.isConnectorPlugin(e)?this.options.connectorPluginInfo[e].name:""},getConnectorPluginScName:function(e){var t,r;return this.isConnectorPlugin(e)?(r=this.getConnectorPluginName(e),t=this.getConnectorsUiHelpers(r),!t||!t.site_catalyst_name?n.DOCUMENT_CLOUD:t.site_catalyst_name):undefined},getConnectorPluginLabel:function(e){var t,n,r,i,s;if(!this.isConnectorPlugin(e))return"";t=this.getConnectorPluginName(e),n=this.getConnectorPluginRoot(e),i=this.getConnector(t),s=this.getConnectorsUiHelpers(t);if(i&&n){r=_.find(i,function(e){return e.id===n});if(r)return r.label}return s?s.label:""},getConnectorUIName:function(e){var t,n,r;return t=this.getConnectorPluginName(e),n=this.getConnectorsUiHelpers(t),n?n.label:""},isConnectorPlugin:function(e){return _.has(this.options.connectorPluginInfo,e)},isConnectorRemovable:function(e){var t=this.getConnectorsUiHelpers(),n=t.order_for_add;return e==="root"||e==="ccloud"?!1:!_.isUndefined(_.find(n,function(t){return!_.isUndefined(_.find(t.section_order,function(t){return t.name===e}))}))},hasAnyRemovableConnectors:function(){var e=this.options.appApi.pluginsApi,t=e.getPluginsUiModel("add_account"),n,r;return t&&(n=t.get("plugins"),n&&n.models&&(r=_.find(n.models,function(e){return e.get("is_removable")}))),r!==undefined},isActionRestricted:function(e,t){var n,r=!1;return!e||!t?r:(n=this.getConnectorsUiHelpers(e),!n||!n.supported?r:(r=n.supported[t]===!1,r))},isActionRestrictedOnItems:function(e,t){var n,r,i=!1,s=[];return!e||_.isEmpty(e)?i:(e instanceof Backbone.Model?s.push(e):s=_.values(e),_.find(s,_.bind(function(e){n=e.get("source");if(n==="native"||n==="native_v2")n="root";return r=this.getConnectorsUiHelpers(n),!r||!r.supported?i:(i=r.supported[t]===!1,i)},this)),i)},addConnectorsChangeCallback:function(e){this.options.systemFoldersModel.on("change:connectors",e)},removeConnectorsChangeCallback:function(e){this.options.systemFoldersModel.off("change:connectors",e)},addConnectorsUiHelpersChangeCallback:function(e){this.options.connectorsUiHelpersModel.on("change",e)},removeConnectorsUiHelpersChangeCallback:function(e){this.options.connectorsUiHelpersModel.off("change",e)},addConnector:function(t,n,r){var i;return!_.isUndefined(n)&&n!==""?(i=this.getConnectorPluginId(t,n),this.addConnectorPlugin(i,_.extend({},r,{connectorName:t,accountId:n}))):e.opFactory.create("AddingConnectorOp",this.options).run({connectorName:t,info:r})},addConnectorPlugin:function(t,n){var r=this.options;return e.opFactory.create("AddingConnectorPluginOp",r).run(_.extend({},n,{pluginId:t}))},removeConnector:function(t,n,r){var i=this.getConnectorPluginId(t,n),s=this.options,o=e.opFactory.create("RemovingConnectorOp",s);return r=_.extend({},r,{pluginId:i}),this.isConnectorRemovable(t)?o.run(r).then(function(){return this.removeConnectorPlugin(i,r)}):this._getResolvedPromise()},removeConnectorPlugin:function(t,n){var r=this.options,i=this.getConnectorPluginName(t);return i==="root"?this._getResolvedPromise():e.opFactory.create("RemovingConnectorPluginOp",r).run(_.extend({},n,{pluginId:t})).then(function(){r.connectorPluginInfo=_.omit(r.connectorPluginInfo,t)})},removeConnectorPlugins:function(){return e.opFactory.create("RemovingConnectorPluginsOp",this.options).run()},supportsMultipleAccounts:function(e){var t=this.getConnectorsUiHelpers(e);return t&&t.supported&&t.supported.multiple_accounts},alwaysAppearInLeftRail:function(e){var t=this.getConnectorsUiHelpers(),n;return n=_.find(t.order_for_left_rail,function(t){return t.name===e}),n&&n.alwaysAppear},isDesktopConnector:function(e){var t=this.getConnectorsUiHelpers(e);return t&&t.supported&&t.supported.desktop},getConnectorSignOutImageClass:function(e){if(this.options.appApi.selectionApi.isRunningInFileSelection()||r.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()){var t=this.getConnectorPluginName(e);return t==="ccloud"?"files-sign-out-image-ccloud":"files-sign-out-image-root"}var t=this.getConnectorPluginName(e);return t==="ccloud"?"virgo-files-sign-out-image-ccloud":"virgo-files-sign-out-image-root"},getConnectorSignOutTitle:function(e){var t=this.getConnectorPluginName(e);return t==="ccloud"?i.CCLOUD_SIGN_OUT_TITLE:i.FILES_SIGN_OUT_TITLE},getConnectorSignOutContent:function(e){var t=this.getConnectorPluginName(e);return t==="ccloud"?i.CCLOUD_SIGN_OUT_CONTENT:i.FILES_SIGN_OUT_CONTENT},getTunerPreferences:function(){var e=this.options.tunerUiModel;return e?e.attributes:{}}}),t.ConnectorsApi}),define("app/dev/ac-app",[],function(){var e,t,n;return e="dev",t=Ac.App,t||(t=Ac.App={}),n=t[e],n||(n=t[e]={}),n.VERSION=e,n.ID||(n.APP_ID="app"),n}),define("core/dev/models/ui/ui-model",["core/ac-core"],function(e){return e.UiModel=Backbone.Model.extend({UiModelException:function(e){this.name="AcCore.UiModel.Exception",this.message=e},destroy:function(){throw new this.UiModelException("AcCore.UiModel.destroy should never be called!")},fetch:function(){throw new this.UiModelException("AcCore.UiModel.fetch should never be called!")},save:function(){throw new this.UiModelException("AcCore.UiModel.save should never be called!")},resetToDefaults:function(e){this.set(this.defaults||{},e)},triggerBooleanAttr:function(e){this.set(e,!0).set(e,!1,{silent:!0})}}),e.UiModel}),define("core/dev/models/ui/dialog-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.DialogUiModel=e.UiModel.extend({recognized:{close:{type:"boolean",optional:!0},error:{type:"object",optional:!0}},defaults:{}},{SEVERITY_INFORMATIONAL:"sev-informational",SEVERITY_WARNING:"sev-warning",SEVERITY_ERROR:"sev-error",SEVERITY_SUCCESS:"sev-success",SEVERITY_NEUTRAL:"sev-neutral"}),e.DialogUiModel}),define("core/dev/utils/css-util",["core/ac-core","core/utils/crypto-util"],function(e,t){var n={},r="transitionend webkitTransitionEnd otransitionend oTransitionEndMSTransitionEnd msTransitionEnd";return e.CssUtil={loadCss:function(e){var r,i;e=$.trim(e),e&&(r=t.getSha256(e).substr(0,8),n[r]||(n[r]=!0,i=document.createElement("link"),i.type="text/css",i.rel="stylesheet",i.href=e,document.getElementsByTagName("head")[0].appendChild(i)))},addClass:function(e,t){e&&!e.hasClass(t)&&e.addClass(t)},removeClass:function(e,t){e&&e.hasClass(t)&&e.removeClass(t)},getCssNum:function(e,t){var n=parseInt(e.css(t),10);return $.isNumeric(n)?n:0},getMarginWidth:function(e){return this.getCssNum(e,"margin-left")+this.getCssNum(e,"margin-right")},getMarginHeight:function(e){return this.getCssNum(e,"margin-top")+this.getCssNum(e,"margin-bottom")},getBorderWidth:function(e){return this.getCssNum(e,"border-left-width")+this.getCssNum(e,"border-right-width")},getBorderHeight:function(e){return this.getCssNum(e,"border-top-width")+this.getCssNum(e,"border-bottom-width")},getPaddingWidth:function(e){return this.getCssNum(e,"padding-left")+this.getCssNum(e,"padding-right")},getPaddingHeight:function(e){return this.getCssNum(e,"padding-top")+this.getCssNum(e,"padding-bottom")},getExtraWidth:function(e){return this.getMarginWidth(e)+this.getBorderWidth(e)+this.getPaddingWidth(e)},getExtraHeight:function(e){return this.getMarginHeight(e)+this.getBorderHeight(e)+this.getPaddingHeight(e)},getFullWidth:function(e){return e.width()+this.getExtraWidth(e)},getFullHeight:function(e){return e.height()+this.getExtraHeight(e)},getTransitionDuration:function(e){var t=0,n=e.css("transition-duration");try{t=parseFloat(n.substr(1))*1e3}catch(r){}return t},addTransitionEndCallback:function(t,n,i){var s=e.Util;s.isIE8()||s.isIE9()?i():t.on(r,function(e){if(e.originalEvent.propertyName===n)return i(),!1})},removeTransitionEndCallbacks:function(e){e.off(r)},fitInOneRow:function(e,t,n){function p(){t.css("font-size",a+"px").css("padding","0 "+c+"px")}var r,i,s,o,u,a,f,l=!1,c,h;if(e.length<=1||!n)return;r=e.first(),i=n.lastVisible||e.last();if(r.width()===0)return;a=n.prefFontSize,f=n.minFontSize,c=n.prefLrPadding,h=n.lrPaddingAdjust,_.isNumber(h)||(h=-1),e.css("max-width","none"),p(),o=i.position();while(o){if(o.top===0)break;a-=1,c+=h,p(),o=i.position();if(a<=f){l=!0;break}}s=r.parent().width(),l&&o.top>0&&s>0&&(u=s/e.length-this.getExtraWidth(r),e.css("max-width",u))}},e.CssUtil}),define("core/dev/utils/view-util",["core/ac-core","core/utils/css-util","core/utils/util"],function(e,t,n){var r=$("body"),i=$("#spinner"),s=150,o=150,u,a={ACTIVE:"active",BLACK_ON_WHITE:"black-on-white",WHITE_ON_BLACK:"white-on-black",NONE:"none"};return e.ViewUtil={init:function(t){function i(){return t.appApi.rnaApiObj._clipboardAPI.invoke("readClipboardData",{})}function s(e,n){t.appApi.rnaApiObj._clipboardAPI.invoke("writeClipboardData",{text:e,shouldIgnore:n})}function o(){var e=document.activeElement.selectionStart,t=document.activeElement.value;return e>0?t.substr(0,e<t.length?e:t.length):""}function u(){var e=document.activeElement.selectionEnd,t=document.activeElement.value;return e>0&&e<t.length?t.substr(e):""}e.Util.isTouchDevice()&&r.on("touchmove",function(e){var t;$(e.target).parents().each(function(e,n){var r=$(n),i=r.css("overflow-x"),s=r.css("overflow-y");if(i==="auto"||i==="scroll"||s==="auto"||s==="scroll")return t=!0,!1}),t||e.preventDefault()}),n.isCEF()&&(this.options=t),document.addEventListener("copy",function(e){if(t.appApi.rnaApiObj&&t.appApi.rnaApiObj._clipboardAPI){var n=document.getSelection().toString();try{var r=n.length==0;s(n,r)}catch(i){}}}),document.addEventListener("cut",function(e){if(t.appApi.rnaApiObj&&t.appApi.rnaApiObj._clipboardAPI){var n=document.getSelection().toString();try{var r=n.length==0;s(n,r)}catch(i){}}}),document.addEventListener("paste",function(e){if(t.appApi.rnaApiObj&&t.appApi.rnaApiObj._clipboardAPI){var n=o(),r=u(),s=document.activeElement;try{i().done(_.bind(function(e){try{if(document.getSelection().type!="None"){s.value=n+e+r;var t=(n+e).length;s.selectionStart=t,s.selectionEnd=t}}catch(i){}}))}catch(a){}e.preventDefault()}}),r.off(".suppressFocus").on("mousedown.suppressFocus keydown.suppressFocus",this.suppressFocusEventHandler),this.loadHighContrastTheme()},suppressFocusEventHandler:function(e){var t,n=r.is(e.target);if(n||$(e.target).closest(":focusable").length){switch(e.type){case"mousedown":!_.isUndefined(e.pageX)&&!_.isUndefined(e.pageY)&&(t=!n);break;case"keydown":switch(e.which){case 9:case 35:case 36:case 37:case 38:case 39:case 40:case 117:t=!1}}t!==undefined&&r.toggleClass("suppress-focus-outline",t)}},showClickedEffect:function(t,n,r,i){if(!e.Util.isTouchDevice()){i&&i();return}var u=$(t.currentTarget);u.removeClass(r),u.addClass(n),_.delay(function(){u.addClass(r),u.removeClass(n),_.delay(function(){i&&i()},o)},s)},setElementFontByLocale:function(t,n){var r=t.find(n),i=n==="input";e.Locale.getLocale()==="ja-jp"?r.css("font-family","MS Gothic"):i&&e.Util.isIE()&&r.css("font-family","sans-serif")},getNextDisplayedSibling:function(e){var t=e.next();while(t&&t.css("display")==="none")t=t.next();return t.length>0?t:undefined},isElementInDom:function(e){return e.length>0&&e.closest("html").length>0},isElementDisplayed:function(e){return e.length>0&&e.css("display")!=="none"},hasFocus:function(e){return $(document.activeElement).is($(e))},contains:function(e,t){return!e||!t?!1:(e instanceof $&&(e=e.get(0)),t instanceof $&&(t=t.get(0)),!_.isElement(e)||!_.isElement(t)?!1:$.contains(e,t))},selectText:function(e,t,n){var r;e.createTextRange?(r=e.createTextRange(),r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",n-t),r.select()):e.setSelectionRange?e.setSelectionRange(t,n):e.selectionStart&&(e.selectionStart=t,e.selectionEnd=n)},descendantHasFocus:function(e){return $(document.activeElement).closest(e).length===1},getNextFocusableDescendant:function(e,t,n,r){r=r||"";var i=e.find(r+":focusable"),s=i.index(document.activeElement),o=t?":lt":":gt",u=t?"last":"first",a;return s!==-1?(a=i.filter(o+"("+s+"):"+u),n&&a.length===0&&(a=i[u]())):a=i[u](),a},getFocusableDescendantAfter:function(e,t,n,r,i){r=r||"";var s=e.find(r+":focusable"),o=i?s.index(i):s.index(document.activeElement),u=t?":lt":":gt",a=t?"last":"first",f;return o!==-1?(f=s.filter(u+"("+o+"):"+a),n&&f.length===0&&(f=s[a]())):f=s[a](),f},getSelectedText:function(){var e="",t,n;return t=window.getSelection,t?e=t().toString():(n=document.selection,n&&n.type==="Text"&&(e=n.createRange().text)),e},isAllTextSelected:function(e){return e.text()===this.getSelectedText()},isElementHidden:function(e){var t=!1;return e.css("display")==="none"?t=!0:e.parents().each(function(e,n){$(n).css("display")==="none"&&(t=!0)}),t},isElementEmpty:function(e){return!$.trim(e.html())},enableInput:function(e,t){t?(e.prop("disabled",!1),e.removeClass("disabled"),e.removeClass("theme-disabled-text").addClass("theme-hyperlink")):(e.prop("disabled",!0),e.addClass("disabled"),e.removeClass("theme-hyperlink").addClass("theme-disabled-text"))},isInputEnabled:function(e){return e&&!e.prop("disabled")},isInputChecked:function(e){return e.prop("checked")},isHorizontalScrollBarPresent:function(e){return e.get(0).scrollWidth>e.innerWidth()},isVerticalScrollBarPresent:function(e){return e.get(0).scrollHeight>e.innerHeight()},isOnScreen:function(e){var t,n,r,i,s,o;return t=e.offset(),n=t.left,r=n+e.width(),i=t.top,s=i+e.height(),o=$(window),n<o.width()&&r>0&&i<o.height()&&s>0},getScrollBarWidth:function(){var e,t,n,r;return u?u:(e=document.createElement("p"),e.style.width="100%",e.style.height="200px",t=document.createElement("div"),t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t),n=e.offsetWidth,t.style.overflow="scroll",r=e.offsetWidth,n===r&&(r=t.clientWidth),document.body.removeChild(t),u=n-r,u)},makeUnselectable:function(e){function t(e){var n;e.nodeType===1&&e.setAttribute("unselectable","on"),n=e.firstChild;while(n)t(n),n=n.nextSibling}e instanceof $&&(e=e.get(0)),t(e)},showSpinner:function(e){e?(i.show(),$(".spinner-rsheader").show(),$(".spinner-rstext").show()):(i.hide(),$(".spinner-rsheader").hide(),$(".spinner-rstext").hide())},swapChildElements:function(e){var t=e.children();if(t.length!==2)return;e.empty().append(t.get().reverse())},getContrastYIQ:function(e){var t=/^rgb\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3})\)$/,n=t.exec(e),r,i,s,o;if(n!==null)return r=n[1],i=n[2],s=n[3],o=(299*r+587*i+114*s)/1e3,o>=128},testHighContrastMode:function(){var e="rgb(31,41,59)",t=$("<span/>").css("color",e).appendTo(r),n=t.css("color").replace(/\ /g,""),i=!1;return t.remove(),n!==e?(i=this.getContrastYIQ(r.css("background-color")),i?a.BLACK_ON_WHITE:a.ACTIVE):a.NONE},getHighContrastMode:function(){var e=null,t=window.matchMedia;return t&&(t("screen and (-ms-high-contrast:none)").matches&&(e=a.NONE),t("screen and (-ms-high-contrast:active)").matches&&(e=a.ACTIVE),t("screen and (-ms-high-contrast:black-on-white)").matches&&(e=a.BLACK_ON_WHITE),t("screen and (-ms-high-contrast:white-on-black)").matches&&(e=a.WHITE_ON_BLACK)),e||(e=this.testHighContrastMode()),e},loadHighContrastTheme:function(){var e,i=$.Deferred();n.isCEF()||(e=this.getHighContrastMode(),i.resolve()),i.then(function(){r.hasClass("high-contrast")||e&&e!==a.NONE?(t.addClass(r,"high-contrast"),e===a.BLACK_ON_WHITE&&t.addClass(r,"black-on-white"),e===a.WHITE_ON_BLACK&&t.addClass(r,"white-on-black"),t.loadCss("css/main-high-contrast.css")):r.removeClass("high-contrast black-on-white white-on-black")})},detachAndReattachElement:function(e){var t=e.parent(),n=e.prev(),r=e.next(),i=e.is(document.activeElement);e.detach(),n.length?e.insertAfter(n):r.length?e.insertBefore(r):e.appendTo(t),i&&e.focus()}},e.ViewUtil}),define("core/dev/templates/alert-dlg-template",[],function(){return'<div class="alert-dlg-msg theme-text"><%= msg %></div><div class="alert-dlg-buttons"><input class="control-button dialog-control-button button-grey ui-theme theme-text              alert-dlg-cancel-btn"       id="alert-dlg-cancel-btn"       type="button" aria-label="<%= cancelBtn %>"       value="<%= cancelBtn %>"/><input class="control-button dialog-control-button theme-button theme-button-label              alert-dlg-ok-btn"       id="alert-dlg-ok-btn"       type="button" aria-label="<%= okBtnAria %>"       value="<%= okBtn %>"/></div>'}),define("core/dev/utils/truncate",["core/ac-core","core/utils/util"],function(e,t){var n,r,i,s,o=["font-size","font-style","font-weight","font-family","text-indent","letter-spacing"];return e.Truncate={createDivCopy:function(e){var t,u,a;return n===e?t=r:(i||(i=document.createElement("div"),s=$(i),s.css({position:"absolute",left:-1e4,top:-1e4}),document.body.appendChild(i)),n=e,t=r=$(e),a={},_.each(o,function(e){u=t.css(e),s.css(e)!==u&&(a[e]=u)}),_.isEmpty(a)||s.css(a)),s.html(t.html()),s},getTextSize:function(e,t){var n=this.createDivCopy(e),r={width:n.outerWidth()};return t&&(r.height=n.outerHeight()),r},truncateToFit:function(e,n,r){var i=$.trim(e.text().replace(/(\r\n|\n|\r)/gm,"")),s=e.width(),o={text:i,truncatedText:i,width:s};e.removeAttr("title");if(s===0)return o;var u=n();if(u<=0)return o;var a={truncateFromRight:!1,truncateFromExt:t.isWindows(),ellipsis:"...",maxIterations:10};r&&($.extend(a,r),a.ellipsis=_.escape(a.ellipsis));var f=i.length,l=f,c=t.getExtension(i)||"";c!==""&&(c="."+c);var h=c.length,p=f,d=2,v=a.ellipsis,m=a.truncateFromRight,g=a.truncateFromExt,y=a.maxIterations,b=0,w,E,S;while((u>0||p>d)&&b<y)p=Math.ceil(p/2),l=u>0?l-p:l+p,m?w=i.substring(0,l)+v:g?(S=Math.max(l-h,0),w=i.substring(0,S)+v+c):(E=Math.floor(l/2),w=i.substring(0,E)+v+i.substring(f-(l-E))),e.text(w),u=n(),b+=1;return e.attr("title",i),o.truncatedText=e.text(),o},truncateElementText:function(e,t,n){var r;t||(t=e.width()),r=_.bind(function(){return this.getTextSize(e).width-t},this),!isNaN(t)&&t>0&&this.truncateToFit(e,_.bind(r,this),n)},truncateInputPlaceholder:function(e){var t=e.css("text-indent"),n=t?parseInt(t,10):0,r=e.width()-n*2;!isNaN(r)&&r>0&&this.truncateAttribute(e,"placeholder",r)},truncateButtonLabel:function(e){var t=e.width();!isNaN(t)&&t>0&&this.truncateAttribute(e,"value",t)},truncateAttribute:function(e,t,n){var r=this.createDivCopy(e),i;r.text(e.attr(t)),i=_.bind(function(){return this.getTextSize(r).width-n-1},this),this.truncateToFit(r,i),e.attr(t,r.text())}},e.Truncate}),define("core/dev/templates/dialog-template",[],function(){return'<div class="generic-dialog ui-theme theme-container" data-test-name="dlg"        role="dialog" aria-label="<%- title %>">    <div class="dialog-title-bar">        <div class="dialog-icon"></div>        <div class="dialog-title theme-text"><%- title %></div>        <button class="dialog-close-btn" tabindex="-1">            <span class="hidden-accessible"><%- close %></span>        </button>    </div>    <div class="dialog-content theme-text"></div></div>'}),define("core/dev/views/view",["underscore","core/ac-core","core/utils/util","core/utils/view-util"],function(e,t,n,r){return t.View=Backbone.View.extend({ViewException:function(e){this.name="AcCore.View.Exception",this.message=e},initialize:function(){Backbone.View.prototype.initialize.call(this),e.bindAll(this),this._childViewsById={},this._childViewAttrsById={},this._childViewsByAttr={}},teardown:function(){return undefined},addChildView:function(t,n,r){var i;return n=n||e.uniqueId(),this._childViewsById[n]=t,r&&(this._childViewAttrsById[n]=r,this._childViewsByAttr[r]=t),t.options.viewId=n,t.on("all",this._onViewEvent,this),i=t.options.scContext||this._getFullScContext(),i.length>0&&t._setParentScContext(i),n},getChildViewById:function(e){var t=this._childViewsById;return t?t[e]:undefined},getChildViews:function(){var t=this._childViewsById;return t?e.values(t):[]},removeAllChildViews:function(){e.each(this._childViewsById,e.bind(function(e,t){this.removeChildViewById(t)},this))},removeChildView:function(e){return this.removeChildViewById(e.options.viewId)},empty:function(){return this.$el.empty(),this},detach:function(){return this.$el.detach(),this},remove:function(){return this.removeAllChildViews(),this.$el.empty(),this.stopListening(),this},removeChildViewById:function(e){var t=this.getChildViewById(e),n;return t&&(t.off("all",this._onViewEvent,this),t.remove(),t.teardown(),delete this._childViewsById[e],n=this._childViewAttrsById[e],n&&delete this._childViewsByAttr[n]),t},applyRecursively:function(t){t(this),e.each(this._childViewsById,function(e){e.applyRecursively(t)})},applyMethodRecursively:function(e){function t(t){var n=t[e];n&&n()}this.applyRecursively(t)},updateChildViewSizes:function(){this.applyMethodRecursively("invalidateSize"),this.render()},invalidateViewsRecursively:function(){this.applyMethodRecursively("invalidate")},invalidate:function(){return undefined},_hasFocus:function(){return r.hasFocus(this.$el)},_onViewEvent:function(e,t){this.trigger(e,t)},_consumeEvent:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopImmediatePropagation?e.stopImmediatePropagation():e.cancelBubble=!1},_triggerViewEvent:function(t,n){var r=e.extend({},e.omit(this.options,"el"));n&&e.extend(r,n),r.scContext=r.scContext||this._getFullScContext(),this.trigger(t,r)},_renderChildView:function(t,n,r,i){var s=this._childViewsByAttr[t],o,u,a;if(!n){LOG.warning("AcCore.View._renderChildView: No class for '"+t+"'");return}return a=r instanceof $?r:this.$(r),s&&(i&&(o=i.childViewId),o&&!this.getChildViewById(o)&&(s=undefined)),s?s.$el.is(a)||s.setElement(a):(u=e.extend({},this.options,i,{el:a}),s=this[t]=new n(u),i&&(o=i.childViewId),this.addChildView(s,o,t)),s.render()},_getResolvedPromise:function(e){return $.Deferred().resolve().promise(e)},_isInDom:function(){return r.isElementInDom(this.$el)},_isHidden:function(){return r.isElementHidden(this.$el)},_logSiteCatalystEvent:function(t,r){var i=[];if(this.options.noScAnalytics)return;if(e.isUndefined(r)||!r)i=n.addToArray(i,this._getFullScContext());i=n.addToArray(i,t),this.options.appApi.siteCatalystApi.logScEvent(i)},_setParentScContext:function(e){this._parentScContext=e},_getParentScContext:function(){return this._parentScContext},_getSiteCatalystContext:function(){return undefined},_getFullScContext:function(){var e=[];return e=n.addToArray(e,this._getParentScContext()),e=n.addToArray(e,this._getSiteCatalystContext()),e},_addFocusEventListener:function(){this.options.appApi.focusApi.pushFocusHandler(this)},_removeFocusEventListener:function(){this.options.appApi.focusApi.popFocusHandler(this)},_addKeyEventListener:function(){this.options.appApi.keyApi.pushKeyHandler(this)},_removeKeyEventListener:function(){this.options.appApi.keyApi.popKeyHandler(this)}}),t.View}),define("core/dev/views/dialog-view",["core/ac-core","core/utils/util","core/utils/css-util","core/templates/dialog-template","i18n!core/nls/ui-strings","core/utils/sc-analytics","core/utils/view-util","core/views/view"],function(e,t,n,r,i,s,o){var u=".dialog-container";e.DialogView=e.View.extend({events:{"click .dialog-close-btn":"_onCloseBtnClick","click .card-checkbox":"_toggleChromeCardCheckBox"},options:{el:u,triggerEl:null},initialize:function(){e.View.prototype.initialize.call(this),this._addFocusEventListener(),this._addKeyEventListener(),_.defer(this._addAppApiCallbacks)},render:function(n){var s=this,u=this.options,a=u.appApi;return e.View.prototype.render.call(this),n||this.$el.empty().html(_.template(r)({title:u.title,close:i.CLOSE})),this.$el.show(),this._initWrappers(),this._initTabLimits(),this._showModalMask(!0),t.isCEF()&&a.pluginsApi.getSelectedPluginId("tools")==="home"&&a.selectionApi.isRunningInFull()&&a.rnaApi.done(function(e){e.disableLeftRailSelection(!0)}),_.delay(function(){o.descendantHasFocus(s.$el)||(s._initTabLimits(),s.$firstTabbable&&s.$firstTabbable.length!==0?s.$firstTabbable.focus():s.$dlg.attr("tabindex","-1").focus().on("blur.focusDialog",function(){$(this).removeAttr("tabindex").off("blur.focusDialog")}))},300),this},open:function(){var e=this.options;return!e.triggerEl&&$(document.activeElement).not("body").length&&(e.triggerEl=document.activeElement),e.dialogsUiModel.pushDialog(this),this._dialogViewId=e.parentView.addChildView(this),this.render(),this._deferred=$.Deferred(),this._deferred.promise()},close:function(e,t){var n,r=this._deferred;if(!r)return;this.closeWithoutResolving(),_.isUndefined(e)||e?(t&&(n=t.resolveArgs),r.resolve(n)):(this.options.scContext&&this._logSiteCatalystEvent(s.CANCEL),r.reject())},closeWithoutResolving:function(){var e=this.options,n=e.appApi,r=n.pluginsApi,i=this._dialogViewId,s;this.applyMethodRecursively("undelegateEvents"),this.applyMethodRecursively("stopListening"),this._removeFocusEventListener(),this._removeKeyEventListener(),this._removeAppApiCallbacks(),e.dialogsUiModel.popDialog(this),t.isCEF()&&r.getSelectedPluginId("tools")==="home"&&n.selectionApi.isRunningInFull()&&n.rnaApi.done(_.bind(function(e){e.disableLeftRailSelection(!1);return},this)),_.defer(_.bind(function(){e.parentView.removeChildViewById(i),n.dialogApi.isDialogOpen()||(this._showModalMask(!1),e.triggerEl&&$(e.triggerEl).is(":focusable")?(s=$(document.activeElement),(s.closest(this.$el).length===1||s.not("body").length===0)&&$(e.triggerEl).focus()):t.isIE()&&e.selectionUiModel.getNumSelectedItems()>0&&e.parentView.$el.focus())},this))},remove:function(){var e=this.$el;this.$dlg.remove(),e.children().length===0&&e.hide()},_initWrappers:function(){this.$dlg=this.$(".generic-dialog"),this.$titleBar=this.$(".dialog-title-bar"),this.$dialogTitle=this.$(".dialog-title"),this.$icon=this.$(".dialog-icon"),this.$dialogCloseBtn=this.$(".dialog-close-btn"),this.$dialogContent=this.$(".dialog-content")},_initTabLimits:function(){var e;e=this.$(":tabbable:not([disabled])"),this.$firstTabbable=e.first(),this.$lastTabbable=e.last()},_showModalMask:function(e){this.options.appApi.displayApi.showModal(e)},_center:function(e){var t=this.$dlg,r,i,s,o,u,a,f,l,c;e&&(r=e.$ref,i=e.horizontalOnly,s=e.verticalOnly),a=t.width()+n.getPaddingWidth(t),f=t.height()+n.getPaddingHeight(t),s||t.css("margin-left",-a/2),i||t.css("margin-top",-f/2),r&&(u=r.offset(),o=t.offset(),c=u.left+(r.width()-a)/2,l=u.top+(r.height()-f)/2,s||t.css("margin-left",c-o.left-a/2),i||t.css("margin-top",l-o.top-f/2))},_isClosed:function(){return this.$el.css("display")==="none"},_appendToDialog:function(e){this.$dialogContent.append(e),this._initTabLimits()},_setTitle:function(e){this.$dialogTitle.text(e)},_onCloseBtnClick:function(){this.close(!1)},_onKeyDown:function(e){var t=e.which,n=$(e.target),r,i,s=e.shiftKey,u=!1;switch(t){case 27:if(n.closest("[role=dialog]").is(this.$dlg)&&n.closest("[role=menu]").length===0||n.closest(this.$dlg).length===0)u=!0,this.close(!1);break;case 9:return this._initTabLimits(),r=this.$firstTabbable,i=this.$lastTabbable,r.is(i)?(u=!0,_.defer(function(){r.focus()})):r.is(n)?s&&(u=!0,_.defer(function(){i.focus()})):i.is(n)?s||(u=!0,_.defer(function(){r.focus()})):o.descendantHasFocus(this.$el)||(u=!0,s?_.defer(function(){i.focus()}):_.defer(function(){r.focus()})),u&&this._consumeEvent(e),!1;case 32:case 13:return!1}return u&&this._consumeEvent(e),!0},_addFocusEventListener:function(){$("body").on("focusin",this._onFocusIn)},_removeFocusEventListener:function(){$("body").off("focusin",this._onFocusIn)},_isOnTop:function(){var e=this.options.dialogsUiModel.get("open");return e[e.length-1]===this},_onFocusIn:function(e){var t=$(e.target),n=this.$firstTabbable,r=this.$lastTabbable;return this._isOnTop()?(n&&r&&t.closest(this.$el).length===0&&(e.shiftKey?_.defer(function(){r.focus()}):_.defer(function(){n.focus()}),this._consumeEvent(e)),!0):!0},_addAppApiCallbacks:function(){this.options.appApi.routerApi.addHistoryChangeCallback(this._onHistoryChange)},_removeAppApiCallbacks:function(){this.options.appApi.routerApi.removeHistoryChangeCallback(this._onHistoryChange)},_onHistoryChange:function(){this.close(!1,{noHistoryEffect:!0})},_toggleChromeCardCheckBox:function(){$(".card-checkbox").hasClass("core-checkbox-checked")?($(".card-checkbox").removeClass("core-checkbox-checked"),$(".card-checkbox").addClass("core-checkbox")):($(".card-checkbox").removeClass("core-checkbox"),$(".card-checkbox").addClass("core-checkbox-checked"))}})}),define("core/dev/views/alert-dlg-view",["core/ac-core","core/templates/alert-dlg-template","core/utils/util","core/utils/view-util","i18n!core/nls/ui-strings","core/utils/css-util","core/utils/truncate","core/views/dialog-view"],function(e,t,n,r,i,s,o){e.AlertDlgView=e.DialogView.extend({events:function(){return _.extend({},e.DialogView.prototype.events,{"click .alert-dlg-ok-btn":"_onOkClick","click .alert-dlg-cancel-btn":"_onCancelClick"})},initialize:function(){e.DialogView.prototype.initialize.call(this),this.setElement($(".alert-dialog-container"))},render:function(){var o=this.options,u=o.severity;return e.DialogView.prototype.render.call(this),this._appendToDialog(_.template(t)({msg:o.msg,okBtn:o.okBtn||i.OK,okBtnAria:o.okBtnAria,cancelBtn:o.cancelBtn})),this._initWrappers(),this._customizeStyling(),o.cancelBtn||this.$cancelBtn.hide(),this._initTabLimits(),this.$deleteSharedFileCard.hide(),(!n.isCEF()||!o.runningInRHP)&&!window.location.href.includes("unified_share")?(this._adjustDialogWidth(),this._center()):(this.$dlg.addClass("generic-dialog-rhp"),this.$titleBar.addClass("dialog-title-bar-rhp"),this.$dialogTitle.addClass("dialog-title-rhp"),this.$icon.addClass("dialog-icon-rhp"),this.$dialogCloseBtn.addClass("dialog-close-btn-rhp"),this.$okBtn.addClass("dialog-control-button-rhp"),this.$cancelBtn.addClass("dialog-control-button-rhp"),this.$dlgControlBtns.addClass("alert-dlg-buttons-rhp"),this.$alertDlgMsg.addClass("alert-dlg-msg-rhp"),_.defer(_.bind(function(){this.$dlg.height(s.getFullHeight(this.$titleBar)+s.getFullHeight(this.$alertDlgMsg)+s.getFullHeight(this.$dlgControlBtns))},this))),n.isWindows()&&r.swapChildElements(this.$dlgControlBtns),this.$okBtn.focus(),this._truncateText(),u&&(this.$titleBar.addClass(u),this.$icon.addClass("dialog-icon-common").addClass(u)),this.$(e.ScAnalytics.ANALYTICS_SELECTOR).trigger(e.ScAnalytics.RENDER),this},_initWrappers:function(){e.DialogView.prototype._initWrappers.call(this),this.$alertDlgMsg=this.$(".alert-dlg-msg"),this.$dlgControlBtns=this.$(".alert-dlg-buttons"),this.$okBtn=this.$(".alert-dlg-ok-btn"),this.$cancelBtn=this.$(".alert-dlg-cancel-btn"),this.$deleteSharedFileCard=this.$(".card-checkbox-label")},_customizeStyling:function(){var e=this.options,t;t=e.okBtnClass,t&&this.$okBtn.addClass(t),t=e.cancelBtnClass,t&&this.$cancelBtn.addClass(t),t=e.dlgClass,t&&this.$dlg.addClass(t)},_truncateText:function(){o.truncateButtonLabel(this.$okBtn),o.truncateButtonLabel(this.$cancelBtn)},_adjustDialogWidth:function(){var e=this.$dlg,t=s.getFullWidth(this.$okBtn)+1;this.options.cancelBtn&&(t+=s.getFullWidth(this.$cancelBtn)+1),t>e.width()&&e.width(t)},_onOkClick:function(t){var n=$(t.currentTarget),r=e.ScAnalytics;if(n.prop("disabled"))return;this.$(r.ANALYTICS_SELECTOR).trigger(r.DIALOG_COMMIT),this.close(!0)},_onCancelClick:function(){var t=e.ScAnalytics;this.$(t.ANALYTICS_SELECTOR).trigger(t.DIALOG_CANCEL),this.close(!1)},_onCloseBtnClick:function(){this.close(this.$cancelBtn.css("display")==="none")}})}),define("app-api/dev/dialog-api",["core/ac-core","app/ac-app","app-api/dev/ac-app-api","core/models/ui/dialog-ui-model","core/utils/view-util","core/apis/api","core/views/alert-dlg-view"],function(e,t,n,r,i){return n.DialogApi=e.Api.extend({SEVERITY_INFORMATIONAL:r.SEVERITY_INFORMATIONAL,SEVERITY_WARNING:r.SEVERITY_WARNING,SEVERITY_ERROR:r.SEVERITY_ERROR,SEVERITY_SUCCESS:r.SEVERITY_SUCCESS,SEVERITY_NEUTRAL:r.SEVERITY_NEUTRAL,displayTextAlert:function(e,t,n,r,i,s,o){return this._displayAlert(e,t,n,r,i,!1,s,o)},displayHtmlAlert:function(e,t,n,r,i,s,o){return this._displayAlert(e,t,n,r,i,!0,s,o)},getDialogParentView:function(){return t.viewMgr},getDialogDomElement:function(){return $(".dialog-container")},closeAllDialogs:function(){this.options.dialogsUiModel.closeAll()},isDialogOpen:function(){return i.isElementDisplayed(this.getDialogDomElement())||i.isElementDisplayed($(".alert-dialog-container"))},getDialogCount:function(){return this.options.dialogsUiModel.getDialogCount()},_displayAlert:function(n,r,i,s,o,u,a,f){var l,c,h,p,d,v;return this.options.prevAlertDlg&&this.options.prevAlertDlg.close(),u||(i=_.escape(i)),a&&(c=a.okButtonClass,h=a.cancelButtonClass,p=a.dlgClass,d=a.scContext),v=document.activeElement,l=new e.AlertDlgView(_.extend({},this.options,{severity:n,title:r,msg:i,okBtn:s,okBtnAria:f||s,cancelBtn:o,parentView:t.viewMgr,okBtnClass:c,cancelBtnClass:h,dlgClass:p,scContext:d})),this.options.prevAlertDlg=l,$("#modal-mask").addClass("alert"),l.open().always(_.bind(function(){this.options.prevAlertDlg=undefined,$("#modal-mask").removeClass("alert"),$(v).focus()},this))}}),n.DialogApi}),define("app-api/dev/discovery-uris-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){var n;return t.DiscoveryUrisApi=e.Api.extend({checkDCAPIEnabled:function(){var e=$.Deferred(),t,r={prefName:"DCAPIEnabled"};return this.options.appApi.rnaApi.done(_.bind(function(i){i.registryAPI.getRegistryContents(r).done(_.bind(function(r){try{t=JSON.parse(r)}catch(i){}return t&&t.DCAPIEnableOnCEF?n=t.DCAPIEnableOnCEF:n=!0,e.resolve()},this))},this)),e.promise()},useDCApi:function(){return n!==undefined?n:!0}}),t.DiscoveryUrisApi}),define("app-api/dev/download-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.DownloadApi=e.Api.extend({getDownloadTicket:function(t,n){return e.opFactory.create("GettingDownloadTicketOp",_.extend({},this.options,{async:!n})).run(!1,t)}}),t.DownloadApi}),define("app-api/dev/display-api",["core/ac-core","app-api/dev/ac-app-api","core/utils/view-util","core/utils/util","core/apis/api"],function(e,t,n,r){var i=_.template('<div class="full-overlay unselectable"></div>');return t.DisplayApi=e.Api.extend({setTheme:function(e){this._currentTheme=e},getTheme:function(){return this._currentTheme},setIconSet:function(e){this._iconSet=e},getIconSet:function(){return this._iconSet},initialize:function(){this._browserCefMgr=this.options.cefContextModel.get("browserCEFManager")},showModal:function(e,t){var n=this.options.modalMaskUiModel,r=!1,i=!1,s,o=!1;return _.isUndefined(e)&&(e=!0),_.isBoolean(t)?r=t:_.isObject(t)&&(r=!!t.transparent,i=!!t.reference),this.isDebugLogging()&&LOG("AcAppApi.DisplayApi.showModal "+e+(r?" transparent":"")+(i?" reference":"")),s=n.get("modal_ref_count"),i&&(e?s+=1:(s-=1,s<0&&(LOG("AcAppApi.DisplayApi.showModal: unbalanced 'hide' call"),s=0,o=!0))),this.options.modalMaskUiModel.set({modal:e,modal_transparent:e&&r,modal_ref_count:s}),o&&n.trigger("change:modal_ref_count"),this},isModal:function(){return this.options.modalMaskUiModel.get("modal")},isModalAjax:function(){return this.options.modalMaskUiModel.get("modal_ajax")},isModalTransparent:function(){return this.options.modalMaskUiModel.get("modal_transparent")},showSpinner:function(e,t){var r=this.options,i,s,o,u=$("#spinner");return t||(t=this.options.spinnerOptions),t&&(i=t.refElem,s=t.miniIcon),e?(r.showSpinnerRefs+=1,u.css("left","50%").css("top","50%"),i&&(o=i.offset(),o&&u.css("left",o.left+i.width()/2+"px").css("top",o.top+i.height()/2+"px")),u.removeClass("mini"),s&&u.addClass("mini")):(r.showSpinnerRefs-=1,r.showSpinnerRefs<0&&(r.showSpinnerRefs=0)),n.showSpinner(r.showSpinnerRefs>0),this},isSpinnerShown:function(){return this.options.showSpinnerRefs>0},clearSpinnerRefs:function(){this.options.showSpinnerRefs=1,this.showSpinner(!1)},setSpinnerOptions:function(e){this.options.spinnerOptions=e},clearSpinnerOptions:function(){this.setSpinnerOptions(undefined)},showAccountMenu:function(e){return this.options.pageHeaderUiModel.set("show_account_menu",e),this},showFullOverlay:function(e,t){var n=this.options.fullOverlayUiModel,r=n.get("overlay_element"),s,o;if(t)if(e){if(t.newElement)return s=r.parent(),s.append(i),o=s.children().last(),o.addClass("shown"),o}else{o=t.element;if(o)return o.remove(),o}return n.set("show_overlay",e),e&&r.empty(),r},isFullOverlayShown:function(){return this.options.fullOverlayUiModel.get("show_overlay")},toggleDebugLogging:function(){return this._isDebugLogging=!this._isDebugLogging,LOG("AcAppApi.DisplayApi.toggleDebugLogging "+(this._isDebugLogging?"on":"off")),this._isDebugLogging},isDebugLogging:function(){return!!this._isDebugLogging},showFrameworkChrome:function(e){e?($(".page-main-container").removeClass("acrobat"),$(".tools-content").removeClass("acrobat"),$(".page-header").show(),$(".toolbar").show()):($(".page-header").hide(),$(".toolbar").hide(),$(".tools-content").addClass("acrobat"),$(".page-main-container").addClass("acrobat"),$(".acrobat-footer").hide())},applyUIThemeStyles:function(t){var n=this.options,i=e.opFactory,s=$.Deferred();if(r.isCEF()){var o=this.options.appApi.routerApi.parseQueryParams(window.location.href.slice(window.location.href.indexOf("?")));(!_.isUndefined(o)&&!_.isUndefined(o.theme)&&o.theme!==this.getTheme()||t===!0||_.isUndefined(o)||_.isUndefined(o.theme))&&this.applyUIThemeStyleFramework(),i.create("ApplyUIThemeIconsOp",_.extend({iconSet:this.getIconSet()},n)).run();var u=this.options.appApi.rnaApi;if(!_.isUndefined(u)){var a=window.location.href+"applyUIThemeStyles Ends";u.done(_.bind(function(e){e._reviewAPI.invoke("EurekaLogPerformance",[a])}),this)}s.resolve()}else s.resolve();return s.promise()},applyUIThemeStyleFramework:function(){var t=this.options.appApi.routerApi.parseQueryParams(window.location.href.slice(window.location.href.indexOf("?")));!_.isUndefined(t)&&!_.isUndefined(t.theme)&&this.setTheme(t.theme),this._browserCefMgr.invoke("getThemeData").done(_.bind(function(t){e.opFactory.create("ApplyUIThemeStyleOp",_.extend({colorPalette:t},this.options)).run()},this))},scaleToFit:function(e,t,n){var r=e.width(),i=e.height(),s=Math.min(t/r,n/i);e.width(r*s)}}),t.DisplayApi}),define("app-api/dev/folder-api",["core/ac-core","app-api/dev/ac-app-api","core/utils/util","core/apis/api"],function(e,t,n){var r=!1,i=[];return t.FolderApi=e.Api.extend({getRootFolderId:function(e){var t=this.options,n=t.rootModel,r,i,s=n.get("id");return r=_.find(t.systemFoldersModel.get("connectors"),function(e){return e.name==="root"}),i=t.appApi.connectorsApi.getConnectorPluginRoot(e),r&&(s=r.id),i||s},setCurrentFolderId:function(e,t){this.options.currentFolderIds[e]=t},getCurrentFolderId:function(e){return e||(e=this.getRootFolderId()),this.options.currentFolderIds[e]||this.getRootFolderId(e)},getAcroPrefsFolderId:function(e){var t=this.options,n;n=t.systemFoldersModel.get("system_folders");if(n&&n.acroprefs)return n.acroprefs.id;return},updateFileSharedStatus:function(e,t){e.folderModel.updateFileSharedStatus(t.asset_id,t.is_shared)},refreshCurrentFolder:function(e,t){return r?this._getResolvedPromise():this.enqueueRefreshCurrentFolder(e,t)},enqueueRefreshCurrentFolder:function(e,t){var n=$.Deferred();return i.unshift({deferred:n,options:e,refreshOptions:t}),this._isRefreshingCurrentFolder||this._dequeueRefreshRequest(),n.promise()},setFilesCollection:function(e){var t=this.options.filesCollectionUiModel,n=_.isEqual(e,t.get("files_collection"));this.options.filesCollectionUiModel.set({files_collection:e}),n&&t.trigger("change:files_collection")},getFilesCollection:function(){return this.options.filesCollectionUiModel.get("files_collection")},addFilesCollectionCallback:function(e){this.options.filesCollectionUiModel.on("change:files_collection",e)},removeFilesCollectionCallback:function(e){this.options.filesCollectionUiModel.off("change:files_collection",e)},_dequeueRefreshRequest:function(){var e,t;if(i.length===0)return;e=i.pop(),t=e.deferred,this._refreshCurrentFolder(e.options,e.refreshOptions).then(t.resolve,t.reject)},_refreshCurrentFolder:function(t,n){var r=!1,i=!1;return this._isRefreshingCurrentFolder=!0,n&&(r=n.global,i=n.excludeEtag),e.opFactory.create("GettingFolderItemsOp",_.extend({},t,{global:r,limitedApi:!1})).run(t.folderModel.id,{excludeEtag:i}).then(_.bind(function(){this._isRefreshingCurrentFolder=!1,this._dequeueRefreshRequest()},this)).fail(_.bind(function(e){this._isRefreshingCurrentFolder=!1,this._dequeueRefreshRequest();if(e&&e.status>=500&&e.status<=502){var t=this.options,n=t.errorUiModel,r=n.getErrorStrings({type:"ajax",data:e});t.appApi.dialogApi.displayTextAlert(t.appApi.dialogApi.SEVERITY_ERROR,r.title,r.msg,r.btn).always(_.bind(function(){},this))}},this))},toggleRefreshCurrentFolder:function(){if(!e.Features.isFeatureEnabled("allow_refresh_current_folder_toggling"))return;r=!r,LOG("AcAppApi.FolderApi.toggleRefreshCurrentFolder "+(r?"disabled":"enabled"))}}),t.FolderApi}),define("app-api/dev/error-api",["core/ac-core","app-api/dev/ac-app-api","core/utils/sc-analytics","core/apis/api"],function(e,t,n){return t.ErrorApi=e.Api.extend({addUncaughtExceptionCallback:function(e){this.options.uncaughtExceptionCallbacks.push(e)},sendLogEvent:function(t){e.opFactory.create("SendingLogEventOp",this.options).run(t)},notifyUncaughtExceptionCallbacks:function(e,t,n,r,i){var s=!0;return _.each(this.options.uncaughtExceptionCallbacks,function(o){o(e,t,n,r,i)===!1&&(s=!1)}),s},enqueueAjaxError:function(e){this.options.errorUiModel.enqueueAjaxError(e)},enqueueMiscError:function(e,t){this.options.errorUiModel.enqueueMiscError(e,t)},enqueueDupError:function(e,t){this.options.errorUiModel.enqueueDupError(e,t)},dequeueError:function(){this.options.errorUiModel.dequeueError()},dequeueQuotaError:function(){return this.options.errorUiModel.dequeueQuotaError()},dequeueDupError:function(){return this.options.errorUiModel.dequeueDupError()},isQuotaExceededError:function(e){return this.options.errorUiModel.isQuotaExceededError(e)},isDeleteNonEmptyFolderError:function(e){return this.options.errorUiModel.isDeleteNonEmptyFolderError(e)},isUnsupportedSharingMimeTypeError:function(e){return this.options.errorUiModel.isUnsupportedSharingMimeTypeError(e)},isVirusDetectedError:function(e){return this.options.errorUiModel.isVirusDetectedError(e)},moduleNotLoaded:function(e){this.options.errorUiModel.moduleNotLoaded(e)},getModulesNotLoaded:function(){return this.options.errorUiModel.getModulesNotLoaded()},listenTo:function(e,t,n){e.listenTo(this.options.errorUiModel,t,n)},stopListening:function(e,t,n){this.options.errorUiModel.stopListening(e,t,n)},getStatusErrorStrings:function(e){return this.options.errorUiModel.getStatusErrorStrings(e)},getErrorStrings:function(e){return this.options.errorUiModel.getErrorStrings(e)},logAjaxError:function(e){var t,r=e.status,i,s,o,u,a;o=this.options.appApi;if(!o)return;t=[n.GENERAL,n.ERROR],r&&t.push(r.toString()),r===403?t.push(n.FORBIDDEN):r===404&&t.push(n.NOT_FOUND);try{i=JSON.parse(e.responseText),s=i.error,s&&t.push(s.code),u=s.details,u&&(a=u.limit,a&&(t.push(n.LIMIT),t.push(a.toString())))}catch(f){}o.siteCatalystApi.logScEvent(t)}}),t.ErrorApi}),define("app-api/dev/http-api",["core/ac-core","app-api/dev/ac-app-api","core/utils/http-util","core/apis/api"],function(e,t,n){return t.HttpApi=e.Api.extend({getRequestHeaders:function(e,t){return n.getRequestHeaders(e,t)}}),t.HttpApi}),define("app-api/dev/inactivity-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.InactivityApi=e.Api.extend({isIdle:function(){return this.options.inactivityUiModel.get("is_idle")},addActiveChangeCallback:function(e){this.options.inactivityUiModel.on("change:is_active",e)},removeActiveChangeCallback:function(e){this.options.inactivityUiModel.off("change:is_active",e)},addIdleChangeCallback:function(e){this.options.inactivityUiModel.on("change:is_idle",e)},removeIdleChangeCallback:function(e){this.options.inactivityUiModel.off("change:is_idle",e)},setIsActive:function(){this.options.inactivityUiModel.set({is_active:!0,is_idle:!1})},setIdleTimeout:function(e){this.options.inactivityUiModel.set("idle_timeout",e)}}),t.InactivityApi}),define("app-api/dev/focus-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.FocusApi=e.Api.extend({pushFocusHandler:function(e){var t=this.options.focusHandlers,n=t.length;if(n===0||t[n-1]!==e)n=t.push(e);return n},popFocusHandler:function(e){var t=this.options.focusHandlers,n=t.length,r;for(r=n-1;r>=0;r-=1)if(e===t[r]){t.splice(r,1);break}return e},pushFocusConsumer:function(){this.pushFocusHandler(this)},popFocusConsumer:function(){this.popFocusHandler(this)},_onFocusIn:function(){return!0},_onFocusOut:function(){return!0}}),t.FocusApi}),define("app-api/dev/key-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.KeyApi=e.Api.extend({pushKeyHandler:function(e){var t=this.options.keyHandlers,n=t.length;if(n===0||t[n-1]!==e)n=t.push(e);return n},popKeyHandler:function(e){var t=this.options.keyHandlers,n=t.length,r;for(r=n-1;r>=0;r-=1)if(e===t[r]){t.splice(r,1);break}return e},pushKeyConsumer:function(){this.pushKeyHandler(this)},popKeyConsumer:function(){this.popKeyHandler(this)},_onKeyDown:function(){return!0},_onKeyPress:function(){return!0},_onKeyUp:function(){return!0}}),t.KeyApi}),define("app-api/dev/loader-api",["core/ac-core","app-api/dev/ac-app-api","core/utils/css-util","core/apis/api"],function(e,t,n){return t.LoaderApi=e.Api.extend({loadCss:function(e){n.loadCss(e)},loadModule:function(t,n){return e.opFactory.create("LoadingModuleOp",{appApi:this.options.appApi}).run({url:t,displayName:n})}}),t.LoaderApi}),define("app-api/dev/locale-api",["core/ac-core","app/ac-app","app-api/dev/ac-app-api","core/apis/api"],function(e,t,n){return n.LocaleApi=e.Api.extend({getLocale:function(){return e.Locale.getLocale()},getNormalizedLocale:function(t){return e.Locale.getNormalizedLocale(t)},getLocaleByCountry:function(t){return e.Locale.getLocaleByCountry(t)},getLanguageName:function(t){return e.Locale.getLanguageName(this.getNormalizedLocale(t))},getQueryParamLocale:function(){return e.Locale.getQueryParamLocale()},setLocale:function(e){t.opFactory.create("SwitchingLanguageOp",_.extend({},this.options,{locale:e})).run()}}),n.LocaleApi}),define("app-api/dev/manipulation-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.ManipulationApi=e.Api.extend({moveToFolderAs:function(t,n,r,i,s){var o=e.opFactory,u,a;return o=e.opFactory,u=o.create("MovingItemOp",_.extend({},t,{id:n,objectType:r,destFolderId:i})),a=o.create("RenamingItemOp",_.extend({},t,{id:n,object_type:r,name:s})),u.run().then(function(){return a.run()})},deleteItem:function(t,n,r){return e.opFactory.create("DeletingItemOp",_.extend({},t,{id:n,object_type:r})).run()}}),t.ManipulationApi}),define("app-api/dev/network-api",["core/ac-core","app-api/dev/ac-app-api","core/utils/ajax-util","core/apis/api"],function(e,t,n){return t.NetworkApi=e.Api.extend({isAjaxRequestActive:function(){return this.options.networkUiModel.get("is_ajax_request_active")},addAjaxActiveChangeCallback:function(e){this.options.networkUiModel.on("change:is_ajax_request_active",e)},throttledAjax:function(e,t){return $.ajax(e,_.extend({},t,{throttleOn:!0,beforeSend:n.beforeSend,complete:n.complete}))}}),t.NetworkApi}),define("app-api/dev/network-connectivity-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.NetworkConnectivityApi=e.Api.extend({isOnline:function(){var e=this.options.networkConnectivityModel;return e.get("is_connected")&&e.get("ajax_status")},addNetworkConnectivtyChangeCallback:function(e){this.options.networkConnectivityModel.on("change:is_connected",e)},removeNetworkConnectivtyChangeCallback:function(e){this.options.networkConnectivityModel.off("change:is_connected",e)},addNetworkOnlineChangeCallback:function(e){this.options.networkConnectivityModel.on("change:ajax_status",e)},removeNetworkOnlineChangeCallback:function(e){this.options.networkConnectivityModel.off("change:ajax_status",e)},resetNetworkStatusToOnline:function(e){this.options.networkConnectivityModel.resetNetworkStatusToOnline(e)},resetNetworkStatus:function(e){this.options.networkConnectivityModel.resetNetworkStatus(e)}}),t.NetworkConnectivityApi}),define("app-api/dev/notification-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){var n=!1;return t.NotificationApi=e.Api.extend({addFolderNotificationCallback:function(e,t){this.options.notificationUiModel.addCallback(e,t)},removeFolderNotificationCallback:function(e,t){this.options.notificationUiModel.removeCallback(e,t)},distributeNotifications:function(e){var t={},r,i,s,o,u;if(n)return;i=this.options.appApi.folderApi.getCurrentFolderId(),_.each(e,function(e){s=e.object_id,e.object_type==="folder"&&e.operation==="deleted"&&s===i?r=s:r=e.parent_id,o=t[r],o||(o=t[r]=[]),o.push(e)}),u=this.options.notificationUiModel.get("callbacks_by_folder_id"),_.each(t,function(e,t){_.each(u[t],function(t){t(e)})})},toggleNotifications:function(){if(!e.Features.isFeatureEnabled("allow_notification_toggling"))return;n=!n,LOG("AcAppApi.NotificationApi.toggleNotifications "+(n?"disabled":"enabled"))}}),t.NotificationApi}),define("app-api/dev/plugins-api",["core/ac-core","app/ac-app","app-api/dev/ac-app-api","plugins-common/ac-plugins","i18n!core/nls/ui-strings","core/utils/util","core/apis/api"],function(e,t,n,r,i,s){return n.PluginsApi=e.Api.extend({initialize:function(){var t,n;e.Api.prototype.initialize.call(this),t=this.options,n=t.pluginsConfigs,_.each(r.types,function(e){_.each(e.plugin_ids,function(t){n[t]=e})}),t.pluginGroupsUiModel.init(r)},getBaseUrl:function(e){return this.options.pluginGroupsUiModel.getPluginBaseUrl(e)},getGroupBaseUrl:function(e){return this.options.pluginGroupsUiModel.getPluginGroupBaseUrl(e)},getGroupConfigUrl:function(e){var t=this.options.pluginGroupsUiModel.getPluginGroupConfigUrl(e);return t?this.getFullGroupUrl(e,t):""},setPluginGroupConfigLoaded:function(e,t){return this.options.pluginGroupsUiModel.setPluginGroupConfigLoaded(e,t)},isGroupConfigLoaded:function(e){return this.options.pluginGroupsUiModel.isPluginGroupConfigLoaded(e)},isPluginAvailable:function(e){var t,n;return this.getGroupConfigUrl(this.getPluginGroupId(e))&&!this.isGroupConfigLoaded(e)?!1:(t=this.options.pluginsUiModels[e],t?(n=t.get("plugins").get(e),n!==undefined&&(n.get("plugin_loaded")||n.get("selector_loaded"))):!1)},isPluginLoaded:function(e){if(!this.isPluginAvailable(e))return!1;var t=this.options.pluginApis[e];return t!==undefined},getPluginSelectorId:function(e){return e+"-selector"},getPluginContentId:function(e){return e+"-plugin"},setPluginGroupId:function(e,t){this.options.pluginGroupsUiModel.setPluginGroupId(e,t)},getPluginGroupId:function(e){return this.options.pluginGroupsUiModel.getPluginGroupId(e)},getGroupAnalyticsUrl:function(e){var t=this.options.pluginGroupsUiModel.getPluginGroupAnalyticsUrl(e);return t?this.getFullGroupUrl(e,t):""},getGroupCssUrl:function(e){var t=this.options.pluginGroupsUiModel.getPluginGroupCssUrl(e);return t?this.getFullUrl(e,t):""},getGroupModuleUrl:function(e){return this.options.pluginGroupsUiModel.getPluginGroupModuleUrl(e)},getGroupSelectorCssUrl:function(e){var t=this.options.pluginGroupsUiModel.getPluginGroupSelectorCssUrl(e);return t?this.getFullUrl(e,t):""},getGroupSelectorModuleUrl:function(e){return this.options.pluginGroupsUiModel.getPluginGroupSelectorModuleUrl(e)},getFullUrl:function(e,t){return this.prependBaseUrl(t,this.getBaseUrl(e))},getFullGroupUrl:function(e,t){return this.prependBaseUrl(t,this.getGroupBaseUrl(e))},prependBaseUrl:function(e,t){var n=e;return t&&(t.charAt(t.length-1)!==47&&(t+="/"),n=t+n),n},loadPlugin:function(t){return e.opFactory.create("LoadingPluginOp",this.options).run(t)},showPlugin:function(e,t){var n=this.options.pluginsUiModels[e],r,i,s,o;if(!n)return;r=n.get("plugins").get(e),i=r.get("show_plugin"),t!==i&&(o=r.get("selector_api"),o&&o.showSelector(t),r.set("show_plugin",t),n.pluginsChanged()),!t&&e===n.get("selected_plugin_id")&&(s=n.getFirstEnabledId(),s&&this.selectPlugin(s))},selectPlugin:function(t,n,r){var i=this.options,s;return n=n||{},n.noHistoryEffect||(s=i.pluginsUiModels[t],s&&s.set("pending_plugin_id",t)),n.noChildSelection=r===!0,i.appApi.sessionApi.getRoutingAtContentPagePromise().then(_.bind(function(){return this.loadPlugin(t).then(_.bind(function(){if(!r||!this.isPluginSelected(t))return e.opFactory.create("SelectingPluginOp",i).run(t,n)},this))},this))},selectPluginIfNotSelected:function(e,t){return this.selectPlugin(e,t,!0)},getEnabledPlugin:function(e){var t;return this.isPluginEnabled(e)||(t=this.options.pluginsUiModels[e],t&&(e=t.getFirstEnabledId())),e},isPluginSelected:function(e){var t=this.options.pluginsUiModels[e];return t?e===t.get("selected_plugin_id"):!1},isPluginShown:function(e){var t=this.options.pluginsUiModels[e],n;return t?(n=t.get("plugins").get(e),n.get("show_plugin")):!1},isPluginEnabled:function(e){return this.isPluginShown(e)?this.callPluginMethod(e,"isEnabled",undefined,!0,!0):!1},getPluginIdOfType:function(e,t){var n=r.types[e],i,s,o;return n&&(i=n.plugin_ids,i&&i.length>0&&(s=this.getPluginsUiModel(i[0]),s&&(o=s.get(t)))),o},getSelectedPluginId:function(e){return this.getPluginIdOfType(e,"selected_plugin_id")},setDefaultPluginId:function(e,t){var n=r.types[e],i,s,o;n&&(i=n.plugin_ids,i&&i.length>0&&(s=this.getPluginsUiModel(i[0]),s&&(_.isUndefined(_.find(i,function(e){return e===t}))?(o=s.getAllIds(),_.isUndefined(_.find(o,function(e){return e===t}))||(s.set("default_plugin_id",t),n.default_plugin_id=t)):(s.set("default_plugin_id",t),n.default_plugin_id=t))))},setDefaultPluginIdAsUndefined:function(e){var t=r.types[e],n,i;t&&(n=t.plugin_ids,n&&n.length>0&&(i=this.getPluginsUiModel(n[0]),i&&(i.set("default_plugin_id",undefined),t.default_plugin_id=undefined)))},getDefaultPluginId:function(e){return this.getPluginIdOfType(e,"default_plugin_id")},getPendingPluginId:function(e){return this.getPluginIdOfType(e,"pending_plugin_id")||this.getPluginIdOfType(e,"selected_plugin_id")},getSelectedPluginSiteCatalystName:function(e){var t=this.getSelectedPluginId(e),n;return t&&(n=this.getSiteCatalystName(t)),n},getSiteCatalystName:function(e,t,n){return n?this.callSelectorMethod(e,"getSiteCatalystName",undefined,t,!0):this.callPluginMethod(e,"getSiteCatalystName",undefined,t,!0)},expandPlugin:function(e,t){var n=this.options.pluginsUiModels[e];_.isUndefined(t)&&(t=!0),n&&(t?n.set("expanded_plugin_id",e):n.unset("expanded_plugin_id"))},isPluginExpanded:function(e){var t=this.options.pluginsUiModels[e];return t?e===t.get("expanded_plugin_id"):!1},addPlugin:function(e,t,n,r,i){var s=n.get("plugins");s.add(t,{at:i}),this.addPluginsConfig(e,r),this.registerPluginsUiModel(e,n)},removePlugin:function(e,t){var n=t.get("plugins"),r=n.get(e),i=n.indexOf(r),s=r.get("selector_api"),o=r.get("plugin_api");return s&&r.get("selector_api").remove(),o&&r.get("plugin_api").remove(),n.remove(r),this.registerPluginsUiModel(e,undefined),this.addPluginsConfig(e,undefined),i},addPluginApi:function(e,t){this.options.pluginApis[e]=t},getPluginApi:function(e){return this.options.pluginApis[e]},addSelectorApi:function(e,t){this.options.selectorApis[e]=t},getSelectorApi:function(e){return this.options.selectorApis[e]},isPluginOfThisType:function(e,t){var n=this.getPluginTypeConfig(t);return n&&_.indexOf(n.plugin_ids,e)!==-1},getPluginTypeConfig:function(e){return r.types[e]},hasPluginType:function(e){var t=this.getPluginTypeConfig(e);return t?t.plugin_ids.length>0:!1},addPluginsConfig:function(e,t){this.options.pluginsConfigs[e]=t},getPluginsConfig:function(e){return this.options.pluginsConfigs[e]},registerPluginsUiModel:function(e,t){var n=this.options.pluginsUiModels;_.isString(e)?n[e]=t:_.each(e.plugin_ids,function(e){n[e]=t})},getPluginsUiModel:function(e){return this.options.pluginsUiModels[e]},getPluginUiModel:function(e){var t=this.getPluginsUiModel(e);return t&&t.getPluginUiModel(e)},getConfig:function(e){return this.options.pluginGroupsUiModel.getPluginConfig(e)},getApiId:function(e,t){var n;return _.each(e,function(e,r){e===t&&(n=r)}),n},getPluginId:function(e){return this.getApiId(this.options.pluginApis,e)},getSelectorId:function(e){return this.getApiId(this.options.selectorApis,e)},getPreferences:function(){var e={},t;return _.each(this.options.pluginApis,function(n,r){t=n.getPreferences(),t&&(e[r]=t)}),e},setPreferences:function(e){var t;_.each(this.options.pluginApis,function(n,r){t=e[r],n&&t&&n.setPreferences(t)})},getVersionLists:function(){var e={},t;return _.each(this.options.pluginApis,function(n,r){if(n.getPluginVersionList){t=undefined;try{t=n.getPluginVersionList()}catch(i){t=["Error retrieving versions"]}t&&(e[r]={versionList:t,frameworkVersion:n.getAppApiVersion()})}e.hasOwnProperty(r)||(e[r]=["Not implemented"])}),e},getMinimumSupportedRNAVersion:function(e){var t=this.options,n=1,r,i=t.appApi.connectorsApi,o;return s.isCEF()?(i.isConnectorPlugin(e)&&(o=i.getConnectorPluginName(e),i.isDesktopConnector(o)||(e="my_files")),Ac.rnaVersionInfo&&t.appApi.rnaApi.done(_.bind(function(t){var i=t.rnaReaderAPI.getProductVersion(),s,o,u,a,f,l,c,h=0,p=0;return!this._minVersionBlob&&i&&(l=i.lastIndexOf("."),l!==-1&&(s=i.substr(0,l),f=s.lastIndexOf("."),f!==-1&&(o=s.substr(0,f),u=parseInt(i.substr(f+1,l),10),a=parseInt(i.substr(l+1),10),Ac.rnaVersionInfo[i]&&(this._minVersionBlob=Ac.rnaVersionInfo[i]),!this._minVersionBlob&&Ac.rnaVersionInfo[s]&&(c=Ac.rnaVersionInfo[s].range,c&&!_.isUndefined(c.from)&&!_.isUndefined(c.to)?(h=parseInt(c.from,10),p=parseInt(c.to,10),a>=h&&a<=p&&(this._minVersionBlob=Ac.rnaVersionInfo[s])):this._minVersionBlob=Ac.rnaVersionInfo[s]),!this._minVersionBlob&&Ac.rnaVersionInfo[o]&&(c=Ac.rnaVersionInfo[o].range,c&&!_.isUndefined(c.from)&&!_.isUndefined(c.to)?(h=parseInt(c.from,10),p=parseInt(c.to,10),u>=h&&u<=p&&(this._minVersionBlob=Ac.rnaVersionInfo[o])):this._minVersionBlob=Ac.rnaVersionInfo[o]),!this._minVersionBlob&&Ac.rnaVersionInfo["default"]&&(this._minVersionBlob=Ac.rnaVersionInfo["default"])))),this._minVersionBlob&&(r=this._minVersionBlob.rna_version[e],r&&(n=parseInt(r,10))),n},this)),n):n},getRNAVersion:function(e){var t=1,n=this.options.appApi.connectorsApi,r;return s.isCEF()?(n.isConnectorPlugin(e)&&(r=n.getConnectorPluginName(e),n.isDesktopConnector(r)||(e="my_files")),Ac.currentRNAVersions&&(_.isUndefined(Ac.currentRNAVersions[e])||(t=Ac.currentRNAVersions[e])),t):t},getRNAVariant:function(e){var t="",n=this.options.appApi.connectorsApi,r;return s.isCEF()?(n.isConnectorPlugin(e)&&(r=n.getConnectorPluginName(e),n.isDesktopConnector(r)||(e="my_files")),Ac.currentRNAVariants&&(_.isUndefined(Ac.currentRNAVariants[e])||(t=Ac.currentRNAVariants[e])),t):t},getRNASelectedPluginId:function(){var e,t=this.options,n,r=t.appApi.connectorsApi;return t.runningInFull&&(e=this.getSelectedPluginId("tools"),e==="home"&&(e=this.getSelectedPluginId("home_views"))),t.runningInRHP&&(e=t.runningInContextBoard?this.getSelectedPluginId("full_preview_rhp"):this.getSelectedPluginId("full_preview")),t.runningInFileSelection&&(e=this.getSelectedPluginId("file_selection_dlg")),r.isConnectorPlugin(e)&&(n=r.getConnectorPluginName(e),r.isDesktopConnector(n)||(e="my_files")),e},isInSearchResultsView:function(){return this.getRNASelectedPluginId()==="uss_search"},validateRNAPlugin:function(e){var n=this.options,r=n.appApi,i=r.connectorsApi,o,u,a;return s.isCEF()?(n.runningInFull&&(o=this.getSelectedPluginId("tools"),o==="home"&&(o=this.getSelectedPluginId("home_views"))),n.runningInRHP&&(o=n.runningInContextBoard?this.getSelectedPluginId("full_preview_rhp"):this.getSelectedPluginId("full_preview")),n.runningInFileSelection&&(o=this.getSelectedPluginId("file_selection_dlg")),a=o,i.isConnectorPlugin(o)&&(u=i.getConnectorPluginName(o),i.isDesktopConnector(u)||(o="my_files")),t.opFactory.create("ValidatingRNAVersionInfoOp",n).run(o).then(undefined,_.bind(function(){e||this.handleOutDatedRNAPlugin(o,a)},this))):this._getResolvedPromise()},handleOutDatedRNAPlugin:function(e,t){var n=this.options,r=n.appApi,o=r.dialogApi,u=this.getPluginUiModel(t),a=0;if(!s.isCEF())return;r.selectionApi.isRunningInFileSelection()&&(a=1);if(o.getDialogCount()!==a)return;o.displayTextAlert(r.dialogApi.SEVERITY_ERROR,i.RNA_VERSION_DIALOG_TITLE,i.RNA_VERSION_DIALOG_CONTENT,i.RNA_VERSION_DIALOG_LINK_TITLE,i.CANCEL).then(function(){r.rnaApi.done(function(t){n.rnaPluginGoUrlInfo[e]&&t.rnaIpmAPI.invokeMethod({methodName:"executeURI",methodArgs:i[n.rnaPluginGoUrlInfo[e]]})})}),u&&_.defer(function(){$(u.get("content_elem")).empty(),$("#modal-mask").addClass("alert"),r.displayApi.clearSpinnerRefs()})},handleServerOutageFailure:function(){var e=this.options,t=e.appApi,n=t.dialogApi,r=0;s.isCEF()&&_.delay(function(){t.selectionApi.isRunningInFileSelection()&&(r=1),t.networkConnectivityApi.isOnline()&&t.sessionApi.isSignedInReader()&&n.getDialogCount()===r&&n.displayTextAlert(n.SEVERITY_ERROR,i.SERVER_OUTAGE_DIALOG_TITLE,i.SERVER_OUTAGE_DIALOG_CONTENT,i.OK)},500)},callApiMethod:function(e,t,n,r,i,s){function a(){LOG(s()+"plugin  has no '"+t+"' method")}function f(e){LOG(s()+"method '"+t+"' threw error: "+(e.stack||e.message))}var o=e[t],u;if(_.isFunction(o))try{_.isArray(n)?u=o.apply(e,[n]):u=o.call(e,n);if(!_.isUndefined(u)||!r)return u}catch(l){_.isFunction(f)&&f(l)}else!i&&_.isFunction(a)&&a();return r},callPluginApiMethod:function(e,t,n,r,i){var s=_.bind(function(){return"AcAppApi.PluginsApi.callPluginApiMethod: '"+this.getPluginId(e)+"' "},this);return this.callApiMethod(e,t,n,r,i,s)},callPluginMethod:function(e,t,n,r,i){var s=this.options.pluginApis[e];return s?this.callPluginApiMethod(s,t,n,r,i):(i||LOG("AcAppApi.PluginsApi.callPluginMethod: No plugin with id '"+e+"'"),r)},callSelectorApiMethod:function(e,t,n,r,i){var s=_.bind(function(){return"AcAppApi.PluginsApi.callSelectorApiMethod: '"+this.getPluginId(e)+"' "},this);return this.callApiMethod(e,t,n,r,i,s)},callSelectorMethod:function(e,t,n,r,i){var s=this.options.selectorApis[e];return s?this.callSelectorApiMethod(s,t,n,r,i):(i||LOG("AcAppApi.PluginsApi.callSelectorMethod: No selector with id '"+e+"'"),r)},callPluginMethodForEach:function(e,t,n,r,i){var s=[];return _.each(e,_.bind(function(e,o){s[o]=this.callPluginMethod(e,t,n,r,i)},this)),s},callSelectorMethodForEach:function(e,t,n,r,i){var s=[];return _.each(e,_.bind(function(e,o){s[o]=this.callSelectorMethod(e,t,n,r,i)},this)),s},callPluginMethodForEachIfEnabled:function(e,t,n,r,i){var s=[];return _.each(e,_.bind(function(e){this.callPluginMethod(e,"isEnabled",undefined,!0,!0)&&s.push(this.callPluginMethod(e,t,n,r,i))},this)),s},setNativeViewSelected:function(e){this.options.leftRailUiModel.set("isNativeSelected",e)},isNativeViewSelected:function(){return this.options.leftRailUiModel.get("isNativeSelected")}}),n.PluginsApi}),define("files/dev/ac-files",["require"],function(e){var t,n,r,i,s,o;return i=e.toUrl("files"),s=i.lastIndexOf("/"),o=i.indexOf(".js"),o!==-1?t=i.substr(s+1,o-s-1):t=i.substr(s+1),n=Ac.Files,n||(n=Ac.Files={}),r=n[t],r||(r=n[t]={}),r.VERSION=t,r}),define("app-api/dev/preview-api",["core/ac-core","files/ac-files","app-api/dev/ac-app-api","core/utils/util","core/apis/api"],function(e,t,n,r){var i=["file/","about","my_info","my_plan"];return n.PreviewApi=e.Api.extend({initialize:function(){e.Api.prototype.initialize.call(this),this._fullPreviewItemModelCallbacks=[],this.options.fullPreviewUiModel.on("change:item_model",this._onItemModelChange)},closeFullPreview:function(e){var n=this.options,r,i,s;return this.options.fullPreviewOptions?(e=_.extend({},this.options.fullPreviewOptions,e),s=e.noHistoryEffect,r=n.fullPreviewUiModel,i=r.get("prev_document_title"),i&&(document.title=i,r.unset("prev_document_title")),e.fullPreviewUiModel.set("prev_non_preview_path",r.get("prev_non_preview_path")),t.opFactory.create("ClosingFullPreviewOp",e).run().always(function(){r.close(),n.fullPreviewOptions=undefined,s||n.appApi.pluginsApi.selectPlugin(n.toolsUiModel.getSelectedId(),undefined,!0)})):this._getResolvedPromise()},getFullPreviewAssetInfo:function(){var e=this.options.fullPreviewUiModel.get("item_model");return e?{id:e.id,metadata:e.attributes}:undefined},openedFullPreview:function(e){var t=document.title,n=this.options.fullPreviewUiModel;this.options.fullPreviewOptions=e,n.set(_.omit(e.fullPreviewUiModel.attributes,"prev_non_preview_path")),n.get("prev_document_title")||n.set("prev_document_title",t),document.title=n.getFileName()+" - "+t},navigatedToPath:function(e){var t=this.options,n=t.appApi.routerApi,r=t.fullPreviewUiModel;if(n.pathStartsWith(n.getCurrentPath(),"file/"))return;if(!e||e==="/")return;(!r.get("item_model")||!r.get("prev_non_preview_path"))&&!n.pathStartsWith(e,"file/")&&r.set("prev_non_preview_path",e)},ignoreCurrentPath:function(){var e=this.options.appApi.routerApi,t=_.find(i,function(t){return e.currentPathStartsWith(t)});return!_.isUndefined(t)},addIgnorePath:function(e){var t=_.indexOf(i,e);t<0&&i.push(e)},addItemModelChangeCallback:function(e){var t=this._fullPreviewItemModelCallbacks,n=_.indexOf(t,e);n<0&&t.push(e)},removeItemModelChangeCallback:function(e){var t=this._fullPreviewItemModelCallbacks,n=_.indexOf(t,e);n>=0&&t.splice(n,1)},isActive:function(){return!_.isUndefined(this.options.fullPreviewUiModel.get("item_model"))},mayActivatePluginElement:function(e){var t=this.options.appApi.pluginsApi.getPluginTypeConfig("full_preview_overlays").plugin_ids;if(r.isIE9orBelow()||r.isIE10())return;_.each(t,_.bind(function(t){var n=this.options.appApi.pluginsApi,r=n.getPluginApi(t),i=n.getPluginsUiModel(t),s;if(r&&i){s=i.get("plugins").get(t);if(_.isUndefined(s.get("content_elem")))return;n.callPluginApiMethod(r,"mayActivatePluginElement",[e,s.get("preview_elems")],!1,!0)?(s.get("content_elem").removeClass("no-events"),_.each(s.get("preview_elems"),function(e){e.removeClass("no-events")})):this.options.fullPreviewUiModel.isNGDocView()&&(s.get("content_elem").addClass("no-events"),_.each(s.get("preview_elems"),function(e){e.addClass("no-events")}))}},this))},_onItemModelChange:function(e,t){_.each(this._fullPreviewItemModelCallbacks,function(e){e(t)})}}),n.PreviewApi}),define("app-api/dev/rna-analytics-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNAAnalyticsAPI=e.Api.extend({initialize:function(){this._analyticsAPI=this.options._analyticsAPI,delete this.options._analyticsAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._analyticsAPI.invoke(e.methodName,e.methodArgs)}}),t.RNAAnalyticsAPI}),define("app-api/dev/rna-asset-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNAAssetAPI=e.Api.extend({initialize:function(){this._assetAPI=this.options._assetAPI,delete this.options._assetAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._assetAPI.invoke(e.methodName,e.methodArgs)}}),t.RNAAssetAPI}),define("app-api/dev/rna-cefbrowser-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNACefBrowserAPI=e.Api.extend({initialize:function(){this._browserCefMgr=this.options._browserCefMgr,delete this.options._browserCefMgr,e.Api.prototype.initialize.call(this)},invokeCEFMethod:function(e){this._browserCefMgr.invoke(e.methodName,e.parameters)},invokeMethod:function(e){var t=$.Deferred();return this._browserCefMgr.invoke("getBrowserObject").done(function(n){var r=n[e.methodName]._invoke.apply(undefined,e.parameters);r._done(function(e,n){e===0?t.resolve(n):t.reject(n)}),r._fail(function(e,n){t.reject(n)})}),t.promise()},getVariantNumber:function(e){var t=$.Deferred();return this._browserCefMgr.invoke("getVariantNumber").done(function(e){t.resolve(e)}),t.promise()}}),t.RNACefBrowserAPI}),define("app-api/dev/rna-cefperformance-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNACefPerformanceAPI=e.Api.extend({initialize:function(){this._cefPerformanceAPI=this.options._cefPerformanceAPI,delete this.options._cefPerformanceAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._cefPerformanceAPI.invoke(e.methodName,e.methodArgs)}}),t.RNACefPerformanceAPI}),define("app-api/dev/rna-connectors-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNAConnectorsAPI=e.Api.extend({initialize:function(){this._connectorsAPI=this.options._connectorsAPI,delete this.options._connectorsAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._connectorsAPI.invoke(e.methodName,e.methodArgs)},addConnectorAccount:function(e,t,n){var r={connectorId:e,initiatorDlg:t};return n&&n.email&&(r.emailId=n.email),n&&n.accountId&&(r.accountId=n.accountId),this._connectorsAPI.invoke("addConnectorAccount",r)},removeConnectorAccount:function(e,t){return this._connectorsAPI.invoke("removeConnectorAccount",e,t)},getConnectorsUIHelperData:function(e,t){var n=$.Deferred(),r=this._connectorsAPI,i=this.options.connectorsUiHelpersModel,s;return r?i?(s=function(){var e=r.get("uiHelperResponse"),t=JSON.parse(e);r.off("custom:onUIHelpersRefreshComplete",s),t?(i.set(t),n.resolve()):n.reject()},r.on("custom:onUIHelpersRefreshComplete",s),r.invoke("refreshUIHelpersResponse",e,!t),n.promise()):n.reject().promise():n.reject().promise()},getSystemFoldersData:function(e,t){var n=$.Deferred(),r=this._connectorsAPI,i=this.options.systemFoldersModel,s=this.options.rootModel,o;return r?i?(o=function(){var e=r.get("systemFoldersResponse"),t=JSON.parse(e);r.off("custom:onSystemFoldersRefreshComplete",o);if(t){i.set(t);if(!_.isEmpty(t.connectors)){var u=_.find(t.connectors,function(e){return e.name==="root"});u&&s.set("id",u.id)}n.resolve()}else n.reject()},r.on("custom:onSystemFoldersRefreshComplete",o),r.invoke("refreshStorageResponse",e,!t),n.promise()):n.reject().promise():n.reject().promise()}}),t.RNAConnectorsAPI}),define("app-api/dev/rna-echosign-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNAEchoSignApi=e.Api.extend({initialize:function(){this._esAPI=this.options._esAPI,delete this.options._esAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._esAPI.invoke(e.methodName,e.methodArgs)},getEchoSignServiceParams:function(){var e={apiKey:this._esAPI.get("apiKey"),baseURL:this._esAPI.get("baseURL"),apiURL:this.getEchoSignApiURL(),webURL:this.getEchoSignWebURL(),esClientId:this._esAPI.get("esClientId"),esClientSecret:this._esAPI.get("esClientSecret"),imsClientId:this._esAPI.get("imsClientId")};return e},getSFSAppLauncherName:function(){return this._esAPI.get("sfsAppLauncher")},getEchoSignApiURL:function(){return _.isUndefined(this._apiURL)&&(this._apiURL=this._esAPI.get("apiURL")),this._apiURL},getEchoSignWebURL:function(){return _.isUndefined(this._webURL)&&(this._webURL=this._esAPI.get("webURL")),this._webURL},setEchoSignApiURL:function(e){this._apiURL=e},setEchoSignWebURL:function(e){this._webURL=e},setSFSWorkflowInProgress:function(e){return this._esAPI.invoke("sfsWorkflowInProgress",e)},isSendForSignEnabled:function(){return this._esAPI.get("isSendForSignEnabled")},isAnySFSWorkflowsRunning:function(){return this._esAPI.invoke("isAnySFSWorkflowsRunning")},prepareFormsEmailRecipients:function(){return this._esAPI.invoke("prepareFormsEmailRecipients")},isSFSCoachmarkAlreadyDisplayed:function(){return this._esAPI.get("isSFSCoachmarkDisplayed")},setSFSCoachmarkAlreadyDisplayed:function(){return this._esAPI.invoke("setSFSCoachmarkDisplayed")},isAddSignersCoachmarkAlreadyDisplayed:function(){return this._esAPI.get("isAddSignersCoachmarkDisplayed")},setAddSignersCoachmarkAlreadyDisplayed:function(){return this._esAPI.invoke("setAddSignersCoachmarkDisplayed")},isSFSNativeLandingPageRegSet:function(){return this._esAPI.get("showSFSNativeLandingPageReg")},isSFSNewLandingPageIPMEnabled:function(){return!0},shouldShowSFSCoachmark:function(){return this._esAPI.get("showSFSCoachmark")},isInAppSigning:function(){return this._esAPI.get("isInAppSigning")},getAgreementId:function(){return this._esAPI.get("agreementId")},getRemainingAdobeSignTrial:function(){return this._esAPI.get("remAdobeSignTrial")},isTrialFeatureEnabled:function(){return this._esAPI.get("IsTrialFeatureEnabled")},isSendACopyEnabled:function(){return this._esAPI.get("IsSendACopyEnabled")},getTotalTrialTransactionsForFreeUser:function(){return this._esAPI.get("totalFreeSignTrialTransaction")},getAgreementName:function(){return this._esAPI.get("agreementName")},getAgreementType:function(){return this._esAPI.get("agreementType")},getLoggedInUser:function(){return this._esAPI.get("LoggedInUserId")},isFillSignSend:function(){return this._esAPI.get("isFillSignSend")},closeInAppSignApp:function(){return this._esAPI.invoke("closeInAppSignApp")},setInAppSigningWorkflowInProgress:function(e,t){return this._esAPI.invoke("inAppSigningWorkflowInProgress",e,t)},shouldShowAdvanceSign:function(){return this._esAPI.get("showAdvancedSign")},allowDragAndDrop:function(e){return this._esAPI.invoke("allowDragAndDrop",e)},setCurrentWorkflowState:function(e){return this._esAPI.invoke("setCurrentWorkflowState",e)},logSignServicesActivity:function(){return this._esAPI.invoke("logSignServicesActivity")},isSpecialSignUser:function(){return this._esAPI.get("isSpecialSignUser")},isAdobeSignToolShown:function(){return this._esAPI.get("IsAdobeSignToolShown")},getFillSignVariant:function(){return this._esAPI.get("fillSignVariant")},clearSignTrialInfo:function(){return this._esAPI.invoke("ClearSignTrialInfo")},fetchFillSignVariantStrings:function(){return this._esAPI.invoke("fetchFillSignVariantStrings")},fetchFillSignReaderFreeTransVariant:function(){return this._esAPI.get("fetchFillSignReaderFreeTransVariant")},isSavingSignCertifiedCopyEnabled:function(){return this._esAPI.get("SavingSignCertifiedCopyEnabled")},getActiveAgreementFilter:function(){return this._esAPI.invoke("RSModernGetAgreementFilters")}}),t.RNAEchoSignApi}),define("app-api/dev/rna-file-api",["core/ac-core","app-api/dev/ac-app-api","core/utils/sc-analytics","core/apis/api"],function(e,t,n){return t.RNAFileAPI=e.Api.extend({initialize:function(){this._fileAPI=this.options._fileAPI,delete this.options._fileAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._fileAPI.invoke(e.methodName,e.methodArgs)},selectAndOpenFile:function(e){var t=this.options,n=$.Deferred();return this.invokeMethod({methodName:"selectAndOpenFile",methodArgs:e}),n.promise()},selectFiles:function(t){var r=this.options,i=$.Deferred(),s,o=r.appApi.pluginsApi,u;return r.runningInRHP?s=r.runningInContextBoard?o.getSelectedPluginId("full_preview_rhp"):o.getSelectedPluginId("full_preview"):s=o.getSelectedPluginId("tools"),s&&(_.extend(t||{},{selectedToolPlugin:s}),o.getPluginApi(s)&&(u=o.callPluginMethod(s,"getSiteCatalystName",undefined,n.UNKNOWN,!0)),u&&_.extend(t||{},{scContext:u})),this.invokeMethod({methodName:"selectFileDialog",methodArgs:t}).done(_.bind(function(n){n._addEventListener("custom:onFilesSelected",_.bind(function(n,s){var o=0,u=s.params,a=[],f={},l,c,h;u.length&&t.scContext&&(u[0].assetId._value===""?this._logScEventsForSelectedLocalFiles(t.scContext,u.length):this._logScEventsForSelectedUploadedFiles(t.scContext,u.length));for(o=0;o<u.length;o++){l=u[o];if(!l)continue;c=new e.LocalItemModel(undefined,{_proxy:l}),h=l.assetId._value,_.isEmpty(h)?a.push(c):f[h]=c}r.appApi.selectionApi.setSelectedLocalFiles(a),r.appApi.selectionApi.setSelectedItemModels(f),i.resolve(this._getSelection()),r.appApi.selectionApi.setSelectedLocalFiles([]),r.appApi.selectionApi.setSelectedItemModels({})},this))},this)),i.promise()},closeDialog:function(e){this.options.readerContextModel.done(_.bind(function(t){var n=t.get("rna");this.fsData=n.get("viewData").get("fileSelectData"),this.fsData.invoke("cancelDialog",e)},this))},openPlatformDialog:function(e){var t={},n=this.options.appApi,r=n.saveAsApi,i=r.isRestrictEditingSelected(),s=r.isReduceFileSizeSelected(),o=r.isExportButtonSelected(),u=r.getOutputFormat(),a=n.pluginsApi.getSelectedPluginId("file_selection_dlg"),f=$.Deferred();if(!n.selectionApi.isRunningInFileSelection())return;e&&(t.initialPathName=e._proxy),i!==undefined&&(t.restrictEditing=i),s!==undefined&&(t.reduceFileSize=s),o!==undefined&&(t.isExportButtonSelected=o),u!==undefined&&(t.outputFormatFromSaveAs=u),a!==undefined&&(t.fileSaveAsSelectedPluginId=a),r.shouldShowExportOptions()?r.isViewResultVisible().done(function(e){if(!e){f.resolve();return}r.isViewResultChecked().done(function(e){t.viewResultState=e,f.resolve()})}):f.resolve(),f.done(_.bind(function(){this.options.readerContextModel.done(_.bind(function(e){var n=e.get("rna");this.fsData=n.get("viewData").get("fileSelectData"),this.fsData.invoke("setOpenPlatformDialog",t)},this))},this))},getFileSaveAsLocation:function(e){var t=$.Deferred();return this.invokeMethod({methodName:"getFileSaveAsLocation",methodArgs:e}).done(_.bind(function(e){e._addEventListener("custom:onFileSaveAsLocationSelected",_.bind(function(e,n){!n.params||n.params.errorCode!=0?t.reject(n.params.errorCode):t.resolve(n.params)},this))},this)),t.promise()},getOpenedFileObj:function(){var t={},n=$.Deferred();return this.invokeMethod({methodName:"getOpenedFileObj",methodArgs:t}).done(_.bind(function(t){var r=0,i=[],s={},o,u,a;for(r=0;r<t.length;r++){o=t[r];if(!o)continue;u=new e.LocalItemModel(undefined,{_proxy:o}),a=o.assetId._value,_.isEmpty(a)?i.push(u):s[a]=u}n.resolve({localFiles:i,uploadedFileAttrs:s})},this)),n.promise()},_getSelection:function(){var e=this.options,t=[],n=[],r={},i,s,o;return o=e.selectionUiModel,o&&(_.each(o.get("selected_local_files"),function(e){t.push(e)}),_.each(o.get("selected_item_models"),function(e,t){r[t]=e}),o.isSelectionComplete()&&(i=!0)),{localFiles:t,localFileInputs:n,uploadedFileAttrs:r,isSelectionComplete:i}},_logScEventsForSelectedLocalFiles:function(e,t){var r=[n.TOOLS,e,n.CHOOSE_FILES_DLG],i=r.concat([n.OS_OPEN_DLG,n.FILE,n.SELECTED]),s=r.concat([n.MY_COMPUTER_ONLY,n.SUCCESS,n.getCountCode(t)]);this.options.appApi.siteCatalystApi.logScEvent(i),this.options.appApi.siteCatalystApi.logScEvent(s)},_logScEventsForSelectedUploadedFiles:function(e,t){var r=[n.TOOLS,e,n.CHOOSE_FILES_DLG],i=r.concat([n.ACOM_ONLY,n.SUCCESS,n.getCountCode(t)]);this.options.appApi.siteCatalystApi.logScEvent(i)},getWorkflowData:function(e,t,n){return this._fileAPI.invoke("getWorkflowData",e,t,n)},getWorkflowDataAsync:function(e,t,n){return this._fileAPI.invoke("getWorkflowDataAsync",e,t,n)}}),t.RNAFileAPI}),define("app-api/dev/rna-fss-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNAFssAPI=e.Api.extend({initialize:function(){this._fssAPI=this.options._fssAPI,delete this.options._fssAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._fssAPI.invoke(e.methodName,e.methodArgs)},isFSSModernViewSupported:function(){return this._fssAPI.get("isModernViewSupported")}}),t.RNAFssAPI}),define("app-api/dev/rna-fte-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNAFteAPI=e.Api.extend({initialize:function(){this._fteAPI=this.options._fteAPI,delete this.options._fteAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return e.methodName=="toggleMobileLink"?this._fteAPI.get("mobileLinkAPI").invoke(e.methodName,e.methodArgs):this._fteAPI.invoke(e.methodName,e.methodArgs)},onChange:function(e,t){typeof t=="function"&&this._fteAPI.on("change:"+e,t)},onMLChange:function(e,t){typeof t=="function"&&this._fteAPI.get("mobileLinkAPI").on("change:"+e,t)},isToggleButtonVisible:function(){return this._fteAPI.get("mobileLinkAPI").get("toggleButtonVisible")},toggleButtonState:function(){return this._fteAPI.get("mobileLinkAPI").get("toggleButtonState")},getActiveTheme:function(){return this._fteAPI.invoke("getActiveTheme")}}),t.RNAFteAPI}),define("app-api/dev/rna-tasks-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNATasksAPI=e.Api.extend({initialize:function(){this._tasksAPI=this.options._tasksAPI,delete this.options._tasksAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._tasksAPI.invoke(e.methodName,e.methodArgs)}}),t.RNATasksAPI}),define("app-api/dev/rna-wt-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNAWtAPI=e.Api.extend({initialize:function(){this._wtAPI=this.options._wtAPI,delete this.options._wtAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._wtAPI.invoke(e.methodName,e.methodArgs)},onChange:function(e,t){typeof t=="function"&&this._wtAPI.on("change:"+e,t)}}),t.RNAWtAPI}),define("app-api/dev/rna-ipm-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){var n=!1,r="";return t.RNAIpmAPI=e.Api.extend({initialize:function(){this._ipmAPI=this.options._ipmAPI,delete this.options._ipmAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._ipmAPI.invoke(e.methodName,e.methodArgs)},getIPMMessage:function(t){var n=new $.Deferred;return this._ipmAPI.invoke("getIPMMessage",t).done(function(t){var r=t,i;r||n.reject(),i=new e.RNAIPMModel(undefined,{_proxy:r}),n.resolve(i)}).fail(function(){n.reject()}),n.promise()},getTrackingParam:function(e){var t=new $.Deferred;return n?t.resolve(r).promise():(this._ipmAPI.invoke("getTrackingParam",e).done(function(e){n=!0,r=e,t.resolve(r)}).fail(function(){t.reject()}),t.promise())}}),t.RNAIpmAPI}),define("app-api/dev/rna-leftrail-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNALeftRailAPI=e.Api.extend({initialize:function(){this._leftRailAPI=this.options._leftRailAPI,delete this.options._leftRailAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._leftRailAPI.invoke(e.methodName,e.methodArgs)},selectLeftRailItem:function(e,t,n){return this._leftRailAPI.invoke("selectLeftRailItem",e,t!==!0,n)},selectConnectorLeftRailItem:function(e,t){var n=this.options.appApi.connectorsApi,r=n.getConnectorPluginName(e),i=n.getConnectorPluginRoot(e);return i===undefined&&(i=""),this._leftRailAPI.invoke("selectConnectorLeftRailItem",r,i,t!==!0)},disableLeftRailSelection:function(e){return this._leftRailAPI.invoke("disableLeftRailSelection",e)},isAddAccountVisibleInFileSelDlg:function(){return this._leftRailAPI.invoke("isAddAccountVisibleInFileSelDlg")}}),t.RNALeftRailAPI}),define("app-api/dev/rna-notification-api",["core/ac-core","files/ac-files","app-api/dev/ac-app-api","core/apis/api"],function(e,t,n){return n.RNANotificationApi=e.Api.extend({initialize:function(){this._notificationAPI=this.options._notificationAPI,delete this.options._notificationAPI,e.Api.prototype.initialize.call(this)},createNotification:function(t){var n=$.Deferred();return this._notificationAPI.invoke("createNotification",t).then(function(t){if(!t)n.reject();else{var r=new e.RnaNotificationModel(undefined,_.extend({_proxy:t,shouldCache:!0}));n.resolve(r)}}),n},removeNotification:function(e){return this._notificationAPI.invoke("removeNotification",e)},getNotificationList:function(){return this._notificationAPI.get("notificationList")}}),n.RNANotificationApi}),define("app-api/dev/rna-plugins-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNAPluginsAPI=e.Api.extend({initialize:function(){this._pluginsAPI=this.options._pluginsAPI,delete this.options._pluginsAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._pluginsAPI.invoke(e.methodName,e.methodArgs)}}),t.RNAPluginsAPI}),define("app-api/dev/rna-reader-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNAReaderAPI=e.Api.extend({initialize:function(){this._rnaModel=this.options._rnaModel,this._rnaAPI=this.options._rnaAPI,this._productConfig=this._rnaModel.get("productConfig"),this._actionMgr=this._rnaModel.get("actionMgr"),this._extBlacklist=this._rnaModel.get("extBlacklist"),delete this.options._rnaModel,delete this.options._rnaAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._rnaAPI.invoke(e.methodName,e.methodArgs)},executeAction:function(e,t){return t||(t=""),this._actionMgr.invoke("executeAction",t,e,!0)},initUpsellWorkflowFromCEF:function(e){return this._rnaAPI.invoke("initUpsellWorkflowFromCEF",e)},openDecoratedUrl:function(e){return this._rnaAPI.invoke("openDecoratedUrl",e)},executeSwitchAccounts:function(e){return this._rnaAPI.invoke("executeSwitchAccounts",e)},launchInAppPurchaseExp:function(e){return this._rnaAPI.invoke("launchInAppPurchaseExp",e)},isRunningInBrowser:function(){return this._rnaAPI.get("isRunningInBrowser")},isFeatRunning:function(){return this._rnaAPI.get("isFeatRunning")},isUsingAV2UI:function(){return this._rnaAPI.get("isUsingAV2UI")},isASTestAllowInstantiation:function(){return this._rnaAPI.get("isASTestAllowInstantiation")},getProductName:function(){return this._productConfig.get("name")},getProductVersion:function(){return this._productConfig.get("version")},getProductMajorMinorVersion:function(){return{major:this._productConfig.get("majorVersion"),minor:this._productConfig.get("minorVersion"),patch:this._productConfig.get("minorMinorVersion")}},isDebug:function(){return this._productConfig.hasProperty("environment")&&this._productConfig.get("environment")==="debug"},getOpenedFile:function(){return this._rnaModel.get("doc")&&this._rnaModel.get("doc").get("fileProps")},getBlacklistedExtensions:function(){var e=[],t,n,r;if(this._extBlacklist){t=this._extBlacklist.split(","),n=t.length;for(r=0;r<n;++r)e.push(t[r].toLowerCase())}return e},getVariantJsonFromRegistry:function(){return this._rnaModel.get("getVariantJsonFromRegistry")},fetchCustomThemeColorPalette:function(){return this._rnaAPI.fetchProp("themeColorPalette")},isHighContrastEnabled:function(){return this._rnaAPI.get("isHighContrast")},isAccessibilityActive:function(){return this._rnaAPI.get("isAccessibilityActive")}}),t.RNAReaderAPI}),define("app-api/dev/rna-recentfiles-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNARecentFilesAPI=e.Api.extend({initialize:function(){this._recentFilesAPI=this.options._recentFilesAPI,this._servicesAPI=this.options._servicesAPI,delete this.options._recentFilesAPI,delete this.options._servicesAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return e.methodName==="getRecentFileList"?this._recentFilesAPI.fetchProp("recentFileList"):this._servicesAPI.invoke(e.methodName,e.methodArgs)},fetchRecentFileListApi:function(){return this._renditionPromises={},this._recentFilesAPI.invoke("fetchRecentFileList")},whitelistRecentFile:function(e){var t=[],n=0;return _.each(e,function(e){t[n++]=e.get("index")}),this._recentFilesAPI.invoke("whitelistRecentFile",t)},determineSourceOfRecentFile:function(e,t){return this._recentFilesAPI.invoke("determineSourceOfRecentFile",e,t)},getFileFavoriteStatus:function(e){return this._recentFilesAPI.invoke("getFileFavoriteStatus",e)},removeRecentFile:function(e){return this._recentFilesAPI.invoke("removeRecentFile",e)},fetchRecentFileThumbnail:function(e){var t=e.toString(),n=this._renditionPromises[t];return n?n:(n=$.Deferred(),this._recentFilesAPI.invoke("fetchRecentFileThumbnail",t).done(_.bind(function(e){e.has_cached_icon._value?n.resolve(e.icon_url._value):(e._addEventListener("custom:fileThumbnail",this._resolveRenditionPromise,null,this),this._renditionPromises[t]=n)},this)),n)},_resolveRenditionPromise:function(e,t){if(e){var n=t.params.url,r=t.params.fileKey,i=this._renditionPromises[r];i&&(n?i.resolve(n):i.reject(t.params.error),delete this._renditionPromises[r])}},fetchRecentFilePagePreview:function(e,t){return e.toString()===this._selectedIndex&&t===this._pageNumber&&this._renditionPromise?this._renditionPromise:(this._selectedIndex=e.toString(),this._pageNumber=t,this._renditionPromise=$.Deferred(),this._recentFilesAPI.invoke("fetchRecentFilePagePreview",[{fileKey:this._selectedIndex,page:t}]).done(_.bind(function(e){e&&this._renditionPromise.reject()},this)),this._recentFilesAPI.on("custom:filePagePreview",this._resolvePagePreviewPromise),this._renditionPromise)},_resolvePagePreviewPromise:function(e,t){if(e){var n=t.params.url;this._renditionPromise&&this._selectedIndex==t.params.fileKey&&this._pageNumber===t.params.page&&(n?this._renditionPromise.resolve(n):this._renditionPromise.reject(t.params.error),this._renditionPromise=undefined)}}}),t.RNARecentFilesAPI}),define("app-api/dev/rna-review-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNAReviewAPI=e.Api.extend({initialize:function(){this._reviewAPI=this.options._reviewAPI,delete this.options._reviewAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._reviewAPI.invoke(e.methodName,e.methodArgs)}}),t.RNAAnalyticsAPI}),define("app-api/dev/rna-sendtrack-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNASendTrackApi=e.Api.extend({_discoveryURI:"",initialize:function(){this._stAPI=this.options._stAPI,delete this.options._stAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._stAPI.invoke(e.methodName,e.methodArgs)},getSendTrackAppLauncherWithParcel:function(){return this._stAPI.get("sendTrackAppLauncherWithParcel")},getSendTrackAppLauncherWithModels:function(){var e=this._stAPI.get("sendTrackAppLauncherWithModels");return e?e.models:undefined},getSendTrackAppLauncherWithAssets:function(){return this._stAPI.get("sendTrackAppLauncherWithAssets")},getSelectedFileIndicesAPI:function(){return this._stAPI.get("getSelectedFileIndices")},readUnifiedShareLaunchingInfoAPI:function(){return this._stAPI.invoke("readUnifiedShareLaunchingInfo")},isSendTrackAvailable:function(){return this._stAPI.get("isSendTrackAvailable")},isAdobeReviewAvailable:function(){return this._stAPI.get("isAdobeReviewAvailable")},shouldAdobeReviewVisible:function(){return this._stAPI.get("shouldAdobeReviewVisible")},isInvitePeopleAvailable:function(){return this._stAPI.get("isInvitePeopleAvailable")},isAdobeSignVisible:function(){return this._stAPI.get("isAdobeSignVisible")},canShowOutlookUIOption:function(){return this._stAPI.get("canShowOutlookUIOption")},launchSendTrackApp:function(e){return this._stAPI.invoke("launchSendTrackApp",e)},launchReviewApp:function(){return this._stAPI.invoke("launchReviewApp")},launchShareApp:function(){return this._stAPI.invoke("launchShareApp")},getDefaultEmailClient:function(){return this._stAPI.invoke("getDefaultEmailClient")},attachToEmail:function(e){return this._stAPI.invoke("attachToEmail",e)},isEmailClientInstalled:function(e){return this._stAPI.invoke("isEmailClientInstalled",e)},setSendTrackWorkflowInProgress:function(e){return this._stAPI.invoke("sendTrackWorkflowInProgress",e)},launchMailToUrl:function(e){return this._stAPI.invoke("mailToHandle",e)},resolveAddressBookApi:function(){return this._stAPI.invoke("resolveAddressBook")},setNotificationId:function(e){return this._stAPI.invoke("setNotificationId",e)},getOutlookAutoCompleteListAPI:function(){return this._stAPI.invoke("getOutlookAutoCompleteList")},getOutlookAutoCompleteListAtIdleAPI:function(){return this._stAPI.invoke("getOutlookAutoCompleteListAtIdle")},getResolvedEmailAddressesListAPI:function(e){return this._stAPI.invoke("getResolvedEmailAddressesList",e)},launchSendTrackRestrictionsLearnMoreUrl:function(){return this._stAPI.invoke("launchLearnMoreUrl")},isSendTrackRestrictionsEnabled:function(){return this._stAPI.get("IsSendAndTrackRestrictionEnabled")},updateDataModelFromSendTrackDataAPI:function(e){return this._stAPI.invoke("updateDataModelFromSendTrackDataAPI",e)},invokeSendTrackConsentAPI:function(e){return this._stAPI.invoke("invokeSendTrackConsentAPI",e)},updateInAppDMStateAPI:function(e){return this._stAPI.invoke("updateInAppDMStateAPI",e)},expireNotificationAPI:function(e){return this._stAPI.invoke("expireNotificationAPI",e)},launchSendForSignWithTransientDocIdsAPI:function(e){return this._stAPI.invoke("launchSendForSignWithTransientDocIds",e)},readPrecompiledDataFromSFSAPI:function(){return this._stAPI.invoke("readPrecompiledDataFromSFS")},sendMailWithoutFLD:function(e){return this._stAPI.invoke("sendMailWithoutFLD",e)},setSendMailAttachLinkURL:function(e){return this._stAPI.invoke("setSendMailAttachLinkURL",e)},setSendMailAttachFileName:function(){return this._stAPI.invoke("setSendMailAttachFileName")},getAllWebmailProfiles:function(){return this._stAPI.invoke("getAllWebmailProfiles")},configureProfile:function(e){return this._stAPI.invoke("configureProfile",e)},getLastUsedPreferences:function(){return this._stAPI.invoke("getLastUsedPreferences")},setLastUsedPreferences:function(e){return this._stAPI.invoke("setLastUsedPreferences",e)},setLastSharePaneMode:function(e){return this._stAPI.invoke("setLastSharePaneMode",e)},launchUnifiedShareWithLaunchingAppInfo:function(e){return this._stAPI.invoke("launchUnifiedShareWithLaunchingAppInfo",e)},UnifiedShareLauncherSelectedProxyIds:function(){return this._stAPI.get("UnifiedShareLauncherSelectedProxyIds")},getUnifiedShareToolCenterPickedFileIdsAPI:function(){var t=this.options,n=$.Deferred();return this._stAPI.invoke("getUnifiedShareToolCenterPickedFileIds").done(_.bind(function(r){var i=0,s=[],o={},u,a,f;for(i=0;i<r.length;i++){u=r[i];if(!u)continue;a=new e.LocalItemModel(undefined,{_proxy:u}),f=u.assetId._value,_.isEmpty(f)?s.push(a):o[f]=a}t.appApi.selectionApi.setSelectedLocalFiles(s),t.appApi.selectionApi.setSelectedItemModels(o),n.resolve({localFiles:s,uploadedFileAttrs:o}),t.appApi.selectionApi.setSelectedLocalFiles([]),t.appApi.selectionApi.setSelectedItemModels({})},this)),n.promise()},UnifiedShareSuccess:function(e){return this._stAPI.invoke("unifiedShareSuccess",e)},handleEscKeyAtCef:function(){return this._stAPI.invoke("handleEscKeyAtCef")},updateSelectedFileCount:function(e){return this._stAPI.invoke("updateSelectedFileCount",e)},closeModalShareView:function(){return this._stAPI.invoke("closeModalShareView")},isMultiFileParcelSupported:function(){return this._stAPI.get("isMultiFileParcelSupported")},getUnifiedShareUserIdentity:function(){return this._stAPI.invoke("getUnifiedShareUserIdentity")},UnifiedShareInitiateAsyncReview:function(e){return this._stAPI.invoke("UnifiedShareInitiateAsyncReview",e)},UnifiedShareInitiateAsyncView:function(e){return this._stAPI.invoke("UnifiedShareInitiateAsyncView",e)},discoveryUssURI:function(){if(this._discoveryURI===""){var t=this._stAPI.get("discoveryUSSURI");if(t==="")return this._getDiscoveryUssURI().then(_.bind(function(e){this._discoveryURI=e},this)),e.getUSSBaseUrl()+"/universal-search/v2/search";this._discoveryURI=t}return this._discoveryURI},_getDiscoveryUssURI:function(){return this._stAPI.invoke("getDiscoveryUSSURIAPI")},_getDiscoveryUssV2URI:function(){return this._stAPI.invoke("getUssSearchUris")}}),t.RNASendTrackApi}),define("app-api/dev/rna-response-cache-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNAResponseCacheAPI=e.Api.extend({initialize:function(){this._responseCacheApi=this.options._responseCacheApi,delete this.options._responseCacheApi,e.Api.prototype.initialize.call(this)},getRootUris:function(){return this._responseCacheApi.invoke("getRootUris")},setRootUris:function(e){return this._responseCacheApi.invoke("setRootUris",e)},getBaseFilesUris:function(){return this._responseCacheApi.invoke("getBaseFilesUris")},setBaseFilesUris:function(e){return this._responseCacheApi.invoke("setBaseFilesUris",e)},getBaseCloudUris:function(){return this._responseCacheApi.invoke("getBaseCloudUris")},setBaseCloudUris:function(e){return this._responseCacheApi.invoke("setBaseCloudUris",e)},getDiscoveryResp:function(){return this._responseCacheApi.invoke("getDiscoveryResp")},getBaseAicUris:function(){return this._responseCacheApi.invoke("getBaseAicUris")},setBaseAicUris:function(e){return this._responseCacheApi.invoke("setBaseAicUris",e)},getUsersMeCohorts:function(){return this._responseCacheApi.invoke("getUsersMeCohorts")},setUsersMeCohorts:function(e){return this._responseCacheApi.invoke("setUsersMeCohorts",e)},getUsersMeLimits:function(){return this._responseCacheApi.invoke("getUsersMeLimits")},setUsersMeLimits:function(e){return this._responseCacheApi.invoke("setUsersMeLimits",e)},getSendUsersMeLimits:function(){return this._responseCacheApi.invoke("getSendUsersMeLimits")},setSendUsersMeLimits:function(e){return this._responseCacheApi.invoke("setSendUsersMeLimits",e)},getCPDFMeFields:function(){return this._responseCacheApi.invoke("getCPDFMeFields")},setCPDFMeFields:function(e){return this._responseCacheApi.invoke("setCPDFMeFields",e)},getUsersMeQuotas:function(){return this._responseCacheApi.invoke("getUsersMeQuotas")},setUsersMeQuotas:function(e){return this._responseCacheApi.invoke("setUsersMeQuotas",e)},getUsersCommonLimits:function(){return this._responseCacheApi.invoke("getUsersCommonLimits")},setUsersCommonLimits:function(e){return this._responseCacheApi.invoke("setUsersCommonLimits",e)}}),t.RNASessionAPI}),define("app-api/dev/rna-registry-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNARegistryApi=e.Api.extend({initialize:function(){this._registryAPI=this.options._registryAPI,delete this.options._registryAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._registryAPI.invoke(e.methodName,e.methodArgs)},getRegistryContents:function(e){return this._registryAPI.invoke("getRegistryContents",e)},setRegistryContents:function(e){return this._registryAPI.invoke("setRegistryContents",e)},checkIfRegistryExists:function(e){return this._registryAPI.invoke("checkIfRegistryExists",e)},removeRegistry:function(e){return this._registryAPI.invoke("removeRegistry",e)},getPaginationRegistry:function(){var e=$.Deferred();return _.isUndefined(this.paginationEnabledForSBYSBO)?this._registryAPI.invoke("getPaginationRegistry").then(_.bind(function(t){this.paginationEnabledForSBYSBO=t,e.resolve(this.paginationEnabledForSBYSBO)},this),_.bind(function(){e.reject()},this)):e.resolve(this.paginationEnabledForSBYSBO),e.promise()}}),t.RNARegistryApi}),define("app-api/dev/rna-services-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNAServicesAPI=e.Api.extend({initialize:function(){this._servicesAPI=this.options._servicesAPI,delete this.options._servicesAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._servicesAPI.invoke(e.methodName,e.methodArgs)},showServicesProgressWidget:function(e,t,n,r){return this._servicesAPI.invoke("showServicesProgressWidget",e,t,n,r)},addActiveWorkflowNotificationId:function(e,t){return this._servicesAPI.invoke("addWorkflowActiveNotificationId",e,t)},removeActiveWorkflowNotificationId:function(e,t){return this._servicesAPI.invoke("removeWorkflowActiveNotificationId",e,t)},showMarketingContent:function(){return this._servicesAPI.invoke("showMarketingContent")},upgradeToAcrobat:function(){return this._servicesAPI.invoke("upgradeToAcrobat")},checkAndPromptSCATransitionInProgress:function(){return this._servicesAPI.invoke("CheckAndPromptSCATransitionInProgress")},handleCloudLinkedApps:function(e){return this._servicesAPI.invoke("handleCloudLinkedApps",e)},launchedEPDFSelectedFiles:function(){return this._servicesAPI.get("epdfLaunchedSelectedFiles").models},launchedCPDFSelectedFiles:function(){return this._servicesAPI.get("cpdfLaunchedSelectedFiles").models},launchedCCPDFSelectedFiles:function(){return this._servicesAPI.get("ccpdfLaunchedSelectedFiles").models},isExportPDFAvailable:function(){return this._servicesAPI.get("exportPDFEnabled")},isCreatePDFAvailable:function(){return this._servicesAPI.get("createPDFEnabled")},isCombineConvertPDFAvailable:function(){return this._servicesAPI.get("combineconvertPDFEnabled")},isExportPDFRenameExperimentEnabled:function(){return this._servicesAPI.get("exportPDFRenameEnabled")},isCreateFromAXTemplateExperimentEnabled:function(){return this._servicesAPI.get("createFromAXTemplateEnabled")},isEditPDFEntitled:function(){return this._servicesAPI.get("editPDFEntitled")},isExportPDFEntitled:function(){return this._servicesAPI.get("exportPDFEntitled")},isCreatePDFEntitled:function(){return this._servicesAPI.get("createPDFEntitled")},isExportPDFCEF:function(){return this._servicesAPI.get("isExportPDFCEF")},isCreatePDFCEF:function(){return this._servicesAPI.get("isCreatePDFCEF")},isOrganizePDFEntitled:function(){return this._servicesAPI.get("organizePDFEntitled")},isCommentPDFEntitled:function(){return this._servicesAPI.get("commentPDFEntitled")},isFillSignPDFEntitled:function(){return this._servicesAPI.get("fillSignPDFEntitled")},isDocumentCloudAvailable:function(){return this._servicesAPI.get("documentCloudEnabled")},isDirtyApi:function(e){return this._servicesAPI.invoke("isDirty",e)},setCanHandleCEFEvent:function(e,t){return this._servicesAPI.invoke("setCanHandleCEFEvent",e,t)},isEnterpriseUser:function(){return this._servicesAPI.get("enterpriseUser")},checkIfDCAPIUnSupported:function(e,t,n){return this._servicesAPI.invoke("checkDCAPIUnSupported",n).done(_.bind(function(r){r===!0?e(n.argSuccess):t(n.argFailure)},this)),!1},getActiveDocAssetFromNative:function(){var e=$.Deferred();return this._servicesAPI.invoke("getActiveDocAssetId").then(_.bind(function(t){e.resolve(t)},this),_.bind(function(t){e.resolve("")},this)),e.promise()},isPDFServicesEnabled:function(){return this._servicesAPI.get("pdfServicesEnabled")},isEncryptionKeyValid:function(){return this._servicesAPI.get("encryptionKeyValid")},isESignServicesEnabled:function(){return this._servicesAPI.get("esignServicesEnabled")},isFillAndSignEnabled:function(){return this._servicesAPI.get("isFillandSignEnabled")},isReducedMode:function(){return this._servicesAPI.get("isReducedMode")},launchAppFromContextBoard:function(e){return this._servicesAPI.invoke("launchAppFromContextBoard",e)},launchAppFromContextBoardReducedMode:function(e){return this._servicesAPI.invoke("launchAppFromContextBoardReducedMode",e)},isSelectionExportExperimentEnabled:function(){return this._servicesAPI.get("isSelectionExperimentEnabled")},isDynamicExportExperimentEnabled:function(){return this._servicesAPI.get("isDynamicExportExperimentEnabled")},isSFSUpsellExperimentEnabled:function(){return this._servicesAPI.get("isSFSUpsellExperimentEnabled")},combineMultipleFilesToSinglePDFApi:function(e){return this._servicesAPI.invoke("combineMultipleFilesToSinglePDF",e)},isSignatureSearchDisabled:function(){return this._servicesAPI.get("signatureSearchDisabled")},isSignatureHidden:function(){return this._servicesAPI.get("signatureHidden")},isReviewHidden:function(){return this._servicesAPI.get("reviewHidden")},isParcelHidden:function(){return this._servicesAPI.get("parcelHidden")},isExportUpsellURLOverridden:function(){return this._servicesAPI.invoke("isExportUpsellURLOverridden")},getAdobeGeo:function(){return this._servicesAPI.invoke("getAdobeGeo")},getSophiaUpsellCardContent:function(){return this._servicesAPI.invoke("getSophiaUpsellCardContent")},actionEditBezel:function(){return this._servicesAPI.invoke("actionEditBezel")},rejectEditBezel:function(){return this._servicesAPI.invoke("rejectEditBezel")},canShowScanAppWithQRCode:function(){return this._servicesAPI.get("canShowScanAppWithQRCode")},actionMIPContentMarkBezel:function(){return this._servicesAPI.invoke("actionMIPContentMarkBezel")},setAcroAppId:function(e){return this._servicesAPI.invoke("setAcroAppId",e)},setCurrentWorkflowRHPConvertPDF:function(e){return this._servicesAPI.invoke("setCurrentWorkflowRHPConvertPDF",e)},getCurrentWorkflowRHPConvertPDF:function(){return this._servicesAPI.get("getCurrentWorkflowRHPConvertPDF")},checkOpenedDocAndPromptForSaveApi:function(){var e=$.Deferred();return this._servicesAPI.invoke("checkOpenedDocAndPromptForSave").then(_.bind(function(t){t._addEventListener("custom:onSaveCheckComplete",_.bind(function(t,n){var r=n.params;r?e.resolve():e.reject()},this))},this)),e.promise()},f6KeyHandled:function(e){return this._servicesAPI.invoke("f6KeyHandled",e)},fetchBehanceDetailsFromNative:function(){var e=$.Deferred();return this.fetchPublicProfileInfoDetails?(e.resolve(this.fetchPublicProfileInfoDetails),e.promise()):(this._servicesAPI.invoke("fetchPublicProfileInfoDetails").then(_.bind(function(t){this.fetchPublicProfileInfoDetails=t,e.resolve(t)},this)),e.promise())},fetchBehanceCachedDataFromNative:function(e){var t=$.Deferred();return this._servicesAPI.invoke("fetchPublicProfileInfoData",e).then(_.bind(function(e){t.resolve(e)},this)),t.promise()},cacheBehanceDataAtNative:function(e){this._servicesAPI.invoke("cachePublicProfileInfoData",e).then(_.bind(function(e){},this))},showNativeAlertDialog:function(e){return this._servicesAPI.invoke("showNativeAlertDialog",e)},isEnhancedSharingExperienceEnabled:function(){return this._servicesAPI.get("isEnhancedSharingExperienceEnabled")}}),t.RNAServicesAPI}),define("app-api/dev/rna-session-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNASessionAPI=e.Api.extend({initialize:function(){this._sessionAPI=this.options._sessionAPI,delete this.options._sessionAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._sessionAPI.invoke(e.methodName,e.methodArgs)},isSignedInReader:function(){return this._sessionAPI.get("isLoggedIn")},isSignedInReaderQuick:function(){return this._sessionAPI.get("isLoggedInQuick")},getXApiClientId:function(){return this._sessionAPI.get("x_api_client_id")},loginListener:function(t,n){t._addEventListener("all",_.bind(function(t,r){if(t.localeCompare("custom:login_response")==0){var i=r.params;if(i.response_code==0){var s=this.options,o=(new Date).getTime()/1e3,u=i.expiration_time/1e3-o;s.sessionRNAModel=e.uiModelFactory.create("UiModel"),u>=0&&s.sessionRNAModel.set({primary_token:i.primary_token,expiration_time:u,expiration_time_utc:i.expiration_time}),n.resolve(s.sessionRNAModel)}else n.reject()}},this))},logIn:function(t){var n=this.options,r=$.Deferred();t||(t=!1);var i="";return this.options.signInUiModel!==undefined&&(i=this.options.signInUiModel.get("invocation_point")),this._sessionAPI.invoke("logIn",{silent:t,invocation_point:i}).then(_.bind(function(t){if(t.is_osX_15_or_higher||t.is_sca_acrobat_mini)this.loginListener(t.event_listener,r);else{var i=(new Date).getTime()/1e3,s=t.expiration_time/1e3-i;n.sessionRNAModel=e.uiModelFactory.create("UiModel"),s>=0&&n.sessionRNAModel.set({primary_token:t.primary_token,expiration_time:s,expiration_time_utc:t.expiration_time}),r.resolve(n.sessionRNAModel)}},this),function(){r.reject()}),r.promise()}}),t.RNASessionAPI}),define("app-api/dev/rna-services-test-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNAServicesTestAPI=e.Api.extend({initialize:function(){this._servicesTestAPI=this.options._servicesTestAPI,delete this.options._servicesTestAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._servicesTestAPI.invoke(e.methodName,e.methodArgs)}}),t.RNAServicesTestAPI}),define("app-api/dev/rna-digsig-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNADigSigAPI=e.Api.extend({initialize:function(){this._digSigAPI=this.options._digSigAPI,delete this.options._digSigAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._digSigAPI.invoke(e.methodName,e.methodArgs)}}),t.RNADigSigAPI}),define("app-api/dev/rna-activity-badge-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNAActivityBadgeAPI=e.Api.extend({initialize:function(){this._activityBadgeAPI=this.options._activityBadgeAPI,delete this.options._activityBadgeAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._activityBadgeAPI.invoke(e.methodName,e.methodArgs)},initListener:function(){return this._activityBadgeAPI.invoke("init")},renderComplete:function(){return this._activityBadgeAPI.invoke("renderComplete")},onNotificationClick:function(e){return this._activityBadgeAPI.invoke("onNotificationClick",e)},fetchMoreNotifications:function(){return this._activityBadgeAPI.invoke("fetchMoreNotifications")},hidePopUp:function(){return this._activityBadgeAPI.invoke("hidePopUp")}}),t.RNAActivityBadgeAPI}),define("app-api/dev/rna-sign-workflow-services-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNASignWorkflowServicesAPI=e.Api.extend({initialize:function(){this._signWorkflowServicesAPI=this.options._signWorkflowServicesAPI,delete this.options._signWorkflowServicesAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._signWorkflowServicesAPI.invoke(e.methodName,e.methodArgs)},getAuditTrail:function(e){return this._signWorkflowServicesAPI.invoke("getAuditTrail",e)},openSignFile:function(e){return this._signWorkflowServicesAPI.invoke("signFileOpenAPI",e)},openFSSSignedFile:function(e){return this._signWorkflowServicesAPI.invoke("openFSSSignedFile",e)},isSignV10Enabled:function(){return this._signWorkflowServicesAPI.get("useSignV10APIs")},isSignSearchMicroserviceEnabled:function(){return this._signWorkflowServicesAPI.get("useSignSearchMicroservice")},isSignEnabledforEnterprise:function(){return this._signWorkflowServicesAPI.get("signEnabledforEnterprise")},isESUserSignedIn:function(){return this._signWorkflowServicesAPI.get("isESUserSignedIn")},isNativeRSEnabled:function(){return this._signWorkflowServicesAPI.get("isNativeRSEnabled")},openESSignInDialog:function(){this.options.appApi.rnaApi.done(_.bind(function(e){e.signServiceAuthAPI.ensureValidSignSession()},this))},discardAgreement:function(e,t){return this._signWorkflowServicesAPI.invoke("DiscardAgreement",[e,t])},createTemplateFromAgreement:function(e){return this._signWorkflowServicesAPI.invoke("CreateTemplateFromAgreement",e)},getSwitchToLegacyWRStatus:function(e){return this._signWorkflowServicesAPI.invoke("getSwitchToLegacyWRStatus",e)},switchToLegacyError:function(e){return this._signWorkflowServicesAPI.invoke("switchToLegacyError",e)},searchInLocalSignDrafts:function(e){return this._signWorkflowServicesAPI.invoke("searchInLocalSignDrafts",[e])}}),t.RNASignWorkflowServicesAPI}),define("app-api/dev/rna-sign-services-auth-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNASignServiceAuthAPI=e.Api.extend({initialize:function(){this._signServiceAuthAPI=this.options._signServiceAuthAPI,delete this.options._signServiceAuthAPI,this._esSessionPromise=null,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._signServiceAuthAPI.invoke(e.methodName,e.methodArgs)},ensureValidSignSession:function(e){return this._esSessionPromise!=null&&this._esSessionPromise.state()=="pending"?this._esSessionPromise:(this._esSessionPromise=$.Deferred(),this.invokeMethod({methodName:"isESSessionActive"}).done(_.bind(function(e){e.status===1?this._esSessionPromise.resolve():this.invokeMethod({methodName:"ESSessionLogin"}).done(_.bind(function(e){e._addEventListener("custom:loginStatus",_.bind(function(e,t){t.params.status===1?this._esSessionPromise.resolve():this._esSessionPromise.reject()},this))},this))},this)),this._esSessionPromise.promise())},isESSessionActive:function(){var e=$.Deferred();return this.invokeMethod({methodName:"isESSessionActive"}).done(_.bind(function(t){t.status===1?(this.options.signInUiModel.set("is_echosign_signed_in",!0),e.resolve()):(this.options.signInUiModel.set("is_echosign_signed_in",!1),e.reject())},this)),e.promise()}}),t.RNASignServiceAuthAPI}),define("app-api/dev/rna-unified-share-popup-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNAUnifiedSharePopupAPI=e.Api.extend({initialize:function(){this._unifiedSharePopupAPI=this.options._unifiedSharePopupAPI,delete this.options._unifiedSharePopupAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._unifiedSharePopupAPI.invoke(e.methodName,e.methodArgs)},initListener:function(){return this._unifiedSharePopupAPI.invoke("init")},openDummyReview:function(){return this._unifiedSharePopupAPI.invoke("openDummyReview")},openDummyView:function(){return this._unifiedSharePopupAPI.invoke("openDummyView")},onPollingComplete:function(e,t){return this._unifiedSharePopupAPI.invoke("onPollingComplete",e,t)},mapInstantLink:function(){return this._unifiedSharePopupAPI.invoke("mapInstantLink")},storeInstantLinkInfo:function(e,t,n,r,i){return this._unifiedSharePopupAPI.invoke("storeInstantLinkInfo",e,t,n,r,i)},hidePopup:function(){return this._unifiedSharePopupAPI.invoke("hidePopUp")},setPopupAutoHide:function(e){return this._unifiedSharePopupAPI.invoke("setPopupAutoHide",e)},resetAppId:function(){return this._unifiedSharePopupAPI.invoke("resetAppId")},setLastAttachLinkMode:function(e){return this._unifiedSharePopupAPI.invoke("setLastAttachLinkMode",e)},requestSignatures:function(){return this._unifiedSharePopupAPI.invoke("requestSignatures")},openGetLinkPopup:function(){return this._unifiedSharePopupAPI.invoke("openGetLinkPopup")},restoreUnifiedSharePopup:function(e){return this._unifiedSharePopupAPI.invoke("restoreUnifiedSharePopup",e)},isUserSignedIn:function(){return this._unifiedSharePopupAPI.invoke("isUserSignedIn")},getWorkflowFileLink:function(){return this._unifiedSharePopupAPI.invoke("getWorkflowFileLink")},reloadCEFView:function(){return this._unifiedSharePopupAPI.invoke("reloadCEFView")},attachAsLinkEnabled:function(){return this._unifiedSharePopupAPI.get("EnableAttachAsLink")},getCurrentAccessLevel:function(){return this._unifiedSharePopupAPI.invoke("getCurrentAccessLevel")},getOrgName:function(){return this._unifiedSharePopupAPI.invoke("getOrgName")}}),t.RNAUnifiedSharePopupAPI}),define("app-api/dev/rna-microsoft-graph-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNAMicrosoftGraphAPI=e.Api.extend({initialize:function(){this._microsoftGraphAPI=this.options._microsoftGraphAPI,delete this.options._microsoftGraphAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._microsoftGraphAPI.invoke(e.methodName,e.methodArgs)},getMicrosoftGraphAccessToken:function(e){return this._microsoftGraphAPI.invoke("GetMicrosoftGraphAccessToken",e)},isSignedInMicrosoftGraph:function(e){return this._microsoftGraphAPI.invoke("IsSignedInMicrosoftGraph",e)},loginToMicrosoftGraph:function(e){return this._microsoftGraphAPI.invoke("MicrosoftGraphLogIn",e)},logoutFromMicrosoftGraph:function(e){return this._microsoftGraphAPI.invoke("MicrosoftGraphLogOut",e)},isMicrosoftGraphEnabled:function(e){return this._microsoftGraphAPI.invoke("IsMicrosoftGraphEnabled",e)},areMSGraphContactsCached:function(){return this._microsoftGraphAPI.get("areMSGraphContactsCached")},readMSGraphContactsCache:function(){return this._microsoftGraphAPI.invoke("readMSGraphContactsCache")},writeMSGraphContactsCache:function(e){this._microsoftGraphAPI.invoke("writeMSGraphContactsCache",e)}}),t.RNAMicrosoftGraphAPI}),define("app-api/dev/rna-sophia-trialist-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNASophiaTrialistAPI=e.Api.extend({initialize:function(){this._SophiaTrialistAPI=this.options._SophiaTrialistAPI,delete this.options._SophiaTrialistAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._SophiaTrialistAPI.invoke(e.methodName,e.methodArgs)}}),t.RNASophiaTrialistAPI}),define("app-api/dev/rna-help-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.RNAHelpPanelApi=e.Api.extend({initialize:function(){this._helpAPI=this.options._helpAPI,delete this.options._helpAPI,e.Api.prototype.initialize.call(this)},invokeMethod:function(e){return this._helpAPI.invoke(e.methodName,e.methodArgs)}}),t.RNAHelpPanelApi}),define("app-api/dev/rna-api",["core/ac-core","files/ac-files","app-api/dev/ac-app-api","app-api/dev/rna-analytics-api","app-api/dev/rna-asset-api","app-api/dev/rna-cefbrowser-api","app-api/dev/rna-cefperformance-api","app-api/dev/rna-connectors-api","app-api/dev/rna-echosign-api","app-api/dev/rna-file-api","app-api/dev/rna-fss-api","app-api/dev/rna-fte-api","app-api/dev/rna-tasks-api","app-api/dev/rna-wt-api","app-api/dev/rna-ipm-api","app-api/dev/rna-leftrail-api","app-api/dev/rna-notification-api","app-api/dev/rna-plugins-api","app-api/dev/rna-reader-api","app-api/dev/rna-recentfiles-api","app-api/dev/rna-review-api","app-api/dev/rna-sendtrack-api","app-api/dev/rna-response-cache-api","app-api/dev/rna-registry-api","app-api/dev/rna-services-api","app-api/dev/rna-session-api","app-api/dev/rna-services-test-api","app-api/dev/rna-digsig-api","app-api/dev/rna-activity-badge-api","app-api/dev/rna-sign-workflow-services-api","app-api/dev/rna-sign-services-auth-api","app-api/dev/rna-unified-share-popup-api","core/apis/api","app-api/dev/rna-microsoft-graph-api","app-api/dev/rna-sophia-trialist-api","app-api/dev/rna-help-api"],function(e,t,n){return n.RNAApi=e.Api.extend({initialize:function(){var t=this.options,r=t.readerContextModel;e.Api.prototype.initialize.call(this),r.done(_.bind(function(e){this._browserCefMgr=t.cefContextModel.get("browserCEFManager"),this.rnaCefBrowserAPI=new n.RNACefBrowserAPI(_.extend(t,{_browserCefMgr:this._browserCefMgr})),this._rnaModel=e.get("rna"),this._rnaAPI=this._rnaModel.get("rnaAPI"),this.rnaReaderAPI=new n.RNAReaderAPI(_.extend(t,{_rnaModel:this._rnaModel,_rnaAPI:this._rnaAPI})),this._rnaModel.hasProperty("clipboardAPI")&&(this._clipboardAPI=this._rnaModel.get("clipboardAPI")),this._analyticsAPI=this._rnaAPI.get("analyticsAPI"),this.rnaAnalyticsAPI=new n.RNAAnalyticsAPI(_.extend(t,{_analyticsAPI:this._analyticsAPI})),this._reviewAPI=this._rnaAPI.get("reviewAPI"),this.rnaReviewAPI=new n.RNAReviewAPI(_.extend(t,{_reviewAPI:this._reviewAPI})),this._assetAPI=this._rnaAPI.get("bhClientAPI"),this.rnaAssetAPI=new n.RNAAssetAPI(_.extend(t,{_assetAPI:this._assetAPI})),this._connectorsAPI=this._rnaModel.get("connectorsAPI"),this.rnaConnectorsAPI=new n.RNAConnectorsAPI(_.extend(t,{_connectorsAPI:this._connectorsAPI})),this._esAPI=this._rnaAPI.get("esAPI"),this.esApi=new n.RNAEchoSignApi(_.extend(t,{_esAPI:this._esAPI})),this._fileAPI=this._rnaAPI.get("fileAPI"),this.rnaFileAPI=new n.RNAFileAPI(_.extend(t,{_fileAPI:this._fileAPI})),this._fssAPI=this._rnaAPI.get("fillSignSendAPI"),this.rnaFssAPI=new n.RNAFssAPI(_.extend(t,{_fssAPI:this._fssAPI})),this._fteAPI=this._rnaAPI.get("firstTimeExAPI"),this.rnaFteAPI=new n.RNAFteAPI(_.extend(t,{_fteAPI:this._fteAPI})),this._SophiaTrialistAPI=this._rnaAPI.get("sophiaTrialistCardAPI"),this.rnaSophiaTrialistAPI=new n.RNASophiaTrialistAPI(_.extend(t,{_SophiaTrialistAPI:this._SophiaTrialistAPI})),this._wtAPI=this._rnaAPI.get("walkthroughAPI"),this.rnaWtAPI=new n.RNAWtAPI(_.extend(t,{_wtAPI:this._wtAPI})),this._tasksAPI=this._rnaAPI.get("tasksAPI"),this.rnaTasksAPI=new n.RNATasksAPI(_.extend(t,{_tasksAPI:this._tasksAPI})),this._ipmAPI=this._rnaModel.get("ipmManager"),this.rnaIpmAPI=new n.RNAIpmAPI(_.extend(t,{_ipmAPI:this._ipmAPI})),this._leftRailAPI=this._rnaAPI.get("leftRailAPI"),this.rnaLeftRailAPI=new n.RNALeftRailAPI(_.extend(t,{_leftRailAPI:this._leftRailAPI})),this._notificationAPI=this._rnaAPI.get("notificationAPI"),this.notificationAPI=new n.RNANotificationApi(_.extend(t,{_notificationAPI:this._notificationAPI})),this._pluginsAPI=this._rnaAPI.get("pluginsAPI"),this.rnaPluginsAPI=new n.RNAPluginsAPI(_.extend(t,{_pluginsAPI:this._pluginsAPI})),this._servicesAPI=this._rnaAPI.get("servicesAPI"),this.rnaServicesAPI=new n.RNAServicesAPI(_.extend(t,{_servicesAPI:this._servicesAPI})),this._recentFilesAPI=this._rnaAPI.get("recentFilesAPI"),this.rnaRecentFilesAPI=new n.RNARecentFilesAPI(_.extend(t,{_recentFilesAPI:this._recentFilesAPI,_servicesAPI:this._servicesAPI})),this._sessionAPI=this._rnaAPI.get("sessionAPI"),this.rnaSessionAPI=new n.RNASessionAPI(_.extend(t,{_sessionAPI:this._sessionAPI})),this._stAPI=this._rnaAPI.get("stAPI"),this.stApi=new n.RNASendTrackApi(_.extend(t,{_stAPI:this._stAPI})),this._registryAPI=this._rnaAPI.get("registryAPI"),this.registryAPI=new n.RNARegistryApi(_.extend(t,{_registryAPI:this._registryAPI})),this._servicesTestAPI=this._rnaAPI.get("servicesTestAPI"),this.rnaServicesTestAPI=new n.RNAServicesTestAPI(_.extend(t,{_servicesTestAPI:this._servicesTestAPI})),this._digSigAPI=this._rnaAPI.get("digsigCEFUIAPI"),this.rnaDigSigAPI=new n.RNADigSigAPI(_.extend(t,{_digSigAPI:this._digSigAPI})),this._signWorkflowServicesAPI=this._rnaAPI.get("signWorkflowServicesAPI"),this.rnaSignWorkflowServicesAPI=new n.RNASignWorkflowServicesAPI(_.extend(t,{_signWorkflowServicesAPI:this._signWorkflowServicesAPI})),this._activityBadgeAPI=this._rnaAPI.get("bellNotificationsAPI"),this.rnaActivityBadgeAPI=new n.RNAActivityBadgeAPI(_.extend(t,{_activityBadgeAPI:this._activityBadgeAPI})),this._signServiceAuthAPI=this._rnaAPI.get("signServiceAuthAPI"),this.signServiceAuthAPI=new n.RNASignServiceAuthAPI(_.extend(t,{_signServiceAuthAPI:this._signServiceAuthAPI})),this._responseCacheApi=this._rnaAPI.get("responseCacheApi"),this.responseCacheApi=new n.RNAResponseCacheAPI(_.extend(t,{_responseCacheApi:this._responseCacheApi})),this._cefPerformanceAPI=this._rnaAPI.get("cefPerformanceAPI"),this.rnaCefPerformanceAPI=new n.RNACefPerformanceAPI(_.extend(t,{_cefPerformanceAPI:this._cefPerformanceAPI})),this._unifiedSharePopupAPI=this._rnaAPI.get("unifiedSharePopupAPI"),this.rnaUnifiedSharePopupAPI=new n.RNAUnifiedSharePopupAPI(_.extend(t,{_unifiedSharePopupAPI:this._unifiedSharePopupAPI})),this._microsoftGraphAPI=this._rnaAPI.get("microsoftGraphAPI"),this.rnaMicrosoftGraphAPI=new n.RNAMicrosoftGraphAPI(_.extend(t,{_microsoftGraphAPI:this._microsoftGraphAPI})),this._helpAPI=this._rnaAPI.get("HelpPanelAPI"),this.helpApi=new n.RNAHelpPanelApi(_.extend(t,{_helpAPI:this._helpAPI}))},this))},invokeMethod:function(e){return this.rnaReaderAPI.invokeMethod(e)},executeAction:function(e,t){return this.rnaReaderAPI.executeAction(e,t)},initUpsellWorkflowFromCEF:function(e){return this.rnaReaderAPI.initUpsellWorkflowFromCEF(e)},openDecoratedUrl:function(e){return this.rnaReaderAPI.openDecoratedUrl(e)},executeSwitchAccounts:function(e){return this.rnaReaderAPI.executeSwitchAccounts(e)},launchInAppPurchaseExp:function(e){return this.rnaReaderAPI.launchInAppPurchaseExp(e)},isRunningInBrowser:function(){return this.rnaReaderAPI.isRunningInBrowser()},isFeatRunning:function(){return this.rnaReaderAPI.isFeatRunning()},isUsingAV2UI:function(){return this.rnaReaderAPI.isUsingAV2UI()},isASTestAllowInstantiation:function(){return this.rnaReaderAPI.isASTestAllowInstantiation()},isHighContrastEnabled:function(){return this.rnaReaderAPI.isHighContrastEnabled()},getProductName:function(){return this.rnaReaderAPI.getProductName()},isDebug:function(){return this.rnaReaderAPI.isDebug()},getOpenedFile:function(){return this.rnaReaderAPI.getOpenedFile()},getBlacklistedExtensions:function(){return this.rnaReaderAPI.getBlacklistedExtensions()},getVariantJsonFromRegistry:function(){return this.rnaReaderAPI.getVariantJsonFromRegistry()},isAccessibilityActive:function(){return this.rnaReaderAPI.isAccessibilityActive()},analyticsAPI:function(e){return this.rnaAnalyticsAPI.invokeMethod(e)},getVariantNumber:function(e){return this.rnaCefBrowserAPI.getVariantNumber()},assetApi:function(e){return this.rnaAssetAPI.invokeMethod(e)},cefBrowserApi:function(e){return this.rnaCefBrowserAPI.invokeMethod(e)},cefApi:function(e){return this.rnaCefBrowserAPI.invokeCEFMethod(e)},connectorsAPI:function(e){return this.rnaConnectorsAPI.invokeMethod(e)},addConnectorAccount:function(e,t,n){return this.rnaConnectorsAPI.addConnectorAccount(e,t,n)},removeConnectorAccount:function(e,t){return this.rnaConnectorsAPI.removeConnectorAccount(e,t)},getConnectorsUIHelperData:function(e,t){return this.rnaConnectorsAPI.getConnectorsUIHelperData(e,t)},getSystemFoldersData:function(e,t){return this.rnaConnectorsAPI.getSystemFoldersData(e,t)},echoSignApi:function(e){return this.esAPI.invokeMethod(e)},fileApi:function(e){return this.rnaFileAPI.invokeMethod(e)},selectAndOpenFile:function(e){return this.rnaFileAPI.selectAndOpenFile(e)},selectFiles:function(e){return this.rnaFileAPI.selectFiles(e)},openPlatformDialog:function(e){return this.rnaFileAPI.openPlatformDialog(e)},getFileSaveAsLocation:function(e){return this.rnaFileAPI.getFileSaveAsLocation(e)},getOpenedFileObj:function(){return this.rnaFileAPI.getOpenedFileObj()},fssApi:function(e){return this.rnaFssAPI.invokeMethod(e)},ipmApi:function(e){return this.rnaIpmAPI.invokeMethod(e)},getIPMMessage:function(e){return this.rnaIpmAPI.getIPMMessage(e)},getTrackingParam:function(e){return this.rnaIpmAPI.getTrackingParam(e)},selectLeftRailItem:function(e,t,n){return this.rnaLeftRailAPI.selectLeftRailItem(e,t,n)},selectConnectorLeftRailItem:function(e,t){return this.rnaLeftRailAPI.selectConnectorLeftRailItem(e,t)},disableLeftRailSelection:function(e){return this.rnaLeftRailAPI.disableLeftRailSelection(e)},isAddAccountVisibleInFileSelDlg:function(){return this.rnaLeftRailAPI.isAddAccountVisibleInFileSelDlg()},pluginsApi:function(e){return this.rnaPluginsAPI.invokeMethod(e)},recentFilesAPI:function(e){return this.rnaRecentFilesAPI.invokeMethod(e)},whitelistRecentFile:function(e){return this.rnaRecentFilesAPI.whitelistRecentFile(e)},determineSourceOfRecentFile:function(e,t){return this.rnaRecentFilesAPI.determineSourceOfRecentFile(e,t)},getFileFavoriteStatus:function(e){return this.rnaRecentFilesAPI.getFileFavoriteStatus(e)},getActiveTheme:function(){return this.rnaFteAPI.getActiveTheme()},removeRecentFile:function(e){return this.rnaRecentFilesAPI.removeRecentFile(e)},sendTrackApi:function(e){return this.stApi.invokeMethod(e)},rnaRegistryAPI:function(e){return this.registryAPI.invokeMethod(e)},servicesApi:function(e){return this.rnaServicesAPI.invokeMethod(e)},sessionApi:function(e){return this.rnaSessionAPI.invokeMethod(e)},isSignedInReader:function(){return this.rnaSessionAPI.isSignedInReader()},isSignedInReaderQuick:function(){return this.rnaSessionAPI.isSignedInReaderQuick()},getXApiClientId:function(){return this.rnaSessionAPI.getXApiClientId()},logIn:function(e){return this.rnaSessionAPI.logIn(e)},servicesTestApi:function(e){return this.rnaServicesTestAPI.invokeMethod(e)},activityBadgeApi:function(e){return this.rnaActivityBadgeAPI.invokeMethod(e)},unifiedSharePopupApi:function(e){return this.rnaUnifiedSharePopupAPI.invokeMethod(e)},helpApi:function(e){return this.rnaHelpAPI.invokeMethod(e)},logAnayticsCustomOpenSave:function(e){var t=(new Date).getTime();if(!_.isUndefined(t)){var n={name:e,loadtime:t.toString()};this.rnaServicesTestAPI.invokeMethod({methodName:"logCustomEventAPI",methodArgs:n})}},checkIfLoggingIsEnabledFromNative:function(){var e=$.Deferred();return _.isUndefined(this.isPerformanceLoggingEnabled)?(this.rnaServicesTestAPI.invokeMethod({methodName:"isPerformanceLoggingEnabled"}).then(_.bind(function(t){this.isPerformanceLoggingEnabled=t,e.resolve(t)},this)),e.promise()):(e.resolve(this.isPerformanceLoggingEnabled),e.promise())},logPerformance:function(e,t){var n=(new Date).getTime();if(!_.isUndefined(n)){var r={WorkflowName:e,WorkflowType:t,Time:n.toString()};this.logPerformanceEvent(r)}},logPerformanceEvent:function(e){var t=e;this.rnaServicesTestAPI.invokeMethod({methodName:"logPerformanceEventAPI",methodArgs:t})},IsViewerInTestMode:function(){return this.rnaServicesTestAPI.invokeMethod({methodName:"IsViewerInTestMode"})},sendSignatureToDirectInk:function(e,t){var n={event:e,info:t};this.rnaServicesTestAPI.invokeMethod({methodName:"directInkEvent",methodArgs:n})},isSNTFeatureLockdownEnabled:function(){var e=$.Deferred();return _.isUndefined(this.bIsSNTFeatureLockdownEnabled)?(this.rnaFileAPI.invokeMethod({methodName:"getIsSNTFeatureLockdownEnabled"}).then(_.bind(function(t){this.bIsSNTFeatureLockdownEnabled=t.bIsSNTFeatureLockdownEnabled,e.resolve(t.bIsSNTFeatureLockdownEnabled)},this)),e.promise()):(e.resolve(this.bIsSNTFeatureLockdownEnabled),e.promise())}}),n.RNAApi}),define("app/dev/nls/ui-strings",{root:!0,"ar-ae":!0,"bg-bg":!0,"ca-es":!0,"cs-cz":!0,"da-dk":!0,"de-de":!0,"en-ae":!0,"en-gb":!0,"en-il":!0,"es-es":!0,"eu-es":!0,"fi-fi":!0,"fr-fr":!0,"fr-ma":!0,"he-il":!0,"hr-hr":!0,"hu-hu":!0,"it-it":!0,"ja-jp":!0,"ko-kr":!0,"nb-no":!0,"nl-nl":!0,"pl-pl":!0,"pt-br":!0,"ro-ro":!0,"ru-ru":!0,"sk-sk":!0,"sl-si":!0,"sl-sl":!0,"sv-se":!0,"tr-tr":!0,"uk-ua":!0,"zh-cn":!0,"zh-tw":!0}),define("app/dev/nls/root/ui-strings",{COPYRIGHT:"©2012-2015 Adobe Systems Incorporated, All Rights Reserved.",HELP:"Help",PRIVACY:"Privacy",TERMS:"Terms",COOKIES:"Cookies",PRIVACY_POLICY:"Privacy Policy & Cookies",TERMS_OF_USE:"Terms of Use",WELCOME_MSG:"Use Adobe Document Services and access your files from any device",LOAD_FAILURES:"Load Failures",MODULES_NOT_LOADED:"The following modules failed to load:<br/><br/><%= modules %>",SIGN_IN:"Sign In",CREATE_ACCOUNT:"Create Account",FORGOT_PASSWORD:"Trouble Signing In?",EMAIL_VERIFICATION:"Email Verification",PDF_SERVICES:"  /  PDF services",ACCOUNT:"Account",LINK_CREATIVE_CLOUD_ACCOUNT:"Link Creative Cloud Account...",LINK_DROPBOX_ACCOUNT:"Link Dropbox Account...",MANAGE_SUB:"My Plan...",USER_ACCOUNT:"User Account...",ASK_US_A_QUESTION:"Ask Us a Question...",SUPPORT:"Support...",CHAT_WITH_US:"Chat With Us...",ABOUT_APP:"About Document Cloud...",SIGN_OUT:"Sign Out",SHOW_PROGRESS:"Show Progress",PROGRESS_COMPLETE:"Progress Complete",REMOVE_HISTORY:"Remove History",OPERATION_IN_PROGRESS_DLG_TITLE:"Operation in Progress",OPERATION_IN_PROGRESS_DLG_MSG:"There is currently an operation in process. Continuing will cancel that operation. Would you like to continue?",QUOTA_LEGEND:"<%= using %> of <%= allotment %>",STORAGE_EXCEEDED_LEARN_MORE:"Storage Exceeded (<a class='quota-display-learn-more'>Learn more</a>)",ABOUT_DLG_TITLE:"About Document Cloud",ABOUT_DLG_COPYRIGHT_PARA:"Copyright © 2012-2015 Adobe Systems Incorporated and its licensors. All Rights Reserved.",ABOUT_DLG_TRADEMARK_PARA:"Adobe, the Adobe logo, and Acrobat are either registered trademarks or trademarks of Adobe Systems Incorporated in the United States and/or other countries. All other trademarks are the property of their respective owners.",ABOUT_DLG_PORTIONS_PARA:"Portions utilize:",ABOUT_DLG_MICROSOFT_PARA:"Microsoft Windows Media Technologies. Copyright © 1999-2002, 2006 Microsoft Corporation. All Rights Reserved.",ABOUT_DLG_IRIS_PARA:"OCR technology by Image Recognition Integrated Systems S.A. Copyright © 1987 - 2012, I.R.I.S. S.A. All rights reserved.",ABOUT_DLG_SOLID_PARA:"Copyright © 2003-2011 Solid Documents, LLC",ABOUT_DLG_THIRD_PARTY_PARA:"Third Party notices, terms and conditions pertaining to third party software can be found at <%= thirdPartyLink %> and are incorporated by reference herein.",ABOUT_DLG_BUILD_NUMBER:"Build: <%= buildNum %>",NO_CONNECTION_TITLE:"No Internet Connection",NO_CONNECTION_MSG:"The features in this area require Internet connectivity. Please connect your computer to the Internet and try again.",NETWORK_FAILURE:"Network Connection Failure",NETWORK_DISCONNECTED:"It appears that there is no network connection. Reader might not be fully functional in the absence of a network connection"}),define("core/dev/utils/router-util",["core/ac-core"],function(e){return e.RouterUtil={parseQueryParams:function(e){return function(e){var t={},n,r;if(e!=="")for(n=0;n<e.length;n+=1)r=e[n].split("="),r.length===2&&(t[r[0]]=decodeURIComponent(r[1].replace(/\+/g," ")));return t}(e.substr(1).split("&"))},hasQueryParam:function(e,t){var n=this.parseQueryParams(window.location.search),r;return r=_.has(n,e),r&&t&&(r=n[e]===t),r}},e.RouterUtil}),define("app-api/dev/router-api",["core/ac-core","app/ac-app","app-api/dev/ac-app-api","i18n!core/nls/ui-strings","i18n!app/nls/ui-strings","core/utils/router-util","core/apis/api"],function(e,t,n,r,i,s){return n.RouterApi=e.Api.extend({initialize:function(){e.Api.prototype.initialize.call(this),this._historyChangeCallbacks=[],this._addUiModelEventListeners()},navigate:function(e,n){this.isCurrentPath(e)||this.options.appApi.previewApi.navigatedToPath(e);if(this.options.isNavigateEnabled)return t.router.navigate(e,n)},route:function(e,n,r){return t.router.route(e,n,r)},enableNavigate:function(e){this.options.isNavigateEnabled=e},addHistoryChangeCallback:function(e){var t=this._historyChangeCallbacks,n=_.indexOf(t,e);n<0&&t.push(e)},removeHistoryChangeCallback:function(e){var t=this._historyChangeCallbacks,n=_.indexOf(t,e);n>=0&&t.splice(n,1)},reloadPage:function(e){function a(){LOG.info("Reloading page: "+(u||"Unknown reason"),{logServer:!0}),o?window.location=t.origin:t.reload()}var t=window.location,n=this.options.appApi,s=n.dialogApi,o,u;e&&(o=e.noDeepLink,u=e.reason);if(n.statusMenuApi.isNetStatusBusy())return s.displayTextAlert(s.SEVERITY_WARNING,i.OPERATION_IN_PROGRESS_DLG_TITLE,i.OPERATION_IN_PROGRESS_DLG_MSG,r.DELETE,r.CANCEL).then(function(){a()});a()},getCurrentPath:function(){return Backbone.History.started?Backbone.history.getFragment():""},isCurrentPath:function(e){return this.getCurrentPath()===e},pathStartsWith:function(e,t){return e.indexOf(t)===0},currentPathStartsWith:function(e){return this.getCurrentPath().indexOf(e)===0},hasPushState:function(){var e=window.history;return!!e&&!!e.pushState},parseQueryParams:function(e){return s.parseQueryParams(e)},getQueryParams:function(){var e=this._queryParams;if(!e||_.isEmpty(e))e=this._queryParams=this.parseQueryParams(window.location.search);return e},clearQueryParams:function(){this._queryParams=undefined},hasQueryParam:function(e,t){var n=this.getQueryParams(),r;return r=_.has(n,e),r&&t&&(r=n[e]===t),r},pruneSearchField:function(e){var t=_.omit(this.getQueryParams(),e),n="";return _.each(t,function(e,t){n.length===0?n="?":n+="&",n+=t+"="+e}),n},getPathname:function(){return this._pathname||(this._pathname=window.location.pathname),this._pathname},getHash:function(){return _.has(this,"_hash")||(this._hash=window.location.hash),this._hash},getHashParams:function(){return this.parseQueryParams(this._hash||"")},removeSusiHashParams:function(){var e,t,n=window.location,r,i=window.history,s=document.body;this.hasPushState()?i.replaceState("",document.title,n.pathname+this.pruneSearchField(["clt","code","state"])):(e=s.scrollTop,t=s.scrollLeft,r=this._hash,r.indexOf("&")>0&&(r=r.split("&")[0],r.indexOf("=")>0&&(r="")),n.hash=r,s.scrollTop=e,s.scrollLeft=t)},_addUiModelEventListeners:function(){var e=this.options;this.listenTo(e.fullOverlayUiModel,"change:show_overlay",this._onShowOverlayChange).listenTo(t.router,"route",this._onRouteChange)},_onShowOverlayChange:function(e,n){!n&&!this.options.isNavigateEnabled&&(this.enableNavigate(!0),t.opFactory.create("SelectingToolOp",this.options).run())},_onRouteChange:function(e,t){this.options.appApi.previewApi.navigatedToPath(this.getCurrentPath()),_.each(this._historyChangeCallbacks,function(n){n(e,t)})}}),n.RouterApi}),define("core/dev/templates/filter-description-template",[],function(){return"<%= filterDescription %> (<% for (var index = 0; index < filterExtensions.length; index += 1) { if (index > 0) { %>, <% } %>*.<%= filterExtensions[index] %><% } %>)"}),define("app-api/dev/saveas-api",["core/ac-core","app-api/dev/ac-app-api","core/templates/filter-description-template","core/apis/api"],function(e,t,n){return t.SaveAsApi=e.Api.extend({setCanSave:function(e){this.options.saveAsUiModel.set("canSave",e)},getCanSave:function(){return this.options.saveAsUiModel.get("canSave")},setFilename:function(e){this.options.saveAsUiModel.set("filename",e)},getFilename:function(){return this.options.saveAsUiModel.get("filename")},setCurrentFolderId:function(e){this.options.saveAsUiModel.set("currentFolderId",e)},getCurrentFolderId:function(){return this.options.saveAsUiModel.get("currentFolderId")},setReplaceFileId:function(e){this.options.saveAsUiModel.set("replaceFileId",e)},getReplaceFileId:function(){return this.options.saveAsUiModel.get("replaceFileId")},setReplaceFileObj:function(e){this.options.saveAsUiModel.set("replaceFileObj",e)},getReplaceFileObj:function(){return this.options.saveAsUiModel.get("replaceFileObj")},getSourceKey:function(){return this.options.saveAsUiModel.get("sourceKey")},getAccountId:function(){return this.options.saveAsUiModel.get("accountId")},isRunningInFileSaveAs:function(){return this.options.runningInFileSaveAs===!0},getChosenFileFilter:function(){var e=this.options.saveAsUiModel.get("fileFilterList"),t,n,r="",i=[],s;return _.isUndefined(e)||(t=this.options.saveAsUiModel.get("chosenFileFilter"),n=e.at(t),r=n.get("fileFilterDescription"),i=n.get("fileFilterExtensions")),s={fileFilterDescription:r,fileFilterExtensions:i},s},getChosenFilterDescription:function(){var e=this.getChosenFileFilter();return _.template(n,{filterDescription:e.fileFilterDescription,filterExtensions:e.fileFilterExtensions})},getChosenFileExtension:function(){var t=this.getChosenFileFilter(),n=t.fileFilterExtensions,r=this.getFilename(),i,s=e.Util.getExtension(r);return _.isUndefined(s)||(i=_.find(n,function(e){return e.toLowerCase()===s})),_.isUndefined(i)?n[0]:i},setChosenFileFilterAsPerFilename:function(){var t=this.options.saveAsUiModel.get("fileFilterList"),n=undefined,r=0,i=this.getFilename(),s=e.Util.getExtension(i);_.isUndefined(s)||(t.forEach(function(e){var t=e.get("fileFilterExtensions");t.forEach(function(e){e.toLowerCase()===s&&(n=r)}),r+=1}),_.isUndefined(n)||this.options.saveAsUiModel.set("chosenFileFilter",n))},shouldShowExportOptions:function(){return this.options.saveAsUiModel.get("showExportOptions")},isSettingsButtonVisible:function(){var e=this.options.saveAsUiModel.get("allowSettingsButton"),t=$.Deferred();return e?(this._getFileSelectDataAPI().done(_.bind(function(){var e=this.getChosenFileFilter();this.fsData.invoke("isSettingsButtonVisible",e).done(function(e){t.resolve(e)})},this)),t):(t.resolve(!1),t)},settingsButtonExecute:function(){var e=$.Deferred();return this._getFileSelectDataAPI().done(_.bind(function(){var t=this.getChosenFileFilter();this.fsData.invoke("settingsButtonExecute",t).done(function(){e.resolve()})},this)),e},isViewResultVisible:function(){var e=this.options.saveAsUiModel.get("allowViewResult"),t,n=$.Deferred();return e?(t=this.options.appApi.pluginsApi.getSelectedPluginId("file_selection_dlg"),t!=="my_computer_select"?(n.resolve(!1),n):(this._getFileSelectDataAPI().done(_.bind(function(){var e=this.getChosenFileFilter();this.fsData.invoke("isViewResultVisible",e).done(function(e){n.resolve(e)})},this)),n)):(n.resolve(!1),n)},isViewResultChecked:function(){var e=$.Deferred(),t=this.getChosenFileFilter();return this.viewResultStates===undefined&&(this.viewResultStates={}),this.viewResultStates[t.fileFilterDescription]===undefined?this._getFileSelectDataAPI().done(_.bind(function(){this.fsData.invoke("getViewResultInitialState",t).done(function(t){e.resolve(t)})},this)):e.resolve(this.viewResultStates[t.fileFilterDescription]),e},setViewResultChecked:function(e){this.viewResultStates===undefined&&(this.viewResultStates={}),this.viewResultStates[this.getChosenFileFilter().fileFilterDescription]=e},clearNonSharedSaveAsAttributes:function(){this.setReplaceFileId(""),this.setReplaceFileObj(undefined),this.setCurrentFolderId(""),this.setCurrentFolderProxy(undefined)},setRestrictEditing:function(e){this.options.saveAsUiModel.set("restrictEditing",e)},disableRestrictEditing:function(){this.options.saveAsUiModel.set("restrictEditingEnabled",!1)},enableRestrictEditing:function(){this.options.saveAsUiModel.set("restrictEditingEnabled",!0)},isRestrictEditingEnabled:function(){return this.options.saveAsUiModel.get("restrictEditingEnabled")},isRestrictEditingEnabledByParams:function(){return this.options.saveAsUiModel.get("restrictEditingEnabledByParams")},isRestrictEditingVisible:function(){return this.options.saveAsUiModel.get("restrictEditingVisible")},isRestrictEditingSelected:function(){return this.options.saveAsUiModel.get("restrictEditing")},setExportButtonState:function(e){this.options.saveAsUiModel.set("exportButtonSelected",e),this.trigger("change:exportButtonSelection")},disableExportButton:function(){this.options.saveAsUiModel.set("exportButtonEnabled",!1)},enableExportButton:function(){this.options.saveAsUiModel.set("exportButtonEnabled",!0)},isExportButtonEnabled:function(){return this.options.saveAsUiModel.get("exportButtonEnabled")},isExportButtonEnabledByParams:function(){return this.options.saveAsUiModel.get("exportButtonEnabledByParams")},isExportButtonVisible:function(){return this.options.saveAsUiModel.get("exportButtonVisible")},isExportButtonSelected:function(){return this.options.saveAsUiModel.get("exportButtonSelected")},getOutputFormat:function(){return this.options.saveAsUiModel.get("outputFormat")},setOutputFormat:function(e){this.options.saveAsUiModel.set("outputFormat",e),this.options.saveAsUiModel.get("exportButtonSelected")&&this.trigger("change:exportButtonSelection")},getDefaultSelectedPluginId:function(){return this.options.saveAsUiModel.get("defaultSelectedPluginId")},setCurrentFolderProxy:function(e){return this.options.saveAsUiModel.set("currentFolderProxy",e)},getCurrentFolderProxy:function(){return this.options.saveAsUiModel.get("currentFolderProxy")},getOriginalFileSize:function(){return this.options.saveAsUiModel.get("originalSize")},getShowReduceSizeBanner:function(){return this.options.saveAsUiModel.get("showReduceSizeBanner")},setReduceFileSize:function(e){this.options.saveAsUiModel.set("reduceFileSize",e)},disableReduceFileSize:function(){this.options.saveAsUiModel.set("reduceFileSizeEnabled",!1)},enableReduceFileSize:function(){this.options.saveAsUiModel.set("reduceFileSizeEnabled",!0)},setReduceFileSizeSelectedByPref:function(e){this.options.saveAsUiModel.set("reduceFileSizeSelectedByPref",e)},isReduceFileSizeEnabled:function(){return this.options.saveAsUiModel.get("reduceFileSizeEnabled")},isReduceFileSizeEnabledByParams:function(){return this.options.saveAsUiModel.get("reduceFileSizeEnabledByParams")},getFileOptionsRFS:function(){return this.options.saveAsUiModel.get("fileOptionsRFS")},isReduceFileSizeVisible:function(){return this.options.saveAsUiModel.get("reduceFileSizeVisible")},isReduceFileSizeSelected:function(){return this.options.saveAsUiModel.get("reduceFileSize")||this.options.saveAsUiModel.get("reduceFileSizeSelectedByPref")},shouldDisplaySaveAsOptions:function(){return this.isRunningInFileSaveAs()&&(this.isReduceFileSizeVisible()||this.isRestrictEditingVisible())},setError:function(e){this.options.saveAsUiModel.set("error",e)},clearError:function(){this.options.saveAsUiModel.set("error",undefined,{silent:!0})},addSaveAsErrorCallback:function(e){this.listenTo(this.options.saveAsUiModel,"change:error",e)},removeSaveAsErrorCallback:function(e){this.stopListening(this.options.saveAsUiModel,"change:error",e)},isCalledFromUpsell:function(){return this.options.saveAsUiModel.get("calledFromUpsell")},isCalledFromNativeRS:function(){return this.options.saveAsUiModel.get("calledFromNativeRS")},_getFileSelectDataAPI:function(){var e=$.Deferred();return this.fsData?e.resolve():this.options.readerContextModel.done(_.bind(function(t){var n=t.get("rna");this.fsData=n.get("viewData").get("fileSelectData"),e.resolve()},this)),e},_showSharedFileOverwriteWarning:function(){this.trigger("error:shared-file-overwrite-warning")},_sharedFileOverwriteWarningHidden:function(){this.trigger("change:shared-file-overwrite-warning-hidden")}}),t.SaveAsApi}),define("app-api/dev/selection-api",["core/ac-core","app/ac-app","app-api/dev/ac-app-api","core/utils/sc-analytics","core/utils/util","core/apis/api"],function(e,t,n,r,i){return n.SelectionApi=e.Api.extend({selectFiles:function(e,n){var s=this.options,o,u,a;return s.selectFilesPromise?s.selectFilesPromise:(n&&(o=n.dialog,u=n.plugin,o&&o.singleFileSelection&&(u||(u={}),u.singleFileSelection=!0)),a=s.appApi.pluginsApi,i.isCEF()&&s.runningInFileSelection&&u&&u.pluginScContext?s.scContext=[r.TOOLS,u.pluginScContext,r.CHOOSE_FILES_DLG]:a.getPluginApi(e)&&(s.scContext=[r.TOOLS,a.callPluginMethod(e,"getSiteCatalystName",undefined,r.UNKNOWN,!0),r.CHOOSE_FILES_DLG]),s.selectFilesPromise=t.opFactory.create("ShowingFileSelectionDlgOp",_.extend({},s,o,{parentView:t.viewMgr})).run(u).always(function(){s.selectFilesPromise=undefined}),s.selectFilesPromise)},isSelectingFiles:function(){return!_.isUndefined(this.options.selectFilesPromise)},setSelectedItemModels:function(e){this.options.selectionUiModel.set("selected_item_models",e)},setSelectedLocalFiles:function(e){this.options.selectionUiModel.set("selected_local_files",e)},getSelectedItemModels:function(){return this.options.selectionUiModel.get("selected_item_models")},clearSelection:function(e){return this.options.selectionUiModel.clearSelection(e)},addSelectedItemsModelsChangeCallback:function(e){this.options.selectionUiModel.on("change:selected_item_models",e)},removeSelectedItemsModelsChangeCallback:function(e){this.options.selectionUiModel.off("change:selected_item_models",e)},isRunningInFileSelection:function(){return this.options.runningInFileSelection===!0},isRunningInFull:function(){return this.options.runningInFull===!0},triggerPluginSelectorClick:function(e,n){var r,i;r=_.extend({},n,{pluginId:e}),i=t.viewMgr.getContentPageView(this.options).getChildViewById("_homeViewsView"),i&&i._triggerViewEvent(t.ViewEvents.FILE_SELECTION_DLG_SELECTOR_CLICK,r)}}),n.SelectionApi}),define("app-api/dev/session-api",["core/ac-core","app/ac-app","app-api/dev/ac-app-api","core/utils/util","core/apis/api"],function(e,t,n,r){var i=0;return n.SessionApi=e.Api.extend({isSignedIn:function(){return this.options.signInUiModel.get("is_signed_in")},isSignedInReader:function(e){var t=!1;return e?e.isSignedInReader()&&(t=!0):this.options.appApi.rnaApi.then(function(e){e.isSignedInReader()&&(t=!0)}),t||(t=this.isSignedIn()),t},isSignedInReaderQuick:function(){var e=!1;return this.options.appApi.rnaApi.then(function(t){t.isSignedInReaderQuick()&&(e=!0)}),e||(e=this.isSignedIn()),e},signOut:function(){var e=this.options,n=e.appApi;return r.isCEF()?n.rnaApi.then(function(e){return e.sessionApi({methodName:"logOut"}).then(function(){n.sessionApi.signedOut(!0)})}):t.opFactory.create("SigningOutOp",this.options).run()},refreshAccessToken:function(){var e=new Date;if(i==0)i=e,this.options.appApi.rnaApi.then(function(e){e.logIn(!0)});else{var t=Math.abs(e.getTime()-i.getTime())/36e5;t>=6&&(i=e,this.options.appApi.rnaApi.then(function(e){e.logIn(!0)}))}},signInFromErrorOp:function(){return t.opFactory.create("SigningInFromErrorOp",this.options).run()},signedOut:function(e){var n=this.options;r.isCEF()&&(n.sessionRNAModel=undefined,n.rootModel.id=undefined),n.routingAtContentPagePromise=undefined,t.opFactory.create("Handling401ErrorOp",n).run(e)},ensureSignedInV2:function(e){var t=$.Deferred();return this.ensureSignedIn(e).then(function(){t.resolve()},function(e){!e||e.errorString!=="DCAPIUnsupported-Error410"||window.location.pathname.indexOf("fillsign")==-1&&window.location.pathname.indexOf("send_for_sign")==-1?e&&e.errorString==="NoAccessToPdfServices"&&_.isUndefined(e.errorCode)?t.resolve():t.reject(e):t.resolve()}),t.promise()},ensureSignedIn:function(e,t){var n=this.options,i=n.appApi,s=!1,o=$.Deferred(),u=!1,a=t===undefined?"":t;return this.options.signInUiModel!==undefined&&this.options.signInUiModel.set("invocation_point",a),r.isCEF()?i.sessionApi.isSignedIn()?i.pluginsApi.validateRNAPlugin(e).then(function(){return i.rnaApi.done(function(e){e.rnaServicesAPI.isEnterpriseUser()&&(s=!e.rnaServicesAPI.isPDFServicesEnabled(),u=!e.rnaServicesAPI.isEncryptionKeyValid()),s?o.reject({errorString:"NoAccessToPdfServices"}):u?o.reject({errorString:"NoAccessToPdfServices",errorCode:"UserEncrypted"}):o.resolve()}),o.promise()}):this.options.appApi.sessionApi.getRoutingAtContentPagePromiseEx():this._getResolvedPromise()},addSignedInChangeCallback:function(e){this.options.signInUiModel.on("change:is_signed_in",e)},removeSignedInChangeCallback:function(e){this.options.signInUiModel.off("change:is_signed_in",e)},getPrimaryToken:function(){var e=(new Date).getTime(),t=this.options.sessionUiModel.get("expiration_time_utc"),n=t-e;return n>=0?this.options.sessionUiModel.get("primary_token"):(this.refreshAccessToken(),this.options.sessionUiModel.get("primary_token"))},isESSignedIn:function(){return this.options.appApi.rnaApi.done(_.bind(function(e){e.signServiceAuthAPI.isESSessionActive()},this)),this.options.signInUiModel.get("is_echosign_signed_in")},addESSignedInChangeCallback:function(e){this.options.signInUiModel.on("change:is_echosign_signed_in",e)},removeESSignedInChangeCallback:function(e){this.options.signInUiModel.off("change:is_echosign_signed_in",e)},getRoutingAtContentPagePromiseEx:function(e){var n=this.options,i=t.opFactory;if(n.resetRnaOpPromise!==!1||!n.routingAtContentPagePromiseEx)r.isCEF()?(n.routingAtContentPagePromiseEx=i.create("RNARoutingAtContentPageOp",n).run(!1,e),this.options.resetRnaOpPromise=!1,setTimeout(this._onTimeout,2e3)):n.routingAtContentPagePromiseEx=i.create("RoutingAtContentPageOp",n).run();return n.routingAtContentPagePromiseEx},_onTimeout:function(){this.options.resetRnaOpPromise=!0},getRoutingAtContentPagePromise:function(){var e=this.options,n=t.opFactory;return e.routingAtContentPagePromise||(r.isCEF()?e.routingAtContentPagePromise=n.create("RNARoutingAtContentPageOp",e).run(!0):e.routingAtContentPagePromise=n.create("RoutingAtContentPageOp",e).run()),e.routingAtContentPagePromise},setRoutingAtContentPagePromise:function(e){this.options.routingAtContentPagePromise=e}}),n.SessionApi}),define("app-api/dev/settings-api",["core/ac-core","app/ac-app","app-api/dev/ac-app-api","core/utils/sc-analytics","core/apis/api"],function(e,t,n,r){return n.SettingsApi=e.Api.extend({showSettings:function(e){var n,i=this.options;return i.settingsPromise?i.settingsPromise:e&&!i.appApi.pluginsApi.getPluginApi(e)?(n="Settings dialog: unrecognized plugin ID: "+e,LOG(n),$.Deferred().reject(n).promise()):(i.scContext=[r.TOP_HEADER,r.USER_ACCOUNT_MENU,r.SETTINGS_DLG],i.settingsPromise=t.opFactory.create("ShowingSettingsDlgOp",_.extend({},i,{parentView:t.viewMgr})).run().always(function(){i.settingsPromise=undefined}),i.settingsPromise)}}),n.SettingsApi}),define("app-api/dev/site-catalyst-api",["core/ac-core","app/ac-app","app-api/dev/ac-app-api","core/utils/sc-analytics","core/utils/util","core/apis/api"],function(e,t,n,r,i){var s=100,o=["prop5","prop48","prop49"];return n.SiteCatalystApi=e.Api.extend({DIALOG_COMMIT:r.DIALOG_COMMIT,DIALOG_CANCEL:r.DIALOG_CANCEL,RENDER:r.RENDER,CLICK:r.CLICK,COUNT_FILES:r.COUNT_FILES,CHANGE:r.CHANGE,ANALYTICS_SELECTOR:r.ANALYTICS_SELECTOR,ANALYTICS_CLASS:r.ANALYTICS_CLASS,logScSelectorEvent:function(e,t){var n=this.options.scEventStore.nonUIEvents[e],r,i,s,o;if(!n)return;i=n.pageName,s=n.prop48||"",o=n.prop49||"",t&&t.data&&_.each(t.data,function(e,t){r=new RegExp("<"+t+">","g"),i=i.replace(r,e),s=s.replace(r,e),o=o.replace(r,e)});if(i){if(s||o)t=t||{},t.rawProperties=t.rawProperties||{};s&&(t.rawProperties.prop48=s),o&&(t.rawProperties.prop49=o),this.logScEvent(i.split(":"),t)}else LOG("AcAppApi.SiteCatalystApi.logScSelectorEvent: Invalid selector: "+e)},register:function(e,n){var r=this.options;n.pages||(n={pages:n,variables:{}}),window.AiCAnalytics=this,r.scPageGroups[e]||(t.opFactory.create("RegisterPageNamesOp").run(e,n,r.scHandlers,r.scEventStore,this),r.scPageGroups[e]=n,_.each(r.scListeners,function(t){try{t(e,n)}catch(r){}})),r.scPageGroups.framework||t.opFactory.create("GetFrameworkPagesOp").run().done(_.bind(function(e){this.register("framework",e)},this))},version:4,_addListener:function(e){var t=this.options;_.each(t.scPageGroups,function(t,n){try{e(n,t)}catch(r){}}),t.scListeners.push(e)},addListener:function(e){this._addListener(e)},logScEvent:function(t,n){var s,o,u,a,f,l,c,h=this.options.appApi.connectorsApi,p=this.options.appApi.pluginsApi,d,v=this.options.appApi.selectionApi,m,g;_.isArray(t)||(t=[t]),n&&(u=n.locale,a=n.appDomain,f=n.accountLevel,l=n.appType,c=n.connector,g=n.pguid),u||(u=e.Locale.getSiteCatalystLocale()),a||(a=r.APP_DOMAIN),f!==""&&(f=this.options.appApi.usersMeApi.getUserIdentity().sitecatalyst_plan_code),l!==""&&(i.isCEF()?(i.isReader()?l=r.APP_READER:l=r.APP_ACROUNKNOWN,this.options.appApi.rnaApi.done(function(e){var t=e.getProductName();if(t==="rdr")l=r.APP_READER;else if(t==="pro")l=r.APP_ACROPRO;else if(t==="std"||t==="basic")l=r.APP_ACROSTD})):l=this.options.appApi.acrobatApi.isInAcrobat()?r.APP_READER:r.APP_WEB);if(c!==""&&_.indexOf(_.flatten(t),r.FILE_LIST)!==-1){v.isSelectingFiles()?d=p.getPendingPluginId("file_selection_dlg"):d=p.getPendingPluginId("home_views");if(h.isConnectorPlugin(d))c=h.getConnectorPluginScName(d);else if(d==="my_files"||d==="my_files_select")c=r.DOCUMENT_CLOUD}s=a+(l?":"+l:""),f&&(s+=":"+f),c&&_.indexOf(_.flatten(t),r.FILE_LIST)!==-1&&(s+=":"+c),i.isCEF()&&this.options.appApi.rnaApi.done(function(e){e.getTrackingParam().done(function(e){m=e})}),o="",_.each(t,function(e){e?o+=":"+e:_.isUndefined(e)&&LOG("AcAppApi.SiteCatalystApi.logScEvent missing name after "+s+o)});if(i.isCEF()){var y,b,w;w=p.getRNASelectedPluginId(),b=p.getRNAVariant(w),b&&(y=p.getSiteCatalystName(w),o=o.replace(y+":",y+":"+b+":")),o.search(r.UPSELL_STARTED)!==-1&&(this.options.appApi.sessionApi.isSignedInReader()?o+=":"+r.SIGNED_IN:o+=":"+r.SIGNED_OUT)}return(!i.isCEF()||this.options.appApi.sessionApi.isSignedInReader())&&this._sendEvent(u,a,s,o,n,m,g),i.isCEF()&&!(n&&"pguid"in n)&&this.options.appApi.rnaApi.done(function(e){var t,i,s=o.substr(1);n&&(i=n.featureType,t=n.sectionName),_.isUndefined(t)&&(_.isEmpty(s)?t=r.SC_UNDEFINED:t=s),_.isUndefined(i)&&(_.isEmpty(s)?i=r.SC_UNDEFINED:i=s),t="SC_"+t,s===r.INITIAL_STARTUP&&f&&(t=r.PLAN_TYPE+":"+f,i=t,s=t),t!==r.SC_UNDEFINED&&i!==r.SC_UNDEFINED&&e.analyticsAPI({methodName:"logAnalyticsEvent",methodArgs:[t,i,s]})}),this},logEvent:function(e,t,n){if(e===""||t===""||n==="")return;this.options.appApi.rnaApi.done(function(r){r.analyticsAPI({methodName:"logAnalyticsEvent",methodArgs:[e,t,n]})})},logVirgoEvent:function(e,t){this.logEvent(r.VIRGO_HOME,e,t)},logVirgoViewerEvent:function(e,t){this.logEvent(r.VIRGO_VIEWER,e,t)},logVirgoFileOpenEvent:function(e){this.options.appApi.pluginsApi.isInSearchResultsView()&&(e=r.SEARCH),this.logVirgoEvent(e,r.VIRGO_FILE_OPEN)},logVirgoSelectAllEvent:function(e){this.logVirgoEvent(this._getLogSubCategory(e),r.VIRGO_SELECT_ALL)},logVirgoRHPOpenedEvent:function(e){this.logVirgoEvent(e,r.VIRGO_RHP_SHOWN)},logVirgoCreateFolderEvent:function(e){this.logVirgoEvent(e,r.VIRGO_CREATE_FOLDER)},logVirgoCTAEvent:function(e,t,n,i){n=n===undefined?!0:n,t=t.substring(t.lastIndexOf(":")+1);var s=t+":"+(n?r.VIRGO_CTA_SINGLE:r.VIRGO_CTA_MULTIPLE);i?this.logVirgoViewerEvent(e,s):this.logVirgoEvent(e,s)},logVirgoSortEvent:function(e,t,n){n=n===undefined?!0:n;var i=r.VIRGO_SORT+":"+t+":"+(n?r.VIRGO_SORT_DESC:r.VIRGO_SORT_ASC);this.logVirgoEvent(e,i)},logVirgoFiterEvent:function(e,t,n){var i=r.VIRGO_FILTER+":"+t;n!==undefined&&(i+=":"+n),this.logVirgoEvent(this._getLogSubCategory(e),i)},_getLogSubCategory:function(e){var t=this.options.appApi.connectorsApi.getConnectorPluginName(e),n="";if(e==="scan_files")n=r.VIRGO_SCAN;else if(e==="my_computer")n=r.VIRGO_MYCOMPUTER;else switch(t){case"root":n=r.VIRGO_DC;break;case"ccloud":n=r.VIRGO_CC;break;default:t!==""&&(n=t)}return n},_getLogRHPSubCategory:function(e){var t=this.options.appApi.connectorsApi.getConnectorPluginName(e),n="";if(e==="scan_files")n=r.VIRGO_SCAN_CB;else switch(t){case"root":n=r.VIRGO_DC_CB;break;case"ccloud":n=r.VIRGO_CC_CB;break;default:t!==""&&(n=t+r.VIRGO_CONNECTOR_CB)}return n},toggleConsoleLogging:function(){var e=this.options;e.isScConsoleLoggingEnabled=!e.isScConsoleLoggingEnabled,LOG("AcAppApi.SiteCatalystApi.toggleConsoleLogging "+(e.isScConsoleLoggingEnabled?"on":"off"))},_sendEvent:function(e,t,n,i,u,a){var f=document.location,l=n+i,c,h,p,d;if(window.s_adobe){p=s_adobe.s_URL=f.href,p.substring(p.lastIndexOf("/")+1)===""&&(p=s_adobe.s_URL=p+"index.html"),s_adobe.s_URLSplit=p.split("/"),s_adobe.prop3=t,s_adobe.prop4=e,s_adobe.prop5=e+":"+l,s_adobe.prop48=undefined,s_adobe.prop49=undefined,u&&(c=u.featureType,c&&(s_adobe.prop48=n+":"+c),h=u.sectionName,h&&(s_adobe.prop49=n+":"+h),d=u.pguid,d&&(s_adobe.eVar12=d)),a&&(s_adobe.eVar43=a),s_adobe.channel="Acrobat.com",s_adobe.pageName=l,u&&u.rawProperties&&_.each(u.rawProperties,function(e,t){s_adobe[t]=e}),_.each(o,function(e){var t=s_adobe[e],n=s,r;t&&(r=t.length-n,r>0&&LOG("AcAppApi.SiteCatalystApi.logScEvent WARNING 's_adobe."+e+"' ("+t+") exceeds limit of "+n+" characters by "+r))});for(var v in u)u.hasOwnProperty(v)&&v in r.contextKeys&&(s_adobe.contextData[r.contextKeys[v]]=u[v]);try{s_adobe.t()}catch(m){LOG.warn("AcAppApi.SiteCatalystApi._sendEvent: "+(m.stack||m.message))}this.options.isScConsoleLoggingEnabled&&LOG("AcAppApi.SiteCatalystApi._sendEvent "+l),delete s_adobe.campaign}}}),n.SiteCatalystApi}),define("app/dev/models/ui/status-menu-ui-model",["core/ac-core","app/ac-app","core/models/ui/ui-model"],function(e,t){t.StatusMenuUiModel=e.UiModel.extend({recognized:{show_menu:{type:"boolean",optional:!1},is_menu_shown:{type:"boolean",optional:!1},scroll_to_id:{type:"string",optional:!0},status_by_id:{type:"object",optional:!1},menu_item_by_id:{type:"object",optional:!1},show_deferred_by_id:{type:"object",optional:!1},menu_item_shown:{type:"object",optional:!1},menu_item_shown_delay:{type:"number",optional:!1},max_height_frac:{type:"number",optional:!1},inactivity_timeout:{type:"number",optional:!1},tooltips:{type:"object",optional:!1},active_tooltip_id:{type:"string",optional:!0},mouse_leave_timeout:{type:"number",optional:!1},mouse_leave_timer:{type:"number",optional:!0},is_displayed:{type:"boolean",optional:!0},net_status:{type:"string",optional:!1}},defaults:{show_menu:!1,is_menu_shown:!1,status_by_id:{},menu_item_by_id:{},show_deferred_by_id:{},menu_item_shown:{},menu_item_shown_delay:250,max_height_frac:.8,inactivity_timeout:5e3,tooltips:{},mouse_leave_timeout:400,is_displayed:!1,net_status:"idle"},setStatus:function(e,t){var n=this.get("status_by_id"),r=n[e];return t!==r&&(n[e]=t,this.trigger("change:status_by_id",this,e,t)),this.updateNetStatus(),this},removeStatus:function(e){var t=this.get("status_by_id");return t[e]&&(delete t[e],this.trigger("change:status_by_id",this,e)),this.updateNetStatus(),this},updateNetStatus:function(){var e="idle";this.getClientWithStatus("busy")?e="busy":this.getClientWithStatus("warning")?e="warning":this.getClientWithStatus("complete")&&(e="complete"),this.set("net_status",e)},getNetStatus:function(){return this.get("net_status")},hasCompletedItem:function(){var e=this.get("menu_item_shown"),t;return t=_.find(this.get("status_by_id"),function(t,n){return(t==="complete"||t==="warning")&&e[n]}),!_.isUndefined(t)},getClientWithStatus:function(e){var t;return _.each(this.get("status_by_id"),function(n,r){if(e===n)return t=r,!1}),t},statusMenuIsDisplayed:function(){this.updateMenuDisplay(),this.set("is_menu_shown",!0)},updateMenuDisplay:function(){var e=this.get("show_deferred_by_id"),t=this.get("menu_item_by_id"),n,r=this.get("menu_item_shown");_.each(e,function(e,i){n=t[i],r[i]&&n.show(),e.resolve(n)})},statusMenuIsClosed:function(){this.set({show_deferred_by_id:{},is_menu_shown:!1})},showMenuItem:function(e){var t=this.get("show_deferred_by_id"),n;return this.get("menu_item_shown")[e]=!0,this.trigger("change:menu_item_shown"),n=t[e],n||(n=t[e]=$.Deferred()),this.updateMenuDisplay(),n.promise()},hideMenuItem:function(e){return this.get("menu_item_shown")[e]=!1,this.trigger("change:menu_item_shown"),this},isOneMenuItemShown:function(){return!_.isUndefined(_.find(this.get("menu_item_shown"),function(e){return e}))},getNumShownItems:function(){var e=this.get("status_by_id");return _.reduce(this.get("menu_item_shown"),function(t,n,r){return e[r]!=="idle"?t+1:t},0)},enableTooltip:function(e,t,n){this.get("tooltips")[n]={element:e,html:t},this.trigger("change:tooltips")},disableTooltip:function(e){var t=this.get("tooltips")[e];t&&(delete this.get("tooltips")[e],this.trigger("change:tooltips"))},getActiveTooltipProperty:function(e){var t=this.get("tooltips"),n,r=this.get("active_tooltip_id");if(r){n=t[r];if(n)return n[e];LOG(0,"AcApp.StatusMenuUiModel.getActiveTooltipProperty: No "+e+" for id '"+r)}return""},getActiveTooltipElement:function(){return this.getActiveTooltipProperty("element")},getActiveTooltipHtml:function(){return this.getActiveTooltipProperty("html")}},{STATUS_IDLE:"idle",STATUS_BUSY:"busy",STATUS_COMPLETE:"complete",STATUS_WARNING:"warning"})}),define("app-api/dev/status-menu-api",["core/ac-core","app/ac-app","app-api/dev/ac-app-api","core/apis/api","app/models/ui/status-menu-ui-model"],function(e,t,n){return n.StatusMenuApi=e.Api.extend({STATUS_IDLE:t.StatusMenuUiModel.STATUS_IDLE,STATUS_BUSY:t.StatusMenuUiModel.STATUS_BUSY,STATUS_COMPLETE:t.StatusMenuUiModel.STATUS_COMPLETE,STATUS_WARNING:t.StatusMenuUiModel.STATUS_WARNING,initialize:function(){e.Api.prototype.initialize.call(this),this._statusChangeCallbacks={},this._statusShowMenuCallbacks=[],this.options.statusMenuUiModel.on("change:status_by_id",this._onStatusByIdChange).on("change:is_menu_shown",this._onIsMenuShownChange)},showMenu:function(e){return this.options.statusMenuUiModel.set("show_menu",e),this},isMenuShown:function(){return this.options.statusMenuUiModel.get("show_menu")},addShowMenuCallback:function(e){var t=this._statusShowMenuCallbacks;_.indexOf(t,e)<0&&t.push(e)},removeShowMenuCallback:function(e){var t=this._statusShowMenuCallbacks,n;n=_.indexOf(t,e),n>=0&&t.splice(n,1)},setStatus:function(e,t){var n=this.options.statusMenuUiModel,r,i,s=this.STATUS_IDLE;return _.isString(t)?r=t:t?(r=t.status||s,i=t.scrollToId):r=s,n.setStatus(e,r),r===this.STATUS_BUSY&&_.isUndefined(i)&&(i=e),i&&n.set({scroll_to_id:i}),this},getStatus:function(e){return this.options.statusMenuUiModel.get("status_by_id")[e]},getNetStatus:function(){return this.options.statusMenuUiModel.getNetStatus()},isNetStatusBusy:function(){return this.options.appApi.statusMenuApi.getNetStatus()===this.STATUS_BUSY},removeStatus:function(e){return this.options.statusMenuUiModel.removeStatus(e),this},addStatusChangeCallback:function(e,t){var n=this._statusChangeCallbacks[e];n||(n=this._statusChangeCallbacks[e]=[]),_.indexOf(n,t)<0&&n.push(t)},removeStatusChangeCallback:function(e,t){var n=this._statusChangeCallbacks[e],r;n&&(r=_.indexOf(n,t),r>=0&&n.splice(r,1))},removeScrollTarget:function(){return this.options.statusMenuUiModel.unset("scroll_to_id"),this},showStatusMenuItem:function(e){return this.options.statusMenuUiModel.showMenuItem(e)},hideStatusMenuItem:function(e){return this.options.statusMenuUiModel.hideMenuItem(e),this},enableStatusMenuTooltip:function(e,t,n){var r=$(e);return r.length===0&&LOG("AcAppApi.StatusMenuApi.enableStatusMenuTooltip element with id '"+n+"' is empty"),this.options.statusMenuUiModel.enableTooltip(e,t,n),this},disableStatusMenuTooltip:function(e){return this.options.statusMenuUiModel.disableTooltip(e),this},_onStatusByIdChange:function(e,t,n){_.each(this._statusChangeCallbacks[t],function(e){e(n)})},_onIsMenuShownChange:function(e,t){_.each(this._statusShowMenuCallbacks,function(e){e(t)})}}),n.StatusMenuApi}),define("app-api/dev/users-me-api",["core/ac-core","app/ac-app","app-api/dev/ac-app-api","core/utils/util","core/apis/api"],function(e,t,n,r){var i=["DCGlobal","DCEnterprise","AcrobatPlus","AcrobatStd","PDFPack","ExportPDF","FillAndSign","ESign","SendNow","CreatePDF","FormsCentral","Files"];return n.UsersMeApi=e.Api.extend({SUBSCRIPTION_ACROBATPLUS:"AcrobatPlus",SUBSCRIPTION_ACROBATSTD:"AcrobatStd",SUBSCRIPTION_CREATEPDF:"CreatePDF",SUBSCRIPTION_DCENTERPRISE:"DCEnterprise",SUBSCRIPTION_DCGLOBAL:"DCGlobal",SUBSCRIPTION_ESIGN:"ESign",SUBSCRIPTION_EXPORTPDF:"ExportPDF",SUBSCRIPTION_FILES:"Files",SUBSCRIPTION_FILLANDSIGN:"FillAndSign",SUBSCRIPTION_FORMSCENTRAL:"FormsCentral",SUBSCRIPTION_PDFPACK:"PDFPack",SUBSCRIPTION_SENDNOW:"SendNow",refreshUserInfo:function(){var n=this.options;return $.when(t.opFactory.create("GettingUsersMeOp",n).run(),e.opFactory.create("GettingStorageQuotaOp",n).run())},clearUserInfo:function(){var e=this.options,t={silent:!0};e.usersMeModel.clear(t),e.usersMeIdentityModel.clear(t),e.usersMeSubscriptionsModel.clear(t),e.usersMeLimitsConversionsModel.clear(t),e.usersMePrefsConversionsModel.clear(t),e.usersMeCohortsModel.clear(t),e.storageQuotaModel.clear(t),_.each(e.prefsModels,function(e){e.clear(t)})},getUserIdentity:function(){return this.options.usersMeIdentityModel.attributes},getUserSubscriptions:function(){return this.options.usersMeSubscriptionsModel.attributes},getUserLimitsConversions:function(){return this.options.usersMeLimitsConversionsModel.attributes},getUserLimitsByCategory:function(e){var t=this.options.limitsModels,n;if(t&&e){n=t[e];if(n)return n.attributes}return LOG("AcAppApi.UsersMeApi.getUserLimitsByCategory: Unrecognized limits category: "+e),{}},getUserPrefsConversions:function(){return this.options.usersMePrefsConversionsModel.attributes},getUserPrefsByCategory:function(e){var t=this.options.prefsModels,n;if(t){n=t[e];if(n)return n.attributes}return LOG("AcAppApi.UsersMeApi.getUserPrefsByCategory: Unrecognized preference category: "+e),{}},getCommonUserPrefs:function(){return this.getUserPrefsByCategory("common")},getUserPrefs:function(e,n){return t.opFactory.create("GettingUsersMePrefsOp",this.options).run(e,n)},setUserPrefs:function(e,n){return t.opFactory.create("SettingUsersMePrefsOp",this.options).run(e,n)},saveCommonPrefs:function(){return t.opFactory.create("SavingCommonPrefsOp",this.options).run()},restoreCommonPrefs:function(){return t.opFactory.create("RestoringCommonPrefsOp",this.options).run()},getUserLimits:function(e,n){return t.opFactory.create("GettingUsersMeLimitsOp",this.options).run(e,n)},getUserCohorts:function(){return this.options.usersMeCohortsModel.attributes},isUserInCohort:function(e,t){return r.isCEF()&&e==="bh-home20"&&t==="enabled"?!1:r.isCEF()&&e==="bh-a12"&&t==="enabled"?!0:this.getUserCohorts()[e]===t},getStorageQuota:function(){return this.options.storageQuotaModel.attributes},addUserIdentityChangeCallback:function(e){this._addModelChangeCallback(this.options.usersMeIdentityModel,e)},addUserSubscriptionsChangeCallback:function(e){this._addModelChangeCallback(this.options.usersMeSubscriptionsModel,e)},addUserLimitsConversionsChangeCallback:function(e){this._addModelChangeCallback(this.options.usersMeLimitsConversionsModel,e)},addUserPrefsConversionsChangeCallback:function(e){this._addModelChangeCallback(this.options.usersMePrefsConversionsModel,e)},addUserPrefsChangeCallback:function(e,t){var n=this.options.prefsModels,r;n&&(r=n[e],r&&this._addModelChangeCallback(r,t))},addUserCohortsChangeCallback:function(e){this._addModelChangeCallback(this.options.usersMeCohortsModel,e)},addUserStorageQuotaChangeCallback:function(e){this._addModelChangeCallback(this.options.storageQuotaModel,e)},getSubscription:function(){var e,t,n;return _.each(i,function(r){e=this.getSubscriptionByName(r),e&&(e.subscription_level!=="Free"?t||(t=e):n||(n=e))},this),_.isUndefined(t)?n:t},getSubscriptionName:function(){var e=this.getSubscription();return e?e.subscription_name:undefined},getSubscriptionByName:function(e){var t=this.getUserSubscriptions().subscriptions;return _.find(t,function(t){return t.subscription_name===e})}}),n.UsersMeApi}),define("app-api/dev/window-api",["core/ac-core","app-api/dev/ac-app-api","core/utils/util","core/apis/api"],function(e,t,n){return t.WindowApi=e.Api.extend({initialize:function(){e.Api.prototype.initialize.call(this),this._windowResizeCallbacks=[],this._addUiModelEventListeners()},addWindowResizeCallback:function(e){var t=this._windowResizeCallbacks,n=_.indexOf(t,e);n<0&&t.push(e)},removeWindowResizeCallback:function(e){var t=this._windowResizeCallbacks,n=_.indexOf(t,e);n>=0&&t.splice(n,1)},_addUiModelEventListeners:function(){var e=this.options;e.windowUiModel.on("change:width",this._onWindowResize).on("change:height",this._onWindowResize),n.isCEF()&&(e.actionsUiModel.addCallback("setFontInfo",this._setFontInfo),e.actionsUiModel.addCallback("dpiChangeInfo",this._handleDpiChange))},_onWindowResize:function(){var e=this.options;this._debouncedWindowResizeListener||(this._debouncedWindowResizeListener=_.debounce(_.bind(function(){_.each(this._windowResizeCallbacks,function(e){e()})},this),e.windowUiModel.get("resize_debounce_delay"))),this._debouncedWindowResizeListener()},_handleDpiChange:function(){var e,t;this.$notificationContainer=$(".notification-content-container"),this.$notificationContainer.length&&(e=this.$notificationContainer.width(),t=this.$notificationContainer.outerHeight(!0),this._oldWidth=e,this._oldHeight=t,this.options.appApi.rnaApi.done(function(n){n.cefBrowserApi({methodName:"setContainerSize",parameters:[e,t]})}))},_setFontInfo:function(e,t){var n=t.normal_font,r=t.semi_bold_font,i=t.bold_font,s=t.normal_font_platform,o=t.semi_bold_font_platform,u=t.bold_font_platform,a,f;n&&(f=$("#readerNormalFontFaceId"),f.length||(f=$('<style id="readerNormalFontFaceId"></style>').appendTo("head")),a="",n.includes("Adobe Clean")||n.includes("AdobeClean")?a="@font-face {font-family: adobe-clean;   src: url(fonts/AdobeCleanUX-Regular.otf);}":a="@font-face {font-family: adobe-clean;   src: local('"+n+"');}",n!==s&&(a+=" @font-face {font-family: sans-serif;   src: local('"+s+"');}"),f.text(a),this.options.windowUiModel.set({normal_font:n})),r&&(f=$("#readerSemiBoldFontFaceId"),f.length||(f=$('<style id="readerSemiBoldFontFaceId"></style>').appendTo("head")),a="",r.includes("Adobe Clean")||r.includes("AdobeClean")?a="@font-face {font-family: adobe-clean Semibold;   src: url(fonts/AdobeCleanUX-Medium.otf);}":a="@font-face {font-family: adobe-clean Semibold;   src: local('"+r+"');}",r!==o&&(a+=" @font-face {font-family: sans-serif Semibold;   src: local('"+o+"');}"),f.text(a),this.options.windowUiModel.set({semi_bold_font:r})),i&&(f=$("#readerBoldFontFaceId"),f.length||(f=$('<style id="readerBoldFontFaceId"></style>').appendTo("head")),a="",i.includes("Adobe Clean")||i.includes("AdobeClean")?a="@font-face {font-family: adobe-clean;   font-weight: bold; src: url(fonts/AdobeCleanUX-Bold.otf);}":a="@font-face {font-family: adobe-clean;   font-weight: bold; src: local('"+i+"');}",i!==u&&(a+=" @font-face {font-family: sans-serif;   font-weight: bold; src: local('"+u+"');}"),f.text(a),this.options.windowUiModel.set({bold_font:i}))}}),t.WindowApi}),define("app-api/dev/acro-log-api",["core/ac-core","app-api/dev/ac-app-api","core/apis/api"],function(e,t){return t.AcroLogApi=e.Api.extend({initialize:function(){e.Api.prototype.initialize.call(this)},AcroLogSendFunc:function(e,t){this.options.acroLoggingEnabled&&this.options.appApi.rnaApi.then(function(n){var r={logLevel:e,logMsg:t};n.invokeMethod({methodName:"acroLog",methodArgs:r})})},AcroLogFunc:function(e,t){var n=this;_.isUndefined(this.options.acroLoggingEnabled)?this.options.appApi.rnaApi.then(function(r){var i={};r.invokeMethod({methodName:"isAcroLoggingEnabled",methodArgs:i}).done(function(r){n.options.acroLoggingEnabled=r,n.AcroLogSendFunc(e,t)})}):this.AcroLogSendFunc(e,t)},ACRO_TRACE:function(e){this.AcroLogFunc(0,e)},ACRO_DEBUG:function(e){this.AcroLogFunc(1,e)},ACRO_INFO:function(e){this.AcroLogFunc(2,e)},ACRO_WARN:function(e){this.AcroLogFunc(3,e)},ACRO_ERROR:function(e){this.AcroLogFunc(4,e)},ACRO_FATAL:function(e){this.AcroLogFunc(5,e)}}),e.AcroLogApi}),define("app-api/dev/app-api",["core/ac-core","app-api/dev/ac-app-api","core-unmapped/dev/utils/app-api-mgr","core/utils/date-util","core/utils/http-util","core/utils/util","core/apis/api","app-api/dev/acrobat-api","app-api/dev/base-aic-uris-api","app-api/dev/base-files-uris-api","app-api/dev/base-cloud-uris-api","app-api/dev/connectors-api","app-api/dev/dialog-api","app-api/dev/discovery-uris-api","app-api/dev/download-api","app-api/dev/display-api","app-api/dev/folder-api","app-api/dev/error-api","app-api/dev/http-api","app-api/dev/inactivity-api","app-api/dev/focus-api","app-api/dev/key-api","app-api/dev/loader-api","app-api/dev/locale-api","app-api/dev/manipulation-api","app-api/dev/network-api","app-api/dev/network-connectivity-api","app-api/dev/notification-api","app-api/dev/plugins-api","app-api/dev/preview-api","app-api/dev/rna-api","app-api/dev/router-api","app-api/dev/saveas-api","app-api/dev/selection-api","app-api/dev/session-api","app-api/dev/settings-api","app-api/dev/site-catalyst-api","app-api/dev/status-menu-api","app-api/dev/users-me-api","app-api/dev/window-api","app-api/dev/acro-log-api"],function(e,t,n,r,i,s){return t.AppApi=e.Api.extend({initialize:function(){var n=this.options,r,i=$.Deferred(),o;e.Api.prototype.initialize.call(this),this.routerApi=new t.RouterApi(n),this.acrobatApi=new t.AcrobatApi(n),this.baseAicUrisApi=new t.BaseAicUrisApi(n),this.baseFilesUrisApi=new t.BaseFilesUrisApi(n),this.baseCloudUrisApi=new t.BaseCloudUrisApi(n),this.discoveryUrisApi=new t.DiscoveryUrisApi(n),this.connectorsApi=new t.ConnectorsApi(n),this.dialogApi=new t.DialogApi(n),this.displayApi=new t.DisplayApi(n),this.downloadApi=new t.DownloadApi(n),this.errorApi=new t.ErrorApi(n),this.focusApi=new t.FocusApi(n),this.folderApi=new t.FolderApi(n),this.httpApi=new t.HttpApi(n),this.inactivityApi=new t.InactivityApi(n),this.keyApi=new t.KeyApi(n),this.loaderApi=new t.LoaderApi(n),this.localeApi=new t.LocaleApi(n),this.manipulationApi=new t.ManipulationApi(n),this.networkApi=new t.NetworkApi(n),this.notificationApi=new t.NotificationApi(n),this.pluginsApi=new t.PluginsApi(n),this.previewApi=new t.PreviewApi(n),this.selectionApi=new t.SelectionApi(n),this.sessionApi=new t.SessionApi(n),this.settingsApi=new t.SettingsApi(n),this.siteCatalystApi=new t.SiteCatalystApi(n),this.statusMenuApi=new t.StatusMenuApi(n),this.usersMeApi=new t.UsersMeApi(n),this.windowApi=new t.WindowApi(n),this.acroLogApi=new t.AcroLogApi(n),this._isAppUsingAV2UI=!1,s.isCEF()&&(o=new t.RNAApi(n),this.rnaApi=i.promise(),this.saveAsApi=new t.SaveAsApi(n),this.networkConnectivityApi=new t.NetworkConnectivityApi(n),n.readerContextModel.then(_.bind(function(){this.rnaApiObj=o,this._isAppUsingAV2UI=this.rnaApiObj.isUsingAV2UI(),i.resolve(o)},this))),r=this.appApiReady=$.Deferred(),r.promise(this)},getAppApiVersion:function(){return"dev"},createAppApiVersion:function(e){n.addAppApi(e,new Ac.AppApi[e].AppApi(this.options))},appIsReady:function(){var e,t=Ac.Features;r.logElapsedTime("app-api appIsReady"),this.rnaApi&&this.rnaApi.then(function(n){n.invokeMethod({methodName:"logAPI",methodArgs:logAPI.getSessionInfo()}),n.isDebug()||n.isFeatRunning()&&n.isASTestAllowInstantiation()?(t.setFeature("javascript_console_logging",!0),t.setFeature("elapsed_time_console_logging",!0)):t.setFeature=undefined,e=n.getXApiClientId(),e&&(i.REQUEST_HEADER_CLIENT_ID=e)});try{this.appApiReady.resolve()}catch(n){LOG.warn("AcAppApi.AppApi.appIsReady: "+(n.stack||n.message),{logServer:!0})}},isAppUsingAV2UI:function(){return this._isAppUsingAV2UI}}),t.AppApi}),define("core/dev/ac-core-config",["core/ac-core"],function(e){var t={APP_NAME:"Acrobat.com",APP_NAME_DC:"Adobe Document Cloud",COOKIE_DOMAIN:"acrobat.com",LANGUAGE_COOKIE:"adotcomLang",PREFERENCES_COOKIE_PREFIX:"prefs_",BRB_URL:"https://brb.acrobat.com",ADOBE_URL:"https://www.adobe.com/",FORUM_URL:"https://helpx.adobe.com/<%= locale %>/document-cloud.html",SUPPORT_URL:"https://helpx.adobe.com/<%= locale %>/support.html",PRIVACY_URL:"https://www.adobe.com/privacy.html",TERMS_URL:"https://www.adobe.com/legal/general-terms.html",COOKIES_URL:"https://www.adobe.com/privacy/cookies.html",PRIVACY_URL_LOC:"https://www.adobe.com/<%= locale %>/privacy.html",TERMS_URL_LOC:"https://www.adobe.com/<%= locale %>/legal/general-terms.html",COOKIES_URL_LOC:"https://www.adobe.com/<%= locale %>/privacy/cookies.html",TOU_URL_PATH:"misc/terms.html",PRIVACY_URL_PATH:"privacy.html",THIRD_PARTY_URL:"https://www.adobe.com/go/thirdparty",THIRD_PARTY_URL_TEMPLATE:"https://www.adobe.com/go/thirdparty_<%= loc %>",MANAGE_SUBSCRIPTION_URI:"/redir/manage_subscription"};return _.extend(e,{Config:t}),e.Config}),define("core/dev/collections/ui/ui-collection",["core/ac-core"],function(e){return e.UiCollection=Backbone.Collection.extend({UiCollectionException:function(e){this.name="AcCore.UiCollection.Exception",this.message=e},fetch:function(){throw new this.UiCollectionException("AcCore.UiCollection.fetch should never be called!")},create:function(){throw new this.UiCollectionException("AcCore.UiCollection.create should never be called!")}}),e.UiCollection}),define("core/dev/utils/file-types",["core/ac-core","i18n!core/nls/ui-strings"],function(e,t){var n={ANIMATION:"file-icon-animation",AUDIO:"file-icon-audio",FILLSIGN:"file-icon-form",GENERIC:"file-icon-generic",ILLUSTRATOR:"file-icon-illustrator",IMAGE:"file-icon-img",INDESIGN:"file-icon-indesign",PDF:"file-icon-pdf",PHOTOSHOP:"file-icon-photoshop",POSTSCRIPT:"file-icon-postscript",PRESENTATION:"file-icon-presentation",RICH_TEXT:"file-icon-richtext",SPREADSHEET:"file-icon-spreadsheet",TEXT:"file-icon-text",VIDEO:"file-icon-video",ZIP:"file-icon-zip",XD:"file-icon-xd",PSD:"file-icon-psd"},r={ADOBE_FILLSIGN:{iconCls:n.FILLSIGN,desc:"Adobe FillSign"},ADOBE_FLASH:{iconCls:n.ANIMATION,desc:"Adobe Flash"},ADOBE_ILLUSTRATOR:{iconCls:n.ILLUSTRATOR,desc:"Adobe Illustrator"},ADOBE_INDESIGN:{iconCls:n.INDESIGN,desc:"Adobe InDesign"},ADOBE_PDF:{iconCls:n.PDF,desc:"Adobe PDF"},ADOBE_PHOTOSHOP:{iconCls:n.PHOTOSHOP,desc:"Adobe Photoshop"},ADOBE_POSTSCRIPT:{iconCls:n.POSTSCRIPT,desc:"Adobe PostScript"},ADOBE_XD:{iconCls:n.XD,desc:"Adobe Experience Design"},ADOBE_PSD:{iconCls:n.PSD,desc:"Adobe PSD"},CALENDAR:{iconCls:n.GENERIC,desc:t.CALENDAR},CERTIFICATE:{iconCls:n.GENERIC,desc:t.CERTIFICATE},HTML:{iconCls:n.GENERIC,desc:"HTML"},IMAGE:{iconCls:n.IMAGE,desc:t.IMAGE},JAVASCRIPT:{iconCls:n.GENERIC,desc:"JavaScript"},MS_EXCEL:{iconCls:n.SPREADSHEET,desc:"Microsoft® Excel"},MS_POWERPOINT:{iconCls:n.PRESENTATION,desc:"Microsoft® PowerPoint"},MS_WORD:{iconCls:n.RICH_TEXT,desc:"Microsoft® Word"},QUARK_XPRESS:{iconCls:n.RICH_TEXT,desc:"Quark® Express"},RICH_TEXT:{iconCls:n.RICH_TEXT,desc:t.RICH_TEXT},SPREADSHEET:{iconCls:n.GENERIC,desc:t.SPREADSHEET},STYLE_SHEET:{iconCls:n.GENERIC,desc:t.STYLE_SHEET},TEXT:{iconCls:n.TEXT,desc:t.TEXT},VISIO:{iconCls:n.GENERIC,desc:"Visio®"},ZIP:{iconCls:n.ZIP,desc:"Zip"}},i={pdf:"application/pdf",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",xls:"application/msexcel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",odf:"application/vnd.oasis.opendocument.formula",odt:"application/vnd.oasis.opendocument.text",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odg:"application/vnd.oasis.opendocument.graphics",sxd:"application/vnd.sun.xml.draw",sxc:"application/vnd.sun.xml.calc",sxi:"application/vnd.sun.xml.impress",sxw:"application/vnd.sun.xml.writer",stw:"application/vnd.sun.xml.writer.template",pub:"application/vnd.ms-publisher",ps:"application/postscript",txt:"text/plain",text:"text/plain",rtf:"text/rtf",bmp:"image/bmp",gif:"image/gif",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",tif:"image/tiff",tiff:"image/tiff",indd:"application/x-indesign",ai:"application/illustrator",psd:"image/vnd.adobe.photoshop",js:"text/javascript",html:"text/html",htm:"text/html",shtml:"wwwserver/html-ssi",css:"text/css",ico:"image/x-icon",xps:"application/vnd.ms-xpsdocument",rle:"application/rle",dib:"image/bmp",emf:"application/emf",pcx:"image/x-pcx",xml:"application/xml",aac:"audio/x-aac",aif:"audio/x-aiff",aiff:"audio/x-aiff",asf:"video/x-ms-asf",asx:"video/x-ms-asf",au:"audio/basic",avi:"video/x-msvideo",dif:"video/x-dv",divx:"video/divx",dv:"video/x-dv",flv:"video/x-flv",f4v:"video/x-f4v",lsf:"video/x-la-asf",lsx:"video/x-la-asf",mkv:"video/x-matroska",m3u:"audio/x-mpegurl",m4a:"audio/m4a",m4p:"audio/m4p",m4v:"video/x-m4v",mov:"video/quicktime",movie:"video/x-sgi-movie",mp2:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mpe:"video/mpeg",mpeg:"video/mpeg",mpg:"video/mpeg",mpga:"audio/mpeg",mxu:"video/vnd.mpegurl",ogg:"audio/ogg",qt:"video/quicktime",ra:"audio/x-pn-realaudio",ram:"audio/x-pn-realaudio",rm:"application/vnd.rn-realmedia",snd:"audio/basic",vob:"video/x-ms-vob",wav:"audio/x-wav",wma:"audio/x-ms-wma",wmv:"video/x-ms-wmv",zip:"application/zip"},s={"application/pdf":"pdf","application/msword":"doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/msexcel":"xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/vnd.ms-powerpoint":"ppt","application/vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","application/vnd.oasis.opendocument.formula":"odf","application/vnd.oasis.opendocument.text":"odt","application/vnd.oasis.opendocument.presentation":"odp","application/vnd.oasis.opendocument.spreadsheet":"ods","application/vnd.oasis.opendocument.graphics":"odg","application/vnd.sun.xml.draw":"sxd","application/vnd.sun.xml.calc":"sxc","application/vnd.sun.xml.impress":"sxi","application/vnd.sun.xml.writer":"sxw","application/vnd.sun.xml.writer.template":"stw","application/vnd.ms-publisher":"pub","application/postscript":"ps","text/plain":"txt","text/rtf":"rtf","image/bmp":"bmp","image/gif":"gif","image/jpeg":"jpeg","image/png":"png","image/tiff":"tiff","application/x-indesign":"indd","application/illustrator":"ai","image/vnd.adobe.photoshop":"psd","text/javascript":"js","text/html":"html","wwwserver/html-ssi":"shtml","text/css":"css","image/x-icon":"ico","application/vnd.ms-xpsdocument":"xps","application/rle":"rle","application/emf":"emf","image/x-pcx":"pcx","application/xml":"xml","audio/x-aac":"aac","audio/x-aiff":"aif","video/x-ms-asf":"asf","audio/basic":"au","video/x-msvideo":"avi","video/x-dv":"dif","video/divx":"divx","video/x-flv":"flv","video/x-f4v":"f4v","video/x-la-asf":"lsf","video/x-matroska":"mkv","audio/x-mpegurl":"m3u","audio/m4a":"m4a","audio/m4p":"m4p","video/x-m4v":"m4v","video/quicktime":"mov","video/x-sgi-movie":"movie","audio/mpeg":"mp3","video/mp4":"mp4","video/mpeg":"mpeg","video/vnd.mpegurl":"mxu","audio/ogg":"ogg","audio/x-pn-realaudio":"ra","application/vnd.rn-realmedia":"rm","video/x-ms-vob":"vob","audio/x-wav":"wav","audio/x-ms-wma":"wma","video/x-ms-wmv":"wmv","application/zip":"zip"},o={"application/illustrator":r.ADOBE_ILLUSTRATOR,"application/javascript":r.JAVASCRIPT,"application/msexcel":r.MS_EXCEL,"application/msword":r.MS_WORD,"application/pdf":r.ADOBE_PDF,"application/postscript":r.ADOBE_POSTSCRIPT,"application/rtf":r.RICH_TEXT,"application/vnd.adobe.form.fillsign":r.FILLSIGN,"application/vnd.quark.quarkxpress":r.QUARK_XPRESS,"application/vnd.visio":r.VISIO,"application/vnd.wordperfect":r.RICH_TEXT,"application/x-indesign":r.ADOBE_INDESIGN,"application/x-pkcs12":r.CERTIFICATE,"application/x-shockwave-flash":r.ADOBE_FLASH,"application/x-x509-ca-cert":r.CERTIFICATE,"application/zip":r.ZIP,"image/vnd.adobe.photoshop":r.ADOBE_PHOTOSHOP,"text/calendar":r.CALENDAR,"text/comma-separated-values":r.SPREADSHEET,"text/css":r.STYLE_SHEET,"text/html":r.HTML,"text/javascript":r.JAVASCRIPT,"text/plain":r.TEXT,"text/richtext":r.RICH_TEXT,"text/rtf":r.RICH_TEXT},u={bmp:!0,cgm:!0,fpx:!0,gif:!0,img:!0,j2c:!0,j2k:!0,jfif:!0,jif:!0,jp2:!0,jpeg:!0,jpg:!0,jpx:!0,pcd:!0,png:!0,svg:!0,tif:!0,tiff:!0},a="application/vnd.adobe.form.fillsign";return e.FileTypes={MimeType:{ADOBE_FILL_SIGN:"application+vnd.adobe.form.fillsign",ADOBE_ILLUSTRATOR:"application+illustrator",ADOBE_INDESIGN:"application+x-indesign",ADOBE_PDF:"application+pdf",ADOBE_PHOTOSHOP:"image+vnd.adobe.photoshop",HTML:"text+html",IMAGE:"image+*",MS_EXCEL:"application+msexcel,application+vnd.ms-excel,application+vnd.openxmlformats-officedocument.spreadsheetml.sheet",MS_POWERPOINT:"application+vnd.ms-powerpoint,application+mspowerpoint,application+vnd.openxmlformats-officedocument.presentationml.presentation",MS_WORD:"application+msword,application+vnd.ms-word,application+vnd.openxmlformats-officedocument.wordprocessingml.document",TEXT:"text+*",VIDEO:"video+*",ZIP:"application+zip"},UiName:{ADOBE_FILL_SIGN:"Adobe Fill & Sign",ADOBE_ILLUSTRATOR:"Adobe Illustrator",ADOBE_INDESIGN:"Adobe InDesign",ADOBE_PDF:"Adobe PDF",ADOBE_PHOTOSHOP:"Adobe Photoshop",HTML:"HTML",MS_EXCEL:"Microsoft® Excel",MS_POWERPOINT:"Microsoft® PowerPoint",MS_WORD:"Microsoft® Word",MS_EXCEL_VIRGO:"Microsoft Excel",MS_POWERPOINT_VIRGO:"Microsoft PowerPoint",MS_WORD_VIRGO:"Microsoft Word",ZIP:"Zip"},getFileInfo:function(i,s){if(!s)return{iconCls:n.GENERIC,desc:t.UNKNOWN};var u=e.Util.getExtension(s),a=o[i];return i==="application/octet-stream"&&u==="indd"?a=r.ADOBE_INDESIGN:i==="application/postscript"&&u==="ai"?a=r.ADOBE_ILLUSTRATOR:u==="xd"?a=r.ADOBE_XD:u==="psd"&&(a=r.ADOBE_PSD),!a&&i&&(i.indexOf("audio/")===0?a={iconCls:n.AUDIO,desc:t.AUDIO}:i.indexOf("image/")===0?a={iconCls:n.IMAGE,desc:t.IMAGE}:i.indexOf("video/")===0?a={iconCls:n.VIDEO,desc:t.VIDEO}:i.indexOf("application/pkcs")===0?a={iconCls:n.GENERIC,desc:t.CERTIFICATE}:this.isFormMimeType(i)?a=r.ADOBE_FILLSIGN:i.indexOf("application/vnd.ms-excel")===0||i.indexOf("application/vnd.openxmlformats-officedocument.spreadsheetml")===0?a=r.MS_EXCEL:i.indexOf("application/vnd.ms-powerpoint")===0||i.indexOf("application/vnd.openxmlformats-officedocument.presentationml")===0?a=r.MS_POWERPOINT:i.indexOf("application/vnd.ms-word")===0||i.indexOf("application/vnd.openxmlformats-officedocument.wordprocessingml")===0?a=r.MS_WORD:i.indexOf("application/x-font")===0&&(a={iconCls:n.GENERIC,desc:t.FONT})),a||(u==="form"?a=r.ADOBE_FILLSIGN:u==="ai"?a=r.ADOBE_ILLUSTRATOR:u==="indd"?a=r.ADOBE_INDESIGN:u==="pdf"?a=r.ADOBE_PDF:u==="doc"||u==="docx"?a=r.MS_WORD:u==="xls"||u==="xlsx"?a=r.MS_EXCEL:u==="ppt"||u==="pptx"?a=r.MS_POWERPOINT:u==="html"?a=r.HTML:u==="txt"?a=r.TEXT:u==="zip"?a=r.ZIP:this.isImageFileExtension(u)&&(a=r.IMAGE)),a||(a={iconCls:n.GENERIC,desc:t.UNKNOWN}),_.extend(a,{ext:u}),a},getAllFileExtensions:function(){return i},getFileMimeType:function(e){return i[e]},isFolder:function(t){return!t.type&&!e.Util.getExtension(t.name)},isFormMimeType:function(e){return e===a},isImageFileExtension:function(e){return e?(e.charAt(0)==="."&&(e=e.substr(1)),!_.isUndefined(u[e.toLowerCase()])):!1},formatFileType:function(e){var n,r,i,s;return e&&(n=e.get("content_type"),r=e.get("name"),i=this.getFileInfo(n,r),i?(s=i.desc,s+=i.ext?" "+_.template(t.EXTENSION,{ext:i.ext}):""):s=t.UNKNOWN),s||""},getExtensionFromMimeType:function(e){return s[e]}},e.FileTypes}),define("core/dev/models/ui/search-ui-model",["core/ac-core","i18n!core/nls/ui-strings","core/utils/date-util","core/utils/file-types","core/models/ui/ui-model","core/collections/ui/ui-collection-factory"],function(e,t,n,r){var i="cpdf2-document-converter",s="document-converter",o=r.MimeType,u=r.UiName,a={};return a[o.ADOBE_FILL_SIGN]=u.ADOBE_FILL_SIGN,a[o.ADOBE_ILLUSTRATOR]=u.ADOBE_ILLUSTRATOR,a[o.ADOBE_INDESIGN]=u.ADOBE_INDESIGN,a[o.ADOBE_PDF]=u.ADOBE_PDF,a[o.ADOBE_PHOTOSHOP]=u.ADOBE_PHOTOSHOP,a[o.HTML]=u.HTML,a[o.IMAGE]=t.IMAGE,a[o.MS_EXCEL]=u.MS_EXCEL,a[o.MS_POWERPOINT]=u.MS_POWERPOINT,a[o.MS_WORD]=u.MS_WORD,a[o.TEXT]=t.TEXT,a[o.VIDEO]=t.VIDEO,a[o.ZIP]=u.ZIP,e.SearchUiModel=e.UiModel.extend({recognized:{field_queries:{type:"object",optional:!1},focus_in_search_field:{type:"boolean",optional:!1},search_control_height:{type:"number",optional:!0},status:{type:"string",optional:!1,choices:["pending","succeeded","failed","closed"]},uss_scope_status:{type:"object",optional:!0},invalid:{type:"boolean",optional:!1},mru_query:{type:"object",optional:!0},mru_filter:{type:"object",optional:!0},search_scopes:{type:"object",optional:!0},keydown_debounce_delay:{type:"number",optional:!1},render_debounce_delay:{type:"number",optional:!1},pagesize:{type:"number",optional:!0},route:{type:"string",optional:!0},should_show_folders:{type:"boolean",optional:!0},should_show_navigate_root:{type:"boolean",optional:!0},current_folder_id:{type:"string",optional:!0},is_locked:{type:"boolean",optional:!0},max_query_boxes:{type:"number",optional:!1},too_many_query_boxes:{type:"boolean",optional:!1},max_paste_length:{type:"number",optional:!1}},defaults:{focus_in_search_field:!1,status:"closed",invalid:!1,keydown_debounce_delay:500,render_debounce_delay:10,route:"files",should_show_folders:!1,should_show_navigate_root:!1,current_folder_id:undefined,is_locked:!1,max_query_boxes:5,too_many_query_boxes:!1,uss_scope_status:{},max_paste_length:100},initialize:function(){var t,n=e.Features,r,i;e.UiModel.prototype.initialize.call(this),t=e.uiCollectionFactory.create("FieldQueriesUiCollection"),this.set("field_queries",t,{silent:!0}),n.isFeatureEnabled("query_boxes_use_alt_max")?r=n.getFeature("query_boxes_alt_max"):r=n.getFeature("query_boxes_default_max"),this.set("max_query_boxes",r||this.defaults.max_query_boxes),n.isFeatureEnabled("use_alt_keydown_debounce_delay")?i=n.getFeature("keydown_debounce_delay_alt"):i=n.getFeature("keydown_debounce_delay_default"),this.set("keydown_debounce_delay",i||this.defaults.keydown_debounce_delay)},getSearchPath:function(){return this.get("route")+$.trim(this.getFieldQueriesPath())},appendRootPath:function(e,t){var n;return t?e.indexOf("files")!==0?e:(n="?root="+encodeURIComponent(t),e.indexOf(n)<0?e+n:e):e},getFieldQueryCount:function(){return this.get("field_queries").length},hasFieldQueries:function(){return this.getFieldQueryCount()>0},getRemovableFieldQueryCount:function(){return this.get("field_queries").reduce(function(e,t){return t.get("removable")?e+1:e},0)},hasRemovableFieldQueries:function(){return this.getRemovableFieldQueryCount()>0},getVisibleFieldQueryCount:function(e){var t=e&&e.queryBoxesOnly;return this.get("field_queries").reduce(function(e,n){if(n.get("query_box_visible"))if(!t||n.get("commit_query_box"))return e+1;return e},0)},getLastVisibleFieldQuery:function(){var e=this.get("field_queries"),t=e.length,n,r;if(t>0)for(n=t-1;n>=0;n-=1){r=e.at(n);if(r.get("query_box_visible"))break}return r},getTimeFieldQuery:function(){var t=this.get("field_queries"),n=t.length,r,i,s=[];if(n>0)for(r=n-1;r>=0;r-=1)i=t.at(r),(i.get("field")===e.SearchUiModel.FIELD_DATE_ADDED||i.get("field")===e.SearchUiModel.FIELD_DATE_MODIFIED||i.get("field")===e.SearchUiModel.FIELD_DATE_LAST_ACCESS)&&s.push(i);return s},getTypeFieldQuery:function(){var t=this.get("field_queries"),n=t.length,r,i;if(n>0)for(r=n-1;r>=0;r-=1){i=t.at(r);if(i.get("field")===e.SearchUiModel.FIELD_FILE_TYPE)return i}return""},getNameFieldQuery:function(){var t=this.get("field_queries"),n=t.length,r,i;if(n>0)for(r=n-1;r>=0;r-=1){i=t.at(r);if(i.get("field")===e.SearchUiModel.FIELD_FILE_NAME)return i}return""},hasVisibleFieldQueries:function(){return this.getVisibleFieldQueryCount()>0},hasQueryBox:function(){return this.getVisibleFieldQueryCount({queryBoxesOnly:!0})>0},updateTooManyQueryBoxes:function(){this.set("too_many_query_boxes",this.getVisibleFieldQueryCount({queryBoxesOnly:!0})>this.get("max_query_boxes"))},showFolders:function(e){return this.get("should_show_folders")&&(e===!0||this.isSearching())&&!this.hasVisibleFieldQueries()},showNavigationAtRoot:function(){return this.showFolders()&&this.get("should_show_navigate_root")},getFieldQueries:function(){var e=[];return this.get("field_queries").each(function(t){e.push(t.getFieldQueryRequest())}),this._compressList(e)},getFilters:function(){var e=[],t;return this.get("field_queries").each(function(n){t=n.getFieldQueryFilter(),t&&e.push(t)}),this._compressList(e)},setSearchScopes:function(e){this.set("search_scopes",e),_.each(e,_.bind(function(e){this.get("uss_scope_status")[e]="closed"},this))},getPluginIdForSearchScope:function(e){switch(e){case"document_cloud":return"root";case"recent":return"my_recent_files_search";case"review":return"reviews_search";case"parcel":return"sentfiles_search";case"sign":return"signatures_search"}},deleteStaleTimeQuery:function(t){var n=this.get("field_queries");if(n&&t&&t.field)if(t.field===e.SearchUiModel.FIELD_DATE_ADDED||t.field===e.SearchUiModel.FIELD_DATE_MODIFIED||t.field===e.SearchUiModel.FIELD_DATE_LAST_ACCESS){var r=this.getTimeFieldQuery();if(r){var i=r.length;for(var s=0;s<i;s++)r[s]!==""&&n.remove(r[s])}}},addFieldQuery:function(e,t){var n=e.id,r=this.get("field_queries"),i,s;return this.expandFieldQueryFilter(e),e.queryLabel||(e.queryLabel=this.getFieldQueryLabel(e)),n||(n=e.id=this.getFieldQueryId(e)),r.length>0&&(i=r.get(n),i||(s=n.indexOf(":"),s>0&&(i=r.get(n.substring(0,s)),i||this.deleteStaleTimeQuery(e))),i&&r.remove(i)),r.add(e),this.updateTooManyQueryBoxes(),this.triggerFieldQueriesChange((!t||!t.silent)&&(!i||i.get("value")!==e.value)),e.commitQueryBox&&this.resetFocus(),this},expandFieldQueryFilter:function(e){var t=e.field,n=e.filter,r,o;t==="created_by_client"&&n&&!n.$or&&(r=[],o={},o[s]=n,r.push(o),o={},o[i]=n,r.push(o),e.filter={$or:r})},getFieldQueriesPath:function(){var e="",t;return this.get("field_queries").each(function(n){t=n.getFieldQueryPath(),t&&(e+="/"+t)},this),e},setFieldQueriesPath:function(e){var t,n,r,i,s;if(!e)return;t=this.splitFieldQueriesPath(e),s=t.length,this.removeRemovableFieldQueries();for(i=0;i<s;i+=1)n=t[i].split("="),n.length===2&&(r={field:n[0],value:n[1],commitQueryBox:!0},this.translateFieldQueryPath(r).expandFieldQueryFilter(r),r.queryLabel=this.getFieldQueryLabel(r),this.addFieldQuery(r,{silent:!0}));this.triggerFieldQueriesChange(!0)},splitFieldQueriesPath:function(e){var t=[],n,r=e,i;do i=r.search(/\w\//),i>0?(n=r.substr(0,i+1),r=r.slice(i+2)):n=r,n=n.replace(/\\\//,"/"),t.push(n);while(i>0);return t},translateFieldQueryPath:function(e){var t=e.field,n=e.value;return t==="created_by_client"&&(n==="createpdf"||n==="exportpdf"||n==="combinepdf"?(e.filter="sc_worker_"+n,e.value="api_cpdf"):n==="fillsign"&&(e.value="api_fillsign")),this},removeFieldQuery:function(e){var t=this.get("field_queries"),n=t.get(e);return n&&(t.remove(n),this.updateTooManyQueryBoxes(),this.triggerFieldQueriesChange(!0),n.get("commitQueryBox")&&this.resetFocus()),this},removeTypeFieldQuery:function(){var e=this.get("field_queries"),t=e.length,n;return t>0&&(n=this.getTypeFieldQuery(),n!=""&&n.get("removable")&&(e.remove(n),this.updateTooManyQueryBoxes(),this.triggerFieldQueriesChange(!0))),this},removeTimeFieldQuery:function(){var e=this.get("field_queries"),t=e.length,n;if(t>0){var r=this.getTimeFieldQuery(),i=r.length;for(var s=0;s<i;s++)r[s]!=""&&r[s].get("removable")&&(e.remove(r[s]),this.updateTooManyQueryBoxes(),this.triggerFieldQueriesChange(!0))}return this},removeNameFieldQuery:function(){var e=this.get("field_queries"),t=e.length,n;return t>0&&(n=this.getNameFieldQuery(),n!=""&&n.get("removable")&&(e.remove(n),this.updateTooManyQueryBoxes(),this.triggerFieldQueriesChange(!0))),this},removeLastFieldQuery:function(){var e=this.get("field_queries"),t=e.length,n;return t>0&&(n=this.getLastVisibleFieldQuery(),n.get("removable")&&(e.remove(n),this.updateTooManyQueryBoxes(),this.triggerFieldQueriesChange(!0))),this},removeRemovableFieldQueries:function(){var e=this.get("field_queries"),t=[];e.each(function(e){return e.get("removable")&&t.push(e),!0}),t.length>0&&(_.each(t,function(t){e.remove(t)}),this.updateTooManyQueryBoxes(),this.triggerFieldQueriesChange(!0))},removeAllFieldQueries:function(){var e=this.get("field_queries");return e.length>0?(e.reset(),this.updateTooManyQueryBoxes(),!0):!1},closeSearch:function(){this.set("status","closed");var e=this.get("search_scopes");for(var t in e)this.get("uss_scope_status")[t]="closed";return this.removeAllFieldQueries()&&this.triggerFieldQueriesChange(!0),this},triggerFieldQueriesChange:function(e){var t="change:field_queries";e&&(t+=" change:field_queries_request"),this.trigger(t,this,this.get("field_queries"))},setScopeStatus:function(e,t){if(this.get("uss_scope_status")[e]!=t){var n="change:scope_status";this.get("uss_scope_status")[e]=t,this.trigger(n,this,e)}},getFieldQueryId:function(e){var t=e.field,n=e.queryLabel;return e.commitQueryBox&&n&&(t+=":"+n),t},getFieldQueryLabel:function(e){var n,r=e.value;switch(e.field){case"all":n="";break;case"name":n=t.FILE_NAME_CONTAINS;break;case"content":n=t.FILE_CONTENT;break;case"content_type":n=t.FILE_TYPE_IS,r=this.getFileTypeString(r);break;case"modified":n=t.DATE_LAST_MODIFIED,r=="custom"?r=e.from.toDateString()+" - "+e.to.toDateString():r=this.getDateUiString(r);break;case"last_access":n=t.DATE_LAST_VIEWED,r=="custom"?r=e.from.toDateString()+" - "+e.to.toDateString():r=this.getDateUiString(r);break;case"created":n=t.DATE_ADDED,r=="custom"?r=e.from.toDateString()+" - "+e.to.toDateString():r=this.getDateUiString(r);break;case"created_by_client":n=t.FILE_ADDED_BY,r=this.getFileAddedByValue(e);break;case"min_size":n=t.MIN_SIZE;break;case"max_size":n=t.MAX_SIZE}return n?_.template(t.FILTER_DISPLAY_VALUE,{field:n,value:r}):r},getFileTypeString:function(e){return a[e]||e},getFileAddedByValue:function(e){var n=e.value,r=e.filter,i;return r&&r.$or?(r=r.$or[0],i=_.values(r)[0].substr("sc_worker_".length),i==="createpdf"?n=t.CREATE_PDF:i==="exportpdf"?n=t.EXPORT_PDF:i==="combinepdf"&&(n=t.COMBINE_PDF)):n==="api_fillsign"?n=t.FILL_SIGN:n==="api_acrobat*"?n=t.ADOBE_ACROBAT:n==="api_reader_mobile*,api_acrobat_mobile*"?n=t.ADOBE_READER_MOBILE:n==="api_reader*"&&(n=t.ADOBE_READER),n},getDateUiString:function(e){var r=e;switch(e){case n.TODAY:r=t.TODAY;break;case n.YESTERDAY:r=t.YESTERDAY;break;case n.WITHIN_LAST_WEEK:r=t.WITHIN_LAST_WEEK;break;case n.WITHIN_LAST_MONTH:r=t.WITHIN_LAST_MONTH;break;case n.ONE_TO_TWO_MONTHS_AGO:r=t.ONE_TO_TWO_MONTHS_AGO;break;case n.TWO_TO_THREE_MONTHS_AGO:r=t.TWO_TO_THREE_MONTHS_AGO;break;case n.THREE_TO_FOUR_MONTHS_AGO:r=t.THREE_TO_FOUR_MONTHS_AGO;break;case n.FOUR_TO_FIVE_MONTHS_AGO:r=t.FOUR_TO_FIVE_MONTHS_AGO;break;case n.FIVE_TO_SIX_MONTHS_AGO:r=t.FIVE_TO_SIX_MONTHS_AGO;break;case n.SIX_TO_TWELVE_MONTHS_AGO:r=t.SIX_TO_TWELVE_MONTHS_AGO;break;case n.MORE_THAN_ONE_YEAR_AGO:r=t.MORE_THAN_ONE_YEAR_AGO}return r},isSearching:function(e){return e?this.get("uss_scope_status")[e]!=="closed":this.get("status")!=="closed"},isSearchPending:function(e){return e?this.get("uss_scope_status")[e]==="pending":this.get("status")==="pending"},hasSearchFailed:function(e){return e?this.get("uss_scope_status")[e]==="failed":this.get("status")==="failed"},hasSearchSucceeded:function(e){return e?this.get("uss_scope_status")[e]==="succeeded":this.get("status")==="succeeded"},getHeaderAriaLabel:function(){return this.get("header_aria_label")},isSearchClosed:function(e){return e?this.get("uss_scope_status")[e]==="closed":this.get("status")==="closed"},invalidate:function(){if(this.isSearching()||this.isInSearchResultsView())this.set("invalid",!0),this.set("invalid",!1,{silent:!0})},isInSearchResultsView:function(){return this.get("isInSearchResultsView")},resetFocus:function(){this.set("focus_in_search_field",!0).set("focus_in_search_field",!1,{silent:!0})},_compressList:function(e){var t;return e.length>1?t={$and:e}:t=e[0],t}},{FIELD_ALL:"all",FIELD_FILE_NAME:"name",FIELD_FILE_CONTENT:"content",FIELD_FILE_TYPE:"content_type",FIELD_FILE_ADDED_BY:"created_by_client",FIELD_FILE_SIZE:"size",FIELD_FILE_MIN_SIZE:"min_size",FIELD_FILE_MAX_SIZE:"max_size",FIELD_FILE_PARENT:"parent_id",FIELD_FILE_OBJECT_TYPE:"object_type",FIELD_DATE_ADDED:"created",FIELD_DATE_MODIFIED:"modified",FIELD_DATE_LAST_ACCESS:"last_access",SCOPE_DOC_CLOUD:"document_cloud",SCOPE_RECENT:"recent",SCOPE_REVIEW:"review",SCOPE_PARCEL:"parcel",SCOPE_SIGN:"sign",CLIENT_ID_CPDF:"api_cpdf",SC_WORKER_:"sc_worker_",CREATEPDF:"createpdf",EXPORTPDF:"exportpdf",COMBINEPDF:"combinepdf",API_FILLSIGN:"api_fillsign",FILLSIGN:"fillsign",FILTER_CPDF2_DOCUMENT_CONVERTER:"cpdf2-document-converter",FILTER_DOCUMENT_CONVERTER:"document-converter",STATUS_PENDING:"pending",STATUS_SUCCEEDED:"succeeded",STATUS_FAILED:"failed",STATUS_CLOSED:"closed"}),e.SearchUiModel}),define("core/dev/models/ui/field-query-ui-model",["core/ac-core","core/utils/date-util","core/models/ui/ui-model","core/models/ui/search-ui-model"],function(e,t){return e.FieldQueryUiModel=e.UiModel.extend({recognized:{field:{type:"string",optional:!1},value:{type:"string",optional:!1},filter:{type:"object",optional:!0},commit_query_box:{type:"boolean",optional:!0},query_box_visible:{type:"boolean",optional:!1},query_label:{type:"string",optional:!0},removable:{type:"boolean",optional:!1}},defaults:{query_box_visible:!0,removable:!0},initialize:function(){var t,n,r=this.defaults;e.UiModel.prototype.initialize.call(this),t=this.get("queryBoxVisible"),n=function(){return _.isUndefined(t)?r.query_box_visible:t},this.set({commit_query_box:this.get("commitQueryBox"),query_box_visible:n(),query_label:this.get("queryLabel")})},getFieldQueryRequest:function(){var n={},r=this.get("field"),i=this.get("value"),s=e.SearchUiModel,o,u,a,f=this.get("from"),l=this.get("to");return r===s.FIELD_ALL?(i=this.addWildcards(i),n[r]=i):(r===s.FIELD_FILE_NAME?i=this.addWildcards(i):r===s.FIELD_FILE_TYPE?i=this.getFieldQueryFileTypeValue(i):r===s.FIELD_DATE_ADDED||r===s.FIELD_DATE_MODIFIED||r===s.FIELD_DATE_LAST_ACCESS?i===t.ALL_TIME?i="*":(o=t.getDateRange(i,f,l),i={$gte:o.begin,$lte:o.end}):r===s.FIELD_FILE_MIN_SIZE?(r=s.FIELD_FILE_SIZE,u={},u.$gte=i,i=u):r===s.FIELD_FILE_MAX_SIZE?(r=s.FIELD_FILE_SIZE,a={},a.$lte=i,i=a):r===s.FIELD_FILE_ADDED_BY&&(r="$or",i=this.getFieldQueryCreatedByClientValue(i)),n[r]=i),n},getFieldQueryFileTypeValue:function(e){var t,n;return e=e.replace(/\+/g,"/"),n=e.split(","),_.each(n,function(e,t){n[t]=$.trim(e)}),n.length===1?t=n[0]:t={$in:n},t},getFieldQueryCreatedByClientValue:function(t){var n=[],r,i;return r=t.split(","),_.each(r,function(t){i={},i[e.SearchUiModel.FIELD_FILE_ADDED_BY]=t,n.push(i)}),n},getFieldQueryPath:function(){var t=this.get("field"),n=this.get("value"),r=this.get("filter"),i,s,o=e.SearchUiModel;if(!this.get("commit_query_box"))return"";if(t===o.FIELD_FILE_ADDED_BY){r&&(s=_.values(r.$or[0])[0]);if(s){i=s.substr(o.SC_WORKER_.length);if(i===o.CREATEPDF||i===o.EXPORTPDF||i===o.COMBINEPDF)n=i}else n===o.API_FILLSIGN&&(n=o.FILLSIGN)}return t+"="+encodeURIComponent(n)},getFieldQueryFilter:function(){return this.get("filter")},addWildcards:function(e){var t=e,n=e.length,r="*";return n>0&&t.indexOf(" ")<0&&(t.charAt(n-1)!==r&&(t+=r),t.charAt(0)!==r&&(t=r+t)),t}}),e.FieldQueryUiModel}),define("core/dev/collections/ui/field-queries-ui-collection",["core/ac-core","core/collections/ui/ui-collection","core/models/ui/field-query-ui-model"],function(e){e.FieldQueriesUiCollection=e.UiCollection.extend({model:e.FieldQueryUiModel})}),define("core/dev/models/ui/plugin-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.PluginUiModel=e.UiModel.extend({recognized:{id:{type:"string",optional:!1},base_url:{type:"string",optional:!0},group_css_url:{type:"string",optional:!0},group_module_url:{type:"string",optional:!0},group_selector_css_url:{type:"string",optional:!0},group_selector_module_url:{type:"string",optional:!0},config:{type:"object",optional:!1},selector_elem:{type:"object",optional:!0},content_elem:{type:"object",optional:!0},preview_elems:{type:"array",optional:!0},selector_loaded:{type:"boolean",optional:!1},selector_api:{type:"object",optional:!1},selector_label:{type:"string",optional:!0},is_removable:{type:"boolean",optional:!0},connector_name:{type:"string",optional:!0},load_plugin:{type:"boolean",optional:!1},plugin_loaded:{type:"boolean",optional:!1},plugin_api:{type:"object",optional:!0},show_plugin:{type:"boolean",optional:!1},enable_plugin:{type:"boolean",optional:!0}},defaults:{selector_loaded:!1,load_plugin:!1,plugin_loaded:!1,show_plugin:!0,enable_plugin:!0,preview_elems:[],is_removable:!1,connector_name:""},getDependencies:function(){return this.get("config").dependencies},getSelectorCssUrl:function(){return this._getFullUrlFor("selector_css_url")},getSelectorModuleUrl:function(){var e=this.get("config"),t=e.selector_module_url;return e.plugin_version&&(t=this._getVersionedModuleUrl(e,t)),t},getPluginCssUrl:function(){return this._getFullUrlFor("plugin_css_url")},getPluginModuleUrl:function(){var e=this.get("config"),t=e.plugin_module_url;return e.plugin_version&&(t=this._getVersionedModuleUrl(e,t)),t},isPluginShown:function(){var e=this.get("selector_api"),t;if(this.get("preview_elems").length>0)return!0;if(this.get("show_plugin")&&e){t=e.getSelectorLabel();if(_.isString(t)&&t.length>0)return!0}return this.set("show_plugin",!1),!1},isPluginEnabled:function(){var e=this.get("plugin_api"),t;return e&&(t=e.isEnabled),this.get("enable_plugin")&&(!t||t())},isPluginLoaded:function(){return this.get("plugin_loaded")},isSelectorLoaded:function(){return this.get("selector_loaded")},_getFullUrlFor:function(e){var t=this.get("config"),n=this.get("base_url"),r=t[e],i=t.plugin_base_module_url,s=t.plugin_base_css_url,o=t.plugin_version,u="";return r?(n&&(n.charCodeAt(n.length-1)!==47&&(n+="/"),u+=n),e.search("css")!==-1?(s&&(u+=s+"/"),o&&(u+=o+"/")):(i&&(u+=i+"/"),o&&(u+=o+"/")),u+r):r},_getVersionedModuleUrl:function(e,t){var n=e.plugin_version,r=e.plugin_base_module_url,i;return i=r+"/"+n+"/"+t,i}}),e.PluginUiModel}),define("core/dev/collections/ui/plugins-ui-collection",["core/ac-core","core/collections/ui/ui-collection","core/models/ui/plugin-ui-model"],function(e){e.PluginsUiCollection=e.UiCollection.extend({model:e.PluginUiModel})}),define("core/dev/collections/ui/ui-collection-factory",["core/ac-core","core/models/model","core/collections/ui/field-queries-ui-collection","core/collections/ui/plugins-ui-collection"],function(e){e.UiCollectionFactory=e.Model.extend({create:function(t,n,r){var i=e[t];if(!!i)return new i(n,r);LOG(0,"AcCore.UiCollectionFactory.create: Unrecognized class: "+t)}})}),define("core/dev/utils/uri-template-util",["core/ac-core","core/utils/ajax-util","core/utils/crypto-util"],function(e,t,n){var r=["+","#",".","/",";","?","&"],i={"+":"","#":"#",".":".","/":"/",";":";","?":"?","&":"&"},s={"+":"","#":",",".":".","/":"/",";":";","?":"&","&":"&"},o={"+":!1,"#":!1,".":!1,"/":!1,";":!0,"?":!0,"&":!0};return e.UriTemplateUtil={splitURITemplate:function(e){var t=[],n=e.split("{"),r=[],i=[n.shift()],s=[],o=[];while(n.length>0){var u=n.shift(),a=u.split("}")[0],f=u.substring(a.length+1);r.push(a),i.push(f)}return{exprList:r,exprlessList:i}},getVarDetailsFromURITemplate:function(e){var t=this.splitURITemplate(e).exprList,n=[],r=[],i=[];for(var s=0;s<t.length;s++){var o=getVarDetailsFromExpr(t[s]);r.push(o.varNames),n.push(o.varSpecs),i.push(o.op)}return{varNames:r,varSpecs:n,ops:i}},getVarDetailsFromExpr:function(e){var t="";r.includes(e.charAt(0))&&(t=e.charAt(0),e=e.substring(1));var n=[],i=e.split(","),s=[];for(var o=0;o<i.length;o++){var u=i[o],a=null;if(u.indexOf(":")!=-1){var f=u.split(":");u=f[0],a=parseInt(f[1])}var l={};while(u.charAt(u.length-1)==="*")l[u.charAt(u.length-1)]=!0,u=u.substring(0,u.length-1);var c={max_len:a,varName:u,exploded_names:l};s.push(c),n.push(u)}return{op:t,varNames:n,varSpecs:s}},getExpandedExpr:function(e,t){var n="",r=this.getVarDetailsFromExpr(e),u=r.varSpecs,a=r.op,f=0;for(var l=0;l<u.length;l++){var c=u[l],h=t[c.varName];if(h==null||Array.isArray(h)&&h.length==0||typeof h=="object"&&Object.keys(h).length==0){f++;continue}l==f?n+=i[a]:n+=s[a];if(Array.isArray(h)){o[a]&&(n+=c.varName+"=");for(var p=0;p<h.length;p++)p>0&&(n+=c.exploded_names["*"]?separator||",":",",c.exploded_names["*"]&&o[a]&&(n+=c.name+"=")),n+=h}else if(typeof h=="object"){o[a]&&!c.exploded_names["*"]&&(n+=c.name+"=");var d=!0;for(var v in h)d||(n+=c.exploded_names["*"]?separator||",":","),d=!1,n+=v,n+=c.exploded_names["*"]?"=":",",n+=h[v]}else o[a]&&(n+=c.varName,h!=""&&(n+="=")),c.truncate!=null&&(h=h.substring(0,c.truncate)),n+=h}return n},fillVarDictUsingSubstitutedExpr:function(e,t,n){var r=i[n.op],u=n.varSpecs;if(r){if(e.substring(0,r.length)!=r)return null;e=e.substring(r.length)}var a=u.length==1?[e]:e.split(s[r]);for(var f=0;f<a.length;f++){var e=a[f];if(!e&&showVariables)continue;var l=e.split(","),c=!1,h;if(o[r]){var e=l[0];h=e.split("=",1)[0];var e=e.substring(h.length+1);l[0]=e}else{var p=u[f];h=p.varName}o[r]&&t[h]!==undefined?Array.isArray(t[h])?t[h]=t[h].concat(l):t[h]=[t[h]].concat(l):l.length==1?t[h]=l[0]:t[h]=l}},getExpandedURIFromURITemplate:function(e,t){var n=this.splitURITemplate(e),r="";n&&n.exprlessList&&n.exprlessList.length>0&&(r+=n.exprlessList[0]);for(var i=0;i<n.exprList.length;i++)r+=this.getExpandedExpr(n.exprList[i],t),r+=n.exprlessList[i+1];return r},getVarDictFromSubtitutedUriTemplate:function(e,t){var n={},r=this.splitURITemplate(e),i=r.exprlessList,s=r.exprList,o=[],u=[];for(var a=0;a<s.length;a++){var f=s[a],l=this.getVarDetailsFromExpr(f);o.push(l),u.push(l.op)}for(var a=0;a<i.length;a++){var c=i[a];if(t.substring(0,c.length)!==c)return undefined;t=t.substring(c.length);if(a>=i.length-1){if(t=="")break;return undefined}var h=i[a+1],p=a,d;for(;;){if(p==i.length-2){var v=t.substring(t.length-h.length);if(v!==h)return undefined;d=t.substring(0,t.length-h.length),t=v}else if(h){var m=t.indexOf(h);d=t.substring(0,m),t=t.substring(m)}else if(u[p+1]){var m=t.indexOf(u[p+1]);m===-1&&(m=t.length),d=t.substring(0,m),t=t.substring(m)}else{if(i.length>p+2){p++,h=i[p+1];continue}d=t,t=""}break}this.fillVarDictUsingSubstitutedExpr(d,n,o[a])}return n}},e.UriTemplateUtil}),define("core/dev/models/collection-item-model",["core/ac-core","core/utils/file-types","core/utils/util","core/utils/http-util","core/utils/uri-template-util","core/models/model"],function(e,t,n,r,i){return e.CollectionItemModel=e.Model.extend({initialize:function(t,n){e.Model.prototype.initialize.call(this),n&&n.sharingField&&!this.sharingField&&(this.sharingField=n.sharingField)},url:function(){if(this.get("appApi").discoveryUrisApi.useDCApi()){var e,t;return this.isFile()?(t=Ac.discoveryUrisModel.getAssetUriTemplate(),e=i.getExpandedURIFromURITemplate(t,{asset_id:this.get("id")})):(t=Ac.discoveryUrisModel.getFolderUriTemplate(),e=i.getExpandedURIFromURITemplate(t,{folder_id:this.get("id")})),e}return this._getBaseUrl()+"?"+this._getClientIdQueryParam()},getSharingURL:function(){return Ac.baseFilesUrisModel.getApiUri()+"assets/"+encodeURIComponent(this.get("id"))+"/sharing?"+this._getClientIdQueryParam()},getRenditionUrl:function(e,t,n){var i=Ac.baseFilesUrisModel.getRenditionUri()+"assets/"+encodeURIComponent(this.get("id"))+"/"+e;return i+="?"+r.getClientIdQueryParam(),t&&(i+="&page="+t),n===!1&&(i+="&markup=false"),i},getNGDocUrl:function(e){return this.getRenditionUrl("svg_html",e)},getRenameUrl:function(){if(this.get("appApi").discoveryUrisApi.useDCApi()){var e=Ac.discoveryUrisModel.getOperationsMoveUri(),t=e;return t}return this._getBaseUrl()+"/metadata/name?"+this._getClientIdQueryParam()},isFile:function(){return this.get("object_type")==="file"},isSharedFile:function(){return this.get("object_type")==="file"&&this.get("is_shared")===!0},isFolder:function(){return this.get("object_type")==="folder"||this.isRoot()},isNative:function(){var e=this.get("source");return e==="native"||e==="native_v2"},isForm:function(){var e=this.get("content_type");return this.isFile()&&t.isFormMimeType(e)},isPDF:function(){var e=this.get("content_type");return this.isFile()&&e==="application/pdf"},isNotPreviewable:function(){var e=this.get("content_type");return e==="application/zip"||this.isForm()},isBlacklisted:function(e){var t;return n.isCEF()?(t=n.getExtension(this.get("name")),this.isFile()&&!this.isPDF()&&(!t||e.indexOf(t)!==-1)):!1},isCCFile:function(){return n.isCEF()?this.get("object_type")==="composite":!1},getPublicUrl:function(){var e,t=this.get("preview_url");return t&&t!=="false"?e=t:e="",e},isPublic:function(){return this.get(this.sharingField)?!0:!1},isRoot:function(){var e=this.get("object_type");return _.isUndefined(e)||e==="root"||e==="connector"},getParcelId:function(){return this.get("bootstrap")&&this.get("bootstrap").parcel_data&&this.get("bootstrap").parcel_data.id?this.get("bootstrap").parcel_data.id:undefined},getInvitationId:function(){return this.get("bootstrap")&&this.get("bootstrap").parcel_data&&this.get("bootstrap").parcel_data.invitation?this.get("bootstrap").parcel_data.invitation:undefined},getReviewId:function(){return this.get("bootstrap")&&this.get("bootstrap").parcel_data&&this.get("bootstrap").parcel_data.review&&this.get("bootstrap").parcel_data.review.url?this.get("bootstrap").parcel_data.review.url:undefined},getOriginalShared:function(){return this.get("bootstrap")&&this.get("bootstrap").is_original_shared?this.get("bootstrap").is_original_shared:undefined},getCommentingUrn:function(){return this.get("bootstrap")&&this.get("bootstrap").meta_list&&this.get("bootstrap").meta_list.length&&this.get("bootstrap").meta_list[0].commenting_urn?this.get("bootstrap").meta_list[0].commenting_urn:undefined},isReviewFile:function(){return this.get("bootstrap")&&this.get("bootstrap").privileges&&this.get("bootstrap").privileges.can_make_comments?this.get("bootstrap").privileges.can_make_comments:undefined},getEmailMessage:function(){return this.get("bootstrap")&&this.get("bootstrap").parcel_data&&this.get("bootstrap").parcel_data.email_message?this.get("bootstrap").parcel_data.email_message:undefined},getDeadline:function(){return this.get("bootstrap")&&this.get("bootstrap").parcel_data&&this.get("bootstrap").parcel_data.review&&this.get("bootstrap").parcel_data.review.due_date?this.get("bootstrap").parcel_data.review.due_date:undefined},_getBaseUrl:function(){var e=Ac.baseFilesUrisModel.getApiUri(),t;return t=this.isFile()?"assets":"folders",e+=t+"/"+encodeURIComponent(this.get("id")),e}}),e.CollectionItemModel}),define("core/dev/collections/collection",["core/ac-core","core/utils/http-util","core/models/collection-item-model"],function(e,t){e.Collection=Backbone.Collection.extend({model:e.CollectionItemModel,fetch:function(e){return e=this.customizeOptions("GET",e),Backbone.Collection.prototype.fetch.call(this,e)},customizeOptions:function(e,n){return t.customizeOptions(e,_.extend({},n,{excludeClientId:!0}))}})}),define("core/dev/collections/collection-factory",["core/ac-core","core/collections/collection"],function(e){e.CollectionFactory=e.Model.extend({create:function(t,n,r){var i=e[t];if(!!i)return new i(n,r);LOG(0,"AcCore.CollectionFactory.create: Unrecognized class: "+t)}})}),define("core/dev/models/asset-model",["core/ac-core","core/utils/http-util","core/models/collection-item-model"],function(e,t){return e.AssetModel=e.CollectionItemModel.extend({url:function(){return this._getBaseUrl()+"?"+this._getClientIdQueryParam()},getMetadataUrl:function(e){var t=this._getBaseUrl()+"/metadata";return e&&(t+="/"+e),t+"?"+this._getClientIdQueryParam()},getDownloadUrl:function(e){return Ac.baseFilesUrisModel.getDownloadUri()+"assets/"+encodeURIComponent(this.get("id"))+"?dlticket="+encodeURIComponent(e)+"&html_errors=true&"+this._getClientIdQueryParam()},getUnmanagedDownloadUrl:function(e){return Ac.baseFilesUrisModel.getDownloadUri()+"unmanaged/"+encodeURIComponent(this.get("id"))+"?dlticket="+encodeURIComponent(e)+"&html_errors=true&"+this._getClientIdQueryParam()},_getBaseUrl:function(){return Ac.baseFilesUrisModel.getApiUri()+"assets/"+encodeURIComponent(this.get("id"))}}),e.AssetModel}),define("core/dev/models/base-uris-model",["core/ac-core","core/models/model"],function(e){return e.BaseUrisModel=e.Model.extend({getApiUri:function(){return this.get("api")},getDownloadUri:function(){return this.get("download")},getImsUri:function(){return this.get("ims")},getRenditionUri:function(){return this.get("rendition")},getUploadUri:function(){return this.get("upload")},getAlternateUploadUri:function(){return this.get("upload_alternate")},getSendApiUri:function(){return this.get("send_api")},getUiHelpersUri:function(){return this.get("ui_helpers")},getConnectorUri:function(){return this.get("connector")}}),e.BaseUrisModel}),define("core/dev/models/base-cloud-uris-model",["core/ac-core","core/models/base-uris-model"],function(e){return e.BaseCloudUrisModel=e.BaseUrisModel.extend({url:function(){var t=e.getBaseCloudUrl()+"api/base_uris?";return Ac.config.isUserMigratedToACP&&(t+="force=true&"),t+this._getClientIdQueryParam()},getCpdfUri:function(){return this.get("cpdf")},getExplodePdfUri:function(){return this.get("explodepdf")}}),e.BaseCloudUrisModel}),define("core/dev/models/base-files-uris-model",["core/ac-core","core/models/base-uris-model"],function(e){return e.BaseFilesUrisModel=e.BaseUrisModel.extend({url:function(){var t=e.getBaseFilesUrl()+"api/base_uris?";return Ac.config.isUserMigratedToACP&&(t+="force=true&"),t+this._getClientIdQueryParam()}}),e.BaseFilesUrisModel}),define("core/dev/models/common-limits-model",["core/ac-core","core/models/model"],function(e){return e.CommonLimitsModel=e.Model.extend({url:function(){return Ac.baseFilesUrisModel.getApiUri()+"users/me/limits/common?"+this._getClientIdQueryParam()}}),e.CommonLimitsModel}),define("core/dev/models/connectors-ui-helpers-model",["core/ac-core","core/models/model"],function(e){return e.ConnectorsUiHelpersModel=e.Model.extend({url:function(){return Ac.baseCloudUrisModel.getUiHelpersUri()+"ui_helpers/connectors?"+this._getClientIdQueryParam()}}),e.ConnectorsUiHelpersModel}),define("core/dev/models/file-upload-model",["core/ac-core","core/models/model"],function(e){return e.FileUploadModel=e.Model.extend({url:function(){var t=Ac.baseFilesUrisModel.getUploadUri()+"assets";return this.hasAjaxFileUpload()||(t+="?redirect_uri="+encodeURIComponent(e.getBaseCloudUrl()+"complete_file_upload")),t+=t.indexOf("?")<0?"?":"&",t+=this._getClientIdQueryParam(),t},hasAjaxFileUpload:function(){var t=e.Util;return(!t.isIE()||!t.isIE9orBelow())&&!t.isFirefox36()},getWidgetOptions:function(t){var n={url:this.url(),paramName:"file",singleFileUploads:!1,limitMultiFileUploads:1,xhrFields:{withCredentials:!0}},r=e.Util;t||(n.dropZone=null);if(r.isIpad()||r.isIphone())n.sequentialUploads=!0;return n},getFormData:function(t,n){var r=JSON.stringify({name:t.files[0].name,parent_id:n,on_dup_name:"auto_rename",ignore_content_type:!0});return[{name:"csrftoken",value:e.Util.getCookie("csrftoken")},{name:"created_by_client",value:e.HttpUtil.REQUEST_HEADER_CLIENT_ID},{name:"metadata",value:r}]}}),e.FileUploadModel}),define("core/dev/utils/string-util",["core/ac-core"],function(e){var t=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return e.StringUtil={isUuid:function(e,n){return _.isString(e)?(_.isNumber(n)&&(e=e.substr(n)),e.search(t)===0):!1},isQuoted:function(e){var t,n,r;return!_.isString(e)||!e?!1:(t=e.length,t<=1?!1:(n=e.charCodeAt(0),r=e.charCodeAt(t-1),this.isQuoteCharCode(n)&&n===r))},beginsWithQuote:function(e){return!_.isString(e)||!e?!1:(e=$.trim(e),e.length>0&&this.isQuoteCharCode(e.charCodeAt(0)))},isQuoteCharCode:function(e){return _.isNumber(e)&&(e===34||e===39)},stripQuotes:function(e){return!_.isString(e)||!e?e:(this.isQuoted(e)&&(e=$.trim(e),e=e.substring(1,e.length-1)),e)},parseUrl:function(e){var t=document.createElement("a"),n={},r,i,s;t.href=e,r=t.search.replace(/^\?/,"").split("&");for(s=0;s<r.length;s+=1)i=r[s].split("="),n[i[0]]=i[1];return{protocol:t.protocol,host:t.host,hostname:t.hostname,port:t.port,pathname:t.pathname,search:t.search,searchObject:n,hash:t.hash}},getLimitedUrl:function(e){var t=this.parseUrl(e),n=t.pathname;return e.indexOf("/limited")>0?e:(n.charAt(0)!=="/"&&(n="/"+n),t.protocol+"//"+t.host+"/limited"+n)},getNormalizedString:function(e,t){var n;if(!_.isString(e)||!e)return undefined;if(_.isUndefined(t)||t!=="NFC"&&t!=="NFD"&&t!=="NFKC"&&t!=="NFKD")t="NFC";try{typeof String.prototype.endsWith=="function"&&(n=e.normalize(t))}catch(r){n=undefined}return n}},e.StringUtil}),define("core/dev/models/folder-model",["core/ac-core","core/utils/http-util","core/utils/string-util","core/models/model"],function(e,t,n){return e.FolderModel=e.Model.extend({defaults:{orderby:"name",orderdirection:"ascending",metadata:"name,content_type,created,modified,parent_id,size,last_pagenum,page_count,last_access,source,ts_sent,is_shared"},initialize:function(){var t;e.Model.prototype.initialize.call(this),t=e.collectionFactory.create("Collection"),this.set("items",t),t.comparator="index"},url:function(){return this._getBaseUrl()+"?"+this._getClientIdQueryParam()},getPathUrl:function(){return this._getBaseUrl()+"/path?"+this._getClientIdQueryParam()},getMetadataUrl:function(e){var t=this._getBaseUrl()+"/metadata";return e&&(t+="/"+e),t+"?"+this._getClientIdQueryParam()},fetch:function(n){var r;return n=n||{},this.sharingField="ts_sent",n.data=_.extend({},{orderby:this.get("orderby"),orderdirection:this.get("orderdirection"),metadata:this.get("metadata"),"x-api-client-id":t.REQUEST_HEADER_CLIENT_ID},n.data),n.limitedApi&&(this._useLimitedApi=!0),t.updateAccessTokenForSessionAttr(n),r=e.Model.prototype.fetch.call(this,n),n.limitedApi&&(this._useLimitedApi=!1),r},parse:function(e){var t=this.get("items"),n,r;if(!e)return;if(e.status===304)return;return n=e.body,r=n?n.members:e.members,_.each(r,function(e,t){e.index=t}),t.set(r,{silent:!0,sharingField:this.sharingField}),this.set("loaded",!0),t.trigger("add"),e},isRoot:function(){var e=this.get("object_type");return _.isUndefined(e)||e==="root"||e==="connector"},getFolderItems:function(){return this.get("items")},getFolderItemsCount:function(){return this.getFolderItems().length},allFolders:function(){var e,t=this.getFolderItems().models;for(e=0;e<t.length;e+=1)if(!t[e].isFolder())return!1;return!0},getChildFoldersCount:function(){return this.getFolderItems().reduce(function(e,t){return t.isFolder()&&(e+=1),e},0)},getChildFilesCount:function(){return this.getFolderItems().reduce(function(e,t){return t.isFile()&&(e+=1),e},0)},_getBaseUrl:function(){var e=Ac.baseFilesUrisModel.getApiUri()+"folders/"+encodeURIComponent(this.get("id"));return this._useLimitedApi&&(e=n.getLimitedUrl(e)),e}}),e.FolderModel}),define("core/dev/models/folder-model-dcapi",["core/ac-core","core/utils/http-util","core/utils/util","core/utils/uri-template-util","core/utils/string-util","core/models/model"],function(e,t,n,r,i){var s=100,o=150;return e.FolderModelDCAPI=e.Model.extend({defaults:{orderby:"name",orderdirection:"ascending",metadata:"name,content_type,created,modified,parent_id,size,last_pagenum,page_count,last_access,source,ts_sent"},initialize:function(){var t;e.Model.prototype.initialize.call(this),t=e.collectionFactory.create("Collection"),this.set("items",t),t.comparator="index"},getPageSize:function(){return s},getNextPageTriggerThreshold:function(){return o},getNextPageUrl:function(){return this.nextPageUri},getFoldersListUrl:function(e){var t=Ac.discoveryUrisModel.getFoldersListUri(),n=Ac.discoveryUrisModel.getFolderUriTemplate(),i=r.getExpandedURIFromURITemplate(n,{folder_id:this.get("id")}),s,o;return e?(e.folder_uri=i,o=e):o={folder_uri:i},s=r.getExpandedURIFromURITemplate(t,o),s},getFoldersListUrlAcceptHeader:function(){return Ac.discoveryUrisModel.getFoldersListUriAcceptHeader()},getFolderBreadcrumbsUrl:function(){var e=Ac.discoveryUrisModel.getFoldersBreadcrumbsUri(),t=Ac.discoveryUrisModel.getFolderUriTemplate(),n=r.getExpandedURIFromURITemplate(t,{folder_id:this.get("id")}),i,s={folder_uri:n};return i=r.getExpandedURIFromURITemplate(e,s),i},getFolderBreadcrumbsUrlAcceptHeader:function(){return Ac.discoveryUrisModel.getFolderBreadcrumbsUriAcceptHeader()},getFoldersMetadataUrl:function(e){var t=Ac.discoveryUrisModel.getFoldersMetadataUri(),n=Ac.discoveryUrisModel.getFolderUriTemplate(),i=r.getExpandedURIFromURITemplate(n,{folder_id:this.get("id")}),s,o={folder_uri:i};return s=r.getExpandedURIFromURITemplate(t,o),s},fetch:function(e){var n;e=e||{};if(e.firstPage)this.set("loaded",!1),this.stopNextPageLoading=!0;else{if(this.stopNextPageLoading==1)return this.nextPagePromise.resolve(),this.stopNextPageLoading=!1,n=$.Deferred(),n.reject(),n;this.nextPagePromise=$.Deferred()}return this.options=e,this.sharingField="ts_sent",e.limitedApi&&(this._useLimitedApi=!0),t.updateAccessTokenForSessionAttr(e),e.firstPage&&this.nextPagePromise?n=this.nextPagePromise.then(_.bind(function(){return this.nextPageUri=undefined,Backbone.Model.prototype.fetch.call(this,e)},this)):(this.nextPagePromise==undefined&&(this.nextPageUri=undefined),n=Backbone.Model.prototype.fetch.call(this,e)),e.limitedApi&&(this._useLimitedApi=!1),n},handleFailedFetch:function(){this.set("loaded",!0),this.nextPagePromise&&this.nextPagePromise.resolve(),this.stopNextPageLoading=!1},parse:function(e){var t=this.get("items"),n,r,i,s;if(!e||e.status===304)return;return this.nextPageUri&&this.stopNextPageLoading==1?(this.nextPagePromise.resolve(),this.stopNextPageLoading=!1,e):(this.setParentIdFromParentUri(e.parent_uri),n=e.body,r=n?n.members:e.members,i=this.filterMembers(r),this.addLegacyMetadata(i),this.addCustomMetadata(i,e.source).then(_.bind(function(t){this.options.appApi.rnaApi.done(_.bind(function(n){n.isSNTFeatureLockdownEnabled().done(_.bind(function(n){n&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()===!1&&(t=_.filter(t,function(e,t){return!e.is_shared})),this.addItemsToCollection(t),this.nextPageUri=e._pages.next_page_uri,this.options.folderTreeNode&&this.triggerNextPageFetch(),this.set("pageFetchingInProgress",!1)},this))},this))},this)),e)},triggerNextPageFetch:function(){_.isFunction(this.getNextPageUrl)&&this.getNextPageUrl()!=undefined&&e.opFactory.create("GettingFolderItemsOp",_.extend({},this.options,{global:!0,limitedApi:!1,firstPage:!1})).run(this.options.folderModel.id)},setParentIdFromParentUri:function(e){if(!e||this.nextPageUri)return;var t,n;n=Ac.discoveryUrisModel.getFolderUriTemplate();var i=r.getVarDictFromSubtitutedUriTemplate(n,e);t=i.folder_id,this.set("parent_id",t)},filterMembers:function(e){return this.options.appApi.selectionApi.isRunningInFileSelection()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()===!1?_.filter(e,function(e,t){var r=n.getExtension(e.name),i=e.object_type=="folder"||n.isCCFile(r)!==!0;return i}):e},addLegacyMetadata:function(e){var t=0;if(this.nextPageUri){var n=this.get("items").length,r;n>0&&(r=this.get("items").models[n-1],t=r.get("index")+1)}_.each(e,function(e,n){e.index=t+n,e.folder_id?e.id=e.folder_id:e.id=e.asset_id,e.type&&(e.content_type=e.type)})},getAssetIdToIndexMap:function(e){var t=new Map;return _.each(e,function(e,n){e.folder_id||(t[e.asset_id.toLowerCase()]=n)}),t},addCustomMetadata:function(t,n){var r=$.Deferred(),i=!1,s;_.each(t,function(e,t){e.folder_id||(i=!0)}),s=this.getAssetIdToIndexMap(t);if(n=="native"||i===!1||this.options.folderTreeNode)r.resolve(t);else{var o=e.opFactory.create("GettingCustomMetadatapOp",this.options);o.run(s).done(_.bind(function(e){if(e){var n=t;if(e.result_sets){var i=e.result_sets[0].items;for(var o=0;o<i.length;o++){var u=i[o],a=s[u.asset_id.toLowerCase()];n[a]&&(n[a].is_shared=!1,u.collab_metadata&&u.collab_metadata.shared_by&&u.collab_metadata.shared_by.length>0&&(n[a].is_shared=!0),n[a].favorite=!1,u["api:metadata/peruser"]&&u["api:metadata/peruser"][0]&&u["api:metadata/peruser"][0]["shell:favorite"]&&(n[a].favorite=u["api:metadata/peruser"][0]["shell:favorite"]))}}r.resolve(n)}},this)).fail(function(e){e&&e.status==423&&this.options.appApi.rnaApi.done(_.bind(function(e){e.invokeMethod({methodName:"triggerMigrationInProgressError",methodArgs:{}})},this)),this.handleFailedFetch(),r.reject()})}return r},addItemsToCollection:function(e){var t=this.get("items");this.nextPageUri?t.add(e,{silent:!0,sharingField:this.sharingField}):(this.options.folderTreeNode||this.options.selectionUiModel.clearSelection(!0),this.options.selectionUiModel.triggerSelectionChange(),t.set(e,{silent:!0,sharingField:this.sharingField})),this.set("loaded",!0),t.trigger("add"),_.delay(_.bind(function(){this.options.selectionUiModel.triggerSelectionChange()},this),100),this.stopNextPageLoading=!1,this.nextPagePromise&&this.nextPagePromise.resolve()},isRoot:function(){var e=this.get("object_type");return _.isUndefined(e)||e==="root"||e==="connector"},getFolderItems:function(){return this.get("items")},getFolderItemsCount:function(){return this.getFolderItems().length},allFolders:function(){var e,t=this.getFolderItems().models;for(e=0;e<t.length;e+=1)if(!t[e].isFolder())return!1;return!0},getChildFoldersCount:function(){return this.getFolderItems().reduce(function(e,t){return t.isFolder()&&(e+=1),e},0)},getChildFilesCount:function(){return this.getFolderItems().reduce(function(e,t){return t.isFile()&&(e+=1),e},0)},updateFileSharedStatus:function(e,t){var n=this.getFolderItems(),r=_.find(n.models,_.bind(function(t){return t&&t.get("asset_id")&&t.get("asset_id").toLowerCase()===e.toLowerCase()},this));r&&(r.set("is_shared",t),_.delay(_.bind(function(){this.options.selectionUiModel.triggerSelectionChange()},this),100))},hasNextPageUri:function(){return this.getNextPageUrl()!==undefined}}),e.FolderModelDCAPI}),define("core/dev/models/network-connectivity-model",["core/ac-core","core/models/model"],function(e){return e.NetworkConnectivityModel=e.Model.extend({recognized:{is_connected:{type:"boolean",optional:!1},ajax_status:{type:"boolean",optional:!1}},defaults:{is_connected:navigator.onLine,ajax_status:navigator.onLine},resetNetworkStatusToOnline:function(e){var t=!0;!_.isUndefined(e)&&e.silent===!1&&(t=!1),this.set({is_connected:!0,ajax_status:!0},{silent:t})},resetNetworkStatus:function(e){var t=!0;!_.isUndefined(e)&&e.silent===!1&&(t=!1),this.set({is_connected:navigator.onLine,ajax_status:navigator.onLine},{silent:t})}}),e.NetworkConnectivityModel}),define("core/dev/models/notification-model",["core/ac-core","core/models/model"],function(e){return e.NotificationModel=e.Model.extend({url:function(){return Ac.baseFilesUrisModel.getApiUri()+"monitor?"+this._getClientIdQueryParam()}}),e.NotificationModel}),define("core/dev/models/refresh-session-model",["core/ac-core","core/models/model"],function(e){return e.RefreshSessionModel=e.Model.extend({url:function(){return Ac.baseCloudUrisModel.getApiUri()+"session/refresh?"+this._getClientIdQueryParam()}}),e.RefreshSessionModel}),define("core/dev/models/root-model",["core/ac-core","core/models/model"],function(e){return e.RootModel=e.Model.extend({url:function(){return Ac.baseFilesUrisModel.getApiUri()+"root?"+this._getClientIdQueryParam()}}),e.RootModel}),define("core/dev/models/search-model",["core/ac-core","core/models/model"],function(e){return e.SearchModel=e.Model.extend({defaults:{metadata:["id","name","content_type","created","modified","object_type","parent_id","size","last_pagenum","last_access","source","ts_sent"]},initialize:function(t,n){var r="ts_sent";e.Model.prototype.initialize.call(this),this.set("items",e.collectionFactory.create("Collection",{},{sharingField:r})),this.set("total_hits",0)},url:function(){return Ac.baseFilesUrisModel.getApiUri()+"search?"+this._getClientIdQueryParam()},getSearchResultCount:function(){return this.get("total_hits")},resetSearchResults:function(e){this.get("items").reset(undefined,e)}}),e.SearchModel}),define("core/dev/models/workflow-status-strings",{SIGN:"Signature",REVIEW:"Review",SEND_TRACK:"Send_And_Track",SENT_FILES:"sentfiles",CREATOR:"SENDER",SIGNER:"SIGNER",SENDER:"sender",SIGNED:"SIGNED",COMPLETED:"COMPLETED",CANCELLED:"CANCELLED",EXPIRED:"EXPIRED",APPROVED:"APPROVED",DELIVERED:"DELIVERED",ACCEPTED:"ACCEPTED",FORM_FILLED:"FORM_FILLED",ARCHIVED:"ARCHIVED",NOT_YET_VISIBLE:"NOT_YET_VISIBLE",DRAFT:"DRAFT",WAITING_FOR_MY_SIGNATURE:"WAITING_FOR_MY_SIGNATURE",WAITING_FOR_MY_APPROVAL:"WAITING_FOR_MY_APPROVAL",WAITING_FOR_MY_DELEGATION:"WAITING_FOR_MY_DELEGATION",WAITING_FOR_MY_ACKNOWLEDGEMENT:"WAITING_FOR_MY_ACKNOWLEDGEMENT",WAITING_FOR_MY_ACCEPTANCE:"WAITING_FOR_MY_ACCEPTANCE",WAITING_FOR_MY_FORM_FILLING:"WAITING_FOR_MY_FORM_FILLING",WAITING_FOR_AUTHORING:"WAITING_FOR_AUTHORING",WAITING_FOR_OTHERS:"WAITING_FOR_OTHERS",AGREEMENT_HEADER:"All Agreements",AGREEMENT_LABEL:"SIGN",OUT_FOR_SIGNATURE:"OUT_FOR_SIGNATURE",OUT_FOR_APPROVAL:"OUT_FOR_APPROVAL",OUT_FOR_DELIVERY:"OUT_FOR_DELIVERY",OUT_FOR_ACCEPTANCE:"OUT_FOR_ACCEPTANCE",OUT_FOR_FORM_FILLING:"OUT_FOR_FORM_FILLING",SIGNER:"SIGNER",APPROVER:"APPROVER",CERTIFIED_RECIPIENT:"CERTIFIED_RECIPIENT",ACCEPTOR:"ACCEPTOR",FORM_FILLER:"FORM_FILLER",DELEGATOR_TO_SIGNER:"DELEGATE_TO_SIGNER",DELEGATOR_TO_APPROVER:"DELEGATE_TO_APPROVER",DELEGATOR_TO_ACCEPTOR:"DELEGATE_TO_ACCEPTOR",DELEGATOR_TO_CERTIFIED_RECIPIENT:"DELEGATE_TO_CERTIFIED_RECIPIENT",DELEGATOR_TO_FORM_FILLER:"DELEGATE_TO_FORM_FILLER",SHARE:"SHARE",OPEN:"open",CLOSED:"closed",FINISHED:"finished",NOT_OPENED:"not_opened",OPENED:"opened",NOT_STARTED:"not started",IN_PROGRESS:"in progress",VIEWED:"viewed",REVIEW_CREATOR:"creator",PARTICIPANT:"participant",COPIED_STRING:"Copied",DELETED_STRING:"Deleted",UNSHARED_STRING:"Unshared",REMOVEME_STRING:"Removed",UNSHARED_UC:"UNSHARED",FILENAME:"resources.name",MODIFIED_DATE:"modify_date",CREATE_DATE:"create_date",INITIATOR:"creator.name",STATUS:"status",ASC:"ascending",DESC:"descending",COMMENTED:"COMMENTED",YOU:"YOU",CREATIVE_CLOUD:"Creative_Cloud",LAST_ACCESS:"last_access_date",UNOPENED:"UNOPENED",OPENED_UCASE:"OPENED",SHARED_DATE:"shared_date",LAST_ACTIVITY_DATE:"last_activity_date",TEMPLATES:"Templates",LIBRARY_TEMPLATE:"LIBRARY_TEMPLATE"}),define("core/dev/models/parcel-model",["core/ac-core","core/utils/http-util","core/models/workflow-status-strings","core/utils/file-types","core/utils/date-util","core/models/model"],function(e,t,n,r,i){return e.ParcelModel=e.Model.extend({initialize:function(t,n){e.Model.prototype.initialize.call(this,t,n),this.idAttribute="id",n&&n.collection?this.workflowType=n.collection.workflowType:t&&t.workflowType&&(this.workflowType=t.workflowType)},setData:function(e){return Backbone.Model.prototype.set.call(this,e,{parse:!0})},parse:function(e){return e.parcels?e.parcels[0]:e},getRenditionUrl:function(e,n,r){var i=Ac.baseFilesUrisModel.getRenditionUri()+"assets/"+encodeURIComponent(this.id)+"/"+n;return i+="?"+t.getClientIdQueryParam(),r&&(i+="&page="+r),i},idAttribute:"id",getRecipients:function(){var e,t=this.get("invitations");return e=_.map(t,function(e){return e.recipient_email}),e},getViews:function(){return this.get("events").filter(function(e){return e.event_type==="parcel_view"})},isActive:function(){return!0},getNumHits:function(){var e=this.countEventTypes();return e.parcel_view||0},countEventTypes:function(){var e;return e=_.reduce(this.get("invitations"),function(e,t){var n=t.event_counts;return n&&(e=_.reduce(n,function(e,t,n){return e.hasOwnProperty(n)||(e[n]=0),e[n]+=t,e},e)),e},{}),e},getSingleFileInfo:function(){if(this.getWorkflowType()==n.SIGN){var e=this.get("resources");return e&&e.length===1?e[0]:undefined}var t={name:this.get("name"),type:this.get("docType"),size:this.get("size"),id:this.getId(),asset_id:this.get("asset_id"),modify_date:this.get("modify_date")};return t},getSingleFileId:function(){var e=this.getSingleFileInfo();return e?e.id:undefined},isSingleFileNotPreviewable:function(){var e=this.getSingleFileInfo(),t;return e?(t=e.content_type,t==="application/zip"):!1},isFile:function(){var e=this.get("resources");return e&&e.length===1?!0:!1},isNative:function(){var e=this.get("resources");return e&&e.length===1?!0:!1},getSingleFileName:function(){var e=this.getSingleFileInfo();return e?e.name:undefined},getSingleFileName_noext:function(){var e=this.getSingleFileName(),t;if(e){var n=e.lastIndexOf(".");n>0?t=e.substring(0,n):t=e}return t},getSingleFileMimeType:function(){var e=this.getSingleFileInfo();return e?e.type:undefined},getInfo:function(){return this.workflowType==n.SIGN?this.get("signature_info"):this.attributes.aep_workflow_info},getSenderName:function(){if(this.getWorkflowType()==n.SIGN){var e=this.get("creator");if(!e){var t=this.getInfo();t&&(e=t.creator)}return e?e.name:undefined}var r=this.getInfo();return r?r.creatorName:undefined},getSenderEmail:function(){if(this.getWorkflowType()==n.SIGN){var e=this.get("creator");if(!e){var t=this.getInfo();t&&(e=t.creator)}return e?e.email:undefined}var r=this.getInfo();return r?r.creatorEmail:undefined},getSenderInfo:function(){if(this.getWorkflowType()==n.SIGN){var e=this.get("creator");return e}var t=this.getInfo(),e={};return t&&(e.creatorName=t.creatorName,e.creatorEmail=t.creatorEmail),e},setSenderInfo:function(e){var t=this.getInfo();this.getWorkflowType()==n.SIGN&&(e.displayName&&e.displayName.length>0&&(t.creator.name=e.displayName),e.email&&e.email.length>0&&(t.creator.email=e.email)),e.displayName&&e.displayName.length>0&&(t.creatorName=e.displayName),e.email&&e.email.length>0&&(t.creatorEmail=e.email);return},getAssetId:function(){var e,t;return e=this.get("asset_id"),_.isUndefined(e)&&(t=this.getInfo(),t&&(e=t.asset_id)),e==""?undefined:e},getParcelId:function(){var e=this.getInfo(),t="";return e&&e.id&&(t=e.id!=""?e.id:this.getAssetId()),t},setAssetId:function(e){this.set("asset_id",e,{silent:!0})},setInvitationId:function(e){var t=this.getInfo();t&&(t.invitationUrn=e)},setParcelId:function(e){var t=this.getInfo();t&&(t.id=e)},getIntroMessage:function(){var e;return e=this.getInfo(),e?e.intro_message:undefined},setIntroMessage:function(e){var t;this.workflowType==n.SIGN?t=this.get("signature_info"):t=this.get("aep_workflow_info"),t&&(t.intro_message=e)},getPreviewUrl:function(){var e;return e=this.getInfo(),e?e.preview_url:undefined},setPreviewUrl:function(e){var t=this.get("aep_workflow_info");t&&(t.preview_url=e)},getOriginalShared:function(){var e;return e=this.getInfo(),e?e.is_original_shared:undefined},setOriginalShared:function(e){var t=this.get("aep_workflow_info");t&&(t.is_original_shared=e)},getCommentingUrn:function(){var e=this.get("aep_workflow_info");return e?e.commentingUrn:undefined},setCommentingUrn:function(e){var t=this.get("aep_workflow_info");t&&(t.commentingUrn=e)},getCopyLink:function(){var e=this.get("aep_workflow_info");return e?e.copyLink:undefined},setCopyLink:function(e){var t=this.get("aep_workflow_info");t&&(t.copyLink=e)},getIconClass:function(e){var e=this.getSingleFileInfo();if(e){var t,n=r.getFileInfo(e.type||"",e.name);return t=n.iconCls||"",t}return undefined},getSingleResource:function(){var e={name:this.get("name"),type:this.get("docType"),size:this.get("size"),id:this.get("asset_id"),asset_id:this.get("asset_id"),modify_date:this.get("modify_date")};return[e]},getDeadline:function(){var e;return this.workflowType==n.SIGN?e=this.get("signature_info"):e=this.get("aep_workflow_info"),e?e.deadline_date:undefined},getParticipantsInfo:function(){var e=this.get("participants");return e},getInvitationId:function(){return this.attributes.asset_id},getSignAgreementID:function(){var e="";return this.workflowType==n.SIGN&&(e=this.get("id")),e},getWorkflowType:function(){return this.workflowType},getWorkflowStatus:function(){var e;return this.workflowType==n.SIGN?e=this.get("signature_info"):e=this.attributes.aep_workflow_info,e?e.state:undefined},getPartcipantDetails:function(e){var t=undefined,n=this.getInfo();n&&(t=n.collaborators);for(var r=0;t&&r<t.length;r++){var i=t[r];if(i.adobe_id&&e.get("user_id")&&i.adobe_id==e.get("user_id"))return i;if(i.collaboratorId&&e.get("user_id")&&i.collaboratorId==e.get("user_id"))return i;if(i.email&&e.get("email")&&i.email.toLowerCase()==e.get("email").toLowerCase())return i}return null},getCollaboratorDetails:function(e){var t=this.getCollaborators();for(var n=0;t&&n<t.length;n++){var r=t[n];if(r.userId&&e.get("user_id")&&r.userId==e.get("user_id"))return r;if(r.email&&e.get("email")&&r.email.toLowerCase()==e.get("email").toLowerCase())return r}return null},getCollaborators:function(){var e=this.getInfo(),t=this.get("collaborators"),n=undefined;return n=this.getParticipantsInfo(),_.isUndefined(n)&&(n=[]),_.isUndefined(t)?undefined:(_.each(n,_.bind(function(e){if(_.isUndefined(e.id)||e.id==="")return;var n=_.find(t,_.bind(function(t){return e.id===t.collaboratorId},this));if(n)return;e.email&&(t=_.filter(t,_.bind(function(t){return t.email?t.email.toLowerCase()!==e.email.toLowerCase():!0},this))),e.role==="creator"?t.push({collaboratorId:e.id,displayName:e.name,userId:e.adobe_id,email:e.email,avatarURL:e.imgUrl,isOwner:!0}):e.role==="participant"&&t.push({collaboratorId:e.id,displayName:e.name,userId:e.adobe_id,avatarURL:e.imgUrl,email:e.email})},this)),t.length?(this.setCollaborators(t),t):(this.setCollaborators(undefined),undefined))},setCollaborators:function(e){this.set("collaborators",e,{silent:!0})},getParticipant:function(e,t){var n=this.get("participants");for(var r=0;r<n.length;r++){var i=n[r];if(i.adobe_id&&e&&i.adobe_id==e)return i;if(i.email&&t&&i.email.toLowerCase()==t.toLowerCase())return i}return null},getParticipantById:function(e){var t=this.get("participants");for(var n=0;n<t.length;n++){var r=t[n];if(r.id&&e&&r.id==e)return r}return{}},setParticipantAvatar:function(e,t,n){var r=this.getParticipant(e,t);r&&(r.avatarURL=n)},getId:function(){var e=this.getInfo(),t="";return e&&(t=e.invitationUrn&&e.invitationUrn!=""?e.invitationUrn:e.id),t!=""?t:this.get("asset_id")},isAEPReviewFile:function(){return this.attributes.bootstrap&&this.attributes.bootstrap.parcel_data&&this.attributes.bootstrap.parcel_data.can_make_comments?!0:!1},isAEPViewFile:function(){return this.attributes.bootstrap&&this.attributes.bootstrap.parcel_data&&!this.attributes.bootstrap.parcel_data.can_make_comments?!0:!1},getLastAccessDate:function(){return this.get("user_last_access_date")},setLastAccessDate:function(e){this.set("user_last_access_date",e)},_getParcelName:function(e,t,r){var s,o,u=this.attributes.WorkflowType;s=this.getInfo();if(u===n.SEND_TRACK){var a=i.isGreaterThanCutoffDate(this.get("create_date"),r);s.intro_subject&&a&&(o=s.intro_subject);if(e=="multi"||o===""||o===undefined){var f=this.get("resources");f?o=f[0].name:o="-"}}else if(u===n.REVIEW){s.intro_subject&&(o=s.intro_subject);if(!o||o===""){var f=this.getSingleResource();f?f.length===1?o=f[0].name:o=_.template(t,{numFiles:f.length}):o=0}}return o}}),e.ParcelModel}),define("core/dev/models/uss-search-model",["core/ac-core","core/models/model","core/models/parcel-model"],function(e){return e.USSSearchModel=e.Model.extend({search_scopes:["recent","document_cloud","parcel","review","sign"],initialize:function(t,n){e.Model.prototype.initialize.call(this),this.set("total_hits",0),this.set("search_status","pending"),this.set("search_disabled",{}),this.globalSearchModelsMap={}},signMSUrl:function(){},getSearchModel:function(t){if(t){var n=this.get(t);return n||(n=e.modelFactory.create("SearchModel",{}),this.set(t,n)),n}},getGlobalSearchModel:function(t){if(t){var n=this.globalSearchModelsMap[t];return n||(n=e.modelFactory.create("SearchModel",{}),this.globalSearchModelsMap[t]=n),n}},syncSearchResultCount:function(){var e=0;_.each(this.search_scopes,_.bind(function(t){var n=this.getSearchModel(t);e+=n.getSearchResultCount()},this)),this.set("total_hits",e)},getSearchResultCount:function(e){return e&&this.get(e)?this.get(e).get("total_hits"):this.get("total_hits")},resetUSSSearchResults:function(){_.each(this.search_scopes,_.bind(function(e){var t=this.getSearchModel(e);t.set("total_hits",0),t.get("items").reset(),_.isUndefined(t.get("parcelCollection"))||t.get("parcelCollection").reset()},this)),this.set("total_hits",0),this.set("search_status","pending")},isSearchCategoryDisabled:function(e){return this.get("search_disabled")[e]},isSearchCategoryHidden:function(e){return this.get("search_hidden")[e]},isSearchClosed:function(){return this.get("search_status")==="closed"},closeSearch:function(){return this.set("search_status","closed")}}),e.USSSearchModel}),define("core/dev/models/send-log-event-model",["core/ac-core","core/models/model"],function(e){return e.SendLogEventModel=e.Model.extend({url:function(){return Ac.baseFilesUrisModel.getApiUri()+"send_log_event?"+this._getClientIdQueryParam()}}),e.SendLogEventModel}),define("core/dev/models/session-model",["core/ac-core","core/models/model"],function(e){return e.SessionModel=e.Model.extend({url:function(){return this._getBaseUrl()+"?"+this._getClientIdQueryParam()},getSignOutUrl:function(){return this._getBaseUrl()+"sign_out?"+this._getClientIdQueryParam()},getDownloadTicketUrl:function(){return this._getBaseFilesUrl()+"download_ticket"},_getBaseUrl:function(){return Ac.baseCloudUrisModel.getApiUri()+"session/"},_getBaseFilesUrl:function(){return Ac.baseFilesUrisModel.getApiUri()+"session/"}}),e.SessionModel}),define("core/dev/models/sharing-info-model",["core/ac-core","core/models/model"],function(e){return e.SharingInfoModel=e.Model.extend({recognized:{chunk_start:{type:"number",optional:!1},chunk_end:{type:"number",optional:!1},chunk_size:{type:"number",optional:!1}},defaults:{chunk_start:0,chunk_end:-1,chunk_size:20},initialize:function(){e.Model.prototype.initialize.call(this)},reset:function(e){var t;this.set({chunk_start:0,chunk_end:-1,chunk_size:20,models:e}),this._allFolders=!0;for(t=0;t<e.length;t+=1)if(!e[t].isFolder()){this._allFolders=!1;break}},url:function(){var e,t,n=this.get("models"),r,i=!0,s;e=Ac.baseFilesUrisModel.getSendApiUri()+"tracked_files/";while(i){this.set("chunk_start",this.get("chunk_end")+1),this.get("chunk_start")+this.get("chunk_size")>=n.length?r=n.length-this.get("chunk_start"):r=this.get("chunk_size");if(r<=0)break;this.set("chunk_end",this.get("chunk_end")+r);for(t=this.get("chunk_start");t<=this.get("chunk_end");t+=1)s=n[t],s.isFolder()||(e+=s.get("id")+";",i=!1)}return e=e.slice(0,e.length-1),e+="?active_only=true&ids_only=true",e+="&"+this._getClientIdQueryParam(),e},moreChunks:function(){return!this._allFolders&&this.get("models").length>this.get("chunk_end")+1}}),e.SharingInfoModel}),define("core/dev/models/sharing-root-model",["core/ac-core","core/models/model"],function(e){return e.SharingRootModel=e.Model.extend({url:function(){return Ac.baseFilesUrisModel.getSendApiUri()+"root?"+this._getClientIdQueryParam()}}),e.SharingRootModel}),define("core/dev/models/sign-out-model",["core/ac-core","core/models/model"],function(e){return e.SignOutModel=e.Model.extend({url:function(){return Ac.baseCloudUrisModel.getApiUri()+"session/sign_out?"+this._getClientIdQueryParam()}}),e.SignOutModel}),define("core/dev/models/storage-quota-model",["core/ac-core","core/models/model"],function(e){return e.StorageQuotaModel=e.Model.extend({url:function(){return Ac.baseFilesUrisModel.getApiUri()+"users/me/quotas/storage?"+this._getClientIdQueryParam()}}),e.StorageQuotaModel}),define("core/dev/models/system-folders-model",["core/ac-core","core/utils/http-util","core/utils/string-util","core/utils/uri-template-util","core/models/model"],function(e,t,n,r){return e.SystemFoldersModel=e.Model.extend({url:function(){return Ac.baseFilesUrisModel.getApiUri()+"system_folders?"+this._getClientIdQueryParam()},getMetadataUrl:function(e){if(this.get("appApi").discoveryUrisApi.useDCApi()){var t=Ac.discoveryUrisModel.getFolderUriTemplate(),n=r.getExpandedURIFromURITemplate(t,{folder_id:e}),i=Ac.discoveryUrisModel.getFoldersListUri(),s={folder_uri:n},o=r.getExpandedURIFromURITemplate(i,s);return o}var u=this._getBaseUrl();return u+="?metadata=name,members",u},customizeOptions:function(t,n){return e.Model.prototype.customizeOptions.call(this,t,_.extend({},n,{bhAcceptVersion:2}))},defaults:{orderby:"name",orderdirection:"ascending",metadata:"name,content_type,created,modified,parent_id,size,last_pagenum,last_access,source,ts_sent,members"},initialize:function(){var t;e.Model.prototype.initialize.call(this),t=e.collectionFactory.create("Collection"),this.set("items",t),t.comparator="index"},getPathUrl:function(){return this._getBaseUrl()+"/path?"+this._getClientIdQueryParam()},fetch:function(n){var r;return n=n||{},this.sharingField="ts_sent",n.data=_.extend({},{orderby:this.get("orderby"),orderdirection:this.get("orderdirection"),metadata:this.get("metadata"),"x-api-client-id":t.REQUEST_HEADER_CLIENT_ID},n.data),n.limitedApi&&(this._useLimitedApi=!0),r=e.Model.prototype.fetch.call(this,n),n.limitedApi&&(this._useLimitedApi=!1),r},parse:function(e){var t=this.get("items"),n,r;if(!e)return;if(e.status===304)return;return n=e.body,r=n?n.members:e.members,_.each(r,function(e,t){e.index=t}),t.set(r,{silent:!0,sharingField:this.sharingField}),e},_getBaseUrl:function(){var e=Ac.baseFilesUrisModel.getApiUri()+"folders/"+encodeURIComponent(this.get("id"));return this._useLimitedApi&&(e=n.getLimitedUrl(e)),e}}),e.SystemFoldersModel}),define("core/dev/models/users-me-cohorts-model",["core/ac-core","core/models/model"],function(e){e.UsersMeCohortsModel=e.Model.extend({url:function(){return Ac.baseCloudUrisModel.getApiUri()+"users/me/cohorts?"+this._getClientIdQueryParam()}})}),define("core/dev/models/model-factory",["core/ac-core","core/models/model","core/models/asset-model","core/models/base-cloud-uris-model","core/models/base-files-uris-model","core/models/collection-item-model","core/models/common-limits-model","core/models/connectors-ui-helpers-model","core/models/file-upload-model","core/models/folder-model","core/models/folder-model-dcapi","core/models/network-connectivity-model","core/models/notification-model","core/models/refresh-session-model","core/models/root-model","core/models/search-model","core/models/uss-search-model","core/models/send-log-event-model","core/models/session-model","core/models/sharing-info-model","core/models/sharing-root-model","core/models/sign-out-model","core/models/storage-quota-model","core/models/system-folders-model","core/models/users-me-cohorts-model"],function(e){return e.ModelFactory=e.Model.extend({create:function(t,n,r){var i=e[t];if(!!i)return new i(n,r);LOG(0,"AcCore.ModelFactory.create: Unrecognized class: "+t)}}),e.ModelFactory}),define("core/dev/models/ui/actions-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.ActionsUiModel=e.UiModel.extend({recognized:{callbacks_by_action_id:{type:"object",optional:!1}},defaults:{callbacks_by_action_id:{}},addCallback:function(e,t){var n=this.get("callbacks_by_action_id"),r=n[e];r||(n[e]=r=[]),_.indexOf(r,t)<0&&r.push(t)},removeCallback:function(e,t){var n=this.get("callbacks_by_action_id"),r=n[e],i;if(!r||!t)return;i=_.indexOf(r,t),i>=0&&(r.splice(i,1),r.length===0&&delete n[e])},triggerAction:function(e,t){var n=this.get("callbacks_by_action_id"),r=n[e],i=0,s,o;if(!r)return;s=r.length;for(i=0;i<s;i+=1)o=r[i],o&&o(e,t)}}),e.ActionsUiModel}),define("core/dev/models/ui/bar-graph-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.BarGraphUiModel=e.UiModel.extend({recognized:{current_value:{type:"number",optional:!1},total_value:{type:"number",optional:!1}}}),e.BarGraphUiModel}),define("core/dev/models/ui/collection-item-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.CollectionItemUiModel=e.UiModel.extend({recognized:{selected:{type:"boolean",optional:!1},masked:{type:"boolean",optional:!1}},defaults:{selected:!1,masked:!1}}),e.CollectionItemUiModel}),define("core/dev/models/ui/collection-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.CollectionUiModel=e.UiModel.extend({recognized:{is_active:{type:"boolean",optional:!1},is_mouse_over:{type:"boolean",optional:!1},show_empty:{type:"boolean",optional:!1},is_item_excluded:{type:"function",optional:!0},item_count:{type:"number",optional:!0},has_vertical_scrollbar:{type:"boolean",optional:!1},item_ui_models:{type:"object",optional:!1}},defaults:{is_active:!0,is_mouse_over:!1,show_empty:!1,has_vertical_scrollbar:!1,item_ui_models:{}},clearItemUiModels:function(){this.set("item_ui_models",{})},getItemUiModel:function(t){var n=t.data("id"),r,i=this.get("item_ui_models");return r=i[n],r||(r=i[n]=e.uiModelFactory.create("CollectionItemUiModel")),r}}),e.CollectionUiModel}),define("core/dev/models/ui/collections-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.CollectionsUiModel=e.UiModel.extend({recognized:{checkbox:{type:"boolean",optional:!1},data_render_delay:{type:"number",optional:!1},scroll_duration:{type:"number",optional:!1},scroll_id_into_view:{type:"string",optional:!0},scroll_render_delay:{type:"number",optional:!1},scroll_listen_delay:{type:"number",optional:!1},scroll_recheck_delay:{type:"number",optional:!1},scroll_listen_timer_id:{type:"number",optional:!0},view:{type:"string",optional:!1,choices:["list","thumbnail"]},folders_only:{type:"boolean",optional:!1},filter_by_extension:{type:"array",optional:!1},force_empty:{type:"boolean",optional:!0},force_empty_msg:{type:"string",optional:!0},last_active_row_index:{type:"number",optional:!1}},defaults:{checkbox:!0,data_render_delay:10,scroll_duration:250,scroll_render_delay:250,scroll_listen_delay:250,scroll_recheck_delay:750,folders_only:!1,filter_by_extension:[],force_empty:!1,force_empty_msg:"",last_active_row_index:-1},isListView:function(){return this.get("view")==="list"},isThumbnailView:function(){return this.get("view")==="thumbnail"},hasViewQueryParam:function(e){return!_.isUndefined(e.view)}},{VIEW_LIST:"list",VIEW_THUMBNAIL:"thumbnail"}),e.CollectionsUiModel}),define("core/dev/models/ui/dialogs-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.DialogsUiModel=e.UiModel.extend({recognized:{open:{type:"array",optional:!1}},defaults:{open:[]},initialize:function(){e.UiModel.prototype.initialize.call(this),this.set("open",[])},pushDialog:function(e){var t=this.get("open"),n=t.length;if(n===0||t[n-1]!==e)n=t.push(e);return this.trigger("change:open",t),n},popDialog:function(e){var t=this.get("open"),n=t.length,r;for(r=n-1;r>=0;r-=1)if(e===t[r]){t.splice(r,1);break}return this.trigger("change:open",t),e},getDialogCount:function(){return this.get("open").length},closeAll:function(){var e=this.get("open"),t=e.length,n,r;for(n=t-1;n>=0;n-=1)r=e[n],r?r.close(!1,{noAnimation:!0,noHistoryEffect:!0}):e.splice(n,1);this.trigger("change:open",e)}}),e.DialogsUiModel}),define("core/dev/models/ui/error-ui-model",["core/ac-core","i18n!core/nls/ui-strings","core/utils/util","core/models/ui/ui-model"],function(e,t,n){return e.ErrorUiModel=e.UiModel.extend({recognized:{modules_not_loaded:{type:"array",optional:!1},error:{type:"object",optional:!0}},defaults:{modules_not_loaded:[]},initialize:function(){e.UiModel.prototype.initialize.call(this),this._ajaxErrorQueue=[],this._dupErrorQueue=[],this._quotaErrorQueue=[],this._miscErrorQueue=[]},moduleNotLoaded:function(e){this.get("modules_not_loaded").push(e)},getModulesNotLoaded:function(){return this.get("modules_not_loaded")},getStatusErrorStrings:function(t){var n=e.ErrorUiModel;return n.HTTP_ERROR_STRINGS[t]||n.DEFAULT_ERROR_STRINGS},getErrorStrings:function(t){var n,r=t.type;return r===e.ErrorUiModel.ERROR_TYPE_AJAX?n=this.getAjaxErrorStrings(t):r===e.ErrorUiModel.ERROR_TYPE_DUP?n={}:r===e.ErrorUiModel.ERROR_TYPE_MISC?n=this.getMiscErrorStrings(t):(LOG(0,"AcCore.ErrorUiModel.getErrorStrings: Unrecognized error type: "+r),n={}),n},getAjaxErrorStrings:function(e){var n,r=e.data,i=r.status;return i===0?n={title:t.ERROR,msg:r.statusText,btn1:t.OK}:i===403?n=this.getAjax403ErrorStrings(e.data):n=this.getStatusErrorStrings(i),n},getMiscErrorStrings:function(e){return{title:e.data.title,msg:e.data.msg,btn1:t.CLOSE}},getAjax403ErrorStrings:function(e){var r;return this.isQuotaExceededError(e)?r={title:n.isCEF()?t.HTTP_STATUS_403_QUOTA_TITLE_CEF:t.HTTP_STATUS_403_QUOTA_TITLE,msg:t.HTTP_STATUS_403_QUOTA_MSG,btn1:t.CLOSE}:this.isDeleteNonEmptyFolderError(e)?r={title:n.isCEF()?t.HTTP_STATUS_403_DEL_FOLDER_TITLE_CEF:t.HTTP_STATUS_403_DEL_FOLDER_TITLE,msg:t.HTTP_STATUS_403_DEL_FOLDER_MSG,btn1:t.CLOSE}:this.isUnsupportedSharingMimeTypeError(e)?r={title:n.isCEF()?t.HTTP_STATUS_403_NO_SHARING_TITLE_CEF:t.HTTP_STATUS_403_NO_SHARING_TITLE,msg:t.HTTP_STATUS_403_NO_SHARING_MSG,btn1:t.CLOSE}:this.isVirusDetectedError(e)?r={title:n.isCEF()?t.HTTP_STATUS_403_VIRUS_TITLE_CEF:t.HTTP_STATUS_403_VIRUS_TITLE,msg:t.HTTP_STATUS_403_VIRUS_MSG,btn1:t.CLOSE}:this.isUserEncryptedError(e)?r={title:n.isCEF()?t.HTTP_STATUS_403_ENCRYPTION_TITLE_CEF:t.HTTP_STATUS_403_ENCRYPTION_TITLE,msg:t.HTTP_STATUS_403_ENCRYPTION_MSG,btn1:t.CLOSE}:r={title:n.isCEF()?t.HTTP_STATUS_403_TITLE_CEF:t.HTTP_STATUS_403_TITLE,msg:t.HTTP_STATUS_403_MSG,btn1:t.CLOSE},r},clearQueue:function(){this._ajaxErrorQueue=[],this._dupErrorQueue=[],this._quotaErrorQueue=[],this.dequeueError()},enqueueAjaxError:function(t){var n={type:e.ErrorUiModel.ERROR_TYPE_AJAX,data:t};if(t.status===0)return;this.get("error")?this._ajaxErrorQueue.push(n):this.set("error",n)},enqueueDupError:function(t,n){var r={type:e.ErrorUiModel.ERROR_TYPE_DUP,data:t};n||this.get("error")?this._dupErrorQueue.push(r):this.set("error",r)},enqueueQuotaError:function(){var t={type:e.ErrorUiModel.ERROR_TYPE_QUOTA};this._quotaErrorQueue.push(t)},enqueueMiscError:function(t,n){var r={type:e.ErrorUiModel.ERROR_TYPE_MISC,data:{title:t,msg:n}};this.get("error")?this._miscErrorQueue.push(r):this.set("error",r)},dequeueError:function(){var e=this._dequeueAjaxError()||this._dequeueDupError()||this._dequeueQuotaError()||this._dequeueMiscError();e?this.set("error",e):this.unset("error")},dequeueQuotaError:function(){if(!this.get("error")){this.set("error",this._dequeueQuotaError());if(this.get("error"))return!0}return!1},dequeueDupError:function(){if(!this.get("error")){this.set("error",this._dequeueDupError());if(this.get("error"))return!0}return!1},isQuotaExceededError:function(t){return this._isResponseOfType(t,403,e.ErrorUiModel.CODE_QUOTA_EXCEEDED)},isDeleteNonEmptyFolderError:function(t){return this._isResponseOfType(t,403,e.ErrorUiModel.CODE_FOLDER_NOT_EMPTY)},isUnsupportedSharingMimeTypeError:function(t){return this._isResponseOfType(t,403,e.ErrorUiModel.CODE_UNSUPPORTED_SHARING_MIMETYPE)},isVirusDetectedError:function(t){return this._isResponseOfType(t,403,e.ErrorUiModel.CODE_VIRUS_DETECTED)},isUserEncryptedError:function(t){return this._isResponseOfType(t,403,e.ErrorUiModel.CODE_USER_ENCRYPTED)},_dequeueAjaxError:function(){var e,t,n;e=this._ajaxErrorQueue;if(e.length===0)return undefined;t=this.get("error").data,n=e.shift();while(n&&n.data.status===t.status)n=e.shift();return n},_dequeueDupError:function(){var e=this._dupErrorQueue;if(e.length>0)return e.shift()},_dequeueQuotaError:function(){var e=this._quotaErrorQueue;if(e.length>0)return e.shift()},_dequeueMiscError:function(){var e=this._miscErrorQueue;if(e.length>0)return e.shift()},_isResponseOfType:function(e,t,n){var r;try{r=JSON.parse(e.responseText).error.code===n}catch(i){}return e.status===t&&e.responseText&&r}},{ERROR_TYPE_AJAX:"ajax",ERROR_TYPE_DUP:"dup",ERROR_TYPE_QUOTA:"quota",ERROR_TYPE_MISC:"misc",CODE_QUOTA_EXCEEDED:"QuotaExceeded",CODE_FOLDER_NOT_EMPTY:"FolderNotEmpty",CODE_UNSUPPORTED_SHARING_MIMETYPE:"UnsupportedSharingMimeType",CODE_VIRUS_DETECTED:"VirusDetected",CODE_ILLEGAL_NAME:"IllegalName",CODE_INVALID_PARAMETER:"InvalidParameter",CODE_USER_ENCRYPTED:"UserEncrypted",DUP_TYPE_MOVE:"dup_move",DUP_TYPE_UPLOAD:"dup_upload",DEFAULT_ERROR_STRINGS:{title:t.HTTP_STATUS_DEFAULT_TITLE,msg:n.isCEF()?t.HTTP_STATUS_DEFAULT_MSG_CEF:t.HTTP_STATUS_DEFAULT_MSG,btn1:t.OK},HTTP_ERROR_STRINGS:{0:{title:t.HTTP_STATUS_DEFAULT_TITLE,msg:n.isCEF()?t.HTTP_STATUS_DEFAULT_MSG_CEF:t.HTTP_STATUS_DEFAULT_MSG,btn1:t.OK},400:{title:n.isCEF()?t.HTTP_STATUS_400_TITLE_CEF:t.HTTP_STATUS_400_TITLE,msg:n.isCEF()?t.HTTP_STATUS_DEFAULT_MSG_CEF:t.HTTP_STATUS_400_MSG,btn1:t.OK},401:{title:n.isCEF()?t.HTTP_STATUS_401_TITLE_CEF:t.HTTP_STATUS_401_TITLE,msg:n.isCEF()?t.HTTP_STATUS_401_MSG_CEF:t.HTTP_STATUS_401_MSG,btn1:t.OK},403:{title:n.isCEF()?t.HTTP_STATUS_403_TITLE_CEF:t.HTTP_STATUS_403_TITLE,msg:t.HTTP_STATUS_403_MSG,btn1:t.OK},404:{title:n.isCEF()?t.HTTP_STATUS_404_TITLE_CEF:t.HTTP_STATUS_404_TITLE,msg:t.HTTP_STATUS_404_MSG,btn1:t.OK},405:{title:n.isCEF()?t.HTTP_STATUS_405_TITLE_CEF:t.HTTP_STATUS_405_TITLE,msg:t.HTTP_STATUS_405_MSG,btn1:t.OK},406:{title:n.isCEF()?t.HTTP_STATUS_406_TITLE_CEF:t.HTTP_STATUS_406_TITLE,msg:n.isCEF()?t.HTTP_STATUS_DEFAULT_MSG_CEF:t.HTTP_STATUS_406_MSG,btn1:t.OK},415:{title:n.isCEF()?t.HTTP_STATUS_415_TITLE_CEF:t.HTTP_STATUS_415_TITLE,msg:n.isCEF()?t.HTTP_STATUS_DEFAULT_MSG_CEF:t.HTTP_STATUS_415_MSG,btn1:t.OK},500:{title:n.isCEF()?t.HTTP_STATUS_500_TITLE_CEF:t.HTTP_STATUS_500_TITLE,msg:n.isCEF()?t.HTTP_STATUS_DEFAULT_MSG_CEF:t.HTTP_STATUS_500_MSG,btn1:t.OK},501:{title:n.isCEF()?t.HTTP_STATUS_501_TITLE_CEF:t.HTTP_STATUS_501_TITLE,msg:n.isCEF()?t.HTTP_STATUS_DEFAULT_MSG_CEF:t.HTTP_STATUS_501_MSG,btn1:t.OK},502:{title:t.HTTP_STATUS_DEFAULT_TITLE,msg:n.isCEF()?t.HTTP_STATUS_DEFAULT_MSG_CEF:t.HTTP_STATUS_DEFAULT_MSG,btn1:t.OK},503:{title:n.isCEF()?t.HTTP_STATUS_503_TITLE_CEF:t.HTTP_STATUS_503_TITLE,msg:n.isCEF()?t.HTTP_STATUS_DEFAULT_MSG_CEF:t.HTTP_STATUS_503_MSG,btn1:t.OK}}}),e.ErrorUiModel}),define("core/dev/models/ui/file-upload-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.FileUploadUiModel=e.UiModel.extend({recognized:{is_listening:{type:"boolean",optional:!1},is_uploading:{type:"boolean",optional:!1},jq_xhr:{type:"object",optional:!0},start_listening:{type:"boolean",optional:!1},post_upload_default_delay:{type:"number",optional:!1},post_upload_alt_delay:{type:"number",optional:!1},post_upload_use_alt_delay:{type:"boolean",optional:!1}},defaults:{is_listening:!1,is_uploading:!1,start_listening:!1},startListening:function(){this.set("start_listening",!0).set("start_listening",!1,{silent:!0})},getPostUploadDelay:function(){return this.get("post_upload_use_alt_delay")?this.get("post_upload_alt_delay"):this.get("post_upload_default_delay")},getPostUploadAltDelay:function(){return this.get("post_upload_alt_delay")}}),e.FileUploadUiModel}),define("core/dev/models/ui/folder-tree-node-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.FolderTreeNodeUiModel=e.UiModel.extend({recognized:{selected:{type:"boolean",optional:!1},expanded:{type:"boolean",optional:!1}},defaults:{selected:!1,expanded:!1}}),e.FolderTreeNodeUiModel}),define("core/dev/models/ui/folder-tree-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.FolderTreeUiModel=e.UiModel.extend({recognized:{level_indent:{type:"number",optional:!1}},defaults:{level_indent:30}}),e.FolderTreeUiModel}),define("core/dev/models/ui/folder-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.FolderUiModel=e.UiModel.extend({recognized:{breadcrumbs:{type:"boolean",optional:!1},path:{type:"array",optional:!1},route_folder_id:{type:"string",optional:!0}},defaults:{breadcrumbs:!0,path:[]}}),e.FolderUiModel}),define("core/dev/models/ui/full-preview-ui-model",["core/ac-core","core/utils/view-util","core/models/ui/ui-model"],function(e,t){return e.FullPreviewUiModel=e.UiModel.extend({recognized:{item_model:{type:"object",optional:!0},standalone:{type:"boolean",optional:!1},read_only:{type:"boolean",optional:!1},page_count:{type:"number",optional:!0},current_page:{type:"number",optional:!0},align_current_page:{type:"boolean",optional:!1},loaded_page:{type:"number",optional:!0},view_format:{type:"string",optional:!1,choices:["scroll_pages","fit_page_width","fit_full_page"]},got_current_scroll_page:{type:"boolean",optional:!1},got_rendition_load_error:{type:"boolean",optional:!1},scroll_pages_chunk:{type:"number",optional:!1},scroll_debounce_delay:{type:"number",optional:!1},preview_elem:{type:"object",optional:!1},scroll_bar_width:{type:"number",optional:!1},show_info:{type:"boolean",optional:!1},show_rhp:{type:"boolean",optional:!1},toggle_rhp_duration:{type:"number",optional:!1},is_hud_dismissed:{type:"boolean",optional:!1},show_action_menu:{type:"boolean",optional:!1},loaded_fitandfull_page:{type:"number",optional:!0},loaded_scroll_pages:{type:"object",optional:!0},prev_non_preview_path:{type:"string",optional:!0},prev_document_title:{type:"string",optional:!0},restore_focus_delay:{type:"number",optional:!1},enable_ngdoc:{type:"boolean",optional:!1},ngdoc_job_id:{type:"string",optional:!0},ngdoc_job_status:{type:"string",optional:!0,choices:["not_started","in_progress","completed","failed"]},ngdoc_timer_id:{type:"number",optional:!0},ngdoc_timer_delay:{type:"number",optional:!0},view_type:{type:"string",optional:!1,choices:["bitmap","ngdoc"]},zoom_factor:{type:"number",optional:!0},aspect_ratio_pages:{type:"object",optional:!0}},defaults:{standalone:!1,read_only:!1,align_current_page:!0,view_format:"scroll_pages",scroll_pages_chunk:10,scroll_debounce_delay:100,show_info:!1,show_rhp:!0,toggle_rhp_duration:500,show_action_menu:!1,enable_ngdoc:!1,ngdoc_job_id:undefined,ngdoc_job_status:"not_started",ngdoc_timer_id:undefined,ngdoc_timer_delay:2e3,view_type:"bitmap",is_hud_dismissed:!1,zoom_factor:1,aspect_ratio_pages:{},restore_focus_delay:500},initialize:function(){e.UiModel.prototype.initialize.call(this),this.set("scroll_bar_width",t.getScrollBarWidth())},init:function(e,t){e=e||{},this.set(_.extend({page_count:undefined,current_page:0,loaded_page:undefined,got_current_scroll_page:!1,got_rendition_load_error:!1,align_current_page:!0,view_format:"scroll_pages",show_action_menu:!1,show_info:!1,loaded_fitandfull_page:undefined,loaded_scroll_pages:undefined,enable_ngdoc:!1,ngdoc_job_id:undefined,ngdoc_job_status:"not_started",ngdoc_timer_delay:2e3,view_type:"bitmap",zoom_factor:1,aspect_ratio_pages:{}},e),{silent:t})},close:function(e){var t={silent:e};this.unset("item_model",t),this.unset("page_count",t),this.init(undefined,e)},getFileName:function(){var e=this.get("item_model");return e?e.get("name"):""},isFileOpen:function(e){var t=this.get("item_model"),n=!_.isUndefined(t);return e?n&&t.id===e:n},getViewFormat:function(){return this.get("view_format")},isScrollPagesView:function(){return this.getViewFormat()==="scroll_pages"},isFitPageWidthView:function(){return this.getViewFormat()==="fit_page_width"},isFitFullPageView:function(){return this.getViewFormat()==="fit_full_page"},isNGDocView:function(){return this.get("enable_ngdoc")&&this.get("view_type")==="ngdoc"},ngdocJobStarted:function(){this.set("ngdoc_job_status","in_progress")},ngdocJobCompleted:function(){this.set("ngdoc_job_status","completed")},isNGDocJobRunning:function(){return this.get("ngdoc_job_status")==="in_progress"},isNGDocJobComplete:function(){return this.get("ngdoc_job_status")==="completed"}}),e.FullPreviewUiModel}),define("core/dev/models/ui/hover-preview-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.HoverPreviewUiModel=e.UiModel.extend({recognized:{enabled:{type:"boolean",optional:!1},suppressed_id:{type:"string",optional:!0},show_delay:{type:"number",optional:!1},item_leave_delay:{type:"number",optional:!1},preview_leave_delay:{type:"number",optional:!1},item_view:{type:"object",optional:!0},collection_items_view:{type:"object",optional:!0},page_count:{type:"number",optional:!0},current_page:{type:"number",optional:!1},width:{type:"number",optional:!1},min_width_name:{type:"number",optional:!1},min_width_nav:{type:"number",optional:!1}},defaults:{enabled:!0,show_delay:200,item_leave_delay:400,preview_leave_delay:400,current_page:0,width:0,min_width_name:250,min_width_nav:160},init:function(e){e=e||{},this.set(_.extend({current_page:0,page_count:undefined,width:0},e))},getItemId:function(){var e=this.get("item_view"),t;return e?(t=e.model,t?t.id:undefined):undefined},close:function(){this.unset("item_view"),this.init()},suppress:function(e){this.close(),this.set("suppressed_id",e)},isSuppressed:function(e){return this.get("suppressed_id")===e},unsuppress:function(){this.unset("suppressed_id")}}),e.HoverPreviewUiModel}),define("core/dev/models/ui/inactivity-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.InactivityUiModel=e.UiModel.extend({recognized:{is_active:{type:"boolean",optional:!1},is_idle:{type:"boolean",optional:!1},timeout_id:{type:"number",optional:!0},idle_timeout:{type:"number",optional:!1},restart_debounce_delay:{type:"number",optional:!1}},defaults:{is_active:!0,is_idle:!1,idle_timeout:36e5,restart_debounce_delay:1e3}}),e.InactivityUiModel}),define("core/dev/models/ui/key-ui-model",["core/ac-core","core-unmapped/dev/utils/app-api-mgr","core/models/ui/ui-model"],function(e,t){return e.KeyUiModel=e.UiModel.extend({pushKeyHandler:function(e){return this._getKeyApi().pushKeyHandler(e)},popKeyHandler:function(e){return this._getKeyApi().popKeyHandler(e)},pushKeyConsumer:function(){this._getKeyApi().pushKeyConsumer()},popKeyConsumer:function(){this._getKeyApi().popKeyConsumer()},_getKeyApi:function(){return t.getAppApi("dev").keyApi}}),e.KeyUiModel}),define("core/dev/models/ui/left-rail-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.LeftRailUiModel=e.UiModel.extend({recognized:{is_editing:{type:"boolean",optional:!1}},defaults:{is_editing:!1}}),e.LeftRailUiModel}),define("core/dev/models/ui/menus-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.MenusUiModel=e.UiModel.extend({recognized:{close_animation_delay:{type:"number",optional:!1},focus_delay:{type:"number",optional:!1},focus_timeout_id:{type:"number",optional:!0}},defaults:{close_animation_delay:100,focus_delay:300}}),e.MenusUiModel}),define("core/dev/models/ui/network-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.NetworkUiModel=e.UiModel.extend({recognized:{is_ajax_request_active:{type:"boolean",optional:!1}},defaults:{is_ajax_request_active:!1}}),e.NetworkUiModel}),define("core/dev/models/ui/notification-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.NotificationUiModel=e.UiModel.extend({recognized:{is_restarting:{type:"boolean",optional:!1},is_monitoring:{type:"boolean",optional:!1},is_polling:{type:"boolean",optional:!1},callbacks_by_folder_id:{type:"object",optional:!1},is_long_polling_enabled:{type:"boolean",optional:!1},poll_interval:{type:"number",optional:!1},poll_trigger:{type:"boolean",optional:!1},restart_500_debounce_delay:{type:"number",optional:!1},timeout:{type:"number",optional:!1},timeout_id:{type:"number",optional:!0},timestamp:{type:"number",optional:!0},updates:{type:"boolean",optional:!1},resubscribe_timeout:{type:"number",optional:!1},resubscribe_timeout_id:{type:"number",optional:!0},resubscribe_trigger:{type:"boolean",optional:!1}},defaults:{is_restarting:!1,is_monitoring:!1,is_polling:!1,callbacks_by_folder_id:{},is_long_polling_enabled:!1,poll_interval:3e3,poll_trigger:!1,restart_500_debounce_delay:6e4,timeout:50,updates:!0,resubscribe_timeout:225e3,resubscribe_trigger:!1},isLongPollingEnabled:function(){return this.get("timeout")>0},addCallback:function(e,t){var n=this.get("callbacks_by_folder_id"),r=n[e];r||(n[e]=r=[],this.trigger("change:callbacks_by_folder_id")),_.indexOf(r,t)<0&&r.push(t)},removeCallback:function(e,t){var n=this.get("callbacks_by_folder_id"),r=n[e],i;if(!r)return;if(!t){delete n[e],this.trigger("change:callbacks_by_folder_id");return}i=_.indexOf(r,t),i>=0&&(r.splice(i,1),r.length===0&&(delete n[e],this.trigger("change:callbacks_by_folder_id")))},getFolderIds:function(){return _.keys(this.get("callbacks_by_folder_id"))},clearTimeout:function(){var e=this.get("timeout_id");e&&(window.clearTimeout(e),this.unset("timeout_id"))},triggerResubscribe:function(){this.triggerBooleanAttr("resubscribe_trigger")},triggerPoll:function(){this.triggerBooleanAttr("poll_trigger")}}),e.NotificationUiModel}),define("core/dev/models/ui/plugin-groups-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.PluginGroupsUiModel=e.UiModel.extend({recognized:{groups:{type:"object",optional:!1},group_config_loaded:{type:"object",optional:!1},group_id_by_plugin_id:{type:"object",optional:!1}},defaults:{group_config_loaded:{},group_id_by_plugin_id:{}},init:function(e){var t=e.groups,n,r=this.get("group_config_loaded"),i=this.get("group_id_by_plugin_id");this.set("groups",t),_.each(t,function(e,t){n=e.config_url,n&&(_.isBoolean(r[t])||(r[t]=!1)),_.each(e,function(e,n){_.isObject(e)&&(i[n]=t)})})},getPluginGroupByGroupId:function(e){return this.get("groups")[e]},getPluginGroupConfigUrl:function(e){var t=this.getPluginGroupByGroupId(e);return t?t.config_url:""},getPluginGroupAnalyticsUrl:function(e){return this.getPluginGroupByGroupId(e).analytics_url},getPluginGroupBaseUrl:function(e){return this.getPluginGroupByGroupId(e).base_url},setPluginGroupConfigLoaded:function(e,t){this.get("group_config_loaded")[e]=t},isPluginGroupConfigLoaded:function(e){var t=this.get("group_config_loaded")[this.get("group_id_by_plugin_id")[e]];return _.isBoolean(t)?t:!0},getPluginGroup:function(e){return this.get("groups")[this.get("group_id_by_plugin_id")[e]]},setPluginGroupId:function(e,t){this.get("group_id_by_plugin_id")[e]=t},getPluginGroupId:function(e){return this.get("group_id_by_plugin_id")[e]},getPluginBaseUrl:function(e){var t=this.getPluginGroup(e);return t?t.base_url:""},getPluginGroupCssUrl:function(e){var t=this.getPluginGroup(e);return t?t.group_css_url:""},getPluginGroupModuleUrl:function(e){var t=this.getPluginGroup(e);return t?t.group_module_url:""},getPluginGroupSelectorCssUrl:function(e){var t=this.getPluginGroup(e);return t?t.group_selector_css_url:""},getPluginGroupSelectorModuleUrl:function(e){var t=this.getPluginGroup(e);return t?t.group_selector_module_url:""},getPluginConfig:function(e){var t=this.getPluginGroup(e);return t?t[e]:{}}}),e.PluginGroupsUiModel}),define("core/dev/models/ui/plugins-ui-model",["core/ac-core","core/utils/util","core/models/ui/ui-model"],function(e,t){return e.PluginsUiModel=e.UiModel.extend({recognized:{selected_plugin_id:{type:"string",optional:!0},pending_plugin_id:{type:"string",optional:!0},default_plugin_id:{type:"string",optional:!1},ignore_selection:{type:"boolean",optional:!1},no_selectors:{type:"boolean",optional:!1},instantiate_on_load:{type:"boolean",optional:!1},plugins:{type:"object",optional:!1},deselect_delay:{type:"number",optional:!1},expanded_plugin_id:{type:"string",optional:!0}},defaults:{ignore_selection:!1,no_selectors:!1,instantiate_on_load:!0,deselect_delay:250},initialize:function(){e.UiModel.prototype.initialize.call(this),this.set("plugins",e.uiCollectionFactory.create("PluginsUiCollection")),t.isCEF()&&this.set("deselect_delay",0)},getAllIds:function(){return this.get("plugins").pluck("id")},setSelectedId:function(e,t){this.get("ignore_selection")||((!t||!t.silent)&&this.unset("selected_plugin_id",{silent:!0}),this.set("selected_plugin_id",e,t))},getSelectedId:function(){var e,t;return this.get("ignore_selection")||(e=this.get("selected_plugin_id")||this.get("default_plugin_id"),t=this.get("plugins"),t.get(e)||(e=this.getFirstEnabledId())),e},pluginsChanged:function(){this.trigger("change:plugins",this)},getFirstEnabledId:function(){var e=this.get("plugins").find(function(e){var t=e.get("plugin_api"),n;return e.get("show_plugin")?t?(n=t.isEnabled,!_.isFunction(n)||n()):!0:!1});return e?e.id:undefined},getShownPluginCount:function(){return this.get("plugins").reduce(function(e,t){return t.get("show_plugin")?e+1:e},0)},getPluginUiModel:function(e){return e||(e=this.getSelectedId()),this.get("plugins").get(e)},getBaseUrl:function(e){return this.getPluginUiModel(e).get("config").base_url},getSelectorApi:function(e){return this.getPluginUiModel(e).get("selector_api")},getPluginApi:function(e){return this.getPluginUiModel(e).get("plugin_api")}}),e.PluginsUiModel}),define("core/dev/models/ui/quota-dlg-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.QuotaDlgUiModel=e.UiModel.extend({recognized:{running_out_shown:{type:"boolean",optional:!1}},defaults:{running_out_shown:!1}},{WARNING_THRESHOLD:.8,ERROR_THRESHOLD:1,MAX_POSSIBLE_QUOTA_GB:100}),e.QuotaDlgUiModel}),define("core/dev/models/ui/rhp-preview-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.RhpPreviewUiModel=e.UiModel.extend({recognized:{item_model:{type:"object",optional:!0},page_count:{type:"number",optional:!0},current_page:{type:"number",optional:!1},fade_out_duration:{type:"number",optional:!1},focus_delay:{type:"number",optional:!1},max_image_width:{type:"number",optional:!1},max_image_height:{type:"number",optional:!1},min_image_height:{type:"number",optional:!1},properties_expanded:{type:"boolean",optional:!1},file_path:{type:"object",optional:!0},connector_info:{type:"object",optional:!0},actions_expanded:{type:"boolean",optional:!1},total_files:{type:"number",optional:!1}},defaults:{current_page:0,fade_out_duration:50,focus_delay:50,max_image_width:170,max_image_height:250,min_image_height:180,properties_expanded:!1,actions_expanded:!1},init:function(e){this.set({item_model:e,current_page:0,page_count:undefined,file_path:undefined,total_files:undefined})},expandProperties:function(e){this.set({properties_expanded:!0,actions_expanded:!1},{silent:e})},expandActions:function(e){this.set({actions_expanded:!0,properties_expanded:!1},{silent:e})}}),e.RhpPreviewUiModel}),define("core/dev/models/ui/saveas-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.SaveAsUiModel=e.UiModel.extend({recognized:{filename:{type:"string",optional:!1},isvalid:{type:"boolean",optional:!1},currentFolderId:{type:"string",optional:!1},replaceFileId:{type:"string",optional:!1},replaceFileObj:{type:"object",optional:!1},showExportOptions:{type:"boolean",optional:!1},allowSettingsButton:{type:"boolean",optional:!0},allowViewResult:{type:"boolean",optional:!0},reduceFileSize:{type:"boolean",optional:!0},restrictEditing:{type:"boolean",optional:!0},reduceFileSizeEnabled:{type:"boolean",optional:!0},restrictEditingEnabled:{type:"boolean",optional:!0},reduceFileSizeVisible:{type:"boolean",optional:!0},restrictEditingVisible:{type:"boolean",optional:!0},reduceFileSizeEnabledByParams:{type:"boolean",optional:!0},restrictEditingEnabledByParams:{type:"boolean",optional:!0},exportButtonEnabledByParams:{type:"boolean",optional:!0},exportButtonEnabled:{type:"boolean",optional:!0},exportButtonVisible:{type:"boolean",optional:!0},exportButtonSelected:{type:"boolean",optional:!1},currentFolderProxy:{type:"object",optional:!0},outputFormat:{type:"string",optional:!0},canSave:{type:"boolean",optional:!1},error:{type:"object",optional:!0},sourceKey:{type:"string",optional:!0},accountId:{type:"string",optional:!0},defaultSelectedPluginId:{type:"string",optional:!0},calledFromUpsell:{type:"boolean",optional:!0},calledFromNativeRS:{type:"boolean",optional:!1}},defaults:{filename:"",isvalid:!1,currentFolderId:"",replaceFileId:"",replaceFileObj:undefined,showExportOptions:!1,canSave:!1,sourceKey:"",accountId:"",outputFormat:undefined,defaultSelectedPluginId:"my_computer_select",calledFromUpsell:!1,calledFromNativeRS:!1},initialize:function(){e.UiModel.prototype.initialize.call(this)}},{}),e.SaveAsUiModel}),define("core/dev/models/ui/selection-ui-model",["core/ac-core","core/utils/file-types","core/models/ui/ui-model"],function(e,t){return e.SelectionUiModel=e.UiModel.extend({recognized:{selected_local_files:{type:"array",optional:!1},selected_item_models:{type:"object",optional:!1},selected_item_ui_models:{type:"object",optional:!1},multiple_selection:{type:"boolean",optional:!1},is_selection_complete:{type:"boolean",optional:!1},commit_selection:{type:"boolean",optional:!1},index_last_selected:{type:"number",optional:!0}},defaults:{selected_local_files:[],selected_item_models:{},selected_item_ui_models:{},multiple_selection:!0,is_selection_complete:!1,commit_selection:!1,index_last_selected:-1},initialize:function(){e.UiModel.prototype.initialize.call(this),this.clearSelection()},addLocalFiles:function(e){var n=this.get("selected_local_files"),r;return _.each(e,function(e){if(t.isFolder(e))return!0;n.push(e),r=!0}),r&&this.trigger("change:selected_local_files",this,n),this},removeLocalFile:function(e){var t=this.get("selected_local_files"),n=_.indexOf(t,e);return n>=0&&(t.splice(n,1),this.trigger("change:selected_local_files",this,t)),this},addLocalFileInput:function(e){var t=this.indexOfLocalFileInput(e),n;return t<0&&(n=this.get("selected_local_files"),n.push([e]),this.trigger("change:selected_local_files",this,n)),this},removeLocalFileInput:function(e){var t=this.indexOfLocalFileInput(e),n;return t>=0&&(n=this.get("selected_local_files"),n.splice(t,1),this.trigger("change:selected_local_files",this,n)),this},indexOfLocalFileInput:function(){var e=-1;return _.each(this.get("selected_local_files"),function(t,n){e<0&&_.isArray(t)&&t[0]===t&&(e=n)}),e},updateSelectedItemModel:function(e,t){var n=e.id,r=!1,i=this.get("selected_item_models");return e&&(i[n]=e,r=!0),t&&r&&this.trigger("change:selected_item_models",this,i),r},selectItem:function(e,t,n,r){var i=e.id,s,o=this.get("selected_item_models"),u=o[i],a=this.get("selected_item_ui_models");return n?u||(e.set("bootstrap",undefined),e.set("collaborators",undefined),e.set("avatarsFetched",undefined),e.set("fetchPublicProfileInfoData",undefined),o[i]=e,a[i]=t,s=!0):u&&(delete o[i],delete a[i],s=!0),t&&t.set("selected",n),r&&s&&this.trigger("change:selected_item_models",this,o),s},selectItemById:function(e,t,n){var r=this.get("selected_item_models")[e];return r?this.selectItem(r,this.get("selected_item_ui_models")[e],t,n):!1},deselectItem:function(e,t){var n=this.get("selected_item_models")[e];return n?this.selectItem(n,this.get("selected_item_ui_models")[e],!1,t):!1},deselectAllExcept:function(e,t){var n=_.keys(this.getSelectedItemModels());_.each(n,_.bind(function(n){n!==e&&this.deselectItem(n,t)},this))},triggerSelectionChange:function(){this.trigger("change:selected_item_models",this,this.get("selected_item_models"))},getSelectedItemModels:function(){return this.get("selected_item_models")},isItemSelected:function(e,t){var n=this.getSelectedItemModels();return e?!_.isUndefined(n[e])&&n[e].isRecentFileItem==t&&n[e].attributes.WorkflowType!="Creative_Cloud":_.keys(n).length>0},getNumSelectedItems:function(){return _.keys(this.getSelectedItemModels()).length},getNumSelectedItemsByType:function(e){var t=this.getSelectedItemModels();return _.reduce(t,function(t,n){return e?n.isFile()&&(t+=1):n.isFolder()&&(t+=1),t},0)},getNumSelectedFiles:function(){return this.getNumSelectedItemsByType(!0)},getNumSelectedFolders:function(){return this.getNumSelectedItemsByType(!1)},getNumSelectedForms:function(){return this.getSelectionCountByType().numForms},getSingleSelectedItemModel:function(){var e=_.values(this.getSelectedItemModels());return e.length===1?e[0]:undefined},getSelectionCount:function(){return _.keys(this.getSelectedItemModels()).length},getSelectionCountByType:function(){var e=0,t=0,n=0,r=0,i=0,s=0;return _.each(this.getSelectedItemModels(),function(o){o.isFile()?(e+=1,o.isSharedFile()&&(s+=1),o.isForm()?n+=1:o.isPDF()||(i+=1)):o.isFolder()&&(t+=1),o.isNative()||(r+=1)}),{numFiles:e,numFolders:t,numExternal:r,numForms:n,numNonPDFs:i,numShared:s}},isSelectionMasked:function(e){var t=this.get("selected_item_ui_models"),n;return e?(n=t[e],!!n&&!!n.get("masked")):!_.isUndefined(_.find(t,function(e){return e.get("masked")}))},clearSelection:function(e){return _.each(_.values(this.get("selected_item_ui_models")),function(t){t.set({selected:!1,masked:!1},{silent:e})}),this.set({selected_local_files:[],selected_item_models:{},selected_item_ui_models:{},is_selection_complete:!1,index_last_selected:-1},{silent:e})},completeSelection:function(){this.set("is_selection_complete",!0)},isSelectionComplete:function(){return this.get("is_selection_complete")},commitSelection:function(){var e="commit_selection";this.set(e,!1,{silent:!0}).set(e,!0)},isSingleSelectionMode:function(){return!this.get("multiple_selection")}},{SELECT_ALL:"all",SELECT_DESELECT:"deselect",SELECT_EXTEND:"extend",SELECT_SELECT:"select",SELECT_TOGGLE:"toggle",SELECT_HIGHLIGHT:"highlight",SELECT_DOWN:"down",SELECT_FIRST:"first",SELECT_FIRST_IN_ROW:"first_in_row",SELECT_LAST:"last",SELECT_LAST_IN_ROW:"last_in_row",SELECT_NEXT:"next",SELECT_PREVIOUS:"previous",SELECT_UP:"up",EXTEND_SELECT_DOWN:"extend_down",EXTEND_SELECT_NEXT:"extend_next",EXTEND_SELECT_PREVIOUS:"extend_previous",EXTEND_SELECT_UP:"extend_up"}),e.SelectionUiModel}),define("core/dev/models/ui/session-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.SessionUiModel=e.UiModel.extend({recognized:{primary_token:{type:"string",optional:!0},expiration_time:{type:"number",optional:!1},expiration_time_utc:{type:"number",optional:!1},refresh_timer_id:{type:"number",optional:!0},refresh_expiration_fraction:{type:"number",optional:!1}},defaults:{refresh_expiration_fraction:.6}}),e.SessionUiModel}),define("core/dev/models/ui/sort-ui-model",["core/ac-core","core/models/ui/ui-model"],function(e){return e.SortUiModel=e.UiModel.extend({recognized:{order_by:{type:"string",optional:!1,choices:["name","ext","size","created","modified","last_access","object_type"]},order_direction:{type:"object",optional:!1},mru_date_order:{type:"string",optional:!1,choices:["created","modified","last_access"]},is_locked:{type:"boolean",optional:!0}},defaults:{order_by:"name",mru_date_order:"modified",is_locked:!1},initialize:function(){e.UiModel.prototype.initialize.call(this),this.set({order_direction:{name:"ascending",ext:"ascending",size:"ascending",created:"descending",modified:"descending",last_access:"descending",object_type:"descending"}})},setOrder:function(e,t){var n=this.get("order_direction");this.set("order_by",e),this.isDateSort()&&this.set("mru_date_order",e),t&&t!==n[e]&&(n[e]=t,this.trigger("change:order_direction"))},getOrderDirection:function(e){return e=e||this.get("order_by"),this.get("order_direction")[e]},getUSSOrderDirection:function(){return this.getOrderDirection()==="ascending"?"asc":"desc"},getUSSSortOrder:function(){var t=e.SortUiModel,n=this.get("order_by");switch(n){case t.ORDER_BY_FILE_NAME:return"asset_name";case t.ORDER_BY_FILE_SIZE:return"size";case t.ORDER_BY_DATE_ADDED:return"create_date";case t.ORDER_BY_FILE_TYPE:return"document_cloud_asset_type";case t.ORDER_BY_DATE_MODIFIED:return"modify_date";case t.ORDER_BY_DATE_LAST_ACCESS:return"last_access_date";case t.ORDER_BY_OBJECT_TYPE:return"type"}return n},isAscending:function(){return this.getOrderDirection()==="ascending"},isDateSort:function(){var e=this.get("order_by");return e==="created"||e==="modified"||e==="last_access"},setSortFromQueryParams:function(e){var t=_.escape(e.order_by);if(t)try{this.setOrder(t,_.escape(e.order_direction))}catch(n){LOG("AcCore.SortUiModel.setSortFromQueryParams: "+n.message)}},hasSortQueryParam:function(e){return!_.isUndefined(e.order_by)}},{ORDER_BY_FILE_NAME:"name",ORDER_BY_FILE_TYPE:"ext",ORDER_BY_FILE_SIZE:"size",ORDER_BY_DATE_ADDED:"created",ORDER_BY_DATE_MODIFIED:"modified",ORDER_BY_DATE_LAST_ACCESS:"last_access",ORDER_BY_OBJECT_TYPE:"object_type",ORDER_ASCENDING:"ascending",ORDER_DESCENDING:"descending"}),e.SortUiModel}),define("core/dev/models/ui/ui-model-factory",["core/ac-core","core/models/model","core/models/ui/actions-ui-model","core/models/ui/bar-graph-ui-model","core/models/ui/collection-item-ui-model","core/models/ui/collection-ui-model","core/models/ui/collections-ui-model","core/models/ui/dialog-ui-model","core/models/ui/dialogs-ui-model","core/models/ui/error-ui-model","core/models/ui/file-upload-ui-model","core/models/ui/folder-tree-node-ui-model","core/models/ui/folder-tree-ui-model","core/models/ui/folder-ui-model","core/models/ui/full-preview-ui-model","core/models/ui/hover-preview-ui-model","core/models/ui/inactivity-ui-model","core/models/ui/key-ui-model","core/models/ui/left-rail-ui-model","core/models/ui/menus-ui-model","core/models/ui/network-ui-model","core/models/ui/notification-ui-model","core/models/ui/plugin-groups-ui-model","core/models/ui/plugin-ui-model","core/models/ui/plugins-ui-model","core/models/ui/quota-dlg-ui-model","core/models/ui/rhp-preview-ui-model","core/models/ui/saveas-ui-model","core/models/ui/search-ui-model","core/models/ui/selection-ui-model","core/models/ui/session-ui-model","core/models/ui/sort-ui-model"],function(e){return e.UiModelFactory=e.Model.extend({create:function(t,n,r){var i=e[t];if(!!i)return new i(n,r);LOG(0,"AcCore.UiModelFactory.create: Unrecognized class: "+t)}}),e.UiModelFactory}),define("core/dev/constants/odm-constants",["core/ac-core"],function(e){return e.ODMConstants={PRIMITIVE_PROXY:1,MAP_PROXY:2,VECTOR_PROXY:3,FUNCTION_PROXY:4,ADD_EVENT:"addProperty",REMOVE_EVENT:"removeProperty",REPLACE_EVENT:"replaceProperty",CHANGE_EVENT:"change"},e.ODMConstants}),define("core/dev/models/rna/rna-model",["core/ac-core","core/constants/odm-constants","core/utils/date-util"],function(e,t,n){return e.RNAModel=Backbone.Model.extend({shouldCache:!0,readerContext:"avAppCtx",initialize:function(e,n){var r=new $.Deferred;Backbone.Model.prototype.initialize.call(this,e,n);switch(this.url){case"pdm":this._contextPromise=r.promise(),window.odm.createContext("processType=p5:",this._onContextCreation,r,this);break;case"reader":this._contextPromise=r.promise(),window.odm.createContext("processType=p6:",this._onContextCreation,r,this,this.shouldCache,this.readerContext);break;case"cefBrowser":this._contextPromise=r.promise(),window.odm.createContext("processType=p3:",this._onContextCreation,r,this);break;default:if(n._proxy){var i,s=0;this.models||(this.models={}),n.shouldCache!==undefined&&(this.shouldCache=n.shouldCache),this._proxy=n._proxy,this._contextId=this._proxy._context,this._proxy._addEventListener("all",this._onProxyEvent,null,this);if(this._proxy._type===t.MAP_PROXY){i=this._proxy._getProps();for(s=0;s<i.length;s++)this.set(i[s],this._proxy[i[s]])}else if(this._proxy._type===t.VECTOR_PROXY){i=this._proxy._size;for(s=0;s<i;s++)this.set(s,this._proxy[s])}this.id=this._proxy._id}n._pproxy&&(this._pproxy=n._pproxy)}},hasProperty:function(e){return this._proxy?typeof this._proxy=="string"?undefined:this._proxy._hasProperty(e):Backbone.Model.prototype.get.call(this,e)},has:function(e){if(!this._proxy)return Backbone.Model.prototype.get.call(this,e)},get:function(e){var n,r;return this._proxy?(n=Backbone.Model.prototype.get.call(this,e),undefined===n?(n=this.fetchProp(e),n):null===n?n:(n._type===t.PRIMITIVE_PROXY?n=n._value:n._type!==t.MAP_PROXY&&(n._type===t.VECTOR_PROXY?n._isPrimitiveArray()&&(r=n.toJSON(),n=r):n._type===t.FUNCTION_PROXY),this.shouldCache===!1&&(n._type===t.PRIMITIVE_PROXY||n._type===t.MAP_PROXY||n._type===t.VECTOR_PROXY)&&this._proxy[e],n)):Backbone.Model.prototype.get.call(this,e)},set:function(n,r,i){var s,o,u,a;i||(i={});if(!this._proxy||!r||i.localAttr)return i.unset&&!i.localAttr&&(a=Backbone.Model.prototype.get.call(this,n)),Backbone.Model.prototype.set.call(this,n,r,i);s=this.has(n),s?(a=Backbone.Model.prototype.get.call(this,n),o=a._type):o=r._type,r._id?u=!0:u=!1,o===t.PRIMITIVE_PROXY?u?(Backbone.Model.prototype.set.call(this,n,r,i),r._addEventListener("all",this._onProxyEvent,n,this)):this._proxy[n]._set(r):o===t.MAP_PROXY||o===t.VECTOR_PROXY?(this.models[n]||(this.models[n]=o===t.MAP_PROXY?e.RNAModel:e.RNACollection),s||u&&this.models[n]&&(r=new this.models[n](undefined,_.extend(i,{_proxy:r,_pproxy:this._proxy,shouldCache:this.shouldCache}))),u?Backbone.Model.prototype.set.call(this,n,r,i):this._proxy[n]._set(r)):o===t.FUNCTION_PROXY},fetchProp:function(e){var t=new $.Deferred,n,r;return this._proxy?(n=Backbone.Model.prototype.get.call(this,e),undefined===n?(n=t.promise(),r=this._proxy[e],r._done(this._onLazyPropFetchSuccess,this,{deferred:t,attr:e}),r._fail(this._onLazyPropFetchFailure,this,{deferred:t})):n=t.resolve(e,this.get(e)).promise(),n):t.reject().promise()},on:function(e,t,n){if(!this._proxy)return;return Backbone.Model.prototype.on.call(this,e,t,n)},off:function(e,t,n){if(!this._proxy)return;return Backbone.Model.prototype.off.call(this,e,t,n)},invoke:function(e,t){var n=new $.Deferred,r=[],i,s;for(i=1;i<arguments.length;i++)r[i-1]=arguments[i];return t=r,this._proxy?(s=this._proxy[e]._invoke.apply(undefined,t),s._done(function(e,t){e===0?n.resolve(t):n.reject(t)}),s._fail(function(e,t){n.reject(t)}),n.promise()):n.reject().promise()},_pproxy:undefined,_proxy:undefined,_type:t.MAP_PROXY,_contextId:undefined,_contextPromise:undefined,_onProxyEvent:function(e,n,r){switch(e){case t.ADD_EVENT:if(!this.has(n.key)){var i=n.key;this.set(i,n.property)}break;case t.REMOVE_EVENT:var i=n.key,s=n.property;this.unset(i,s);break;case t.REPLACE_EVENT:var i=n.key,o=n.newVal;this.set(i,o);break;case t.CHANGE_EVENT:r&&this.trigger("change:"+r,this,n.newVal);break;default:this.trigger(e,this,n)}},_onLazyPropFetchSuccess:function(e,t,n,r){this._onProxyEvent("addProperty",{key:r.attr,property:n},null),r.deferred.resolve(r.attr,this.get(r.attr))},_onLazyPropFetchFailure:function(e,t,n,r){r.deferred.reject()},_onContextCreation:function(e,t,r,i){var s;n.logElapsedTime("after CreateContextResponse received from remote process "),this._proxy=t,this._contextId=t,_.each(r,_.bind(function(e,t){this.set(t,e)},this)),i&&i.resolve()}}),e.RNAModel}),define("core/dev/models/rna/cef-model",["core/ac-core","core/models/rna/rna-model"],function(e){return e.CEFModel=e.RNAModel.extend({}),e.CEFModel}),define("core/dev/collections/rna/rna-collection",["core/ac-core","core/constants/odm-constants"],function(e,t){return e.RNACollection=Backbone.Collection.extend({shouldCache:!0,initialize:function(t,n){var r=[],i;Backbone.Collection.prototype.initialize.call(this,t,n),n._proxy&&(this.model instanceof e.RNAModel||(this.model=e.RNAModel),n.shouldCache!==undefined&&(this.shouldCache=n.shouldCache),this._proxy=n._proxy,this._contextId=this._proxy._context,r=this._prepareModels(n),this.set(r,n),this._proxy._addEventListener("all",this._onProxyEvent,null,this),n._pproxy&&(this._pproxy=n._pproxy))},add:function(e,t){var n,r,i,s,o=this._proxy?this._proxy._size:0;if(t.fromODM)return Backbone.Collection.prototype.add.call(this,e,t);e=_.isArray(e)?e.slice():[e],t||(t={});for(n=0,r=e.length;n<r;n++)this.invoke("insertAt",o+n,e[n])},remove:function(e,t){var n,r,i,s;if(t.fromODM)return Backbone.Collection.prototype.remove.call(this,e,t);e=_.isArray(e)?e.slice():[e],t||(t={});for(n=0,r=e.length;n<r;n++)this.invoke("removeAt",this.indexOf(e[n]))},at:function(e){return this.shouldCache===!1&&this._proxy&&this._proxy[e],Backbone.Collection.prototype.at.call(this,e)},on:function(e,t,n){return Backbone.Collection.prototype.on.call(this,e,t,n)},off:function(e,t,n){return Backbone.Collection.prototype.off.call(this,e,t,n)},invoke:function(e,t){var n=new $.Deferred,r=[],i,s;for(i=1;i<arguments.length;i++)r[i-1]=arguments[i];return t=r,this._pproxy?(s=this._pproxy[e]._invoke.apply(undefined,t),s._done(function(e,t){e===0?n.resolve(t):n.reject(t)}),s._fail(function(e,t){n.reject(t)}),n.promise()):n.reject().promise()},toJSON:function(e){var t=[],n=0;if(!this._isPrimitiveArray())return Backbone.Collection.prototype.toJSON.call(this,e);for(n=0;n<this._proxy._size;n++)t[n]=this._proxy[n]._value;return t},_pproxy:undefined,_proxy:undefined,_type:t.VECTOR_PROXY,_contextId:undefined,_isPrimitiveArray:function(){var e=!1,n=this._proxy;return n&&n._size>0&&n[0]._type===t.PRIMITIVE_PROXY&&(e=!0),e},_prepareModels:function(e){var n=[],r;for(r=0;r<this._proxy._size;r++)this._proxy[r]._type===t.MAP_PROXY?n[r]=new this.model(undefined,{_proxy:this._proxy[r],_pproxy:this._proxy,shouldCache:this.shouldCache}):this._proxy[r]._type===t.PRIMITIVE_PROXY&&this._proxy[r]._addEventListener("all",this._onProxyEvent,r,this);return n},_addInternal:function(e,n){var r;e._type===t.MAP_PROXY?(r=new this.model(undefined,{_proxy:e,_pproxy:this._proxy,shouldCache:this.shouldCache}),Backbone.Collection.prototype.add.call(this,[r],{at:n})):e._type===t.PRIMITIVE_PROXY&&e._addEventListener("all",this._onProxyEvent,n,this)},_removeInternal:function(e,n){var r=this.at(n);r&&e._type===t.MAP_PROXY?Backbone.Collection.prototype.remove.call(this,[r]):e._removeEventListener("all",this._onProxyEvent,n,this)},_replaceInternal:function(e,n,r){var i;r._type===t.MAP_PROXY?(i=new this.model(undefined,{_proxy:r,_pproxy:this._proxy,shouldCache:this.shouldCache}),Backbone.Collection.prototype.add.call(this,[i],{at:e,merge:!0})):proxyObject._type===t.PRIMITIVE_PROXY&&(n._removeEventListener("all",this._onProxyEvent,e,this),r._addEventListener("all",this._onProxyEvent,e,this))},_onProxyEvent:function(e,n,r){var i=[],s=0;switch(e){case t.ADD_EVENT:var o=n.key,u=n.property;this._addInternal(u,o);break;case t.REMOVE_EVENT:var o=n.key,a=n.property;this._removeInternal(a,o);break;case t.REPLACE_EVENT:var o=n.key,f=n.newVal,l=n.oldVal;this._replaceInternal(o,l,f);break;case t.CHANGE_EVENT:r?this.trigger("change",r,n.newVal):(i=this._prepareModels({}),this.reset(i,{fromODM:!0}));break;default:}}}),e.RNACollection}),define("core/dev/collections/rna/local-folder-collection",["core/ac-core","core/collections/rna/rna-collection"],function(e){return e.LocalFolderCollection=e.RNACollection.extend({initialize:function(t,n){return this.model=e.LocalItemModel,e.RNACollection.prototype.initialize.call(this,t,n)}}),e.LocalFolderCollection}),define("core/dev/models/rna/local-item-model",["core/ac-core","core/collections/rna/local-folder-collection","core/models/rna/rna-model"],function(e){return e.LocalItemModel=e.RNAModel.extend({initialize:function(t,n){return this.models={list:e.LocalFolderCollection},e.RNAModel.prototype.initialize.call(this,t,n)},get:function(t){return t==="items"&&(t="list"),t==="id"?this.id:e.RNAModel.prototype.get.call(this,t)},isFolder:function(){return this.get("object_type")==="folder"},isRoot:function(){return this.get("object_type")==="root"},isFile:function(){return this.get("object_type")==="file"},getFolderItemsCount:function(){return this.get("items").length},getSharingURL:function(){return""},getRenditionUrl:function(e,t){return""},getRenameUrl:function(){return""},getPublicUrl:function(){return""},getPathUrl:function(){return this.get("fileURI")},isPublic:function(){return!1}}),e.LocalItemModel}),define("html_sanitizer",[],function(){var e={};e.atype={NONE:0,URI:1,URI_FRAGMENT:11,SCRIPT:2,STYLE:3,HTML:12,ID:4,IDREF:5,IDREFS:6,GLOBAL_NAME:7,LOCAL_NAME:8,CLASSES:9,FRAME_TARGET:10,MEDIA_QUERY:13},e.atype=e.atype,e.ATTRIBS={"*::class":9,"*::dir":0,"*::draggable":0,"*::hidden":0,"*::id":4,"*::inert":0,"*::itemprop":0,"*::itemref":6,"*::itemscope":0,"*::lang":0,"*::onblur":2,"*::onchange":2,"*::onclick":2,"*::ondblclick":2,"*::onerror":2,"*::onfocus":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::onreset":2,"*::onscroll":2,"*::onselect":2,"*::onsubmit":2,"*::ontouchcancel":2,"*::ontouchend":2,"*::ontouchenter":2,"*::ontouchleave":2,"*::ontouchmove":2,"*::ontouchstart":2,"*::onunload":2,"*::spellcheck":0,"*::style":3,"*::tabindex":0,"*::title":0,"*::translate":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::shape":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::target":10,"audio::controls":0,"audio::loop":0,"audio::mediagroup":5,"audio::muted":0,"audio::preload":0,"audio::src":1,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"command::checked":0,"command::command":5,"command::disabled":0,"command::icon":1,"command::label":0,"command::radiogroup":0,"command::type":0,"data::value":0,"del::cite":1,"del::datetime":0,"details::open":0,"dir::compact":0,"div::align":0,"dl::compact":0,"fieldset::disabled":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::novalidate":0,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::inputmode":0,"input::ismap":0,"input::list":5,"input::max":0,"input::maxlength":0,"input::min":0,"input::multiple":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::pattern":0,"input::placeholder":0,"input::readonly":0,"input::required":0,"input::size":0,"input::src":1,"input::step":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"menu::label":0,"menu::type":0,"meter::high":0,"meter::low":0,"meter::max":0,"meter::min":0,"meter::value":0,"ol::compact":0,"ol::reversed":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"output::for":6,"output::name":8,"p::align":0,"pre::width":0,"progress::max":0,"progress::min":0,"progress::value":0,"q::cite":1,"select::autocomplete":0,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::required":0,"select::size":0,"source::type":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"textarea::accesskey":0,"textarea::autocomplete":0,"textarea::cols":0,"textarea::disabled":0,"textarea::inputmode":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::placeholder":0,"textarea::readonly":0,"textarea::required":0,"textarea::rows":0,"textarea::wrap":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"track::default":0,"track::kind":0,"track::label":0,"track::srclang":0,"ul::compact":0,"ul::type":0,"video::controls":0,"video::height":0,"video::loop":0,"video::mediagroup":5,"video::muted":0,"video::poster":1,"video::preload":0,"video::src":1,"video::width":0},e.ATTRIBS=e.ATTRIBS,e.eflags={OPTIONAL_ENDTAG:1,EMPTY:2,CDATA:4,RCDATA:8,UNSAFE:16,FOLDABLE:32,SCRIPT:64,STYLE:128,VIRTUALIZED:256},e.eflags=e.eflags,e.ELEMENTS={a:0,abbr:0,acronym:0,address:0,applet:272,area:2,article:0,aside:0,audio:0,b:0,base:274,basefont:274,bdi:0,bdo:0,big:0,blockquote:0,body:305,br:2,button:0,canvas:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,command:2,data:0,datalist:0,dd:1,del:0,details:0,dfn:0,dialog:272,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,figcaption:0,figure:0,font:0,footer:0,form:0,frame:274,frameset:272,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:305,header:0,hgroup:0,hr:2,html:305,i:0,iframe:4,img:2,input:2,ins:0,isindex:274,kbd:0,keygen:274,label:0,legend:0,li:1,link:274,map:0,mark:0,menu:0,meta:274,meter:0,nav:0,nobr:0,noembed:276,noframes:276,noscript:276,object:272,ol:0,optgroup:0,option:1,output:0,p:1,param:274,pre:0,progress:0,q:0,s:0,samp:0,script:84,section:0,select:0,small:0,source:2,span:0,strike:0,strong:0,style:148,sub:0,summary:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,time:0,title:280,tr:1,track:2,tt:0,u:0,ul:0,"var":0,video:0,wbr:2},e.ELEMENTS=e.ELEMENTS,e.ELEMENT_DOM_INTERFACES={a:"HTMLAnchorElement",abbr:"HTMLElement",acronym:"HTMLElement",address:"HTMLElement",applet:"HTMLAppletElement",area:"HTMLAreaElement",article:"HTMLElement",aside:"HTMLElement",audio:"HTMLAudioElement",b:"HTMLElement",base:"HTMLBaseElement",basefont:"HTMLBaseFontElement",bdi:"HTMLElement",bdo:"HTMLElement",big:"HTMLElement",blockquote:"HTMLQuoteElement",body:"HTMLBodyElement",br:"HTMLBRElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",caption:"HTMLTableCaptionElement",center:"HTMLElement",cite:"HTMLElement",code:"HTMLElement",col:"HTMLTableColElement",colgroup:"HTMLTableColElement",command:"HTMLCommandElement",data:"HTMLElement",datalist:"HTMLDataListElement",dd:"HTMLElement",del:"HTMLModElement",details:"HTMLDetailsElement",dfn:"HTMLElement",dialog:"HTMLDialogElement",dir:"HTMLDirectoryElement",div:"HTMLDivElement",dl:"HTMLDListElement",dt:"HTMLElement",em:"HTMLElement",fieldset:"HTMLFieldSetElement",figcaption:"HTMLElement",figure:"HTMLElement",font:"HTMLFontElement",footer:"HTMLElement",form:"HTMLFormElement",frame:"HTMLFrameElement",frameset:"HTMLFrameSetElement",h1:"HTMLHeadingElement",h2:"HTMLHeadingElement",h3:"HTMLHeadingElement",h4:"HTMLHeadingElement",h5:"HTMLHeadingElement",h6:"HTMLHeadingElement",head:"HTMLHeadElement",header:"HTMLElement",hgroup:"HTMLElement",hr:"HTMLHRElement",html:"HTMLHtmlElement",i:"HTMLElement",iframe:"HTMLIFrameElement",img:"HTMLImageElement",input:"HTMLInputElement",ins:"HTMLModElement",isindex:"HTMLUnknownElement",kbd:"HTMLElement",keygen:"HTMLKeygenElement",label:"HTMLLabelElement",legend:"HTMLLegendElement",li:"HTMLLIElement",link:"HTMLLinkElement",map:"HTMLMapElement",mark:"HTMLElement",menu:"HTMLMenuElement",meta:"HTMLMetaElement",meter:"HTMLMeterElement",nav:"HTMLElement",nobr:"HTMLElement",noembed:"HTMLElement",noframes:"HTMLElement",noscript:"HTMLElement",object:"HTMLObjectElement",ol:"HTMLOListElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLOutputElement",p:"HTMLParagraphElement",param:"HTMLParamElement",pre:"HTMLPreElement",progress:"HTMLProgressElement",q:"HTMLQuoteElement",s:"HTMLElement",samp:"HTMLElement",script:"HTMLScriptElement",section:"HTMLElement",select:"HTMLSelectElement",small:"HTMLElement",source:"HTMLSourceElement",span:"HTMLSpanElement",strike:"HTMLElement",strong:"HTMLElement",style:"HTMLStyleElement",sub:"HTMLElement",summary:"HTMLElement",sup:"HTMLElement",table:"HTMLTableElement",tbody:"HTMLTableSectionElement",td:"HTMLTableDataCellElement",textarea:"HTMLTextAreaElement",tfoot:"HTMLTableSectionElement",th:"HTMLTableHeaderCellElement",thead:"HTMLTableSectionElement",time:"HTMLTimeElement",title:"HTMLTitleElement",tr:"HTMLTableRowElement",track:"HTMLTrackElement",tt:"HTMLElement",u:"HTMLElement",ul:"HTMLUListElement","var":"HTMLElement",video:"HTMLVideoElement",wbr:"HTMLElement"},e.ELEMENT_DOM_INTERFACES=e.ELEMENT_DOM_INTERFACES,e.ueffects={NOT_LOADED:0,SAME_DOCUMENT:1,NEW_DOCUMENT:2},e.ueffects=e.ueffects,e.URIEFFECTS={"a::href":2,"area::href":2,"audio::src":1,"blockquote::cite":0,"command::icon":1,"del::cite":0,"form::action":2,"img::src":1,"input::src":1,"ins::cite":0,"q::cite":0,"video::poster":1,"video::src":1},e.URIEFFECTS=e.URIEFFECTS,e.ltypes={UNSANDBOXED:2,SANDBOXED:1,DATA:0},e.ltypes=e.ltypes,e.LOADERTYPES={"a::href":2,"area::href":2,"audio::src":2,"blockquote::cite":2,"command::icon":1,"del::cite":2,"form::action":2,"img::src":1,"input::src":1,"ins::cite":2,"q::cite":2,"video::poster":1,"video::src":2},e.LOADERTYPES=e.LOADERTYPES;if("I".toLowerCase()!=="i")throw"I/i problem";var t=function(e){function f(e){if(i.hasOwnProperty(e))return i[e];var t=e.match(s);if(t)return String.fromCharCode(parseInt(t[1],10));if(!(t=e.match(o))){if(a&&u.test(e)){a.innerHTML="&"+e+";";var n=a.textContent;return i[e]=n,n}return"&"+e+";"}return String.fromCharCode(parseInt(t[1],16))}function l(e,t){return f(t)}function h(e){return e.replace(c,"")}function v(e){return e.replace(p,l)}function E(e){return(""+e).replace(m,"&amp;").replace(y,"&lt;").replace(b,"&gt;").replace(w,"&#34;")}function S(e){return e.replace(g,"&amp;$1").replace(y,"&lt;").replace(b,"&gt;")}function C(e){var t={cdata:e.cdata||e.cdata,comment:e.comment||e.comment,endDoc:e.endDoc||e.endDoc,endTag:e.endTag||e.endTag,pcdata:e.pcdata||e.pcdata,rcdata:e.rcdata||e.rcdata,startDoc:e.startDoc||e.startDoc,startTag:e.startTag||e.startTag};return function(e,n){return L(e,t,n)}}function L(e,t,n){var r,i,s,o=M(e),u={noMoreGT:!1,noMoreEndComments:!1};O(t,o,0,u,n)}function A(e,t,n,r,i){return function(){O(e,t,n,r,i)}}function O(t,n,r,i,s){try{t.startDoc&&r==0&&t.startDoc(s);var o,u,a;for(var f=r,l=n.length;f<l;){var c=n[f++],h=n[f];switch(c){case"&":d.test(h)?(t.pcdata&&t.pcdata("&"+h,s,k,A(t,n,f,i,s)),f++):t.pcdata&&t.pcdata("&amp;",s,k,A(t,n,f,i,s));break;case"</":(o=/^([-\w:]+)[^\'\"]*/.exec(h))?o[0].length===h.length&&n[f+1]===">"?(f+=2,a=o[1].toLowerCase(),t.endTag&&t.endTag(a,s,k,A(t,n,f,i,s))):f=_(n,f,t,s,k,i):t.pcdata&&t.pcdata("&lt;/",s,k,A(t,n,f,i,s));break;case"<":if(o=/^([-\w:]+)\s*\/?/.exec(h))if(o[0].length===h.length&&n[f+1]===">"){f+=2,a=o[1].toLowerCase(),t.startTag&&t.startTag(a,[],s,k,A(t,n,f,i,s));var p=e.ELEMENTS[a];if(p&N){var v={name:a,next:f,eflags:p};f=H(n,v,t,s,k,i)}}else f=D(n,f,t,s,k,i);else t.pcdata&&t.pcdata("&lt;",s,k,A(t,n,f,i,s));break;case"<!--":if(!i.noMoreEndComments){for(u=f+1;u<l;u++)if(n[u]===">"&&/--$/.test(n[u-1]))break;if(u<l){if(t.comment){var m=n.slice(f,u).join("");t.comment(m.substr(0,m.length-2),s,k,A(t,n,u+1,i,s))}f=u+1}else i.noMoreEndComments=!0}i.noMoreEndComments&&t.pcdata&&t.pcdata("&lt;!--",s,k,A(t,n,f,i,s));break;case"<!":if(!/^\w/.test(h))t.pcdata&&t.pcdata("&lt;!",s,k,A(t,n,f,i,s));else{if(!i.noMoreGT){for(u=f+1;u<l;u++)if(n[u]===">")break;u<l?f=u+1:i.noMoreGT=!0}i.noMoreGT&&t.pcdata&&t.pcdata("&lt;!",s,k,A(t,n,f,i,s))}break;case"<?":if(!i.noMoreGT){for(u=f+1;u<l;u++)if(n[u]===">")break;u<l?f=u+1:i.noMoreGT=!0}i.noMoreGT&&t.pcdata&&t.pcdata("&lt;?",s,k,A(t,n,f,i,s));break;case">":t.pcdata&&t.pcdata("&gt;",s,k,A(t,n,f,i,s));break;case"":break;default:t.pcdata&&t.pcdata(c,s,k,A(t,n,f,i,s))}}t.endDoc&&t.endDoc(s)}catch(g){if(g!==k)throw g}}function M(e){var t=/(<\/|<\!--|<[!?]|[&<>])/g;e+="";if(T)return e.split(t);var n=[],r=0,i;while((i=t.exec(e))!==null)n.push(e.substring(r,i.index)),n.push(i[0]),r=i.index+i[0].length;return n.push(e.substring(r)),n}function _(e,t,n,r,i,s){var o=B(e,t);return o?(n.endTag&&n.endTag(o.name,r,i,A(n,e,t,s,r)),o.next):e.length}function D(e,t,n,r,i,s){var o=B(e,t);return o?(n.startTag&&n.startTag(o.name,o.attrs,r,i,A(n,e,o.next,s,r)),o.eflags&N?H(e,o,n,r,i,s):o.next):e.length}function H(t,n,r,i,s,o){var u=t.length;P.hasOwnProperty(n.name)||(P[n.name]=new RegExp("^"+n.name+"(?:[\\s\\/]|$)","i"));var a=P[n.name],f=n.next,l=n.next+1;for(;l<u;l++)if(t[l-1]==="</"&&a.test(t[l]))break;l<u&&(l-=1);var c=t.slice(f,l).join("");if(n.eflags&e.eflags.CDATA)r.cdata&&r.cdata(c,i,s,A(r,t,l,o,i));else{if(!(n.eflags&e.eflags.RCDATA))throw new Error("bug");r.rcdata&&r.rcdata(S(c),i,s,A(r,t,l,o,i))}return l}function B(t,n){var r=/^([-\w:]+)/.exec(t[n]),i={};i.name=r[1].toLowerCase(),i.eflags=e.ELEMENTS[i.name];var s=t[n].substr(r[0].length),o=n+1,u=t.length;for(;o<u;o++){if(t[o]===">")break;s+=t[o]}if(u<=o)return void 0;var a=[];while(s!==""){r=x.exec(s);if(!r)s=s.replace(/^[\s\S][^a-z\s]*/,"");else{if(r[4]&&!r[5]||r[6]&&!r[7]){var f=r[4]||r[6],l=!1,c=[s,t[o++]];for(;o<u;o++){if(l){if(t[o]===">")break}else 0<=t[o].indexOf(f)&&(l=!0);c.push(t[o])}if(u<=o)break;s=c.join("");continue}var h=r[1].toLowerCase(),p=r[2]?j(r[3]):"";a.push(h,p),s=s.substr(r[0].length)}}return i.attrs=a,i.next=o+1,i}function j(e){var t=e.charCodeAt(0);if(t===34||t===39)e=e.substr(1,e.length-2);return v(h(e))}function F(t){var n,r,i=function(e,t){r||t.push(e)};return C({startDoc:function(e){n=[],r=!1},startTag:function(i,s,o){if(r)return;if(!e.ELEMENTS.hasOwnProperty(i))return;var u=e.ELEMENTS[i];if(u&e.eflags.FOLDABLE)return;var a=t(i,s);if(!a){r=!(u&e.eflags.EMPTY);return}if(typeof a!="object")throw new Error("tagPolicy did not return object (old API?)");if(!("attribs"in a))throw new Error("tagPolicy gave no attribs");s=a.attribs;var f,l;"tagName"in a?(l=a.tagName,f=e.ELEMENTS[l]):(l=i,f=u);if(u&e.eflags.OPTIONAL_ENDTAG){var c=n[n.length-1];c&&c.orig===i&&(c.rep!==l||i!==l)&&o.push("</",c.rep,">")}u&e.eflags.EMPTY||n.push({orig:i,rep:l}),o.push("<",l);for(var h=0,p=s.length;h<p;h+=2){var d=s[h],v=s[h+1];v!==null&&v!==void 0&&o.push(" ",d,'="',E(v),'"')}o.push(">"),u&e.eflags.EMPTY&&!(f&e.eflags.EMPTY)&&o.push("</",l,">")},endTag:function(t,i){if(r){r=!1;return}if(!e.ELEMENTS.hasOwnProperty(t))return;var s=e.ELEMENTS[t];if(!(s&(e.eflags.EMPTY|e.eflags.FOLDABLE))){var o;if(s&e.eflags.OPTIONAL_ENDTAG)for(o=n.length;--o>=0;){var u=n[o].orig;if(u===t)break;if(!(e.ELEMENTS[u]&e.eflags.OPTIONAL_ENDTAG))return}else for(o=n.length;--o>=0;)if(n[o].orig===t)break;if(o<0)return;for(var a=n.length;--a>o;){var f=n[a].rep;e.ELEMENTS[f]&e.eflags.OPTIONAL_ENDTAG||i.push("</",f,">")}o<n.length&&(t=n[o].rep),n.length=o,i.push("</",t,">")}},pcdata:i,rcdata:i,cdata:i,endDoc:function(e){for(;n.length;n.length--)e.push("</",n[n.length-1].rep,">")}})}function q(e,t,n,r,i){if(!i)return null;try{var s=URI.parse(""+e);if(s)if(!s.hasScheme()||I.test(s.getScheme())){var o=i(s,t,n,r);return o?o.toString():null}}catch(u){return null}return null}function R(e,t,n,r,i){n||e(t+" removed",{change:"removed",tagName:t});if(r!==i){var s="changed";r&&!i?s="removed":!r&&i&&(s="added"),e(t+"."+n+" "+s,{change:s,tagName:t,attribName:n,oldValue:r,newValue:i})}}function U(e,t,n){var r;return r=t+"::"+n,e.hasOwnProperty(r)?e[r]:(r="*::"+n,e.hasOwnProperty(r)?e[r]:void 0)}function z(t,n){return U(e.ATTRIBS,t,n)}function W(t,n){return U(e.LOADERTYPES,t,n)}function X(t,n){return U(e.URIEFFECTS,t,n)}function V(r,i,s,o,u){for(var a=0;a<i.length;a+=2){var f=i[a],l=i[a+1],c=l,h=null,p;if((p=r+"::"+f,e.ATTRIBS.hasOwnProperty(p))||(p="*::"+f,e.ATTRIBS.hasOwnProperty(p)))h=e.ATTRIBS[p];if(h!==null)switch(h){case e.atype.NONE:break;case e.atype.SCRIPT:l=null,u&&R(u,r,f,c,l);break;case e.atype.STYLE:if("undefined"==typeof t){l=null,u&&R(u,r,f,c,l);break}var d=[];t(l,{declaration:function(t,r){var i=t.toLowerCase();n(i,r,s?function(t){return q(t,e.ueffects.SAME_DOCUMENT,e.ltypes.SANDBOXED,{TYPE:"CSS",CSS_PROP:i},s)}:null),r.length&&d.push(i+": "+r.join(" "))}}),l=d.length>0?d.join(" ; "):null,u&&R(u,r,f,c,l);break;case e.atype.ID:case e.atype.IDREF:case e.atype.IDREFS:case e.atype.GLOBAL_NAME:case e.atype.LOCAL_NAME:case e.atype.CLASSES:l=o?o(l):l,u&&R(u,r,f,c,l);break;case e.atype.URI:l=q(l,X(r,f),W(r,f),{TYPE:"MARKUP",XML_ATTR:f,XML_TAG:r},s),u&&R(u,r,f,c,l);break;case e.atype.URI_FRAGMENT:l&&"#"===l.charAt(0)?(l=l.substring(1),l=o?o(l):l,l!==null&&l!==void 0&&(l="#"+l)):l=null,u&&R(u,r,f,c,l);break;default:l=null,u&&R(u,r,f,c,l)}else l=null,u&&R(u,r,f,c,l);i[a+1]=l}return i}function $(t,n,r){return function(i,s){if(!(e.ELEMENTS[i]&e.eflags.UNSAFE))return{attribs:V(i,s,t,n,r)};r&&R(r,i,undefined,undefined,undefined)}}function J(e,t){var n=[];return F(t)(e,n),n.join("")}function K(e,t,n,r){var i=$(t,n,r);return J(e,i)}var t,n,r;"undefined"!=typeof window&&(t=window.parseCssDeclarations,n=window.sanitizeCssProperty,r=window.cssSchema);var i={lt:"<",LT:"<",gt:">",GT:">",amp:"&",AMP:"&",quot:'"',apos:"'",nbsp:" "},s=/^#(\d+)$/,o=/^#x([0-9A-Fa-f]+)$/,u=/^[A-Za-z][A-za-z0-9]+$/,a="undefined"!=typeof window&&window.document?window.document.createElement("textarea"):null,c=/\0/g,p=/&(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/g,d=/^(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/,m=/&/g,g=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,y=/[<]/g,b=/>/g,w=/\"/g,x=new RegExp("^\\s*([-.:\\w]+)(?:\\s*(=)\\s*((\")[^\"]*(\"|$)|(')[^']*('|$)|(?=[a-z][-\\w]*\\s*=)|[^\"'\\s]*))?","i"),T="a,b".split(/(,)/).length===3,N=e.eflags.CDATA|e.eflags.RCDATA,k={},P={},I=/^(?:https?|mailto)$/i,Q={};return Q.escapeAttrib=Q.escapeAttrib=E,Q.makeHtmlSanitizer=Q.makeHtmlSanitizer=F,Q.makeSaxParser=Q.makeSaxParser=C,Q.makeTagPolicy=Q.makeTagPolicy=$,Q.normalizeRCData=Q.normalizeRCData=S,Q.sanitize=Q.sanitize=K,Q.sanitizeAttribs=Q.sanitizeAttribs=V,Q.sanitizeWithPolicy=Q.sanitizeWithPolicy=J,Q.unescapeEntities=Q.unescapeEntities=v,Q}(e);return t}),define("core/dev/models/rna/rna-ipm-model",["core/ac-core","html_sanitizer","core/models/rna/rna-model"],function(e,t){e.RNAIPMModel=e.RNAModel.extend({initialize:function(t,n){return this.models={},e.RNAModel.prototype.initialize.call(this,t,n)},get:function(n){var r=e.RNAModel.prototype.get.call(this,n);return r=t.sanitize(_.unescape(r)),r}})}),define("core/dev/models/rna/native-window-model",["core/ac-core","core/models/rna/rna-model"],function(e){return e.NativeWindowModel=e.RNAModel.extend({}),e.NativeWindowModel}),define("core/dev/models/rna/pdm-preview-model",["core/ac-core","core/models/rna/rna-model"],function(e){return e.PDMPreviewModel=e.RNAModel.extend({}),e.PDMPreviewModel}),define("core/dev/models/rna/pdm-model",["core/ac-core","core/models/rna/local-item-model","core/models/rna/pdm-preview-model","core/models/rna/rna-model"],function(e){return e.PDMModel=e.RNAModel.extend({initialize:function(t,n){return this.models={myDocuments:e.LocalItemModel,pdmPreview:e.PDMPreviewModel},e.RNAModel.prototype.initialize.call(this,t,n)}}),e.PDMModel}),define("core/dev/models/rna/acrocef-model",["core/ac-core","core/models/rna/rna-model"],function(e){return e.AcrocefModel=e.RNAModel.extend({initialize:function(t,n){return this.models={},e.RNAModel.prototype.initialize.call(this,t,n)}}),e.AcrocefModel}),define("core/dev/models/rna/reader-api-model",["core/ac-core","core/models/rna/rna-model"],function(e){return e.ReaderAPIModel=e.RNAModel.extend({initialize:function(t,n){return this.models={analyticsAPI:e.RNAModel,bhClientAPI:e.RNAModel,esAPI:e.RNAModel,fileAPI:e.RNAModel,fillSignSendAPI:e.RNAModel,leftRailAPI:e.RNAModel,notificationAPI:e.RNAModel,pluginsAPI:e.RNAModel,recentFilesAPI:e.RNAModel,servicesAPI:e.RNAModel,sessionAPI:e.RNAModel,stAPI:e.RNAModel,registryAPI:e.RNAModel,sharePointAPI:e.RNAModel,bellNotificationsAPI:e.RNAModel},e.RNAModel.prototype.initialize.call(this,t,n)}}),e.ReaderAPIModel}),define("core/dev/models/rna/reader-model",["core/ac-core","core/models/rna/local-item-model","core/models/rna/reader-api-model","core/models/rna/rna-model"],function(e){return e.ReaderModel=e.RNAModel.extend({initialize:function(t,n){return this.models={myDocuments:e.LocalItemModel,rnaAPI:e.ReaderAPIModel},e.RNAModel.prototype.initialize.call(this,t,n)}}),e.ReaderModel}),define("core/dev/models/rna/test-model",["core/ac-core","core/models/rna/rna-model"],function(e){return e.TestModel=e.RNAModel.extend({initialize:function(t,n){return this.models={mapObject:e.RNAModel,lazyMapObject:e.RNAModel},e.RNAModel.prototype.initialize.call(this,t,n)}}),e.TestModel}),define("core/dev/models/rna/reader-context-model",["core/ac-core","core/models/rna/rna-model","core/models/rna/reader-model","core/models/rna/acrocef-model","core/models/rna/test-model"],function(e){return e.ReaderContextModel=e.RNAModel.extend({url:"reader",shouldCache:!0,readerContext:"avAppCtx",initialize:function(t,n){return this.models={rna:e.ReaderModel,acrocef:e.AcrocefModel,testModel:e.TestModel},e.RNAModel.prototype.initialize.call(this,t,n)}}),e.ReaderContextModel}),define("core/dev/models/rna/cef-context-model",["core/ac-core","core/models/rna/rna-model","core/models/rna/cef-model"],function(e){return e.CefContextModel=e.RNAModel.extend({url:"cefBrowser",initialize:function(t,n){return this.models={browserWindowManager:e.CEFModel,browserCEFManager:e.CEFModel},e.RNAModel.prototype.initialize.call(this,t,n)}}),e.CefContextModel}),define("core/dev/models/rna/pdm-context-model",["core/ac-core","core/models/rna/rna-model","core/models/rna/pdm-model"],function(e){return e.PDMContextModel=e.RNAModel.extend({url:"pdm",initialize:function(t,n){return this.models={pdm:e.PDMModel},e.RNAModel.prototype.initialize.call(this,t,n)}}),e.PDMContextModel}),define("core/dev/models/rna/rna-notification-model",["core/ac-core","core/models/rna/rna-model"],function(e,t){return e.RnaNotificationModel=t.extend({initialize:function(e,n){t.prototype.initialize.call(this,e,n)}},{NOTIFICATION_STATES:{NOT_STARTED:-1,FAILED:0,IN_PROGRESS:1,COMPLETED:2,DOWNLOADED:3,DONE:4},NOTIFICATION_OPERATIONS:{UPLOAD:"upload",CONVERT:"convert",DOWNLOAD:"download",PROCESS:"process"},DOWNLOAD_LINK_CLICK_ACTION:{SAVE_FILE:"saveFile",OPEN_FILE:"openFile"}}),e.RnaNotificationModel}),define("core/dev/models/rna/rna-model-factory",["core/ac-core","core/models/model","core/models/rna/rna-model","core/models/rna/cef-model","core/models/rna/local-item-model","core/models/rna/rna-ipm-model","core/models/rna/native-window-model","core/models/rna/pdm-model","core/models/rna/pdm-preview-model","core/models/rna/acrocef-model","core/models/rna/reader-model","core/models/rna/reader-context-model","core/models/rna/cef-model","core/models/rna/cef-context-model","core/models/rna/pdm-context-model","core/models/rna/rna-notification-model","core/models/rna/test-model"],function(e){return e.RNAModelFactory=e.Model.extend({create:function(t,n,r){var i=e[t];if(!!i)return new i(n,r);LOG(0,"AcCore.RNAModelFactory.create: Unrecognized class: "+t)}}),e.RNAModelFactory}),define("core/dev/collections/rna/rna-collection-factory",["core/ac-core","core/models/model","core/collections/rna/rna-collection","core/collections/rna/local-folder-collection"],function(e){e.RNACollectionFactory=e.Model.extend({create:function(t,n,r){var i=e[t];if(!!i)return new i(n,r);LOG(0,"AcCore.RNACollectionFactory.create: Unrecognized class: "+t)}})}),define("core/dev/constants/cef-constants",{HomeView:0,FileSelectionDlg:1,FileSaveAsDlg:2}),define("core/dev/ops/connectors/adding-connector-op",["core/ac-core","core/utils/util","core/utils/http-util","core/constants/cef-constants","core/ops/op"],function(e,t,n,r){return e.AddingConnectorOp=e.Op.extend({run:function(i){var s=this.options,o=s.appApi.networkApi,u=s.appApi.connectorsApi,a,f,l,c,h,p=r.HomeView;return!i||!i.connectorName?this._getRejectedPromise():(a=u.isDesktopConnector(i.connectorName),a?(s.runningInFileSelection&&(p=r.FileSelectionDlg),s.runningInFileSaveAs&&(p=r.FileSaveAsDlg),h=$.Deferred(),s.appApi.rnaApi.done(function(e){var t=e.addConnectorAccount(i.connectorName,p,i.info);t.done(function(){h.resolve()}).fail(function(){h.reject()})}),h):(f=Ac.baseCloudUrisModel.getApiUri()+"connector/sign_in?"+n.getClientIdQueryParam(),l="GET",c={name:i.connectorName,redirect_code:t.isCEF()?"desktop":"web",locale:e.Locale.getLocale()},o.throttledAjax(f,_.extend({},s,{type:l,headers:n.getRequestHeadersNoClientId(l),dataType:"json",data:c})).then(function(e){e.uri&&(window.location=e.uri)})))}}),e.AddingConnectorOp}),define("core/dev/ops/connectors/adding-connector-plugin-op",["core/ac-core","plugins-common/ac-plugins","core/ops/op"],function(e,t){return e.AddingConnectorPluginOp=e.Op.extend({run:function(n){var r=this.options,i=r.appApi.connectorsApi,s=r.appApi.pluginsApi,o,u,a,f,l,c,h,p,d=[],v,m,g,y,b,w,E=e.opFactory;if(!n||!n.pluginId||!n.connectorName||_.isUndefined(n.accountId))return this._getRejectedPromise();o=n.pluginId,u=s.getPluginsUiModel("add_account"),a=n.connectorName,l=n.accountId,f=n.connectorLabel,w=i.getConnectorsUiHelpers(),b=w.connectors[a],f||(f=b.label);if(!u)return this._getRejectedPromise();if(s.getPluginUiModel(o))return r.runningInFileSelection?(r.appApi.selectionApi.triggerPluginSelectorClick(o,r.fileSelectionDlgOptions),this._getResolvedPromise()):s.selectPlugin(o);m=_.map(w.order_for_left_rail,function(e){return e.name}),g=_.first(m,_.indexOf(m,a)),c=u.get("plugins"),h=c.length-1;for(p=c.length-1;p>=0;p-=1){y=c.at(p).get("connector_name");if(y===a||_.indexOf(g,y)!==-1){h=p+1;break}}return s.addPlugin(o,{id:o,base_url:s.getBaseUrl("my_files"),config:s.getConfig("my_files"),selector_label:f,is_removable:!0,connector_name:a},u,t.types.home_views,h),i.setConnectorPluginRoot(o,l),i.setConnectorPluginName(o,a),v=c.at(h),d.push(E.create("InstantiatingSelectorOp",r).run(v)),d.push(E.create("InstantiatingPluginOp",r).run(v)),$.when.apply($,d).then(function(){return r.runningInFileSelection?(r.appApi.selectionApi.triggerPluginSelectorClick(o,r.fileSelectionDlgOptions),this._getResolvedPromise()):s.selectPlugin(o)})}}),e.AddingConnectorPluginOp}),define("core/dev/ops/connectors/instantiating-connectors-by-cohort-op",["core/ac-core","core/utils/util","core/ops/op"],function(e,t){return e.InstantiatingConnectorsByCohortOp=e.Op.extend({run:function(n){var r=this.options,i=e.opFactory;return t.isCEF()?i.create("InstantiatingOneConnectorOp",r).run(n).then(function(){return i.create("InstantiatingConnectorsOp",r).run(n)}):i.create("InstantiatingConnectorsOp",r).run(n)}}),e.InstantiatingConnectorsByCohortOp}),define("core/dev/ops/connectors/instantiating-connectors-op",["core/ac-core","plugins-common/ac-plugins","core/utils/util","core/ops/op"],function(e,t,n){return e.InstantiatingConnectorsOp=e.Op.extend({run:function(r){function M(e){var r=e.id,i,f,d,v=t.types,m;if(!r&&l)return;i=e.label||p.connectors[e.name].label,f=u.getConnectorPluginId(e.name,r,l,c),d=u.isConnectorRemovable(e.name);if(o.getPluginUiModel(f))return;if(n.isCEF()){if(A.disable_local_connectors&&u.isDesktopConnector(e.name))return;if(A.disable_document_cloud&&!d)return;if(A.disable_web_connectors&&d&&!u.isDesktopConnector(e.name))return;var g=["scan_files","googleDrive","desktop_sharepoint","onedrive","dropbox","box","onedrivebusiness"];if(s.saveAsApi.isCalledFromNativeRS()===!0&&s.selectionApi.isRunningInFileSelection()&&A.disable_web_connectors&&d&&g.indexOf(e.name)!==-1)return}m=u.getConnectorPluginId(e.name,"",l),d&&r&&o.getPluginUiModel(m)&&u.removeConnectorPlugin(m),u.isDesktopConnector(e.name)?l?T=p.connectors[e.name].supported.template_plugin_id_select:T=p.connectors[e.name].supported.template_plugin_id:T=l?"my_files_select":"my_files",h.push({id:f,base_url:o.getBaseUrl(T),config:o.getConfig(T),selector_label:i,is_removable:d,connector_name:e.name,tooltip:e.tooltip}),o.addPluginsConfig(f,l?v.file_selection_dlg:v.home_views),o.registerPluginsUiModel(f,a),u.setConnectorPluginRoot(f,r),u.setConnectorPluginName(f,e.name)}var i=this.options,s=i.appApi,o=s.pluginsApi,u=s.connectorsApi,a=r.pluginsUiModel,f,l=r.inFileSelectionDlg,c=r.isInSearchResultsView,h=[],p=u.getConnectorsUiHelpers(),d,v={},m,g,y,b,w,E=[],S=e.opFactory,x,T,N,C,k,L,A=u.getTunerPreferences(),O;_.each(u.getConnectors(),function(e){m=e.name,g=v[m],g||(g=v[m]=[]),g.push(e)}),d=l?p.order_for_file_sel_dlg:p.order_for_left_rail,_.each(d,function(e){m=e.name,g=v[m],g&&g.length>0?(_.each(g,M),delete v[m]):e.alwaysAppear&&M(e)}),_.each(v,function(e){_.each(e,M)}),N=_.map(l?p.order_for_file_sel_dlg:p.order_for_left_rail,function(e){return e.name});for(b=0;b<h.length;b+=1){C=_.first(N,_.indexOf(N,h[b].connector_name)),y=a.get("plugins"),k=y.length-1;const D=4;for(w=y.length-1;w>=0;w-=1){L=y.at(w).get("connector_name");if(L===h[b].connector_name||_.indexOf(C,L)!==-1){L==="root"&&this.options.pluginId==="uss_search"?k=w+D:k=w+1;break}}n.isCEF()&&(x={readerContextModel:i.readerContextModel}),y.add(h[b],{at:k}),f=o.getPluginUiModel(h[b].id),f&&(E.push(S.create("InstantiatingSelectorOp",_.extend(i,{pluginContext:x})).run(f)),E.push(S.create("InstantiatingPluginOp",_.extend(i,{pluginContext:x})).run(f)))}return O=$.when.apply($,E),n.isCEF()&&!this._hasStartedListeningForConnector&&(this._hasStartedListeningForConnector=!0,O.done(function(){S.create("ListeningForConnectorEvents",i).run()})),O}}),e.InstantiatingConnectorsOp}),define("core/dev/ops/connectors/instantiating-one-connector-op",["core/ac-core","plugins-common/ac-plugins","i18n!core/nls/ui-strings","core/utils/util","core/ops/op"],function(e,t,n,r){return e.InstantiatingOneConnectorOp=e.Op.extend({run:function(i){var s=this.options,o=s.appApi.pluginsApi,u=t.types,a=i.pluginsUiModel,f,l=i.inFileSelectionDlg,c,h,p,d=e.opFactory,v=[],m=s.appApi.connectorsApi,g=s.appApi.folderApi,y,b,w=n.ACROBAT_DOT_COM_FILES,E,S,x=m.getTunerPreferences();l===!0?w=n.ACROBAT_DOT_COM_FILES:w=n.ACROBAT_DOT_COM_ALL_FILES;if(x.disable_document_cloud)return this._getResolvedPromise();c=m.getConnectorPluginId("root",undefined,l),y=l?"my_files_select":"my_files",E=m.getConnectorsUiHelpers("root"),E&&(w=E.label),h={id:c,base_url:o.getBaseUrl(y),config:o.getConfig(y),selector_label:w,is_removable:!1,connector_name:"root"},o.addPluginsConfig(c,l?u.file_selection_dlg:u.home_views),o.registerPluginsUiModel(c,a),m.setConnectorPluginRoot(c,g.getRootFolderId()),m.setConnectorPluginName(c,"root");const T=5;return f=a.get("plugins"),r.isCEF()?i.inSearchView?S=f.length-T:S=f.length-1:S=0,f.add(h,{at:S}),r.isCEF()&&(b={readerContextModel:s.readerContextModel}),p=f.at(S),v.push(d.create("InstantiatingSelectorOp",_.extend(s,{pluginContext:b})).run(p)),v.push(d.create("InstantiatingPluginOp",_.extend(s,{pluginContext:b})).run(p)),$.when.apply($,v)}}),e.InstantiatingOneConnectorOp}),define("core/dev/ops/connectors/removing-connector-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){return e.RemovingConnectorOp=e.Op.extend({run:function(n){var r=this.options,i,s,o,u,a;return!n||!n.pluginId?this._getRejectedPromise():(a=Ac.baseCloudUrisModel.getApiUri()+"connector/disconnect?"+t.getClientIdQueryParam(),o="POST",i=n.pluginId,s=r.appApi.connectorsApi.getConnectorPluginRoot(i),s?(u={root_id:s},r.appApi.networkApi.throttledAjax(a,{type:o,headers:t.getRequestHeadersNoClientId(o),data:JSON.stringify(u),dataType:"json"}).then(function(){return e.opFactory.create("GettingSystemFoldersOp",_.extend(r,{global:!0})).run()})):this._getResolvedPromise())}}),e.RemovingConnectorOp}),define("core/dev/ops/connectors/removing-connector-plugin-op",["core/ac-core","core/utils/util","core/ops/op"],function(e,t){return e.RemovingConnectorPluginOp=e.Op.extend({run:function(t){var n=this.options,r=n.appApi,i,s,o,u,a=r.pluginsApi,f=r.connectorsApi,l,c;return!t||!t.pluginId?this._getRejectedPromise():(i=t.pluginId,s=a.getPluginsUiModel(i),s?(o=s.get("plugins"),l=f.getConnectorPluginName(i),u=e.opFactory.create("RemovingConnectorOp",n),!f.isConnectorRemovable(l)||f.isDesktopConnector(l)?c=this._getResolvedPromise():c=u.run(t),c.then(function(){var e=s.getSelectedId(),t,n;n=a.removePlugin(i,s),i===e&&(t=o.at(n).id,s.setSelectedId(t))})):this._getResolvedPromise())}}),e.RemovingConnectorPluginOp}),define("core/dev/ops/connectors/removing-connector-plugins-op",["core/ac-core","core/ops/op"],function(e){return e.RemovingConnectorPluginsOp=e.Op.extend({run:function(){var e=this.options,t=e.appApi.connectorsApi,n=e.appApi.pluginsApi,r=n.getPluginsUiModel("add_account"),i=[],s;r.get("plugins").each(function(e){var n=e.id,r=t.getConnectorPluginName(n);t.isConnectorPlugin(n)&&!t.isDesktopConnector(r)&&r!=="root"&&!t.alwaysAppearInLeftRail(r)&&i.push(n)});for(s=i.length-1;s>=0;s-=1)t.removeConnectorPlugin(i[s]);return this._getResolvedPromise()}}),e.RemovingConnectorPluginsOp}),define("core/dev/ops/creating/creating-folder-op",["core/ac-core","core/utils/util","core/utils/http-util","core/utils/uri-template-util","core/ops/op"],function(e,t,n,r){return e.CreatingFolderOp=e.Op.extend({run:function(){var i=this.options,s=i.name,o,u,a;if(i.appApi.discoveryUrisApi.useDCApi()){o=e.modelFactory.create("FolderModelDCAPI",i),u="POST",s=t.compressQuestionMarks(s);var f=Ac.discoveryUrisModel.getFolderUriTemplate(),l=r.getExpandedURIFromURITemplate(f,{folder_id:i.id});a={name:s,parent_uri:l,on_dup_name:"auto_rename"};var c=Ac.discoveryUrisModel.getFoldersCreateUri(),h=n.getRequestHeaders(u);return h.accept=Ac.discoveryUrisModel.getFoldersCreateUriAcceptHeader(),h["Content-Type"]=Ac.discoveryUrisModel.getFoldersCreateUriContentTypeHeader(),i.appApi.networkApi.throttledAjax(c,{type:u,headers:h,data:JSON.stringify(a),dataType:"json"})}return o=e.modelFactory.create("FolderModel",i),u="POST",s=t.compressQuestionMarks(s),a={name:s,on_dup_name:"auto_rename"},i.appApi.networkApi.throttledAjax(o.url(),{type:u,headers:n.getRequestHeaders(u),data:JSON.stringify(a),dataType:"json"})}}),e.CreatingFolderOp}),define("core/dev/ops/dialogs/renaming-item-from-dlg-op",["core/ac-core","core/utils/uri-template-util","core/ops/op"],function(e,t){return e.RenamingItemFromDlgOp=e.Op.extend({run:function(){var n=this.options,r=n.id,i,s,o,u=$.Deferred();return this.options.appApi.rnaApi.done(function(e){e.logPerformance("RenamingFileFromDC","start")}),i=n.dialogUiModel,n.appApi.discoveryUrisApi.useDCApi()?(o=e.opFactory.create("RenamingItemOp",_.extend({},n,{name:n.newName})),o.run().then(function(e){if(e&&e.rename_info){var s,o,a;if(e.rename_info.duplicate_of){if(e.rename_info.duplicate_of.asset_uri){s=e.rename_info.duplicate_of.asset_uri;var f=Ac.discoveryUrisModel.getAssetUriTemplate(),l=t.getVarDictFromSubtitutedUriTemplate(f,s);o=l.asset_id}else{s=e.rename_info.duplicate_of.folder_uri;var f=Ac.discoveryUrisModel.getFolderUriTemplate(),l=t.getVarDictFromSubtitutedUriTemplate(f,s);o=l.folder_id}a={renamed_details:{duplicate_of:{id:o,object_type:e.rename_info.duplicate_of.asset_uri?"file":"folder"},original_name:e.rename_info.original_name},renamed_to:e.rename_info.name},u.resolve()}else a={renamed_details:{original_name:e.rename_info.original_name},renamed_to:e.rename_info.name},u.reject();i.set("error",_.extend(a,{id:r}))}else i.set("close",!0),n.collectionsUiModel.set("scroll_id_into_view",r),u.resolve()},function(){i.set("close",!1),u.reject()}),u.promise()):(s=e.opFactory.create("ValidatingNameOp",n),o=e.opFactory.create("RenamingItemOp",_.extend({},n,{name:n.newName})),s.run().then(function(){o.run().then(function(e){e&&e.renamed_to?i.set("error",_.extend(e,{id:r})):(i.set("close",!0),n.collectionsUiModel.set("scroll_id_into_view",r)),u.resolve()},function(){i.set("close",!1),u.reject()})},function(e){i.set("error",e),u.reject()}),u.promise())}}),e.RenamingItemFromDlgOp}),define("core/dev/templates/move-dlg-template",[],function(){return'<ul class="move-dlg-folder-tree unselectable"      role="tree" aria-multiselectable="false"></ul> <div class="move-dlg-btns">    <input type="button"           class="control-button dialog-control-button                  move-dlg-cancel-btn button-grey ui-theme theme-text"           id="move-dlg-cancel-btn"           aria-label="<%= cancel %>"           value="<%= cancel %>" />    <input type="button"           class="control-button dialog-control-button                  move-dlg-move-btn disabled theme-button theme-button-label"           id="move-dlg-move-btn"           aria-label="<%= move %>"           value="<%= move %>"           disabled="disabled" /></div>'}),define("core/dev/templates/folder-tree-node-template",[],function(){return'<li class="folder-tree-node theme-list-item-row-virgo" role="treeitem"       aria-expanded="false"       aria-selected="false"       id="folder-tree-node-<%= id %>"       aria-owns="folder-tree-node-children-<%= id %>"       aria-labelledby="folder-tree-node-name-<%= id %>"       tabindex="-1">    <span class="folder-tree-node-element theme-list-item-row-virgo">        <span class="folder-tree-node-element-content cb-active-text-theme">            <span class="folder-tree-node-expand-btn virgo-expand-btn"></span>            <span class="folder-tree-node-info-container">                <span class="folder-tree-node-thumb"></span>                <span class="folder-tree-node-name "                      id="folder-tree-node-name-<%= id %>">                    <%- name %>                </span>            </span>        </span>    </span>    <ul class="folder-tree-node-children" role="presentation"        id="folder-tree-node-children-<%= id %>"         aria-labelledby="folder-tree-node-name-<%= id %>"        aria-hidden="true"></ul></li>'}),define("core/dev/views/view-events",["core/ac-core"],function(e){e.ViewEvents={SELECT_ITEM:"core:select-item",CLEAR_SELECTION:"core:clear-selection",SELECTION_CHANGE:"core:selection-change",SELECTION_COMMIT:"core:selection-commit",OPEN_COLLECTION_ITEM:"core:open-collection-item",OPEN_SELECTED_COLLECTION_ITEMS:"core:open-selected-collection-items",SAVEAS_SELECTED_COLLECTION_ITEMS:"core:save-as-selected-collection-items",DOWNLOAD:"core:download",DOWNLOAD_ZIP:"core:download-zip",DELETE:"core:delete",RENAME:"core:rename",MOVE:"core:move",SELECTION_ACTION_ITEM_CLICK:"core:selection-action-item-click",UNSHARE:"core:unshare",UNSHAREREVIEW:"core:unshare-review",RENAME_ITEM_FROM_DLG:"core:rename-item-from-dlg",MOVE_DLG_MOVE:"core:move-dlg-move",MENU_CLOSED:"core:menu-closed",SHARE_ITEM_FROM_PANEL:"core:share-item-from-panel",SHOW_REPORT_ABUSE_DLG:"core:show-report-abuse-dlg",REPORT_ABUSE:"core:reporting-abuse",DUP_DLG_DELETE_EXISTING:"core:dup-dlg-delete-existing",DUP_DLG_RENAME_ADDED:"core:dup-dlg-rename-added",INVALIDATE_WIDTH:"core:invalidate-width",GET_FOLDER_ITEMS:"core:get-folder-items",COLLECTION_RENDER_BEGIN:"core:collection-render-begin",COLLECTION_RENDER_END:"core:collection-render-end",VIEW_BY:"core:view-by",SORT:"core:sort",GET_HOVER_PREVIEW_METADATA:"core:get-hover-preview-metadata",GET_RHP_PREVIEW_METADATA:"core:get-rhp-preview-metadata",ADD_SEARCH_FIELD_QUERY:"core:add-search-field-query",REMOVE_SEARCH_FIELD_QUERY:"core:remove-search-field-query",REMOVE_LAST_FIELD_QUERY:"core:remove-last-field-query",REMOVE_TYPE_FIELD_QUERY:"core:remove-type-field-query",REMOVE_TIME_FIELD_QUERY:"core:remove-time-field-query",REMOVE_NAME_FIELD_QUERY:"core:remove-name-field-query",REMOVE_REMOVABLE_QUERIES:"core:remove-removable-queries",SEARCH_FIELD_CLICKED:"core:search-field-clicked",SEARCH_IN_FOLDER:"core:search-in-folder",SHOW_QUOTA_WARNING_DLG:"core:show-quota-warning-dlg",LAUNCH_FOOTER_URL_IN_BROWSER:"core:launch-url-in-browser",OPEN_DOC_IN_READER_START:"core:open-doc-in-reader-start",OPEN_DOC_IN_READER_END:"core:open-doc-in-reader-end",SELECTION_ACTION_ATTACH_TO_EMAIL:"core:selection-action-attach-to-email",SELECTION_ACTION_SEND_AND_TRACK:"core:selection-action-send-and-track",SHOW_CUSTOM_RANGE_DIALOG:"core:show-custom-range-dialog",CONTEXT_BOARD_PRIMARY_TOOLS_CLICK:"core:context-board-primary-tools-click",CONTEXT_BOARD_PRIMARY_TOOLS_CLICK_REDUCEDMODE:"core:context-board-primary-tools-click-reducedmode",F6_KEY_PRESSED:"core:f6-key-press-handler",DELETE_SHARED:"core:delete-original-shared"}}),define("core/dev/views/folder-tree-node-view",["core/ac-core","core/templates/folder-tree-node-template","core/utils/css-util","core/views/view","core/views/view-events"],function(e,t,n){e.FolderTreeNodeView=e.View.extend({options:{indentLevel:0},initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(t),this._addModelEventListeners(),this._addUiModelEventListeners()},render:function(){var t=this.options.uiModel,n;this.$node||(e.View.prototype.render.call(this),n=this.model.get("id"),this.$el.append(this._template({name:this._getName(),id:n})),this.$node=this.$el.children().last(),this.$node.data("id",n),this._initWrappers(),this.$elementContent.css("margin-left",this.options.indentLevel*this.options.treeUiModel.get("level_indent")+"px"),this._addDomEventListeners()),this.isExpanded()?(this._renderChildNodes(),this.$node.addClass("expanded").filter("[aria-expanded]").attr("aria-expanded",!0),this.$expandBtn.addClass("expanded")):(this.$node.removeClass("expanded").filter("[aria-expanded]").attr("aria-expanded",!1),this.$expandBtn.removeClass("expanded")),t.get("selected")?(this.$element.addClass("selected"),this.$elementContent.addClass("selected"),this.$node.attr({"aria-selected":!0,tabindex:0})):(this.$element.removeClass("selected"),this.$elementContent.removeClass("selected"),this.$node.attr({"aria-selected":!1})),this.$el.filter(".folder-tree-node-children").removeAttr("aria-hidden")},isExpanded:function(){return this.options.uiModel.get("expanded")},expand:function(){this.options.uiModel.set("expanded",!0)},collapse:function(){this.options.uiModel.set("expanded",!1)},select:function(){this.options.uiModel.set("selected",!0)},deselect:function(){this.options.uiModel.set("selected",!1)},toggleSelect:function(){this.options.uiModel.get("selected")?this.deselect():this.select()},getContentWidth:function(){return this.$name.offset().left-this.$node.offset().left+this.$name.width()+n.getPaddingWidth(this.$name)},setWidth:function(e){this.$node.width(e)},stopListening:function(t,n,r){e.View.prototype.stopListening.call(this,t,n,r),this._removeDomEventListeners()},_initWrappers:function(){this.$element=this.$node.children(".folder-tree-node-element"),this.$elementContent=this.$element.children(".folder-tree-node-element-content"),this.$expandBtn=this.$elementContent.children(".folder-tree-node-expand-btn"),this.$infoContainer=this.$elementContent.children(".folder-tree-node-info-container"),this.$name=this.$infoContainer.children(".folder-tree-node-name"),this.$children=this.$node.children(".folder-tree-node-children")},_isRootFolder:function(){return this.model.get("id")===this.options.rootId},_isFetched:function(){return this.model.get("members")},_getName:function(){return this.model.get("name")},_getSelectedId:function(){return this.options.uiModel.get("selected")?this.model.id:undefined},_hasChildFolder:function(){return this.model.get("items").any(function(e){return e.isFolder()})},_showChildren:function(t){if(!this._isFetched())return;t?(this.render(),this.$children.slideDown("fast",_.bind(function(){this._triggerViewEvent(e.ViewEvents.INVALIDATE_WIDTH)},this))):this.$children.slideUp("fast",_.bind(function(){this.render(),this._triggerViewEvent(e.ViewEvents.INVALIDATE_WIDTH)},this))},_renderChildNodes:function(){var t,n,r,i,s,o;t=this.model.get("items");if(!t||t.length===0)return;t.each(_.bind(function(t){if(!t.isFolder())return!0;n=t.id,r=this.getChildViewById(n),r||(this.options.appApi.discoveryUrisApi.useDCApi()?i=e.modelFactory.create("FolderModelDCAPI",{id:n,name:t.get("name")}):i=e.modelFactory.create("FolderModel",{id:n,name:t.get("name")}),s=e.uiModelFactory.create("FolderTreeNodeUiModel"),o=_.extend({},this.options,{el:this.$children,model:i,uiModel:s,indentLevel:this.options.indentLevel+1}),r=new e.FolderTreeNodeView(o),this.addChildView(r,n)),r.render()},this))},_addDomEventListeners:function(){this.$element.on("click",this._onElementClick).on("dblclick",this._onElementDoubleClick),this.$node.on("click",this._onElementClick).on("keydown",this._onNodeKeyDown),this.$expandBtn.on("click",this._onExpandButtonClick)},_removeDomEventListeners:function(){this.$element.off("click",this._onElementClick).off("dblclick",this._onElementDoubleClick),this.$node.off("click",this._onElementClick).off("keydown",this._onNodeKeyDown),this.$expandBtn.off("click",this._onExpandButtonClick)},_onElementClick:function(t){t.stopPropagation(),!t.ctrlKey&&!t.metaKey?(this._triggerViewEvent(e.ViewEvents.CLEAR_SELECTION),this.select()):(this.options.uiModel.get("selected")||this._triggerViewEvent(e.ViewEvents.CLEAR_SELECTION),this.toggleSelect())},_onElementDoubleClick:function(){var t=this.model.get("child_folder_count");t&&t>0?this.expand():(this.select(),this._triggerViewEvent(e.ViewEvents.SELECTION_COMMIT,{id:this._getSelectedId()}))},_onExpandButtonClick:function(e){e.stopPropagation(),this.isExpanded()?this.collapse():this.expand()},_focusTimeout:null,_onNodeKeyDown:function(t){var n=$(t.target),r=this.$el,i=!1,s=r.closest("[role=tree]"),o=s.find(":focusable"),u,a=o.index(n),f=this;if(n.closest(r).length===0)return!0;clearInterval(this._focusTimeout);switch(t.which){case 13:this._getSelectedId()?this.isExpanded()?!t.ctrlKey&&!t.metaKey?(this.select(),this._triggerViewEvent(e.ViewEvents.SELECTION_COMMIT,{id:this._getSelectedId()})):this._onElementClick(t):this._onElementDoubleClick():this._onElementClick(t),i=!0;break;case 35:u=o.last(),i=!0;break;case 36:u=o.first(),i=!0;break;case 37:this.isExpanded()?this.collapse():this._isRootFolder()||(u=r.closest(":focusable")),i=!0;break;case 38:u=o.filter(":lt("+a+"):last"),i=!0;break;case 39:this.isExpanded()||(this.expand(),this._isFetched()?u=this.$node.find(":focusable:first"):this._focusTimeout=_.delay(function(){u=f.$node.find(":focusable:first"),u.length>0&&(u.focus().trigger("click"),clearInterval(f._focusTimeout))},100)),i=!0;break;case 40:u=o.filter(":gt("+a+"):first"),i=!0}i&&this._consumeEvent(t),u&&u.length>0&&u.focus().trigger("click")},_addModelEventListeners:function(){var e=this.model;this.listenTo(e,"change:members",this._onFolderMembersChange).listenTo(e,"change:child_object_types",this._onChildObjectTypesChange)},_onFolderMembersChange:function(){this._showChildren(this.isExpanded())},_getRootFolderChildCount:function(){var e=0,t=this.model.get("items");return t&&t.length>0&&t.each(function(t){t.isFolder()&&(e+=1)}),e},_onChildObjectTypesChange:function(e,t){e.set("child_folder_count",this._getFolderChildCount(t,"folder"))},_getFolderChildCount:function(e,t){var n=0;return e&&_.each(e,function(e){if(e.value===t)return n=e.count,!1}),n},_addUiModelEventListeners:function(){var e=this.options.uiModel;this.listenTo(e,"change:expanded",this._onExpandedChange).listenTo(e,"change:selected",this._onSelectedChange)},_onExpandedChange:function(t,n){n?this._isFetched()?this._showChildren(!0):(this.render(),this._triggerViewEvent(e.ViewEvents.GET_FOLDER_ITEMS,{folderModel:this.model,modal:!1})):this._showChildren(!1)},_onSelectedChange:function(){this.render(),this._triggerViewEvent(e.ViewEvents.SELECTION_CHANGE,{id:this._getSelectedId()})}})}),define("core/dev/views/folder-tree-view",["core/ac-core","i18n!core/nls/ui-strings","core/utils/view-util","core/views/view","core/views/folder-tree-node-view","core/views/view-events"],function(e,t,n){e.FolderTreeView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this._addFocusEventListener()},render:function(){e.View.prototype.render.call(this),this._renderRootNode()},_renderRootNode:function(){var n=this.options,r=this._rootNodeView,i,s,o;r||(this.options.appApi.discoveryUrisApi.useDCApi()?n.pluginId==="scan_files"?(i=n.folderModel.scanId,s=e.modelFactory.create("FolderModelDCAPI",{id:i,name:n.folderModel.scanFolderName})):(i=n.appApi.folderApi.getRootFolderId(n.pluginId),s=e.modelFactory.create("FolderModelDCAPI",{id:i,name:t.HOME})):n.pluginId==="scan_files"?(i=n.folderModel.scanId,s=e.modelFactory.create("FolderModel",{id:i,name:n.folderModel.scanFolderName})):(i=n.appApi.folderApi.getRootFolderId(n.pluginId),s=e.modelFactory.create("FolderModel",{id:i,name:t.HOME})),o=e.uiModelFactory,n=_.extend({},n,{model:s,rootId:i,treeUiModel:o.create("FolderTreeUiModel"),uiModel:o.create("FolderTreeNodeUiModel"),folderTreeNode:!0}),r=this._rootNodeView=new e.FolderTreeNodeView(n),this.addChildView(r),r.expand(),r.select())},_onViewEvent:function(t,n){t===e.ViewEvents.INVALIDATE_WIDTH?_.defer(this._updateTreeWidth):(t===e.ViewEvents.CLEAR_SELECTION?this._clearTreeSelection():this.trigger(t,n),this._updateActiveDescendant())},_updateTreeWidth:function(){function t(t){var n=t.getContentWidth();n>e&&(e=n)}function r(t){t.setWidth(e)}var e=this.$el.width();n.isVerticalScrollBarPresent(this.$el)&&(e-=n.getScrollBarWidth()),this._rootNodeView.applyRecursively(t),this._rootNodeView.applyRecursively(r)},_clearTreeSelection:function(){function e(e){e.deselect()}this._rootNodeView.applyRecursively(e)},_onFocusIn:function(e){var t=$(e.target);if(!t.closest(".folder-tree-node").length)return;this._scrollNodeIntoView(e.target),this._updateActiveDescendant(e.target)},_scrollNodeIntoView:function(e){var t=this.$el.offset().top,n=this.$el.height(),r=$(e),i=r.find(".folder-tree-node-element"),s=i.length?i.offset().top:r.offset().top,o=i.length?i.height():r.height(),u=s-t,a=this.$el.scrollTop(),f;if(u<0||u+o>n)f=u<0?u:u+o-n,this.$el.scrollTop(Math.max(a+f,0))},_updateActiveDescendant:function(e){var t=this.$(".folder-tree-node"),n=e?$(e):this.$(".folder-tree-node[aria-selected=true]"),r=n.attr("id");n.length&&(this.$el.attr({"aria-activedescendant":r,tabindex:0}),t.not(n).attr({tabindex:-1}))}})}),define("core/dev/views/move-dlg-view",["core/ac-core","core/templates/move-dlg-template","i18n!core/nls/ui-strings","core/utils/truncate","core/utils/util","core/utils/view-util","core/utils/sc-analytics","core/views/dialog-view","core/views/folder-tree-view"],function(e,t,n,r,i,s,o){e.MoveDlgView=e.DialogView.extend({events:function(){return _.extend({},e.DialogView.prototype.events,{"click .move-dlg-move-btn":"_onMoveClick","click .move-dlg-cancel-btn":"_onCancelClick"})},initialize:function(){e.DialogView.prototype.initialize.call(this),this._template=_.template(t)},render:function(){return e.DialogView.prototype.render.call(this),this._logSiteCatalystEvent(o.SHOWN),this._appendToDialog(this._template({move:n.MOVE,cancel:n.CANCEL})),this._setTitle(this._getTitle()),this._initWrappers(),this._center(),i.isWindows()&&s.swapChildElements(this.$dlgControlBtns),this._truncateText(),this._initTabLimits(),this._renderChildViews(),this._updateControls(),this},_initWrappers:function(){e.DialogView.prototype._initWrappers.call(this),this.$tree=this.$(".move-dlg-folder-tree"),this.$dlgControlBtns=this.$(".move-dlg-btns"),this.$moveBtn=this.$(".move-dlg-move-btn"),this.$cancelBtn=this.$(".move-dlg-cancel-btn")},_getTitle:function(){var e,t,r,i;return t=this.options.selectionUiModel.getSelectionCountByType(),r=t.numFiles,i=t.numFolders,r===0?i===1?e=n.MOVE_FOLDER_TO:e=n.MOVE_FOLDERS_TO:r===1?i===0?e=n.MOVE_FILE_TO:i===1?e=n.MOVE_FILE_AND_FOLDER_TO:e=n.MOVE_FILE_AND_FOLDERS_TO:i===0?e=n.MOVE_FILES_TO:i===1?e=n.MOVE_FILES_AND_FOLDER_TO:e=n.MOVE_FILES_AND_FOLDERS_TO,e},_truncateText:function(){r.truncateButtonLabel(this.$moveBtn),r.truncateButtonLabel(this.$cancelBtn)},_updateControls:function(){s.enableInput(this.$moveBtn,this._selectedFolderId),this.$tree.attr("aria-labelledby",this.$dialogTitle.attr("id")),s.descendantHasFocus(this.$el)||this.$tree.find(":focusable:first").focus(),this._initTabLimits()},_renderChildViews:function(){this._renderChildView("_folderTreeView",e.FolderTreeView,this.$tree)},_getSiteCatalystContext:function(){return o.MOVE_DLG},_onMoveClick:function(){var t=this.options,n=[],r=e.Util;this.close(),n=r.addToArray(n,t.scContext),n=r.addToArray(n,this._getSiteCatalystContext()),t.parentView._triggerViewEvent(e.ViewEvents.MOVE_DLG_MOVE,{id:this._selectedFolderId,scContext:n})},_onCancelClick:function(){this.close(!1)},_onViewEvent:function(t,n){t===e.ViewEvents.SELECTION_CHANGE?this._onFolderTreeSelectionChange(n):t===e.ViewEvents.SELECTION_COMMIT?this._onFolderTreeSelectionCommit(n):this.trigger(t,n)},_onFolderTreeSelectionChange:function(e){this._selectedFolderId=e.id,this._updateControls()},_onFolderTreeSelectionCommit:function(e){this._onFolderTreeSelectionChange(e),this._onMoveClick()}})}),define("core/dev/ops/dialogs/showing-move-dlg-op",["core/ac-core","core/ops/op","core/views/move-dlg-view"],function(e){return e.ShowingMoveDlgOp=e.Op.extend({run:function(){var t;return t=new e.MoveDlgView(_.extend({},this.options,{folderUiModel:e.uiModelFactory.create("FolderUiModel")})),t.open()}}),e.ShowingMoveDlgOp}),define("core/dev/templates/quota-warning-dlg-template",[],function(){return'<div class="quota-warning-dlg-para quota-warning-dlg-msg">    <%- msg %></div> <div class="quota-warning-dlg-para quota-warning-dlg-upgrade_msg">   <%- upgradeMsg %></div> <div class="quota-warning-dlg-btns">    <input class="control-button button-grey dialog-control-button ui-theme theme-text                  quota-warning-dlg-ok-btn"           type="button" id="quota-warning-dlg-ok-btn"           aria-label="<%= okBtn %>"           value="<%= okBtn %>"/>     <input class="control-button dialog-control-button                  quota-warning-dlg-learn-more-btn"           type="button" id="quota-warning-dlg-learn-more-btn"           aria-label="<%= learnMoreBtn %>"           value="<%= learnMoreBtn %>"/></div>'}),define("core/dev/views/quota-warning-dlg-view",["core/ac-core","core/templates/quota-warning-dlg-template","core/utils/util","core/utils/view-util","i18n!core/nls/ui-strings","core/utils/truncate","core/views/dialog-view"],function(e,t,n,r,i,s){e.QuotaWarningDlgView=e.DialogView.extend({events:function(){return _.extend({},e.DialogView.prototype.events,{"click .quota-warning-dlg-ok-btn":"_onOkClick","click .quota-warning-dlg-learn-more-btn":"_onLearnMoreClick"})},initialize:function(){e.DialogView.prototype.initialize.call(this),this._template=_.template(t)},render:function(){var t=this.options;return e.DialogView.prototype.render.call(this),this._appendToDialog(this._template({msg:t.msg,upgradeMsg:t.upgradeMsg,learnMoreBtn:t.actionBtn,okBtn:i.CLOSE})),this._initWrappers(),t.actionBtn===""&&this.$actionBtn.hide(),this._center(),n.isWindows()&&r.swapChildElements(this.$dlgControlBtns),this._truncateText(),this.$okBtn.focus(),this},_initWrappers:function(){e.DialogView.prototype._initWrappers.call(this),this.$title=this.$(".about-dlg-title"),this.$dlgControlBtns=this.$(".quota-warning-dlg-btns"),this.$okBtn=this.$(".about-dlg-ok-btn"),this.$actionBtn=this.$(".quota-warning-dlg-learn-more-btn")},_truncateText:function(){s.truncateElementText(this.$title),s.truncateButtonLabel(this.$okBtn)},_onOkClick:function(){this.close()},_onLearnMoreClick:function(){this._triggerViewEvent(e.ViewEvents.MANAGE_SUB_CLICK),this.close()}})}),define("core/dev/ops/dialogs/showing-quota-warning-dlg-op",["core/ac-core","i18n!core/nls/ui-strings","core/utils/num-util","core/ops/op","core/views/quota-warning-dlg-view"],function(e,t,n){return e.ShowingQuotaWarningDlgOp=e.Op.extend({run:function(){var r=this.options,i,s,o=r.storageQuotaModel,u,a,f,l,c,h,p,d,v=r.quotaDlgUiModel,m=e.QuotaDlgUiModel;i=o.get("storage_used"),s=o.get("storage_quota");if(s===0)return this._getResolvedPromise();h=i/s,c=n.formatSize(s*n.GB),l=n.formatSize(i*n.GB),a=t.QUOTA_WARNING_DLG_TITLE_EXCEEDED,p=t.LEARN_MORE,d=t.QUOTA_WARNING_DLG_MSG_UPGRADE;if(r.uploading)f=_.template(t.QUOTA_WARNING_DLG_MSG_UPLOAD_EXCEEDED,{allotment:c}),s===m.MAX_POSSIBLE_QUOTA_GB&&(p="",d=t.QUOTA_WARNING_DLG_MSG_YOU_WILL_NEED);else if(h>m.ERROR_THRESHOLD)f=_.template(t.QUOTA_WARNING_DLG_MSG_LOGIN_EXCEEDED,{using:l,allotment:c}),p=t.UPGRADE,d=t.QUOTA_WARNING_DLG_MSG_YOU_MAY_VIEW;else if(h>m.WARNING_THRESHOLD){a=t.QUOTA_WARNING_DLG_TITLE_RUNNING_OUT,f=_.template(t.QUOTA_WARNING_DLG_MSG_RUNNING_OUT,{using:l,allotment:c});if(!(!v.get("running_out_shown")&&h<m.ERROR_THRESHOLD))return this._getResolvedPromise();v.set("running_out_shown",!0),r.appApi.usersMeApi.saveCommonPrefs()}return u=new e.QuotaWarningDlgView(_.extend({},r,{title:a,msg:f,upgradeMsg:d,actionBtn:p})),u.open()}}),e.ShowingQuotaWarningDlgOp}),define("core/dev/templates/rename-dlg-template",[],function(){return'<div role="alert" class="rename-dlg-error theme-text"></div> <div class="rename-dlg-name-container">    <input class="rename-dlg-name <%= locale %> ui-theme theme-container theme-text" type="text"           title="<%- title %>"           value="<%- name %>" /></div> <div class="dialog-buttons">    <input class="rename-dlg-cancel-btn control-button                  dialog-control-button                  button-grey ui-theme theme-text"           type="button"           id="rename-dlg-cancel-btn"           aria-label="<%= cancel %>"           value="<%= cancel %>" />    <input class="rename-dlg-rename-btn control-button                  dialog-control-button disabled theme-button theme-button-label"           type="button"           id="rename-dlg-rename-btn"           aria-label="<%= rename %>"           value="<%= rename %>"           disabled="disabled" /></div>'}),define("core/dev/views/rename-dlg-view",["core/ac-core","core/templates/rename-dlg-template","i18n!core/nls/ui-strings","core/utils/truncate","core/utils/util","core/utils/view-util","core/utils/sc-analytics","core/views/dialog-view"],function(e,t,n,r,i,s,o){e.RenameDlgView=e.DialogView.extend({events:function(){return _.extend({},e.DialogView.prototype.events,{"keydown .rename-dlg-name":"_onNameKeyDown","keyup   .rename-dlg-name":"_onNameKeyUp","paste   .rename-dlg-name":"_onNamePaste","click   .rename-dlg-rename-btn":"_onRenameClick","click   .rename-dlg-cancel-btn":"_onCancelClick"})},initialize:function(){e.DialogView.prototype.initialize.call(this),this._template=_.template(t),this._addUiModelEventListeners()},render:function(){var t=this._getName(),r=this._getTitle();return e.DialogView.prototype.render.call(this),this.options.addedId||this._logSiteCatalystEvent(o.SHOWN),this._appendToDialog(this._template({name:t,rename:n.RENAME,cancel:n.CANCEL,title:r,locale:e.Locale.getLocale()})),this._setTitle(r),this._initWrappers(),s.setElementFontByLocale(this.$el,"input"),this._center(),i.isWindows()&&s.swapChildElements(this.$dlgControlBtns),this._initTabLimits(),_.defer(this._selectName),this._truncateText(),this._updateControls(),this},open:function(){var t=e.DialogView.prototype.open.call(this);return this._origName=this._getName(),t},close:function(t,n){var r=this.options,i=r.appApi.manipulationApi,s=this._origName,o,u;u=_.bind(function(){e.DialogView.prototype.close.call(this,t,n)},this),t?u():(o=this._getMovedFrom(),o?i.moveToFolderAs(_.extend(r,{noScEvent:!0}),r.id,r.object_type,o,this._getExistingName()).always(u):r.addedId?i.deleteItem(_.extend(r,{noScEvent:!0}),r.id,r.object_type).always(u):this._getCurrentName().then(_.bind(function(t){t.name!==s?e.opFactory.create("RenamingItemOp",_.extend({},r,{name:s,noScEvent:!0})).run().always(u):u()},this),function(){u()}))},_initWrappers:function(){e.DialogView.prototype._initWrappers.call(this),this.$error=this.$(".rename-dlg-error"),this.$name=this.$(".rename-dlg-name"),this.$dlgControlBtns=this.$(".dialog-buttons"),this.$renameBtn=this.$(".rename-dlg-rename-btn"),this.$cancelBtn=this.$(".rename-dlg-cancel-btn")},_isTargetFile:function(){return this.options.object_type==="file"},_getTitle:function(){return this._isTargetFile()?n.RENAME_FILE:n.RENAME_FOLDER},_getName:function(){return this.options.name},_setName:function(e){this.options.name=e,this.$name.val(e)},_getExistingName:function(){return this.options.existingName},_getMovedFrom:function(){return this.options.movedFrom},_getNewName:function(){return $.trim(this.$name.val())},_getCurrentName:function(){var t;return this._isTargetFile()?t="GettingAssetMetadataOp":t="GettingFolderMetadataOp",e.opFactory.create(t,_.extend({},this.options,{modal:!1})).run()},_truncateText:function(){r.truncateButtonLabel(this.$renameBtn),r.truncateButtonLabel(this.$cancelBtn)},_updateControls:function(){var e=this._getNewName(),t;t=e.length>0&&e!==this._getExistingName()&&!this._isRenaming,s.enableInput(this.$renameBtn,t),this._initTabLimits()},_selectName:function(){var e=this.$name,t,n;t=e.val(),n=t.lastIndexOf("."),n>0&&this._isTargetFile()?s.selectText(e.get(0),0,n):e.select(),e.focus()},_maybeRename:function(){var t=this._getNewName(),n=this._dialogUiModel,r;if(t.length===0)return;if(t===this._getName()){n&&(r=n.get("error"),(!r||r.renamed_details)&&this._logSiteCatalystEvent(o.SUCCESS)),this.close(!0);return}this._triggerViewEvent(e.ViewEvents.RENAME_ITEM_FROM_DLG,{newName:t,dialogUiModel:this._dialogUiModel,scContext:this._getFullScContext()})},_show50XError:function(e,t){if(e){var r=n.HTTP_STATUS_DEFAULT_MSG_CEF;t==500?r=n.HTTP_STATUS_500_MSG:t===501?r=n.HTTP_STATUS_501_MSG:t===503&&(r=n.HTTP_STATUS_503_MSG),this.$error.text(_.template(r,{renamedType:n.FOLDER})),this.$error.slideDown("fast")}else this.$error.slideUp("fast",_.bind(function(){this.$error.hide()},this))},_showDuplicateNameError:function(e,t,r){e?(this.$error.text(_.template(n.RENAME_NAME_IN_USE,{existingType:r?n.FILE:n.FOLDER,name:t,renamedType:this._isTargetFile()?n.FILE:n.FOLDER})),this.$error.slideDown("fast")):this.$error.slideUp("fast",_.bind(function(){this.$error.hide()},this))},_showIllegalNameError:function(e){var t=this.$error;e?(t.text(_.template(n.RENAME_ILLEGAL_NAME,{renamedType:this._isTargetFile()?n.FILE:n.FOLDER})),t.slideDown("fast")):(t.slideUp("fast",function(){t.hide()}),this._dialogUiModel.set("error",undefined,{silent:!0}))},_getSiteCatalystContext:function(){return this.options.scContext&&_.indexOf(this.options.scContext,o.DUP_FILE_NAME_DLG)!==-1?o.RENAME_FILE:o.RENAME_DLG},_onNameKeyDown:function(e){this._showDuplicateNameError(!1),this._showIllegalNameError(!1),e.which===13&&s.isInputEnabled(this.$renameBtn)&&this._maybeRename()},_onNameKeyUp:function(){this._updateControls()},_onNamePaste:function(){_.defer(this._updateControls)},_onRenameClick:function(e){var t=$(e.currentTarget);if(!s.isInputEnabled(t))return;this._maybeRename()},_onCancelClick:function(){this.close(!1)},_addUiModelEventListeners:function(){var t=e.uiModelFactory.create("DialogUiModel");this._dialogUiModel=t,this.listenTo(t,"change:close",this._onCloseChange).listenTo(t,"change:error",this._onErrorChange)},_onCloseChange:function(e,t){this.close(t)},_onErrorChange:function(t,n){var r=n.renamed_details,i,s,u,a,f=e.ErrorUiModel;if(r)i=r.duplicate_of;else{u=n.error;if(u){a=u.code;if(a===f.CODE_ILLEGAL_NAME||a===f.CODE_INVALID_PARAMETER){this._showIllegalNameError(!0),this._selectName();return}if(a>=500&&a<=503){this._show50XError(!0,a);return}}}if(r&&!i){this._showIllegalNameError(!0),this._setName(n.renamed_to||n.renamed_details.original_name),this._error=n,this._selectName();return}if(!r||!i){this.close();return}this._isTargetFile()?this._logSiteCatalystEvent([o.ERROR,o.FILE_EXISTS]):this._logSiteCatalystEvent([o.ERROR,o.FOLDER_EXISTS]),s=r.original_name,this._showDuplicateNameError(!0,s,i.object_type==="file"),this._setName(n.renamed_to||n.renamed_details.original_name),this._selectName()}})}),define("core/dev/ops/dialogs/showing-rename-dlg-op",["core/ac-core","core/ops/op","core/views/rename-dlg-view"],function(e){return e.ShowingRenameDlgOp=e.Op.extend({run:function(){var t=this.options,n;return n=new e.RenameDlgView(t),n.open(t.parentView)}}),e.ShowingRenameDlgOp}),define("core/dev/ops/downloading/downloading-asset-if-exists-op",["core/ac-core","core/utils/util","core/utils/file-types","i18n!core/nls/ui-strings","core/ops/op"],function(e,t,n,r){return e.DownloadingAssetIfExistsOp=e.Op.extend({run:function(){var i=this.options,s=e.opFactory,o,u=this._logFormScEvent,a,f,l,c,h,p=!1;return c=_.extend({},i,{async:t.isIE9orBelow()}),t.isCEF()&&i.itemModel&&i.itemModel.get("content_type")==="application/pdf"?s.create("OpeningDocInReaderOp",i).run():(f=s.create("DownloadingAssetOp",c),h=s.create("DownloadingFormOp",c),a=s.create("GettingDownloadTicketOp",c),o=s.create("GettingAssetMetadataOp",c),l=s.create("ExecutingPluginsPreDownloadOp",_.extend({},i,{pluginsUiModel:i.fullPreviewOverlaysUiModel})),l.run().then(function(){o.run().then(function(e){return n.isFormMimeType(e.content_type)?h.run():i.numForms>0?(u(null,null,"Tools:FSS:Form:Output:WarnDlg:FilesTab:MultiNoDwnld:Shown"),i.appApi.dialogApi.displayHtmlAlert(i.appApi.dialogApi.SEVERITY_WARNING,r.DOWNLOAD_FORM_TITLE,r.DOWNLOAD_FORMS_EXCLUDED_MESSAGE,r.CONTINUE,r.CANCEL).then(function(){return $.Deferred().resolve(i.id,!1).promise()},function(){return $.Deferred().reject().promise()})):$.Deferred().resolve(i.id,!1).promise()}).then(function(e,t){i.id=e,p=t,a.run(!1,i.id).then(function(e){f.options.id=i.id,f.run(e.download_ticket,p)})})}))}}),e.DownloadingAssetIfExistsOp}),define("core/dev/ops/downloading/downloading-asset-op",["core/ac-core","core/utils/util","core/ops/op"],function(e,t){return e.DownloadingAssetOp=e.Op.extend({run:function(n,r){var i,s,o;return i=e.modelFactory.create("AssetModel",this.options),r?s=i.getUnmanagedDownloadUrl(n):s=i.getDownloadUrl(n),t.isTouchDevice()?(o=window.onbeforeunload,window.onbeforeunload=function(){window.onbeforeunload=o},window.open(s)):$("#download-iframe").attr("src",s),this._getResolvedPromise()}}),e.DownloadingAssetOp}),define("core/dev/ops/downloading/downloading-form-op",["core/ac-core","core/utils/http-util","plugins-common/ac-plugins","i18n!core/nls/ui-strings","core/ops/op"],function(e,t,n,r){var i="Tools:FSS:Form:Output:",s=i+"WarnDlg:FilesTab:DwnldPDF:Shown",o=i+"SavePDF:1-Started:FilesTab",u=i+"SavePDF:2-Completed:FilesTab",a=i+"Completed",f=i+"SavePDF:Error",l=i+"SavePDF:Error:";return e.DownloadingFormOp=e.Op.extend({run:function(){var e,i,c=this.options,h,p=this._logFormScEvent,d,v="ServerError",m=$.Deferred(),g=c.appApi,y=g.pluginsApi,b=g.dialogApi,w=g.networkApi;return e=y.getBaseUrl(n.FILLSIGN)+"/api/createpdf",i="POST",h=_.extend({},t.getRequestHeaders(i),{"Content-Type":"application/json"}),c=_.extend({},c,{type:i,headers:h,dataType:"json",modal:!0,async:!0,data:JSON.stringify({formID:c.id,locale:g.localeApi.getLocale()})}),p(null,null,s),b.displayHtmlAlert(b.SEVERITY_WARNING,r.DOWNLOAD_FORM_TITLE,r.DOWNLOAD_FORM_MESSAGE,r.CONTINUE,r.CANCEL).then(function(){p(null,o,o),w.throttledAjax(e,c).then(function(e){_.has(e,"assetID")?(p(a,u,u),m.resolve(e.assetID,!0)):m.reject()},function(e,t){try{if(t==="timeout")v="TimeOut";else{d=JSON.parse(e.responseText);switch(d.error.code){case"Timeout":v="TimeOut";break;case"RestrictedEditPermission":v="PermSet"}}}catch(n){}p(f,l+v,l+v+":FilesTab"),m.reject()})},function(){m.reject()}),m.promise()}}),e.DownloadingFormOp}),define("core/dev/ops/downloading/downloading-zip-op",["core/ac-core","core/utils/util","core/utils/http-util","core/ops/op"],function(e,t,n){return e.DownloadingZipOp=e.Op.extend({run:function(e){var r,i,s;return i=new Date,s=i.getTimezoneOffset(),r=this.options.appApi.baseFilesUrisApi.getDownloadUri()+"archive/zip/ticket?dlticket="+encodeURIComponent(e)+"&tzo="+encodeURIComponent(s)+"&html_errors=true&"+n.getClientIdQueryParam(),t.isTouchDevice()?window.open(r):$("#download-iframe").attr("src",r),this._getResolvedPromise()}}),e.DownloadingZipOp}),define("core/dev/ops/downloading/downloading-zip-start-op",["core/ac-core","core/utils/util","i18n!core/nls/ui-strings","core/models/rna/rna-notification-model","core/ops/op"],function(e,t,n,r){return e.DownloadingZipStartOp=e.Op.extend({run:function(){var i=this.options,s=i.appApi,o=s.dialogApi,u=$.Deferred(),a=this._logFormScEvent,f=e.opFactory,l,c,h,p,d;return p=_.extend({},i,{async:t.isIE9orBelow()}),t.isCEF()?(c=f.create("DownloadingZipFileOp",i),d=i.notificationObj):c=f.create("DownloadingZipOp",p),l=f.create("GettingDownloadTicketOp",p),h=f.create("ExecutingPluginsPreDownloadOp",_.extend({},i,{pluginsUiModel:i.fullPreviewOverlaysUiModel})),h.run().then(function(){return i.id_list.length===0?(a(null,null,"Tools:FSS:Form:Output:WarnDlg:FilesTab:MultiNoDwnld:Shown"),o.displayHtmlAlert(s.dialogApi.SEVERITY_ERROR,n.DOWNLOAD_FORM_TITLE,n.DOWNLOAD_FORMS_MESSAGE,n.OK).then(function(){return u.reject().promise()})):i.numForms>0?(a(null,null,"Tools:FSS:Form:Output:WarnDlg:FilesTab:MultiNoDwnld:Shown"),o.displayHtmlAlert(o.SEVERITY_WARNING,n.DOWNLOAD_FORM_TITLE,n.DOWNLOAD_FORMS_EXCLUDED_MESSAGE,n.CONTINUE,n.CANCEL).then(function(){return u.resolve().promise()},function(){return u.reject().promise()})):u.resolve().promise()}).then(function(){return l.run(!1,i.id_list)}).then(function(e){var n;return t.isCEF()?(n=c.run(e.download_ticket),n[1].done(function(e){if(d){var t=d.get("userData"),n={};try{n=JSON.parse(t)}catch(i){}e.errorSet?s.rnaApi.done(function(e){e.notificationAPI.removeNotification(d.get("notificationID"))}):(e.downloadedFileName&&(n.downloadedFileName=e.downloadedFileName),d.invoke("setProperty",{operationType:r.NOTIFICATION_OPERATIONS.DOWNLOAD,userData:JSON.stringify(n)}))}}),n[0]):c.run(e.download_ticket)})}}),e.DownloadingZipStartOp}),define("core/dev/ops/getting/getting-asset-metadata-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){return e.GettingAssetMetadataOp=e.Op.extend({run:function(n){var r=this.options,i,s;return n&&(r=_.extend({},r,{id:n})),i=e.modelFactory.create("AssetModel",r),s="GET",r.appApi.networkApi.throttledAjax(i.getMetadataUrl(),_.extend({type:s,headers:t.getRequestHeaders(s),dataType:"json"},r))}}),e.GettingAssetMetadataOp}),define("core/dev/ops/getting/getting-base-cloud-uris-op",["core/ac-core","core/utils/cache-network-call-util","core/ops/op"],function(e,t){return e.GettingBaseCloudUrisOp=e.Op.extend({run:function(){this.options.appApi.sessionApi.removeSignedInChangeCallback(this.onSignedInChange),this.options.appApi.sessionApi.addSignedInChangeCallback(this.onSignedInChange);var n=Ac.baseCloudUrisModel,r,i=$.Deferred();if(n&&!_.isEmpty(n.attributes))return $.Deferred().resolve(n).promise();Ac.baseCloudUrisModel=n=this.options.baseCloudUrisModel,_.each(Ac.Core,function(e){e.baseCloudUrisModel=n});var s={};return s.showPromptDep="kNoShow",s.showPromptUns="kNoShow",s.argSuccess=s.argFailure=n,this.options.appApi.rnaApi.done(_.bind(function(o){var u=t.getCacheFromLocalStorage("Cloud-File-Uris-Cache");u.isLocalStorageAvailable===!0&&u.fetchedFromCache===!0&&(u.status===200?(n.set(u.endPoints),i.resolve()):u.fetchedFromCache=!1);var a=u.fetchedFromCache;a===!1&&o.responseCacheApi.getBaseCloudUris().done(function(e){n.set(e),i.resolve()}).fail(function(){!1,o.rnaServicesAPI.checkIfDCAPIUnSupported(function(e){i.reject({errorCode:10,errorString:"DCAPIUnsupported-Error410"})},function(n){r=n.fetch({modal:!1,cache:!1}).done(function(){var s=t.setCacheInLocalStorage("Cloud-File-Uris-Cache",r.status,r.getResponseHeader("cache-control"),r.responseJSON);e.buildTaggedVersion=r.getResponseHeader("X-Server"),o.responseCacheApi.setBaseCloudUris(n.toJSON()),i.resolve()}).fail(function(e){o.rnaServicesAPI.checkIfDCAPIUnSupported(function(t){e.errorString="DCAPIUnsupported-Error410",e.errorCode=10,i.reject(e)},function(t){i.reject(e)},s)})},s)})},this)),i.promise()},onSignedInChange:function(e,n){n||(Ac.baseCloudUrisModel&&(Ac.baseCloudUrisModel.attributes={}),this.options.appApi.rnaApi.done(_.bind(function(e){e.responseCacheApi.setBaseCloudUris({})},this)),t.purgeCacheIfSignInChange("Cloud-File-Uris-Cache"))}}),e.GettingBaseCloudUrisOp}),PrepareArgsDCAPICallback=function(e){var t={};t.showPromptDep="kAutoShow",t.showPromptUns="kAutoShow",t.argSuccess=t.argFailure=e;if(window.location.pathname.indexOf("fillsign")!=-1||window.location.pathname.indexOf("send_for_sign")!=-1)t.showPromptDep="kNoShow",t.showPromptUns="kNoShow";return t},define("core/dev/ops/getting/getting-base-files-uris-op",["core/ac-core","core/utils/cache-network-call-util","core/ops/op"],function(e,t){return e.GettingBaseFilesUrisOp=e.Op.extend({run:function(){this.options.appApi.sessionApi.removeSignedInChangeCallback(this.onSignedInChange),this.options.appApi.sessionApi.addSignedInChangeCallback(this.onSignedInChange);var n=Ac.baseFilesUrisModel,r,i=$.Deferred();if(n&&!_.isEmpty(n.attributes))return $.Deferred().resolve(n).promise();Ac.baseFilesUrisModel=n=this.options.baseFilesUrisModel,_.each(Ac.Core,function(e){e.baseFilesUrisModel=n});var s=PrepareArgsDCAPICallback(n);return this.options.appApi.rnaApi.IsDCAPIUnSupported=!1,this.options.appApi.rnaApi.done(_.bind(function(o){var u=t.getCacheFromLocalStorage("Base-File-Uris-Cache");u.isLocalStorageAvailable===!0&&u.fetchedFromCache===!0&&(u.status===200?(n.set(u.endPoints),e.setBaseFilesUrlFromApi(u.endPoints.api),i.resolve()):u.fetchedFromCache=!1);var a=u.fetchedFromCache;a===!1&&o.responseCacheApi.getBaseFilesUris().done(function(t){n.set(t),e.setBaseFilesUrlFromApi(t.api),i.resolve()}).fail(function(){!1,o.rnaServicesAPI.checkIfDCAPIUnSupported(function(e){i.reject({errorCode:10,errorString:"DCAPIUnsupported-Error410"})},function(n){r=n.fetch({modal:!1,cache:!1}).done(function(){var s=t.setCacheInLocalStorage("Base-File-Uris-Cache",r.status,r.getResponseHeader("cache-control"),r.responseJSON);n.set("server_version",r.getResponseHeader("X-Server")),o.responseCacheApi.setBaseFilesUris(JSON.stringify(n.toJSON())),e.setBaseFilesUrlFromApi(r.responseJSON.api),i.resolve()}).fail(function(e){o.rnaServicesAPI.checkIfDCAPIUnSupported(function(t){e.errorString="DCAPIUnsupported-Error410",e.errorCode=10,i.reject(e)},function(t){i.reject(e)},s)})},s)})},this)),i.promise()},onSignedInChange:function(e,n){n||(Ac.baseFilesUrisModel&&(Ac.baseFilesUrisModel.attributes={}),this.options.appApi.rnaApi.done(_.bind(function(e){e.responseCacheApi.setBaseFilesUris({})},this)),t.purgeCacheIfSignInChange("Base-File-Uris-Cache"))}}),e.GettingBaseFilesUrisOp}),define("core/dev/ops/getting/getting-discovery-resp-op",["core/ac-core","core/ops/op"],function(e){const t=10,n=1e3;return e.GettingDiscoveryRespOp=e.Op.extend({run:function(r){var i=Ac.discoveryUrisModel,s=$.Deferred(),o=this.options;return r===undefined&&(r=t),this.options.appApi.rnaApi.done(_.bind(function(t){Ac.discoveryUrisModel=i=this.options.discoveryUrisModel,t.responseCacheApi.getDiscoveryResp().done(function(e){i.setDiscoveryResponse(e),s.resolve()}).fail(function(){r>0?_.delay(function(){console.log("trying discop "+r),e.opFactory.create("GettingDiscoveryRespOp",o).run(r-1).then(function(){s.resolve()})},n):s.reject()})},this)),s},onSignedInChange:function(e,t){t||Ac.discoveryUrisModel&&(Ac.discoveryUrisModel.attributes={})}}),e.GettingDiscoveryRespOp}),define("core/dev/ops/getting/getting-common-limits-op",["core/ac-core","core/ops/op"],function(e){return e.GettingCommonLimitsOp=e.Op.extend({run:function(){var e=this.options.commonLimitsModel,t=$.Deferred();return e&&!_.isEmpty(e.attributes)?$.Deferred().resolve(e).promise():(this.options.appApi.rnaApi.done(_.bind(function(n){n.responseCacheApi.getUsersCommonLimits().done(function(n){e.set(n),t.resolve(e)}).fail(function(){e.fetch({modal:!1}).done(function(){n.responseCacheApi.setUsersCommonLimits(e.toJSON()),t.resolve(e)})})},this)),t)}}),e.GettingCommonLimitsOp}),define("core/dev/ops/getting/getting-connectors-ui-helpers-op",["core/ac-core","core/utils/util","core/ops/op"],function(e,t){return e.GettingConnectorsUiHelpersOp=e.Op.extend({run:function(){var e=this.options,n=e.connectorsUiHelpersModel,r,i,s;return n?t.isCEF()?(r=$.Deferred(),i=!!e.forceFresh,s=!!e.useReaderSyncMode,e.appApi.rnaApi.done(function(e){var t=e.getConnectorsUIHelperData(i,s);t.done(function(){r.resolve()}).fail(function(){r.reject()})}),r.promise()):n.fetch({global:!1}):this._getRejectedPromise()}}),e.GettingConnectorsUiHelpersOp}),define("core/dev/utils/ts-utils",[],function(){var e={extractRootUrl:function(e){var t=document.createElement("a");return t.href=e,t.protocol+"//"+t.host}};return e}),define("core/dev/ops/getting/getting-desktop-fetching-autocomplete-list-op",["core/ac-core","core/utils/ts-utils","core/ops/op"],function(e,t){e.DesktopFetchingAutocompleteListOp=e.Op.extend({run:function(){var e=this.options.sendFilesUiModel.get("enable_autocomplete"),n;if(e)return this.options.appApi.sessionApi.ensureSignedIn().then(_.bind(function(){return n=this.options.appApi.baseFilesUrisApi.getSendApiUri(),n=t.extractRootUrl(n),this.options.rootUrl=n,this.options.autoCCollection.setRUrl(this.options.rootUrl),this._getResolvedPromise()},this))}})}),define("core/dev/ops/getting/getting-document-cloud-storage-info-op",["core/ac-core","core/utils/util","core/ops/op"],function(e,t){return e.GettingDocumentCloudStorageInfoOp=e.Op.extend({run:function(){var e=!1,n=this.options,r=$.Deferred(),i=!1;return t.isCEF()?n.appApi.rnaApi.done(function(t){t.rnaServicesAPI.isEnterpriseUser()&&(e=!t.rnaServicesAPI.isPDFServicesEnabled(),i=!t.rnaServicesAPI.isEncryptionKeyValid()),e?r.reject({errorString:"NoAccessToPdfServices"}):i?r.reject({errorString:"NoAccessToPdfServices",errorCode:"UserEncrypted"}):r.resolve()}):r.resolve(),r.promise()}}),e.GettingDocumentCloudStorageInfoOp}),define("core/dev/ops/getting/getting-download-ticket-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){return e.GettingDownloadTicketOp=e.Op.extend({run:function(e,n){var r,i,s,o,u,a;return r=this.options.sessionModel.getDownloadTicketUrl(),e?(i="GET",s=_.extend({},this.options,{type:i,headers:t.getRequestHeaders(i),dataType:"json"}),u=s.data={id:n},e&&(u.public=!0),a=s.appApi.networkApi.throttledAjax(r,s)):(i="POST",o={id:n},e&&(o.public=!0),s=_.extend({},this.options,{type:i,headers:t.getRequestHeaders(i),data:JSON.stringify(o),dataType:"json"}),a=s.appApi.networkApi.throttledAjax(r,s)),a}}),e.GettingDownloadTicketOp}),define("core/dev/ops/getting/getting-folder-items-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){var n={};return e.GettingFolderItemsOp=e.Op.extend({run:function(e,r){var i=this.options,s=i.folderModel,o,u=!1,a,f=i.inFileSelectionDlg,l;e=e||i.id,e&&s.set("id",e),r&&(u=!!r.excludeEtag),o=i.sortUiModel,i.limitedApi&&!u&&!f&&(i.etag=n[e]),i.firstPage==undefined&&(i.firstPage=!0);var c=i.appApi.connectorsApi,h=c.isConnectorRemovable(c.getConnectorPluginName(i.pluginId));if(i.appApi.discoveryUrisApi.useDCApi()&&!h){var p={};if(o){p.order_by=o.get("order_by"),p.sort_order=o.getOrderDirection();var d=s.getPageSize();p.page_size=d?d:100}if(i.firstPage)l=s.getFoldersListUrl(p);else{l=s.getNextPageUrl();if(l==undefined)return $.Deferred().reject()}var v=t.getRequestHeaders("GET");return v.authorization="Bearer "+i.appApi.sessionApi.getPrimaryToken(),v.accept=s.getFoldersListUrlAcceptHeader(),i.url=l,i.headers=v,i.modal=!1,s.fetch(i).then(function(t,r,s){var o;t&&(o=t.headers);if(o)a=o.ETag;else{var u=i.notificationHeading;u!=="Google Drive Files"&&u!=="OneDrive Files"&&u!=="Dropbox Files"&&u!=="Box Files"&&u!=="SharePoint Site Files"&&(a=s.getResponseHeader("ETag"))}a&&!f&&(n={},n[e]=a)},function(e){e&&e.status==423&&i.appApi.rnaApi.done(_.bind(function(e){e.invokeMethod({methodName:"triggerMigrationInProgressError",methodArgs:{}})},this)),s.handleFailedFetch(),console.log(e)})}return o&&(i=_.extend({},i,{data:{orderby:o.get("order_by"),orderdirection:o.getOrderDirection()}})),s.fetch(i).then(function(t,r,s){var o;t&&(o=t.headers);if(o)a=o.ETag;else{var u=i.isDesktopConnectorPlugin;u||(a=s.getResponseHeader("ETag"))}a&&!f&&(n={},n[e]=a)},function(e){console.log(e)})}}),e.GettingFolderItemsOp}),define("core/dev/ops/getting/getting-folder-metadata-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){return e.GettingFolderMetadataOp=e.Op.extend({run:function(){var n=this.options,r,i;return r=e.modelFactory.create("FolderModel",n),i="GET",t.updateAccessTokenForSessionAttr(n),n.appApi.networkApi.throttledAjax(r.getMetadataUrl(),_.extend({type:i,headers:t.getRequestHeaders(i),dataType:"json"},n))}}),e.GettingFolderMetadataOp}),define("core/dev/ops/getting/getting-system-folder-metadata-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){return e.GettingSystemFolderMetadataOp=e.Op.extend({run:function(n){var r=this.options,i,s;r.id=n,i=e.modelFactory.create("SystemFoldersModel",r),s="GET",t.updateAccessTokenForSessionAttr(r);var o=t.getRequestHeaders(s);return r.appApi.discoveryUrisApi.useDCApi()&&(o.accept=Ac.discoveryUrisModel.getFoldersListUriAcceptHeader()),r.appApi.networkApi.throttledAjax(i.getMetadataUrl(n),_.extend({type:s,headers:o,dataType:"json"},r))}}),e.GettingSystemFolderMetadataOp}),define("core/dev/ops/getting/getting-folder-op",["core/ac-core","core/ops/op"],function(e){return e.GettingFolderOp=e.Op.extend({run:function(t,n){var r=this.options,i,s=e.opFactory,o,u,a=[];return t=t||r.id,n&&(i=n.force,_.isUndefined(n.ignoreErrors)||(a=n.ignoreErrors)),t!==r.folderModel.id||i?(o=s.create("GettingFolderItemsOp",r),u=s.create("GettingFolderPathOp",_.extend({},r,{ignoreErrors:a})),$.when(o.run(t),u.run(t))):this._getResolvedPromise()}}),e.GettingFolderOp}),define("core/dev/ops/getting/getting-folder-path-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){return e.GettingFolderPathOp=e.Op.extend({run:function(n){var r=this.options,i,s,o,u;n&&(r=_.extend({},r,{id:n}));if(r.appApi.discoveryUrisApi.useDCApi()){i=e.modelFactory.create("FolderModelDCAPI",r),s="GET",t.updateAccessTokenForSessionAttr(r);var a=t.getRequestHeaders(s);return a.authorization="Bearer "+r.appApi.sessionApi.getPrimaryToken(),a.accept=i.getFolderBreadcrumbsUrlAcceptHeader(),r.appApi.networkApi.throttledAjax(i.getFolderBreadcrumbsUrl(),_.extend({},r,{type:s,headers:a,dataType:"json",modal:r.pluginId==="root"||r.pluginId==="scan_files"?!1:!0,global:_.isUndefined(r.global)?!0:r.global,ignoreErrors:_.isUndefined(r.ignoreErrors)?[]:r.ignoreErrors})).done(function(e){return u=e.breadcrumbs,$.each(u,function(e,t){var n=t.uri.split("/");t.id=n[n.length-1]}),o=r.folderUiModel,o&&o.set("path",u),$.Deferred().resolve(u).promise()})}return i=e.modelFactory.create("FolderModel",r),s="GET",t.updateAccessTokenForSessionAttr(r),r.appApi.networkApi.throttledAjax(i.getPathUrl(),_.extend({},r,{type:s,headers:t.getRequestHeaders(s),dataType:"json",global:_.isUndefined(r.global)?!0:r.global,ignoreErrors:_.isUndefined(r.ignoreErrors)?[]:r.ignoreErrors})).done(function(e){return u=e.path,o=r.folderUiModel,o&&o.set("path",u),$.Deferred().resolve(u).promise()})}}),e.GettingFolderPathOp}),define("core/dev/ops/getting/getting-root-op",["core/ac-core","core/ops/op"],function(e){return e.GettingRootOp=e.Op.extend({run:function(){var e=this.options.rootModel,t,n=$.Deferred();return e&&!_.isEmpty(e.attributes)?$.Deferred().resolve(e).promise():(this.options.appApi.rnaApi.done(_.bind(function(r){r.responseCacheApi.getRootUris().done(function(t){e.set(t),n.resolve()}).fail(function(){return t=e.fetch({modal:!1}).done(function(){r.responseCacheApi.setRootUris(e.toJSON()),n.resolve(e)}),t})},this)),n)}}),e.GettingRootOp}),define("core/dev/ops/getting/getting-site-catalyst-base-file-op",["core/ac-core","core/ops/op"],function(e){e.GettingSiteCatalystBaseFileOp=e.Op.extend({run:function(){var e=this.options.appApi.networkConnectivityApi;return this._waitTime=2e3,this._maxWaitTime=36e5,this._deferred=$.Deferred(),window.s_adobe?this._deferred.resolve().promise():(e.isOnline()?this._loadSiteCatalystBaseFile():e.addNetworkOnlineChangeCallback(this._onIsOnlineChange),this._deferred.promise())},_onIsOnlineChange:function(e){e&&!window.s_adobe&&this._loadSiteCatalystBaseFile()},_loadSiteCatalystBaseFile:function(){var e,t=this.options.appApi;window.s_adobe?this._deferred.resolve():t.rnaApi.done(function(n){n.isSignedInReader()?(e=document.createElement("script"),e.src=Ac.config.getSiteCatalystUri(),e.type="text/javascript",e.onload=function(){window.s_adobe&&window.s_adobe.sa(Ac.config.getSiteCatalystRsid())},document.getElementsByTagName("body")[0].appendChild(e)):t.sessionApi.addSignedInChangeCallback(this._loadSiteCatalystBaseFile)})}})}),define("core/dev/ops/getting/getting-sso-uri-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){return e.GettingSsoUriOp=e.Op.extend({run:function(e){var n=this.options,r,i,s=Ac.baseCloudUrisModel.getApiUri();return _.isEmpty(s)?this._getRejectedPromise():(s+="session/sso_uri",r="GET",i=t.getRequestHeaders(r,n,!1),e&&(e.charAt(0)==="/"&&(e=e.substr(1)),s=s+"?path=/"+e),n.appApi.networkApi.throttledAjax(s,{type:r,headers:i}))}}),e.GettingSsoUriOp}),define("core/dev/ops/getting/getting-storage-quota-op",["core/ac-core","core/ops/op"],function(e){return e.GettingStorageQuotaOp=e.Op.extend({run:function(){var e=this.options.storageQuotaModel,t=$.Deferred(),n=this.options.appApi;return e&&!_.isEmpty(e.attributes)?$.Deferred().resolve(e).promise():(this.options.appApi.rnaApi.done(_.bind(function(r){r.responseCacheApi.getUsersMeQuotas().done(function(n){e.set(n),t.resolve(e)}).fail(function(){r.logPerformance("StorageQuotaNetworkCall","start"),e.fetch({modal:!1}).done(function(){r.logPerformance("StorageQuotaNetworkCall","end"),r.responseCacheApi.setUsersMeQuotas(e.toJSON()),t.resolve(e)}).fail(function(e){e.status==423&&n.rnaApi.done(_.bind(function(e){e.invokeMethod({methodName:"triggerMigrationInProgressError",methodArgs:{}})},this))})})},this)),t)}}),e.GettingStorageQuotaOp}),define("core/dev/ops/getting/getting-system-folders-op",["core/ac-core","core/utils/util","core/ops/op"],function(e,t){return e.GettingSystemFoldersOp=e.Op.extend({run:function(){var e=this.options,n=e.systemFoldersModel,r,i,s;return n?t.isCEF()?(r=$.Deferred(),i=!!e.forceFresh,s=!!e.useReaderSyncMode,e.appApi.rnaApi.done(function(e){var t=e.getSystemFoldersData(i,s);t.done(function(){r.resolve()}),t.fail(function(){r.reject()})}),r.promise()):n.fetch({global:e.global===!0}):this._getRejectedPromise()}}),e.GettingSystemFoldersOp}),define("core/dev/ops/getting/getting-users-me-cohorts-op",["core/ac-core","core/ops/op"],function(e){return e.GettingUsersMeCohortsOp=e.Op.extend({run:function(){var e=this.options.usersMeCohortsModel,t=$.Deferred();return e&&!_.isEmpty(e.attributes)?$.Deferred().resolve(e).promise():(this.options.appApi.rnaApi.done(_.bind(function(n){n.responseCacheApi.getUsersMeCohorts().done(function(n){e.set(n),t.resolve(e)}).fail(function(){e.fetch({modal:!1}).done(function(){n.responseCacheApi.setUsersMeCohorts(e.toJSON()),t.resolve(e)})})},this)),t)}}),e.GettingUsersMeCohortsOp}),define("core/dev/ops/listening/listening-for-key-events-op",["core/ac-core","core/utils/util","core/ops/op"],function(e,t){return e.ListeningForKeyEventsOp=e.Op.extend({run:function(){var e=$.Deferred();return $("body").on("keydown",this._onKeyDown).on("keypress",this._onKeyPress).on("keyup",this._onKeyUp),this._deferred=e,e.promise()},_processKeyEvent:function(e,n){var r=this.options.keyHandlers,i,s;for(i=r.length-1;i>=0;i-=1)if(r[i][e]&&r[i][e](n)){s=$(n.target),!s.is("input")&&!s.is("textarea")&&n.preventDefault();break}t.isCEF()&&i<0&&n.which===8&&!$(n.target).is("input")&&!$(n.target).is("textarea")&&n.preventDefault()},_onKeyDown:function(e){this._processKeyEvent("_onKeyDown",e)},_onKeyPress:function(e){this._processKeyEvent("_onKeyPress",e)},_onKeyUp:function(e){this._processKeyEvent("_onKeyUp",e)}}),e.ListeningForKeyEventsOp}),define("core/dev/ops/listening/listening-for-focus-events-op",["core/ac-core","core/ops/op"],function(e){return e.ListeningForFocusEventsOp=e.Op.extend({run:function(){var e=$.Deferred();return $("body").on("focusin",this._onFocusIn).on("focusout",this._onFocusOut),this._deferred=e,e.promise()},_processFocusEvent:function(e,t){var n=this.options.focusHandlers,r;for(r=n.length-1;r>=0;r-=1)if(!(n[r]instanceof Backbone.View)||$(t.target).closest(n[r].$el).length===1)if(n[r][e]&&n[r][e](t))break},_onFocusIn:function(e){this._processFocusEvent("_onFocusIn",e)},_onFocusOut:function(e){this._processFocusEvent("_onFocusOut",e)}}),e.ListeningForFocusEventsOp}),define("core/dev/ops/manipulation/add-participant-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){return e.ReviewAddParticipantOp=e.Op.extend({run:function(e){var n=this.options,r="POST",i,s={},o=$.Deferred();i=this.options.appApi.baseFilesUrisApi.getSendApiUri()+"parcels/"+e.parcelID+"/invitation";var u=t.getRequestHeaders(r);s["Content-Type"]="application/json",s.Accept="application/vnd.adobe.skybox+json;version=2",s.Authorization=u.Authorization,s["x-api-client-id"]=u["x-api-client-id"];var a={recipients:e.emails},f=JSON.stringify(a);return this.options.appApi.rnaApi.done(function(e){e.logPerformance("NwCall_AddParticipant","start")}),$.ajax(i,{type:r,headers:s,data:f,dataType:"json",global:!1,success:_.bind(function(e,t,n){this.options.appApi.rnaApi.done(function(e){e.logPerformance("NwCall_AddParticipant","end")});var r="";e&&e.invitations&&e.invitations.length&&_.each(e.invitations,_.bind(function(e){if(e&&e.status_code&&(e.status_code===400||e.status_code===403)){if(r==="DefaultErrorCode"||r===e.error_subcode)return;r===""?_.isUndefined(e.error_subcode)||e.error_subcode===""?r="DefaultErrorCode":r=e.error_subcode:r="DefaultErrorCode"}},this)),e.errorCode=r,o.resolve(e)},this),error:_.bind(function(e){var t="Unknown";if(e&&e.status&&e.status>=400&&e.status<404)try{var n=JSON.parse(e.responseText);n&&n.error&&n.error.code&&(t=n.error.code)}catch(r){}e&&e.status==423&&this.options.appApi.rnaApi.done(_.bind(function(e){e.invokeMethod({methodName:"triggerMigrationInProgressError",methodArgs:{}})},this)),o.reject({httpRespCode:e.status,httpRespBody:e.responseText,errorCode:t})},this)}),o}}),e.ReviewAddParticipantOp}),define("core/dev/ops/manipulation/deleting-existing-dup-op",["core/ac-core","core/ops/op"],function(e){return e.DeletingExistingDupOp=e.Op.extend({run:function(){var t=e.opFactory,n=this.options,r,i;return r=t.create("DeletingItemOp",_.extend({},n,{id:n.existingId,object_type:n.existingType,noScEvent:!0})),i=t.create("RenamingItemOp",_.extend({},n,{id:n.addedId,object_type:n.addedType,name:n.existingName})),r.run().then(function(){return i.run().always(function(){n.appApi.folderApi.refreshCurrentFolder(n)})})}}),e.DeletingExistingDupOp}),define("core/dev/ops/manipulation/deleting-form-op",["core/ac-core","core/utils/http-util","plugins-common/ac-plugins","core/ops/op"],function(e,t,n){return e.DeletingFormOp=e.Op.extend({run:function(e){var r,i,s=this.options,o=s.appApi,u,a=o.pluginsApi,f=o.networkApi;return u=a.getBaseUrl(n.FILLSIGN),r=u+"/api/form/"+e,i="DELETE",s=_.extend({},s,{type:i,headers:t.getRequestHeaders(i)}),f.throttledAjax(r,s),this._getResolvedPromise()}}),e.DeletingFormOp}),define("core/dev/ops/manipulation/deleting-item-op",["core/ac-core","core/utils/sc-analytics","core/ops/op"],function(e,t){return e.DeletingItemOp=e.Op.extend({run:function(){var n=this.options,r;return r=e.modelFactory.create("CollectionItemModel",n),r.destroy().done(_.bind(function(){n.searchUiModel.invalidate(),n.noScEvent||this._logSiteCatalystEvent(t.SUCCESS)},this))}}),e.DeletingItemOp}),define("core/dev/ops/manipulation/deleting-selection-if-confirmed-op",["core/ac-core","i18n!core/nls/ui-strings","core/utils/util","core/utils/sc-analytics","core/ops/op"],function(e,t,n,r){return e.DeletingSelectionIfConfirmedOp=e.Op.extend({run:function(){var i=this.options,s,o,u,a,f,l=i.appApi,c=l.dialogApi,h=l.errorApi,p=[],d=this._logSiteCatalystEvent,v=_.bind(function(t,n){var i,s=h.getErrorStrings({type:e.ErrorUiModel.ERROR_TYPE_AJAX,data:t});h.isDeleteNonEmptyFolderError(t)?i=r.FOLDER_NOT_EMPTY:i=r.OTHER,this._logSiteCatalystEvent([i,r.OP]),this._logSiteCatalystEvent([r.ERROR_DLG,r.SHOWN]),c.displayTextAlert(c.SEVERITY_ERROR,s.title,s.msg,s.btn1,undefined,{scContext:n})},this);this._logSiteCatalystEvent(r.SHOWN),s=i.selectionUiModel,o=s.getNumSelectedItems();if(o===1)u=t.CONFIRM_DELETE_MSG_ONE_ITEM,s.getSingleSelectedItemModel().get("name")!==undefined&&(u=_.template(t.CONFIRM_DELETE_FILE_MSG,{filename:s.getSingleSelectedItemModel().get("name")})),a=t.CONFIRM_DELETE_FILE_TITLE,f=t.CONFIRM_DELETE_FILE_BUTTON;else{var m=s.getSelectedItemModels(),g=!1;_.each(m,function(e){e.get("is_shared")!==undefined&&e.get("is_shared")&&(g=!0)}),a=t.CONFIRM_DELETE_N_FILES_TITLE,g?u=t.CONFIRM_DELETE_N_FILES_MSG:u=_.template(t.CONFIRM_DELETE_MSG_N_ITEMS,{numItems:o}),f=t.CONFIRM_DELETE_N_FILES_BUTTON}return p=n.addToArray(p,i.scContext),p=n.addToArray(p,this._getSiteCatalystContext()),c.displayTextAlert(c.SEVERITY_NEUTRAL,a,u,f,t.CANCEL,{scContext:p}).then(function(){return i=_.extend({},i,{global:!1,scContext:p}),e.opFactory.create("DeletingSelectionOp",i).run().then(_.bind(function(){i.appApi.rnaApi.done(function(e){e.logPerformance("DeleteDCFile","end")}),d(r.SUCCESS),s.clearSelection(),i.isInSearchResultsView||l.folderApi.refreshCurrentFolder(i)},this),function(e){i.appApi.rnaApi.done(function(e){e.logPerformance("DeleteDCFile","end")}),e.status!=423&&v(e,p)})})},_getSiteCatalystContext:function(){return r.DELETE_DLG}}),e.DeletingSelectionIfConfirmedOp}),define("core/dev/ops/manipulation/deleting-selection-op",["core/ac-core","core/utils/uri-template-util","core/ops/op"],function(e,t){return e.DeletingSelectionOp=e.Op.extend({run:function(){var n=this.options,r,i,s,o=[],u,a=e.opFactory;return r=n.selectionUiModel,i=r.get("selected_item_models"),s=r.get("selected_item_ui_models"),u=a.create("DeletingFormOp",_.extend({},n,{async:!0})),_.each(i,function(i){var a=i.id,f=s[a],l;if(i.isSharedFile()){f.set("masked",!0);var c=i.getParcelId();if(!c){var h=e.opFactory.create("FireBootstrapApiOp",_.extend(n,{id:i.id,global:!0}));h.run().then(_.bind(function(t){t&&t.parcel_data&&(i.set("bootstrap",t,{silent:!0}),l=e.opFactory.create("DeletingReviewOp",n).run(t.parcel_data.id))}))}else l=e.opFactory.create("DeletingReviewOp",n).run(c);l&&l.then(function(){r.deselectItem(a,!0),n.isInSearchResultsView?n.searchUiModel.trigger("refresh_search_category","document_cloud"):n.searchUiModel.invalidate()},function(e){return f.set("masked",!1),e})}else{if(n.appApi.discoveryUrisApi.useDCApi())if(i.get("object_type")==="file"){n.url=i.get("asset_uri");if(!n.url){var p=Ac.discoveryUrisModel.getAssetUriTemplate();n.url=t.getExpandedURIFromURITemplate(p,{asset_id:i.get("id")})}}else{n.url=i.get("folder_uri");if(!n.url){var d=Ac.discoveryUrisModel.getFolderUriTemplate();n.url=t.getExpandedURIFromURITemplate(d,{folder_id:i.get("id")})}}f.set("masked",!0),l=i.destroy(_.extend({},n,{wait:!0})).then(function(){r.deselectItem(a,!0);if(n.isInSearchResultsView){var e,t=undefined;Ac.discoveryUrisModel&&(e=Ac.discoveryUrisModel.getUSSUrlsAndUserInfo()),e&&(t=e.isACPUser),t?n.searchUiModel.trigger("refresh_search_category","creative_cloud"):(n.searchUiModel.trigger("refresh_search_category","document_cloud"),n.searchUiModel.trigger("refresh_search_category","parcel"))}else n.searchUiModel.invalidate();i.isForm()&&u.run(a)},function(e){return e&&e.status==423&&n.appApi.rnaApi.done(_.bind(function(e){e.invokeMethod({methodName:"triggerMigrationInProgressError",methodArgs:{}})},this)),f.set("masked",!1),e})}o.push(l)}),$.when.apply($,o)}}),e.DeletingSelectionOp}),define("core/dev/ops/manipulation/moving-item-op",["core/ac-core","core/utils/http-util","core/utils/uri-template-util","core/utils/sc-analytics","core/ops/op"],function(e,t,n,r){return e.MovingItemOp=e.Op.extend({run:function(){var e=this.options,i,s,o,u;if(e.appApi.discoveryUrisApi.useDCApi()){i=Ac.discoveryUrisModel.getOperationsMoveUri(),s="POST";var a,f=Ac.discoveryUrisModel.getAssetUriTemplate(),l=Ac.discoveryUrisModel.getFolderUriTemplate();e.objectType==="file"?a=n.getExpandedURIFromURITemplate(f,{asset_id:e.id}):a=n.getExpandedURIFromURITemplate(l,{folder_id:e.id});var c=n.getExpandedURIFromURITemplate(l,{folder_id:e.destFolderId});o={on_dup_name:"auto_rename",source:{object_uri:a},target:{parent_uri:c}},u=t.getRequestHeaders(s),u.accept=Ac.discoveryUrisModel.getOperationsSingleMoveUriAcceptHeader(),u["Content-Type"]=Ac.discoveryUrisModel.getOperationsMoveUriContentTypeHeader()}else i=Ac.baseFilesUrisModel.getApiUri()+(e.objectType==="file"?"assets/":"folders/")+encodeURIComponent(e.id)+"/metadata/parent_id?"+t.getClientIdQueryParam(),s="PUT",u=t.getRequestHeaders(s),o={value:e.destFolderId,on_dup_name:"auto_rename"};return e.appApi.networkApi.throttledAjax(i,{type:s,headers:u,data:JSON.stringify(o),dataType:"json"}).done(_.bind(function(){e.noScEvent||this._logSiteCatalystEvent(r.SUCCESS)},this))}}),e.MovingItemOp}),define("core/dev/ops/manipulation/moving-items-op",["core/ac-core","core/utils/uri-template-util","core/ops/op"],function(e,t){return e.MovingItemsOp=e.Op.extend({run:function(){var t;return t=_.omit(this.options,"folderUiModel"),t.appApi.discoveryUrisApi.useDCApi()?e.opFactory.create("GettingFolderPathOp",t).run().then(_.bind(function(e){return this._doMove(e.breadcrumbs)},this)):e.opFactory.create("GettingFolderPathOp",t).run().then(_.bind(function(e){return this._doMove(e.path)},this))},_doMove:function(n){function c(e){return _.any(n,function(t){return t.id===e})}var r=this.options,i,s,o,u,a=[],f,l={};this.options.appApi.rnaApi.done(function(e){e.logPerformance("MovingFileFromDC","start")}),s=r.selectionUiModel,o=s.get("selected_item_models"),u=this.options.id;if(o.length===0||_.isEmpty(o))return;if(_.values(o)[0].get("parent_id")===u)return;_.each(o,function(n){var o=n.id,h;if(c(o))return!0;h=n.get("object_type"),l[o]=h,i=_.extend({},r,{id:o,objectType:h,destFolderId:u}),f=e.opFactory.create("MovingItemOp",i).run(),f.done(function(e){if(r.appApi.discoveryUrisApi.useDCApi()){if(e&&e.rename_info&&e.rename_info.duplicate_of){var n,i;if(e.rename_info.duplicate_of.asset_uri){n=e.rename_info.duplicate_of.asset_uri;var u=Ac.discoveryUrisModel.getAssetUriTemplate(),a=t.getVarDictFromSubtitutedUriTemplate(u,n);i=a.asset_id}else{n=e.rename_info.duplicate_of.folder_uri;var u=Ac.discoveryUrisModel.getFolderUriTemplate(),a=t.getVarDictFromSubtitutedUriTemplate(u,n);i=a.folder_id}var f={renamed_details:{duplicate_of:{id:i,object_type:e.rename_info.duplicate_of.asset_uri?"file":"folder"},original_name:e.rename_info.original_name},renamed_to:e.rename_info.name};f.id=o,f.object_type=l[o],f.moved_from=r.folderModel.id,r.errorUiModel.enqueueDupError(f)}}else e&&e.renamed_to&&e.renamed_details.duplicate_of&&(e.id=o,e.object_type=l[o],e.moved_from=r.folderModel.id,r.errorUiModel.enqueueDupError(e));s.deselectItem(o,!0)}),a.push(f)});if(a.length===0)return;return $.when.apply(null,a).then(function(){r.appApi.folderApi.refreshCurrentFolder(r),r.appApi.rnaApi.done(function(e){e.logPerformance("MovingFileFromDC","end")})})}}),e.MovingItemsOp}),define("core/dev/ops/manipulation/renaming-added-dup-op",["core/ac-core","core/ops/op","core/views/rename-dlg-view"],function(e){return e.RenamingAddedDupOp=e.Op.extend({run:function(){var t,n=this.options;return t=new e.RenameDlgView(_.extend({},n,{id:n.addedId,object_type:n.addedType,name:n.addedName})),t.open()}}),e.RenamingAddedDupOp}),define("core/dev/ops/manipulation/starring-dc-file-op",["core/ac-core","core/utils/util","core/utils/http-util","core/constants/cef-constants","core/ops/op"],function(e,t,n,r){return e.starringDCFile=e.Op.extend({run:function(e){var t=$.Deferred(),r=this.options,i="",s={},o=r.model.get("id"),u={favorite:e};i=Ac.discoveryUrisModel.getPutMetaDataUri();if(i=="")return;i=i.replace("{+asset_id}",o),i=i.concat("/favorite");var s=n.getRequestHeaders("PUT");s["Content-Type"]=Ac.discoveryUrisModel.getPutMetaDataContentType();var a=JSON.stringify(u);return $.ajax({url:i,data:a,headers:s,contentType:"application/json",type:"PUT",dataType:"json",timeout:8e3,global:!1,success:_.bind(function(e,n,r){t.resolve()},this),error:_.bind(function(e){t.reject()},this)}),t.promise()}}),e.starringDCFile}),define("core/dev/ops/manipulation/renaming-item-op",["core/ac-core","core/utils/util","core/utils/http-util","core/models/workflow-status-strings","core/utils/uri-template-util","core/utils/sc-analytics","core/ops/op"],function(e,t,n,r,i,s){return e.RenamingItemOp=e.Op.extend({run:function(){var r=this.options,o=r.appApi,u=r.name,a=r.searchUiModel,f=r.model,l,c,h;f||(f=e.modelFactory.create("CollectionItemModel",r)),l="PUT",c=f.getRenameUrl(r.name),u=t.compressQuestionMarks(u);var p;if(r.appApi.discoveryUrisApi.useDCApi()){l="POST";var d;if(r.object_type==="file"){var v=Ac.discoveryUrisModel.getAssetUriTemplate();d=i.getExpandedURIFromURITemplate(v,{asset_id:r.id})}else{var m=Ac.discoveryUrisModel.getFolderUriTemplate();d=i.getExpandedURIFromURITemplate(m,{folder_id:r.id})}h={on_dup_name:"auto_rename",source:{object_uri:d},target:{name:u}},p=n.getRequestHeaders(l),p.accept=Ac.discoveryUrisModel.getOperationsSingleMoveUriAcceptHeader(),p["Content-Type"]=Ac.discoveryUrisModel.getOperationsMoveUriContentTypeHeader()}else h={value:u,on_dup_name:"auto_rename"},p=n.getRequestHeaders(l);return o.networkApi.throttledAjax(c,{type:l,headers:p,data:JSON.stringify(h),dataType:"json"}).done(_.bind(function(e){var t;e&&(r.appApi.discoveryUrisApi.useDCApi()?t=e.rename_info.name:t=e.renamed_to);if(!t){t=r.name;if(!r.noScEvent){var n="";try{if(!_.isUndefined(this.options.selectionUiModel)){var i=this.options.selectionUiModel.getSingleSelectedItemModel();i.get("bootstrap")!==undefined&&i.get("bootstrap").is_original_shared!==undefined&&i.get("bootstrap").is_original_shared&&(n+=s.VIRGO_ORIGINAL_SHARE)}}catch(u){}this._logSiteCatalystEvent(s.SUCCESS+n)}}f.set("name",t),o.folderApi.refreshCurrentFolder(r),this.options.appApi.rnaApi.done(function(e){e.logPerformance("RenamingFileFromDC","end")}),_.delay(this.updateWorkflowDataModel,1e3);if(r.isInSearchResultsView){var l,c=undefined;Ac.discoveryUrisModel&&(l=Ac.discoveryUrisModel.getUSSUrlsAndUserInfo()),l&&(c=l.isACPUser),c?r.searchUiModel.trigger("refresh_search_category","creative_cloud"):(r.searchUiModel.trigger("refresh_search_category","document_cloud"),f.isSharedFile()&&r.searchUiModel.trigger("refresh_search_category","parcel"))}else r.searchUiModel.invalidate();a.isSearching()&&(r.selectionUiModel.clearSelection(),a.triggerFieldQueriesChange(!0))},this)).fail(_.bind(function(e,t){e&&e.status==423&&this.options.appApi.rnaApi.done(_.bind(function(e){e.invokeMethod({methodName:"triggerMigrationInProgressError",methodArgs:{}})},this))},this))},updateWorkflowDataModel:function(){var e=this.options.selectionUiModel.getSingleSelectedItemModel();e&&e.isSharedFile()&&this.options.appApi.rnaApi.done(_.bind(function(t){e.isReviewFile()?t.fileApi({methodName:"requestWorkflowData",methodArgs:{WorkflowType:r.REVIEW,SortField:"",SortOrder:"",RefreshList:"SBY"}}):t.fileApi({methodName:"requestWorkflowData",methodArgs:{WorkflowType:r.SEND_TRACK,SortField:"",SortOrder:"",RefreshList:"SBY"}})},this))}}),e.RenamingItemOp}),define("core/dev/ops/manipulation/setting-asset-metadata-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){return e.SettingAssetMetadataOp=e.Op.extend({run:function(){var n=this.options,r,i,s,o;return r=e.modelFactory.create("AssetModel",n),i=r.getMetadataUrl(n.key),s="PUT",o={value:n.value},n.appApi.networkApi.throttledAjax(i,_.extend({},n,{type:s,headers:t.getRequestHeaders(s),data:JSON.stringify(o),dataType:"json"}))}}),e.SettingAssetMetadataOp}),define("core/dev/ops/manipulation/unshare-review-op",["core/ac-core","i18n!core/nls/ui-strings","core/utils/http-util","core/ops/op"],function(e,t,n){return e.UnshareReviewOp=e.Op.extend({run:function(e){return this.options.unshareReviewOpPromise=$.Deferred(),typeof this.options.commenting_uri!="undefined"&&this.options.commenting_uri!==null&&this.options.commenting_uri!=="false"?(this.options.parcelIDForUnshare=e,this._performMergeAnnotsAndUnshare(e)):this._performUnshare(e,!1),this.options.unshareReviewOpPromise},_mergeAnnotsFailureDialog:function(){var e=this.options.appApi.rnaApi,n={};n.Title=t.CONFIRM_UNSHARE_FAILURE_OWNER_TITLE,n.Message=t.CONFIRM_UNSHARE_FAILURE_OWNER_MSG,n.ActionButtonName=t.CONFIRM_UNSHARE_FAILURE_OWNER_BUTTON,n.RejectButtonName=t.CANCEL,e.done(_.bind(function(e){e.logPerformance("MergeAnnotsAlert","start"),e._reviewAPI.invoke("EurekaAlertDialog",n).done(_.bind(function(t){e.logPerformance("MergeAnnotsAlert","end"),t?this._performUnshare(this.options.parcelIDForUnshare,!0):this.options.unshareReviewOpPromise.reject(this.options)},this))},this))},_performMergeAnnotsAndUnshare:function(e){var t,r,i="POST",s="";t=this.options.commenting_uri+"?operation=mergeannots",r=n.getRequestHeaders(i),r.Connection="keep-alive",r["Content-Length"]="0",r["Content-Type"]="application/vnd.adobe.dc+json;version=1",r.Accept="application/vnd.adobe.dc+json;version=1",r["x-api-client-id"]=n.REQUEST_HEADER_CLIENT_ID,r["x-api-app-info"]=r["x-api-client-id"],r["x-api-key"]="AdobeAcrobat5",this.options.appApi.rnaApi.done(function(e){e.logPerformance("NwCall_UnshareMergeAnnots","start")}),$.ajax(t,{type:i,headers:r,data:s,dataType:"json",global:!1,success:_.bind(function(t,n,r){this.options.appApi.rnaApi.done(function(e){e.logPerformance("NwCall_UnshareMergeAnnots","end")});if(t.status==="done")this._performUnshare(e,!0);else if(t.status==="in progress"){this.options.pollCountForMergeAnnots=1,this.options.MAX_POLL_COUNT_FOR_MERGE_ANNOTS=10;var i=2e3;t.retry_interval>0&&(i=t.retry_interval),setTimeout(_.bind(this._pollMergeAnnots,this),i)}else this._mergeAnnotsFailureDialog()},this),error:_.bind(function(e){this.options.code="Unknown";try{var t=JSON.parse(e.responseText);t!==undefined&&(this.options.code=t.error.code)}catch(n){}e&&e.status==423?this.options.appApi.rnaApi.done(_.bind(function(e){e.invokeMethod({methodName:"triggerMigrationInProgressError",methodArgs:{}})},this)):this._mergeAnnotsFailureDialog()},this)})},_pollMergeAnnots:function(){var e,t,r="POST",i="";e=this.options.commenting_uri+"?operation=mergeannots",t=n.getRequestHeaders(r),t.Connection="keep-alive",t["Content-Length"]="0",t["Content-Type"]="application/vnd.adobe.dc+json;version=1",t.Accept="application/vnd.adobe.dc+json;version=1",t["x-api-client-id"]=n.REQUEST_HEADER_CLIENT_ID,t["x-api-app-info"]=t["x-api-client-id"],t["x-api-key"]="AdobeAcrobat5";var s="NwCall_PollMergeAnnots_"+this.options.pollCountForMergeAnnots;this.options.appApi.rnaApi.done(function(e){e.logPerformance(s,"start")}),$.ajax(e,{type:r,headers:t,data:i,dataType:"json",global:!1,success:_.bind(function(e,t,n){var r="NwCall_PollMergeAnnots_"+this.options.pollCountForMergeAnnots;this.options.appApi.rnaApi.done(function(e){e.logPerformance(r,"end")});if(e.status==="done"){this._performUnshare(this.options.parcelIDForUnshare,!0);if(this.options.pollCountForMergeAnnots>=2&&this.options.isDocView){var i=this.options.appApi.rnaApi;_.isUndefined(i)||i.done(_.bind(function(e){var t={};t.Progress="Stop",e._reviewAPI.invoke("EurekaUnshareProgress",t)}),this)}}else if(e.status==="in progress"){this.options.pollCountForMergeAnnots++;if(this.options.pollCountForMergeAnnots==2&&this.options.isDocView){var i=this.options.appApi.rnaApi;_.isUndefined(i)||i.done(_.bind(function(e){var t={};t.Progress="Start",e._reviewAPI.invoke("EurekaUnshareProgress",t)}),this)}if(this.options.pollCountForMergeAnnots>this.options.MAX_POLL_COUNT_FOR_MERGE_ANNOTS){if(this.options.isDocView){var i=this.options.appApi.rnaApi;_.isUndefined(i)||i.done(_.bind(function(e){var t={};t.Progress="Stop",t.Error="true",e._reviewAPI.invoke("EurekaUnshareProgress",t)},this))}this.options.unshareReviewOpPromise.reject(this.options)}else{var s=2e3;e.retry_interval>0&&(s=e.retry_interval),setTimeout(_.bind(this._pollMergeAnnots,this),s)}}else{if(this.options.isDocView){var i=this.options.appApi.rnaApi;_.isUndefined(i)||i.done(_.bind(function(e){var t={};t.Progress="Stop",t.Error="true",e._reviewAPI.invoke("EurekaUnshareProgress",t)},this))}this.options.unshareReviewOpPromise.reject(this.options)}},this),error:_.bind(function(e){this.options.code="Unknown";if(this.options.isDocView){var t=this.options.appApi.rnaApi;_.isUndefined(t)||t.done(_.bind(function(e){var t={};t.Progress="Stop",e._reviewAPI.invoke("EurekaUnshareProgress",t)},this))}e&&e.status==423?this.options.appApi.rnaApi.done(_.bind(function(e){e.invokeMethod({methodName:"triggerMigrationInProgressError",methodArgs:{}})},this)):this._mergeAnnotsFailureDialog()},this)})},_performUnshare:function(e,t){var r,i="PUT",s,o,u;t===!0?u="?deleteAnnots=true":u="",r=this.options.appApi.baseFilesUrisApi.getSendApiUri()+"parcels/"+e+"/is_active"+u,s=JSON.stringify({value:!1}),o=n.getRequestHeaders(i),o["Content-Type"]="application/json",this.options.appApi.rnaApi.done(function(e){e.logPerformance("NwCall_Unshare","start")}),$.ajax(r,{type:i,headers:o,data:s,dataType:"json",global:!0,success:_.bind(function(e,t,n){this.options.appApi.rnaApi.done(function(e){e.logPerformance("NwCall_Unshare","end")}),this.options.unshareReviewOpPromise.resolve(e)},this),error:_.bind(function(e){e.status==423?this.options.appApi.rnaApi.done(_.bind(function(e){e.invokeMethod({methodName:"triggerMigrationInProgressError",methodArgs:{}})},this)):this.options.unshareReviewOpPromise.reject({httpRespCode:e.status,httpRespBody:e.responseText})},this)})}}),e.UnshareReviewOp}),define("core/dev/ops/manipulation/unsharing-review-parcel-if-confirmed-op",["core/ac-core","core/utils/http-util","i18n!core/nls/ui-strings","core/models/workflow-status-strings","core/utils/sc-analytics","core/ops/op"],function(e,t,n,r,i){e.UnsharingReviewParcelIfConfirmedOp=e.Op.extend({run:function(){var t=this.options,r=t.selectionUiModel,s={},o=$.Deferred(),u=r.getSingleSelectedItemModel(),a={},f=u.get("asset_id");return s.ParcelId=u.getParcelId(),s.InvitationId=u.getInvitationId(),s.ReviewId=u.getReviewId(),s.isOriginalShared=u.getOriginalShared(),s.commentingUrn=u.getCommentingUrn(),s.workflowType=u.attributes?u.attributes.WorkflowType:"",s.role="",a.Title=n.CONFIRM_UNSHARE_TITLE,a.Message=n.CONFIRM_UNSHARE_MSG,a.ActionButtonName=n.CONFIRM_UNSHARE_BUTTON,a.RejectButtonName=n.CANCEL,a.Source="Unshare",t.appApi.rnaApi.done(_.bind(function(t){t._reviewAPI.invoke("EurekaAlertDialog",a).done(_.bind(function(n){t.logPerformance("UnshareFile","start");if(n==="false")this.options.selectionUiModel.trigger("enableUnshareReviewAction");else{this.options.isDocView=n.isDocView;if(n.isDocView){_.isUndefined(s.isOriginalShared)&&(s.isOriginalShared=n.isOriginalShared);if(!s.isOriginalShared)this.options.commenting_uri="false";else{if(_.isUndefined(s.commentingUrn)||s.commentingUrn==="")s.commentingUrn=n.commentingUrn;_.isUndefined(s.commentingUrn)||s.commentingUrn===""?this.options.commenting_uri="false":this.options.commenting_uri=n.commentingBaseUri+s.commentingUrn}}else{if(_.isUndefined(s.isOriginalShared)||s.isOriginalShared&&_.isUndefined(s.commentingUrn))return;!_.isUndefined(s.isOriginalShared)&&!s.isOriginalShared&&(this.options.commenting_uri="false"),!_.isUndefined(s.isOriginalShared)&&s.isOriginalShared&&!_.isUndefined(s.commentingUrn)&&(this.options.commenting_uri=n.commentingBaseUri+s.commentingUrn)}e.opFactory.create("UnshareReviewOp",this.options).run(s.ParcelId).then(_.bind(function(e){try{t._reviewAPI.invoke("EurekaReviewRefreshAppModel",s);var r="Unshare";s.isOriginalShared!==undefined&&s.isOriginalShared&&(r+=i.VIRGO_ORIGINAL_SHARE),t._reviewAPI.invoke("logEurekaEventAndDataGroup",["Eureka:Review success","Success",r,"EurekaActions",s.ParcelId,s.role])}catch(u){}t._reviewAPI.invoke("unshareReview",[s.ParcelId,s.workflowType]),this._RefreshDataModel({asset_id:f,is_shared:!1,RefreshList:"SBY"});var a={};a.InvitationId=s.InvitationId,a.ParcelId=s.ParcelId,a.Unshare=!0,a.assetId=f,a.sharedStatus=!1,n.isDocView?t._reviewAPI.invoke("AVEurekaDocClose",a):t._reviewAPI.invoke("AVCloseUnsharedDoc",a),this.options.appApi.rnaApi.done(function(e){e.logPerformance("UnshareFile","end")}),o.resolve()},this),_.bind(function(){this.options.selectionUiModel.trigger("enableUnshareReviewAction"),this.options.appApi.rnaApi.done(function(e){e.logPerformance("UnshareFile","end")}),o.reject()},this))}},this))},this)),o.promise()},_RefreshDataModel:function(e){var t=this.options,r,i=undefined;Ac.discoveryUrisModel&&(r=Ac.discoveryUrisModel.getUSSUrlsAndUserInfo()),r&&(i=r.isACPUser),this.options.rootView._showToast(n.UNSHARED_STRING),t.isInSearchResultsView?i?t.searchUiModel.trigger("refresh_search_category","creative_cloud"):(t.searchUiModel.trigger("refresh_search_category","document_cloud"),t.searchUiModel.trigger("refresh_search_category","review")):t.appApi.folderApi.updateFileSharedStatus(t,e)}})}),define("core/dev/ops/misc/checking-storage-quota-on-startup-op",["core/ac-core","core/ops/op","core/views/quota-warning-dlg-view"],function(e){return e.CheckingStorageQuotaOnStartupOp=e.Op.extend({run:function(){var t=this.options,n=t.storageQuotaModel,r,i;return this.options.appApi.rnaApi.done(function(e){e.logPerformance("StorageQuota","start")}),e.opFactory.create("GettingStorageQuotaOp",t).run().done(_.bind(function(){this.options.appApi.rnaApi.done(function(e){e.logPerformance("StorageQuota","end")}),r=n.get("storage_used"),i=n.get("storage_quota");if(i===0)return this._getResolvedPromise();e.Features.isFeatureEnabled("quota_ui")&&(r/i>e.QuotaDlgUiModel.WARNING_THRESHOLD&&t.parentView?t.parentView._triggerViewEvent(e.ViewEvents.SHOW_QUOTA_WARNING_DLG,t):(t.quotaDlgUiModel.set("running_out_shown",!1),t.appApi.usersMeApi.saveCommonPrefs()))},this))}}),e.CheckingStorageQuotaOnStartupOp}),define("core/dev/ops/misc/handling-collection-render-begin-op",["core/ac-core","core/ops/op"],function(e){return e.HandlingCollectionRenderBeginOp=e.Op.extend({run:function(){var e;return e=this.options.collectionView.options.collectionUiModel,e.unset("item_count",{silent:!0}),e.set("show_empty",!1),this._getResolvedPromise()}}),e.HandlingCollectionRenderBeginOp}),define("core/dev/ops/misc/handling-collection-render-end-op",["core/ac-core","core/ops/op"],function(e){return e.HandlingCollectionRenderEndOp=e.Op.extend({run:function(){var e=this.options,t,n,r,i;return t=e.collectionView,n=t.options,i=n.collectionUiModel,r=t.$el.children().length,i.set("item_count",r),i.set("show_empty_virgo",r===0),i.set("show_empty",r===0),this._getResolvedPromise()}}),e.HandlingCollectionRenderEndOp}),define("core/dev/ops/misc/loading-framework-version-op",["core/ac-core","core-unmapped/dev/utils/app-api-mgr","core/ops/op"],function(e,t){return e.LoadingFrameworkVersionOp=e.Op.extend({run:function(n){var r=this.options;return!n||t.hasAppApi(n)?this._getResolvedPromise():e.opFactory.create("LoadingModuleOp",r).run({displayName:"Framework version "+n,url:"versions/framework-"+n}).then(function(){r.appApi.createAppApiVersion(n)})}}),e.LoadingFrameworkVersionOp}),define("core/dev/ops/misc/sending-log-event-op",["core/ac-core","core/utils/ajax-util","core/ops/op"],function(e,t){var n=1e3;return e.SendingLogEventOp=e.Op.extend({run:function(e){var r=this.options,i,s,o,u;return r.appApi.sessionApi.isSignedIn()?(o={global:!1,throttleOn:!0,beforeSend:t.beforeSend},s=LOG.INFO,_.isObject(e)?(i=e.message,_.isNumber(e.severity)&&(s=e.severity),_.extend(o,e.ajaxOptions)):i=e.toString(),i.length>n&&(i=i.substr(0,n)),u=r.sendLogEventModel,u.clear(),u.save({level:s,message:i},o).fail(function(e){e.status==423&&r.appApi.rnaApi.done(_.bind(function(e){e.invokeMethod({methodName:"triggerMigrationInProgressError",methodArgs:{}})},this))})||$.Deferred().reject("AcCore.SendingLogEventOp.run: validation error").promise()):this._getResolvedPromise()}}),e.SendingLogEventOp}),define("core/dev/ops/misc/validating-base-uris-op",["core/ac-core","core/ac-core-config","core/ops/op"],function(e,t){return e.ValidatingBaseUrisOp=e.Op.extend({run:function(){var e=this.options,n=e.appApi,r=$.Deferred();return n.baseFilesUrisApi.getApiUri()?r.resolve():(window.location=t.BRB_URL,r.reject()),r.promise()}}),e.ValidatingBaseUrisOp}),define("core/dev/ops/misc/validating-name-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){return e.ValidatingNameOp=e.Op.extend({run:function(){var e=this.options,n=e.newName||e.name,r=$.Deferred(),i=e.appApi.networkApi,s=Ac.baseFilesUrisModel.getApiUri()+"name_validator?"+t.getClientIdQueryParam(),o,u;return n?(o="POST",u={name:n},i.throttledAjax(s,_.extend({},e,{type:o,headers:t.getRequestHeadersNoClientId(o),dataType:"json",data:JSON.stringify(u),global:!1})).then(function(){r.resolve()},function(t){t.status>=500&&t.status<=503?r.reject({error:{code:t.status}}):t.status==423?(e.appApi.rnaApi.done(_.bind(function(e){e.invokeMethod({methodName:"triggerMigrationInProgressError",methodArgs:{}})},this)),r.reject(t.responseJSON)):r.reject(t.responseJSON)}),r.promise()):this._getRejectedPromise()}}),e.ValidatingNameOp}),define("core/dev/ops/misc/send-chunk-data-to-native-op",["core/ac-core","core/ops/op"],function(e){var t=512e3;return e.SendChunkDataToNative=e.Op.extend({getUniqueId:function(){return(new Date).getTime()},run:function(e,n){return _.isUndefined(e)?$.Deferred().reject().promise():this._saveData(e,0,t,n,this.getUniqueId().toString())},_saveData:function(e,t,n,r,i){function u(e,t,n,r){var i={};return i.state=e,i.data=t,i.uid=n,i.dataHandlerName=r,i}function a(e,t,n,r,i){var f=e.length;if(t+n>=f){var l=u("complete",e.substr(t),i,r);o.appApi.rnaApi.done(_.bind(function(e){e.invokeMethod({methodName:"sendChunkDataToNative",methodArgs:l}).done(function(){s.resolve()}).fail(function(){s.reject("Failed to saveData")})},this))}else{var l=u("continue",e.substr(t,n),i,r);o.appApi.rnaApi.done(_.bind(function(o){o.invokeMethod({methodName:"sendChunkDataToNative",methodArgs:l}).done(_.bind(function(){a(e,t+n,n,r,i)},this)).fail(function(){s.reject("Failed to saveData")})},this))}}var s=$.Deferred(),o=this.options;return a(e,t,n,r,i),s.promise()}}),e.SendChunkDataToNative}),define("core/dev/ops/notifications/creating-notifications-endpoints-op",["core/ac-core","core/ops/op"],function(e){return e.CreatingNotificationsEndpointsOp=e.Op.extend({run:function(){var e=this.options,t=e.appApi,n,r;return n=e.notificationModel,r=e.notificationUiModel,n.clear(),n.save({updates:r.get("updates"),timeout:r.get("timeout")},{global:!1}).fail(function(e){e.status===401&&t.sessionApi.signedOut()})||$.Deferred().reject("AcCore.CreatingNotificationsEndpointsOp.run: Validation error").promise()}}),e.CreatingNotificationsEndpointsOp}),define("core/dev/ops/notifications/enabling-folder-notifications-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){return e.EnablingFolderNotificationsOp=e.Op.extend({run:function(e){var n=this.options,r=n.appApi,i=n.notificationUiModel,s,o;return s="PUT",o=n.notificationModel.get("update_url"),o?(o+="?"+t.getClientIdQueryParam(),i.unset("timestamp"),r.networkApi.throttledAjax(o,{type:s,headers:t.getRequestHeadersNoClientId(s),data:JSON.stringify(e),dataType:"json",global:!1}).then(function(){i.set("is_monitoring",!0).triggerPoll()})):(LOG.info("AcCore.EnablingFolderNotificationsOp.run no 'update_url' for PUT",{logConsole:r.displayApi.isDebugLogging(),logServer:!0}),this._getResolvedPromise())}}),e.EnablingFolderNotificationsOp}),define("core/dev/ops/notifications/getting-folder-notifications-op",["core/ac-core","core/utils/http-util","core/utils/util","core/ops/op"],function(e,t,n){return e.GettingFolderNotificationsOp=e.Op.extend({run:function(){return this._addModelEventListeners(),this._addUiModelEventListeners(),this._poll(),$.Deferred().promise()},_url:function(){var e=this.options,n,r;return n=e.notificationModel.get("get_url"),n?(r=e.notificationUiModel.get("timestamp"),r&&(n+="?timestamp="+encodeURIComponent(r)),n+=n.indexOf("?")<0?"?":"&",n+=t.getClientIdQueryParam(),n):n},_poll:function(){function f(e){return _.isBoolean(e)&&s.set("is_polling",e),s.get("is_polling")}var e=this.options,r=e.appApi,i=e.notificationModel,s=e.notificationUiModel,o,u="GET",a;if(!s.get("is_monitoring")||e.appApi.inactivityApi.isIdle())return;o=this._url();if(!o){this._stopPolling();return}if(f())return;f(!0),r.networkApi.throttledAjax(o,{type:u,headers:t.getRequestHeadersNoClientId(u,{excludeAccessToken:!n.isCEF()}),dataType:"json",global:!1}).always(function(){f(!1)}).then(_.bind(function(e){e.timestamp&&(r.notificationApi.distributeNotifications(e.updates),s.set("timestamp",e.timestamp)),this._pollAgain()},this),_.bind(function(e){a=e.status,a===401?r.sessionApi.signedOut():a===404?o.indexOf(i.get("get_url"))>=0?s.triggerResubscribe():LOG("AcCore.GettingFolderNotificationsOp._poll "+a+" "+o+" ignored"):a>0&&(LOG("AcCore.GettingFolderNotificationsOp._poll "+a+" "+o),this._pollLater())},this))},_pollAgain:function(){var e=this.options.notificationUiModel;e.isLongPollingEnabled()?this._poll():this._pollLater()},_pollLater:function(){var e=this.options.notificationUiModel;e.set("timeout_id",_.delay(this._poll,e.get("poll_interval")))},_stopPolling:function(){this.options.notificationUiModel.clearTimeout()},_addModelEventListeners:function(){this.listenTo(this.options.notificationModel,"change:get_url",this._onGetUrlChange)},_onGetUrlChange:function(e,t){t?this._pollAgain():this._stopPolling()},_addUiModelEventListeners:function(){this.listenTo(this.options.notificationUiModel,"change:poll_trigger",this._onPollTriggerChange)},_onPollTriggerChange:function(e,t){t&&this._pollAgain()}}),e.GettingFolderNotificationsOp}),define("core/dev/ops/notifications/stopping-notifications-op",["core/ac-core","core/utils/http-util","core/utils/util","core/ops/op"],function(e,t,n){return e.StoppingNotificationsOp=e.Op.extend({run:function(){var e=this.options,r=e.appApi,i,s=e.notificationUiModel,o,u="DELETE";return s.set("is_monitoring",!1),s.clearTimeout(),i=e.notificationModel,o=i.get("update_url"),o?(o+="?"+t.getClientIdQueryParam(),i.unset("update_url").unset("get_url"),r.networkApi.throttledAjax(o,{type:u,headers:t.getRequestHeadersNoClientId(u),dataType:"json",global:!1})):(LOG.info("AcCore.StoppingNotificationsOp.run no 'update_url' to DELETE",{logConsole:r.displayApi.isDebugLogging(),logServer:!n.isCEF()}),this._getResolvedPromise())}}),e.StoppingNotificationsOp}),define("core/dev/ops/pgc/accepting-new-pgc-suggestion-op",["core/ac-core","core/ops/op"],function(e){return e.AcceptingNewPGCSuggestionOp=e.Op.extend({run:function(){var t=this.options.newContactEmail,n=_.extend({},this.options,{searchString:t});_.isUndefined(t)||(this.PGCOp=e.opFactory.create("GettingPGCSuggestionsOp",n),this.PGCOp.run().then(_.bind(function(t){if(t.length===1){var r=t.at(0),i=_.extend({},n,{tokens:[r.get("token")]});e.opFactory.create("AcceptingPGCSuggestionsOp",i).run()}},this)))}}),e.AcceptingNewPGCSuggestionOp}),define("core/dev/ops/pgc/accepting-pgc-suggestions-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){return e.AcceptingPGCSuggestionsOp=e.Op.extend({run:function(){var n=this.options,r=n.tokens,i,s,o,u,a,f={},l=$.Deferred();return this.options.appApi.sessionApi.ensureSignedIn().then(_.bind(function(){!Array.isArray(r)||!r.length?l.reject("Empty tokens array"):(i=e.getPGCBaseUrl()+"/api/accept",s="POST",o={},o.tokens=r,u=JSON.stringify(o),a=t.getRequestHeaders(s),f.authorization=a.Authorization,f["Content-Type"]="application/json",f["X-Api-Key"]="AdobeAcrobat9",e.Util.isReader()&&(f["X-Api-Key"]="AdobeReader9"),this.jqXHR=$.ajax(i,{data:u,dataType:"json",success:_.bind(function(e){l.resolve(e)},this),complete:_.bind(function(){},this),error:_.bind(function(e){l.reject(e)},this),global:!1,headers:f,type:s}))},this)),l.promise()}}),e.AcceptingPGCSuggestionsOp}),define("core/dev/ops/pgc/getting-pgc-suggestions-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){return e.GettingPGCSuggestionsOp=e.Op.extend({updateSearchString:function(e){this.options.searchString=e},run:function(){var n=this.options,r=n.searchString,i,s,o,u,a,f={},l=$.Deferred();return _.isUndefined(this.jqXHR)&&(this.jqXHR=undefined),this.options.appApi.sessionApi.ensureSignedIn().then(_.bind(function(){i=e.getPGCBaseUrl()+"/api/suggestions",s="POST",o={},o.query={type:["PERSON"],value:n.searchString},o.relationship="INVITE",o.resourceType="application/pdf",u=JSON.stringify(o),a=t.getRequestHeaders(s),f.authorization="Bearer "+n.appApi.sessionApi.getPrimaryToken(),f["Content-Type"]="application/json",f["X-Api-Key"]="AdobeAcrobat9",e.Util.isReader()&&(f["X-Api-Key"]="AdobeReader9"),this.jqXHR&&this.jqXHR.readyState!==4&&this.jqXHR.abort(),this.jqXHR=$.ajax(i,{data:u,dataType:"json",success:_.bind(function(e,t,n){var r=new Backbone.Collection(_.map(e._embedded.suggestions,function(e){var t=e;return e.synthetic?(t.email=e.title.toLowerCase(),delete t.title):(t.email=e.caption.toLowerCase(),t.name=e.title,delete t.caption,delete t.title),t}));l.resolve(r)},this),complete:_.bind(function(){},this),error:_.bind(function(e){l.reject(e)},this),global:!1,headers:f,type:s})},this)),l.promise()}}),e.GettingPGCSuggestionsOp}),function e(t,n,r){function i(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var s=typeof require=="function"&&require;for(var o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){window.MicrosoftGraph=e("./lib/src/index.js")},{"./lib/src/index.js":5}],2:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("superagent"),i=e("es6-promise"),s=e("./common"),o=e("./ResponseHandler"),u=e("../../package.json"),a=function(){function e(e,t){this.config=e,this._headers={},this.urlComponents={host:this.config.baseUrl,version:this.config.defaultVersion,oDataQueryParams:{},otherURLQueryParams:{}},this.parsePath(t)}return e.prototype.header=function(e,t){return this._headers[e]=t,this},e.prototype.headers=function(e){for(var t in e)this._headers[t]=e[t];return this},e.prototype.parsePath=function(e){if(e.indexOf("https://")!=-1){e=e.replace("https://","");var t=e.indexOf("/");this.urlComponents.host="https://"+e.substring(0,t),e=e.substring(t+1,e.length);var n=e.indexOf("/");this.urlComponents.version=e.substring(0,n),e=e.substring(n+1,e.length)}e.charAt(0)=="/"&&(e=e.substr(1));var r=e.indexOf("?");if(r==-1)this.urlComponents.path=e;else{this.urlComponents.path=e.substr(0,r);var i=e.substring(r+1,e.length).split("&");for(var o=0,u=i;o<u.length;o++){var a=u[o],f=a.split("="),l=f[0],c=f[1];s.oDataQueryNames.indexOf(l)?this.urlComponents.oDataQueryParams[l]=c:this.urlComponents.otherURLQueryParams[l]=c}}},e.prototype.urlJoin=function(e){var t=function(e){return e.replace(/\/+$/,"")},n=function(e){return e.replace(/^\/+/,"")},r=function(e,r){return[t(e),n(r)].join("/")},i=Array.prototype.slice.call(e);return i.reduce(r)},e.prototype.buildFullUrl=function(){var e=this.urlJoin([this.urlComponents.host,this.urlComponents.version,this.urlComponents.path])+this.createQueryString();return this.config.debugLogging&&console.log(e),e},e.prototype.version=function(e){return this.urlComponents.version=e,this},e.prototype.select=function(e){return this.addCsvQueryParamater("$select",e,arguments),this},e.prototype.expand=function(e){return this.addCsvQueryParamater("$expand",e,arguments),this},e.prototype.orderby=function(e){return this.addCsvQueryParamater("$orderby",e,arguments),this},e.prototype.filter=function(e){return this.urlComponents.oDataQueryParams.$filter=e,this},e.prototype.top=function(e){return this.urlComponents.oDataQueryParams.$top=e,this},e.prototype.skip=function(e){return this.urlComponents.oDataQueryParams.$skip=e,this},e.prototype.skipToken=function(e){return this.urlComponents.oDataQueryParams.$skipToken=e,this},e.prototype.count=function(e){return this.urlComponents.oDataQueryParams.$count=e.toString(),this},e.prototype.responseType=function(e){return this._responseType=e,this},e.prototype.addCsvQueryParamater=function(e,t,n){this.urlComponents.oDataQueryParams[e]=this.urlComponents.oDataQueryParams[e]?this.urlComponents.oDataQueryParams[e]+",":"";var r=[];typeof t=="string"?r.push(t):r=r.concat(t),n.length>1&&typeof t=="string"&&(r=Array.prototype.slice.call(n)),this.urlComponents.oDataQueryParams[e]+=r.join(",")},e.prototype.delete=function(e){var t=this.buildFullUrl();return this.sendRequestAndRouteResponse(r.del(t),e)},e.prototype.patch=function(e,t){var n=this.buildFullUrl();return this.sendRequestAndRouteResponse(r.patch(n).send(e),t)},e.prototype.post=function(e,t){var n=this.buildFullUrl();return this.sendRequestAndRouteResponse(r.post(n).send(e),t)},e.prototype.put=function(e,t){var n=this.buildFullUrl();return this.sendRequestAndRouteResponse(r.put(n).type("application/octet-stream").send(e),t)},e.prototype.create=function(e,t){return this.post(e,t)},e.prototype.update=function(e,t){return this.patch(e,t)},e.prototype.del=function(e){return this.delete(e)},e.prototype.get=function(e){var t=this.buildFullUrl();return this.sendRequestAndRouteResponse(r.get(t),e)},e.prototype.routeResponseToPromise=function(e){var t=this;return new i.Promise(function(n,r){t.routeResponseToCallback(e,function(e,t){e!=null?r(e):n(t)})})},e.prototype.routeResponseToCallback=function(e,t){var n=this;this.config.authProvider(function(r,i){if(r==null&&i!=null){var s=n.configureRequest(e,i);s.end(function(e,n){o.ResponseHandler.init(e,n,t)})}else t(r,null,null)})},e.prototype.sendRequestAndRouteResponse=function(e,t){if(t==null&&typeof i.Promise!="undefined")return this.routeResponseToPromise(e);this.routeResponseToCallback(e,t||function(){})},e.prototype.getStream=function(e){var t=this;this.config.authProvider(function(n,i){if(n===null&&i!==null){var s=t.buildFullUrl();e(null,t.configureRequest(r.get(s),i))}else e(n,null)})},e.prototype.putStream=function(e,t){var n=this;this.config.authProvider(function(i,s){if(i===null&&s!==null){var o=n.buildFullUrl(),u=n.configureRequest(r.put(o),s);u.type("application/octet-stream"),e.pipe(u).on("error",function(e){t(e,null)}).on("end",function(){t(null)})}})},e.prototype.configureRequest=function(e,t){var n=e.set("Authorization","Bearer "+t).set(this._headers).set("SdkVersion","graph-js-"+u.version);return this._responseType!==undefined&&n.responseType(this._responseType),n},e.prototype.query=function(e){if(typeof e=="string"){var t=e,n=t.split("=")[0],r=t.split("=")[1];this.urlComponents.otherURLQueryParams[n]=r}else for(var i in e)this.urlComponents.otherURLQueryParams[i]=e[i];return this},e.prototype.createQueryString=function(){var e=[];if(Object.keys(this.urlComponents.oDataQueryParams).length!=0)for(var t in this.urlComponents.oDataQueryParams)e.push(t+"="+this.urlComponents.oDataQueryParams[t]);if(Object.keys(this.urlComponents.otherURLQueryParams).length!=0)for(var t in this.urlComponents.otherURLQueryParams)e.push(t+"="+this.urlComponents.otherURLQueryParams[t]);return e.length>0?"?"+e.join("&"):""},e}();n.GraphRequest=a},{"../../package.json":16,"./ResponseHandler":3,"./common":4,"es6-promise":7,superagent:9}],3:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){}return e.init=function(t,n,r){n&&n.ok?r(null,n.body,n):t==null&&n.error!==null?r(e.ParseError(n),null,n):r(e.ParseError(t),null,n)},e.ParseError=function(e){var t;"rawResponse"in e?t=JSON.parse(e.rawResponse.replace(/^\uFEFF/,"")).error:e.response!==undefined&&e.response.body!==null&&"error"in e.response.body&&(t=e.response.body.error);var n;e.response!==undefined&&e.response.status!==undefined?n=e.response.status:n=e.statusCode;if(t===undefined)return{statusCode:n,code:null,message:null,requestId:null,date:new Date,body:null};var r={statusCode:n,code:t.code,message:t.message,requestId:t.innerError["request-id"],date:new Date(t.innerError.date),body:t};return r},e}();n.ResponseHandler=r},{}],4:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.oDataQueryNames=["select","expand","orderby","filter","top","skip","skipToken","count"],n.DEFAULT_VERSION="v1.0",n.GRAPH_BASE_URL="https://graph.microsoft.com/",n.oDataQueryNames=n.oDataQueryNames.concat(n.oDataQueryNames.map(function(e){return"$"+e}))},{}],5:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e("./common"),i=e("./GraphRequest"),s=function(){function e(){this.config={debugLogging:!1,defaultVersion:r.DEFAULT_VERSION,baseUrl:r.GRAPH_BASE_URL}}return e.init=function(t){var n=new e;for(var r in t)n.config[r]=t[r];return n},e.prototype.api=function(e){return new i.GraphRequest(this.config,e)},e}();n.Client=s},{"./GraphRequest":2,"./common":4}],6:[function(e,t,n){function r(e){if(e)return i(e)}function i(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}typeof t!="undefined"&&(t.exports=r),r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;var r;for(var i=0;i<n.length;i++){r=n[i];if(r===t||r.fn===t){n.splice(i,1);break}}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],7:[function(e,t,n){(function(r,i){(function(e,r){typeof n=="object"&&typeof t!="undefined"?t.exports=r():typeof define=="function"&&define.amd?define("microsoftGraphSDK",r):e.ES6Promise=r()})(this,function(){function t(e){return typeof e=="function"||typeof e=="object"&&e!==null}function n(e){return typeof e=="function"}function c(e){f=e}function h(e){l=e}function y(){return function(){return r.nextTick(T)}}function b(){return typeof a!="undefined"?function(){a(T)}:S()}function w(){var e=0,t=new v(T),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function E(){var e=new MessageChannel;return e.port1.onmessage=T,function(){return e.port2.postMessage(0)}}function S(){var e=setTimeout;return function(){return e(T,1)}}function T(){for(var e=0;e<u;e+=2){var t=x[e],n=x[e+1];t(n),x[e]=undefined,x[e+1]=undefined}u=0}function N(){try{var t=e,n=t("vertx");return a=n.runOnLoop||n.runOnContext,b()}catch(r){return S()}}function k(e,t){var n=arguments,r=this,i=new this.constructor(O);i[A]===undefined&&tt(i);var s=r._state;return s?function(){var e=n[s-1];l(function(){return G(s,i,e,r._result)})}():V(r,i,e,t),i}function L(e){var t=this;if(e&&typeof e=="object"&&e.constructor===t)return e;var n=new t(O);return U(n,e),n}function O(){}function H(){return new TypeError("You cannot resolve a promise with itself")}function B(){return new TypeError("A promises callback cannot return that same promise.")}function j(e){try{return e.then}catch(t){return P.error=t,P}}function F(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function I(e,t,n){l(function(e){var r=!1,i=F(n,t,function(n){if(r)return;r=!0,t!==n?U(e,n):W(e,n)},function(t){if(r)return;r=!0,X(e,t)},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,X(e,i))},e)}function q(e,t){t._state===_?W(e,t._result):t._state===D?X(e,t._result):V(t,undefined,function(t){return U(e,t)},function(t){return X(e,t)})}function R(e,t,r){t.constructor===e.constructor&&r===k&&t.constructor.resolve===L?q(e,t):r===P?(X(e,P.error),P.error=null):r===undefined?W(e,t):n(r)?I(e,t,r):W(e,t)}function U(e,n){e===n?X(e,H()):t(n)?R(e,n,j(n)):W(e,n)}function z(e){e._onerror&&e._onerror(e._result),$(e)}function W(e,t){if(e._state!==M)return;e._result=t,e._state=_,e._subscribers.length!==0&&l($,e)}function X(e,t){if(e._state!==M)return;e._state=D,e._result=t,l(z,e)}function V(e,t,n,r){var i=e._subscribers,s=i.length;e._onerror=null,i[s]=t,i[s+_]=n,i[s+D]=r,s===0&&e._state&&l($,e)}function $(e){var t=e._subscribers,n=e._state;if(t.length===0)return;var r=undefined,i=undefined,s=e._result;for(var o=0;o<t.length;o+=3)r=t[o],i=t[o+n],r?G(n,r,i,s):i(s);e._subscribers.length=0}function J(){this.error=null}function Q(e,t){try{return e(t)}catch(n){return K.error=n,K}}function G(e,t,r,i){var s=n(r),o=undefined,u=undefined,a=undefined,f=undefined;if(s){o=Q(r,i),o===K?(f=!0,u=o.error,o.error=null):a=!0;if(t===o){X(t,B());return}}else o=i,a=!0;t._state===M&&(s&&a?U(t,o):f?X(t,u):e===_?W(t,o):e===D&&X(t,o))}function Y(e,t){try{t(function(n){U(e,n)},function(n){X(e,n)})}catch(n){X(e,n)}}function et(){return Z++}function tt(e){e[A]=Z++,e._state=undefined,e._result=undefined,e._subscribers=[]}function nt(e,t){this._instanceConstructor=e,this.promise=new e(O),this.promise[A]||tt(this.promise),o(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),this.length===0?W(this.promise,this._result):(this.length=this.length||0,this._enumerate(),this._remaining===0&&W(this.promise,this._result))):X(this.promise,rt())}function rt(){return new Error("Array Methods must be provided an Array")}function it(e){return(new nt(this,e)).promise}function st(e){var t=this;return o(e)?new t(function(n,r){var i=e.length;for(var s=0;s<i;s++)t.resolve(e[s]).then(n,r)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})}function ot(e){var t=this,n=new t(O);return X(n,e),n}function ut(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function at(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function ft(e){this[A]=et(),this._result=this._state=undefined,this._subscribers=[],O!==e&&(typeof e!="function"&&ut(),this instanceof ft?Y(this,e):at())}function lt(){var e=undefined;if(typeof i!="undefined")e=i;else if(typeof self!="undefined")e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(t){}if(r==="[object Promise]"&&!n.cast)return}e.Promise=ft}var s=undefined;Array.isArray?s=Array.isArray:s=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var o=s,u=0,a=undefined,f=undefined,l=function(t,n){x[u]=t,x[u+1]=n,u+=2,u===2&&(f?f(T):C())},p=typeof window!="undefined"?window:undefined,d=p||{},v=d.MutationObserver||d.WebKitMutationObserver,m=typeof self=="undefined"&&typeof r!="undefined"&&{}.toString.call(r)==="[object process]",g=typeof Uint8ClampedArray!="undefined"&&typeof importScripts!="undefined"&&typeof MessageChannel!="undefined",x=new Array(1e3),C=undefined;m?C=y():v?C=w():g?C=E():p===undefined&&typeof e=="function"?C=N():C=S();var A=Math.random().toString(36).substring(16),M=void 0,_=1,D=2,P=new J,K=new J,Z=0;return nt.prototype._enumerate=function(){var e=this.length,t=this._input;for(var n=0;this._state===M&&n<e;n++)this._eachEntry(t[n],n)},nt.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===L){var i=j(e);if(i===k&&e._state!==M)this._settledAt(e._state,t,e._result);else if(typeof i!="function")this._remaining--,this._result[t]=e;else if(n===ft){var s=new n(O);R(s,e,i),this._willSettleAt(s,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},nt.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===M&&(this._remaining--,e===D?X(r,n):this._result[t]=n),this._remaining===0&&W(r,this._result)},nt.prototype._willSettleAt=function(e,t){var n=this;V(e,undefined,function(e){return n._settledAt(_,t,e)},function(e){return n._settledAt(D,t,e)})},ft.all=it,ft.race=st,ft.resolve=L,ft.reject=ot,ft._setScheduler=c,ft._setAsap=h,ft._asap=l,ft.prototype={constructor:ft,then:k,"catch":function(t){return this.then(null,t)}},ft.polyfill=lt,ft.Promise=ft,ft})}).call(this,e("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{_process:8}],8:[function(e,t,n){function o(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function f(e){if(s===clearTimeout)return clearTimeout(e);if((s===u||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{return s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}function d(){if(!c||!h)return;c=!1,h.length?l=h.concat(l):p=-1,l.length&&v()}function v(){if(c)return;var e=a(d);c=!0;var t=l.length;while(t){h=l,l=[];while(++p<t)h&&h[p].run();p=-1,t=l.length}h=null,c=!1,f(e)}function m(e,t){this.fun=e,this.array=t}function g(){}var r=t.exports={},i,s;(function(){try{typeof setTimeout=="function"?i=setTimeout:i=o}catch(e){i=o}try{typeof clearTimeout=="function"?s=clearTimeout:s=u}catch(e){s=u}})();var l=[],c=!1,h,p=-1;r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),l.length===1&&!c&&a(v)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],9:[function(e,t,n){function l(){}function p(e){if(!o(e))return e;var t=[];for(var n in e)d(t,n,e[n]);return t.join("&")}function d(e,t,n){if(n!=null)if(Array.isArray(n))n.forEach(function(n){d(e,t,n)});else if(o(n))for(var r in n)d(e,t+"["+r+"]",n[r]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));else n===null&&e.push(encodeURIComponent(t))}function v(e){var t={},n=e.split("&"),r,i;for(var s=0,o=n.length;s<o;++s)r=n[s],i=r.indexOf("="),i==-1?t[decodeURIComponent(r)]="":t[decodeURIComponent(r.slice(0,i))]=decodeURIComponent(r.slice(i+1));return t}function m(e){var t=e.split(/\r?\n/),n={},r,i,s,o;t.pop();for(var u=0,a=t.length;u<a;++u)i=t[u],r=i.indexOf(":"),s=i.slice(0,r).toLowerCase(),o=h(i.slice(r+1)),n[s]=o;return n}function g(e){return/[\/+]json\b/.test(e)}function y(e){this.req=e,this.xhr=this.req.xhr,this.text=this.req.method!="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType=="undefined"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;t===1223&&(t=204),this._setStatusProperties(t),this.header=this.headers=m(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body=this.req.method!="HEAD"?this._parseBody(this.text?this.text:this.xhr.response):null}function b(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new y(n)}catch(r){return e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=r,n.xhr?(e.rawResponse=typeof n.xhr.responseType=="undefined"?n.xhr.responseText:n.xhr.response,e.status=n.xhr.status?n.xhr.status:null,e.statusCode=e.status):(e.rawResponse=null,e.status=null),n.callback(e)}n.emit("response",t);var i;try{n._isResponseOK(t)||(i=new Error(t.statusText||"Unsuccessful HTTP response"),i.original=e,i.response=t,i.status=t.status)}catch(r){i=r}i?n.callback(i,t):n.callback(null,t)})}function w(e,t,n){var r=c("DELETE",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}var r;typeof window!="undefined"?r=window:typeof self!="undefined"?r=self:(console.warn("Using browser-only version of superagent in non-browser environment"),r=this);var i=e("component-emitter"),s=e("./request-base"),o=e("./is-object"),u=e("./is-function"),a=e("./response-base"),f=e("./should-retry"),c=n=t.exports=function(e,t){return"function"==typeof t?(new n.Request("GET",e)).end(t):1==arguments.length?new n.Request("GET",e):new n.Request(e,t)};n.Request=b,c.getXHR=function(){if(r.XMLHttpRequest&&(!r.location||"file:"!=r.location.protocol||!r.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only verison of superagent could not find XHR")};var h="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};c.serializeObject=p,c.parseString=v,c.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},c.serialize={"application/x-www-form-urlencoded":p,"application/json":JSON.stringify},c.parse={"application/x-www-form-urlencoded":v,"application/json":JSON.parse},a(y.prototype),y.prototype._parseBody=function(e){var t=c.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&g(this.type)&&(t=c.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},y.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,r="cannot "+t+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=t,i.url=n,i},c.Response=y,i(b.prototype),s(b.prototype),b.prototype.type=function(e){return this.set("Content-Type",c.types[e]||e),this},b.prototype.accept=function(e){return this.set("Accept",c.types[e]||e),this},b.prototype.auth=function(e,t,n){typeof t=="object"&&t!==null&&(n=t),n||(n={type:"function"==typeof btoa?"basic":"auto"});switch(n.type){case"basic":this.set("Authorization","Basic "+btoa(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},b.prototype.query=function(e){return"string"!=typeof e&&(e=p(e)),e&&this._query.push(e),this},b.prototype.attach=function(e,t,n){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,n||t.name)}return this},b.prototype._getFormData=function(){return this._formData||(this._formData=new r.FormData),this._formData},b.prototype.callback=function(e,t){if(this._maxRetries&&this._retries++<this._maxRetries&&f(e,t))return this._retry();var n=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),n(e,t)},b.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},b.prototype.buffer=b.prototype.ca=b.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},b.prototype.pipe=b.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},b.prototype._appendQueryString=function(){var e=this._query.join("&");e&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+e);if(this._sort){var t=this.url.indexOf("?");if(t>=0){var n=this.url.substring(t+1).split("&");u(this._sort)?n.sort(this._sort):n.sort(),this.url=this.url.substring(0,t)+"?"+n.join("&")}}},b.prototype._isHost=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&Object.prototype.toString.call(t)!=="[object Object]"},b.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||l,this._appendQueryString(),this._end()},b.prototype._end=function(){var e=this,t=this.xhr=c.getXHR(),n=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var n=t.readyState;n>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer);if(4!=n)return;var r;try{r=t.status}catch(i){r=0}if(!r){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")};var r=function(t,n){n.total>0&&(n.percent=n.loaded/n.total*100),n.direction=t,e.emit("progress",n)};if(this.hasListeners("progress"))try{t.onprogress=r.bind(null,"download"),t.upload&&(t.upload.onprogress=r.bind(null,"upload"))}catch(i){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(s){return this.callback(s)}this._withCredentials&&(t.withCredentials=!0);if(!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof n&&!this._isHost(n)){var o=this._header["content-type"],u=this._serializer||c.serialize[o?o.split(";")[0]:""];!u&&g(o)&&(u=c.serialize["application/json"]),u&&(n=u(n))}for(var a in this.header){if(null==this.header[a])continue;this.header.hasOwnProperty(a)&&t.setRequestHeader(a,this.header[a])}return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(typeof n!="undefined"?n:null),this},c.get=function(e,t,n){var r=c("GET",e);return"function"==typeof t&&(n=t,t=null),t&&r.query(t),n&&r.end(n),r},c.head=function(e,t,n){var r=c("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},c.options=function(e,t,n){var r=c("OPTIONS",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},c.del=w,c["delete"]=w,c.patch=function(e,t,n){var r=c("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},c.post=function(e,t,n){var r=c("POST",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r},c.put=function(e,t,n){var r=c("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&r.send(t),n&&r.end(n),r}},{"./is-function":10,"./is-object":11,"./request-base":12,"./response-base":13,"./should-retry":14,"component-emitter":6}],10:[function(e,t,n){function i(e){var t=r(e)?Object.prototype.toString.call(e):"";return t==="[object Function]"}var r=e("./is-object");t.exports=i},{"./is-object":11}],11:[function(e,t,n){function r(e){return null!==e&&"object"==typeof e}t.exports=r},{}],12:[function(e,t,n){function i(e){if(e)return s(e)}function s(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}var r=e("./is-object");t.exports=i,i.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},i.prototype.parse=function(t){return this._parser=t,this},i.prototype.responseType=function(e){return this._responseType=e,this},i.prototype.serialize=function(t){return this._serializer=t,this},i.prototype.timeout=function(t){if(!t||"object"!=typeof t)return this._timeout=t,this._responseTimeout=0,this;for(var n in t)switch(n){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;default:console.warn("Unknown timeout option",n)}return this},i.prototype.retry=function(t){if(arguments.length===0||t===!0)t=1;return t<=0&&(t=0),this._maxRetries=t,this._retries=0,this},i.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},i.prototype.then=function(t,n){if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(e,t){r.end(function(n,r){n?t(n):e(r)})})}return this._fullfilledPromise.then(t,n)},i.prototype.catch=function(e){return this.then(undefined,e)},i.prototype.use=function(t){return t(this),this},i.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},i.prototype._isResponseOK=function(e){return e?this._okCallback?this._okCallback(e):e.status>=200&&e.status<300:!1},i.prototype.get=function(e){return this._header[e.toLowerCase()]},i.prototype.getHeader=i.prototype.get,i.prototype.set=function(e,t){if(r(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},i.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},i.prototype.field=function(e,t){if(null===e||undefined===e)throw new Error(".field(name, val) name can not be empty");this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(r(e)){for(var n in e)this.field(n,e[n]);return this}if(Array.isArray(t)){for(var i in t)this.field(e,t[i]);return this}if(null===t||undefined===t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},i.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},i.prototype.withCredentials=function(e){return e==undefined&&(e=!0),this._withCredentials=e,this},i.prototype.redirects=function(e){return this._maxRedirects=e,this},i.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},i.prototype.send=function(e){var t=r(e),n=this._header["content-type"];this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&r(this._data))for(var i in e)this._data[i]=e[i];else"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],"application/x-www-form-urlencoded"==n?this._data=this._data?this._data+"&"+e:e:this._data=(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(n||this.type("json"),this)},i.prototype.sortQuery=function(e){return this._sort=typeof e=="undefined"?!0:e,this},i.prototype._timeoutError=function(e,t,n){if(this._aborted)return;var r=new Error(e+t+"ms exceeded");r.timeout=t,r.code="ECONNABORTED",r.errno=n,this.timedout=!0,this.abort(),this.callback(r)},i.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},{"./is-object":11}],13:[function(e,t,n){function i(e){if(e)return s(e)}function s(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}var r=e("./utils");t.exports=i,i.prototype.get=function(e){return this.header[e.toLowerCase()]},i.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=r.type(t);var n=r.params(t);for(var i in n)this[i]=n[i];this.links={};try{e.link&&(this.links=r.parseLinks(e.link))}catch(s){}},i.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=4==t||5==t?this.toError():!1,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e}},{"./utils":15}],14:[function(e,t,n){var r=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];t.exports=function(t,n){return t&&t.code&&~r.indexOf(t.code)?!0:n&&n.status&&n.status>=500?!0:t&&"timeout"in t&&t.code=="ECONNABORTED"?!0:t&&"crossDomain"in t?!0:!1}},{}],15:[function(e,t,n){n.type=function(e){return e.split(/ *; */).shift()},n.params=function(e){return e.split(/ *; */).reduce(function(e,t){var n=t.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(e[r]=i),e},{})},n.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var n=t.split(/ *; */),r=n[0].slice(1,-1),i=n[1].split(/ *= */)[1].slice(1,-1);return e[i]=r,e},{})},n.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&delete e.cookie,e}},{}],16:[function(e,t,n){t.exports={name:"@microsoft/microsoft-graph-client",version:"0.4.1",description:"Microsoft Graph Client Library",main:"lib/src/index.js",typings:"lib/src/index",files:["lib/"],types:"./lib/src/index.d.ts",devDependencies:{"@types/superagent":"^2.0.36","@types/mocha":"^2.2.34",browserify:"^13.1.0",mocha:"^3.2.0",typescript:"^2.2.1"},scripts:{build:"tsc && node node-browserify.js > lib/graph-js-sdk-web.js",test:"mocha lib/test","test:types":"mocha lib/test"},dependencies:{superagent:"^3.5.2","es6-promise":"^4.1.0"},repository:{type:"git",url:"https://github.com/microsoftgraph/msgraph-sdk-javascript.git"}}},{}]},{},[1]),define("core/dev/ops/microsoftGraph/microsoft-graph-outlook-contacts-op",["core/ac-core","core/utils/util","core/utils/http-util","core/constants/cef-constants","core/ops/op","microsoftGraphSDK"],function(e,t,n,r){return e.MicrosoftGraphOutlookContactsOp=e.Op.extend({run:function(e){var t=$.Deferred();return this.options.appApi.rnaApi.done(_.bind(function(e){console.log("Fetching outlook shared contacts");var n=e.rnaMicrosoftGraphAPI.getMicrosoftGraphAccessToken();n.done(_.bind(function(n){var r=n,i=MicrosoftGraph.Client.init({authProvider:function(e){e(null,r)}});e.rnaMicrosoftGraphAPI.areMSGraphContactsCached()?e.rnaMicrosoftGraphAPI.readMSGraphContactsCache().then(_.bind(function(e){var n=e;t.resolve(new Backbone.Collection(n))},this)):i.api("/me/contacts").version("beta").select("emailAddresses").top(1e3).get(function(n,r){if(n)t.reject(n);else{var i=r.value.length,s=[];for(var o=0;o<i;o++)if(!_.isUndefined(r.value[o].emailAddresses[0])){var u={email:r.value[o].emailAddresses[0].address,name:r.value[o].emailAddresses[0].name};s.push(u)}e.rnaMicrosoftGraphAPI.writeMSGraphContactsCache(s),t.resolve(new Backbone.Collection(s))}})},this)).fail(_.bind(function(e){t.reject(e)},this))},this)),t.promise()}}),e.OfficeGraphOp}),define("core/dev/ops/plugins/executing-plugins-predownload-op",["core/ac-core","core/ops/op"],function(e){return e.ExecutingPluginsPreDownloadOp=e.Op.extend({run:function(){function f(){u===o.length&&a.resolve()}function l(){u+=1,f()}function c(e,t){var n=e.get("plugin_api");return r.callPluginApiMethod(n,"runPreDownloadOp",t,undefined,!0)}var e=this.options,t=e.pluginsUiModel,n,r,i,s,o=[],u=0,a=$.Deferred();return t?(n=t.get("plugins"),r=e.appApi.pluginsApi,i=e.id,n.each(_.bind(function(e){e.get("plugin_api")&&(s=c(e,i),o.push(s),s.always(l))},i)),f(),a.promise()):a.resolve().promise()}}),e.ExecutingPluginsPreDownloadOp}),define("core/dev/ops/plugins/instantiating-plugin-op",["core/ac-core","core-unmapped/dev/utils/app-api-mgr","core/utils/util","core/utils/date-util","core/ops/op"],function(e,t,n,r){return e.InstantiatingPluginOp=e.Op.extend({run:function(i){var s=this.options,o=i.id,u,a,f=i.get("plugin_api"),l=s.appApi,c=l.pluginsApi,h,p,d=this._getResolvedPromise();n.isCEF()&&(r.logElapsedTime("Finished Loading Plugin"),r.logElapsedTime("Start Instantiating Plugin"));if(!f)try{return u=n.getClassFromName(i.get("config").plugin_class),a=s.pluginContext||{},f=new u(_.extend({},a,{pluginId:o})),i.set("plugin_api",f),c.addPluginApi(o,f,s.pluginsUiModel),p=c.callPluginApiMethod(f,"getAppApiVersion"),h=e.opFactory.create("LoadingFrameworkVersionOp",s),h.run(p).then(function(){return c.callPluginApiMethod(f,"setAppApi",t.getAppApi(p)),c.callPluginApiMethod(f,"initPlugin",undefined,d)})}catch(v){return LOG.error("AcCore.InstantiatingPluginOp.run "+o+": "+(v.stack||v.message)),i.set("show_plugin",!1),this._getRejectedPromise()}return d}}),e.InstantiatingPluginOp}),define("core/dev/ops/plugins/instantiating-selector-op",["core/ac-core","core-unmapped/dev/utils/app-api-mgr","core/ops/op"],function(e,t){return e.InstantiatingSelectorOp=e.Op.extend({run:function(n){var r=this.options,i,s,o=n.id,u=n.get("selector_api"),a=r.appApi,f=a.pluginsApi,l,c;i=n.get("config").selector_class;if(!i)return this._getResolvedPromise();if(!u)try{return s=e.Util.getClassFromName(i),u=new s({pluginId:o}),n.set("selector_api",u),f.addSelectorApi(o,u,r.pluginsUiModel),c=f.callPluginApiMethod(u,"getAppApiVersion"),l=e.opFactory.create("LoadingFrameworkVersionOp",r),l.run(c).then(function(){f.callPluginApiMethod(u,"setAppApi",t.getAppApi(c))})}catch(h){return LOG(0,"AcCore.InstantiatingSelectorOp.run: "+(h.stack||h.message)),n.set("show_plugin",!1),this._getRejectedPromise()}return this._getResolvedPromise()}}),e.InstantiatingSelectorOp}),define("core/dev/ops/plugins/loading-module-op",["core/ac-core","core/ops/op"],function(e){return e.LoadingModuleOp=e.Op.extend({run:function(e){var t=this.options,n=$.Deferred(),r,i;return _.isString(e)?r=e:r=e.url,r?(require([r],function(){n.resolve()},function(s){LOG.error("AcCore.LoadingModuleOp.run "+r+": "+(s.stack||s.message)),i=t.appApi,i&&i.errorApi.moduleNotLoaded(e.displayName||r),n.reject()}),n.promise()):n.resolve().promise()}}),e.LoadingModuleOp}),define("core/dev/ops/plugins/loading-plugin-list-op",["core/ac-core","core/ops/op"],function(e){return e.LoadingPluginListOp=e.Op.extend({run:function(t){var n=this.options,r=e.opFactory,i=[];return _.each(t,function(e){i.push(r.create("LoadingPluginOp",n).run(e))}),$.when.apply($,i)}}),e.LoadingPluginListOp}),define("core/dev/ops/plugins/loading-plugin-op",["core/ac-core","core/utils/util","core/utils/date-util","core/ops/op"],function(e,t,n){return e.LoadingPluginOp=e.Op.extend({run:function(r){var i=this.options,s=i.appApi.pluginsApi,o,u,a;if(!s.isGroupConfigLoaded(r))return this._getResolvedPromise();o=s.getPluginsUiModel(r);if(!o)return LOG("AcCore.LoadingPluginOp.run: '"+r+"' not yet "+"associated with UI model for its plugin type"),this._getResolvedPromise();u=o.getPluginUiModel(r);if(!u)return LOG("AcCore.LoadingPluginOp.run: '"+r+"' not yet "+"associated with UI model for this plugin"),this._getResolvedPromise();if(u.isPluginLoaded())return this._getResolvedPromise();u.set("load_plugin",!0);if(s.isPluginOfThisType(r,"full_preview")||s.isPluginOfThisType(r,"full_preview_rhp")||s.isPluginOfThisType(r,"full_preview_overlays"))a=i;return t.isCEF()&&(a=_.extend({},a,{readerContextModel:i.readerContextModel}),n.logElapsedTime("Start Loading Plugin")),e.opFactory.create("LoadingPluginsOp",_.extend({pluginContext:a,pluginsConfig:s.getPluginsConfig(r),pluginsUiModel:o,pluginId:r},_.pick(i,"appApi"))).run()}}),e.LoadingPluginOp}),define("core/dev/ops/plugins/loading-plugins-op",["core/ac-core","core/utils/css-util","core/utils/util","core/ops/op"],function(e,t,n){return e.LoadingPluginsOp=e.Op.extend({run:function(){function E(){g===v.length&&y.resolve()}function S(){g+=1,E()}function x(e,n){var r=n==="selector",i;d=e.id,r&&(i=f.getGroupSelectorCssUrl(d)),i||(i=f.getGroupCssUrl(d)),i||(i=r?e.getSelectorCssUrl():e.getPluginCssUrl()),i&&t.loadCss(i)}function T(e,t){var n=t==="selector",i;return d=e.id,n&&(i=f.getGroupSelectorModuleUrl(d)),i||(i=f.getGroupModuleUrl(d)),i||(i=t==="selector"?e.getSelectorModuleUrl():e.getPluginModuleUrl()),h.create("LoadingModuleOp",r).run({displayName:e.id+" "+t,url:i})}function N(e){return h.create("InstantiatingPluginOp",r).run(e)}function C(e){return h.create("InstantiatingSelectorOp",r).run(e)}function k(e){e.set("show_plugin",!1)}function L(e){var t;d=e.id;if(!f.isGroupConfigLoaded(d))return;x(e,"selector"),t=T(e,"selector"),v.push(t),t.then(function(){return e.set("selector_loaded",!0),C(e).fail(function(){k(e)}).always(function(){S()})},function(){k(e),S()})}function A(e){var t;d=e.id;if(!f.isGroupConfigLoaded(d))return;x(e,"plugin"),t=T(e,"plugin"),v.push(t),t.then(function(){if(c)return e.set("plugin_loaded",!0),N(e).fail(function(){k(e)}).always(function(){S()});e.set("plugin_loaded",!0),S()},function(){k(e),S()})}var r=this.options,i=r.pluginsConfig,s=r.pluginsUiModel,o=i.plugin_ids,u=i.default_plugin_id,a=o.length,f=r.appApi.pluginsApi,l=s.get("plugins"),c=s.get("instantiate_on_load"),h=e.opFactory,p,d,v=[],m=[],g=0,y=$.Deferred(),b,w=r.actualPluginIds;if(l.length===0){f.registerPluginsUiModel(i,s),s.set(_.pick(i,"default_plugin_id","ignore_selection","no_selectors")),u&&_.indexOf(o,u)<0&&LOG("AcCore.LoadingPluginsOp.run Default plugin '"+u+"' not listed in 'plugin_ids' for its plugin type");for(p=0;p<a;p+=1){d=o[p],b=o[p],w&&w.length===a&&(b=w[p]);try{l.add({id:b,base_url:f.getBaseUrl(d),group_css_url:f.getGroupCssUrl(d),group_module_url:f.getGroupModuleUrl(d),group_selector_css_url:f.getGroupSelectorCssUrl(d),group_selector_module_url:f.getGroupSelectorModuleUrl(d),config:f.getConfig(d)},{at:p})}catch(O){LOG("AcCore.LoadingPluginsOp.run ERROR loading plugin '"+d+"': "+(O.stack||O.message))}}}return this._markDependenciesToBeLoaded(l,m),l.each(function(e){e.isSelectorLoaded()||(!n.isCEF()||!f.isPluginOfThisType(e.id,"tools")||e.get("load_plugin")||e.id===s.get("default_plugin_id"))&&L(e)}),l.each(function(e){e.get("load_plugin")&&!e.isPluginLoaded()&&A(e)}),m.length>0&&v.push(h.create("LoadingPluginListOp",r).run(m).always(S)),E(),y.promise()},_markDependenciesToBeLoaded:function(e,t){var n,r,i;r=_.bind(function(r){var i=e.get(r);if(!i){_.indexOf(t,r)<0&&t.push(r);return}i.get("load_plugin")||(i.set("load_plugin",!0),n=!0)},this),i=function(e,t){(t.get("config").load==="force"||e||t.get("load_plugin"))&&!t.isPluginLoaded()&&(t.get("load_plugin")||(t.set("load_plugin",!0),n=!0),_.each(t.getDependencies(),r))};do n=!1,e.each(_.partial(i,this.options.force));while(n)}}),e.LoadingPluginsOp}),define("core/dev/ops/plugins/loading-selection-actions-op",["core/ac-core","core/ops/op"],function(e){e.LoadingSelectionActionsOp=e.Op.extend({run:function(){var t=this.options,n=t.appApi.pluginsApi;return e.opFactory.create("LoadingPluginsOp",_.extend({pluginsConfig:n.getPluginTypeConfig("file_selection_actions"),actualPluginIds:t.actualPluginIds,pluginsUiModel:t.selectionActionsPluginsUiModel},_.pick(t,"appApi","pluginId"))).run()}})}),define("core/dev/ops/plugins/selecting-plugin-op",["core/ac-core","core/utils/util","core/utils/date-util","core/ops/op"],function(e,t,n){return e.SelectingPluginOp=e.Op.extend({run:function(r,i){function w(e){o.appApi.rnaApi.done(function(t){t.servicesTestApi({methodName:"logEventAPI",methodArgs:e})})}function E(){f=v.get("plugin_api");if(!f){s.reject();return}try{l.callPluginApiMethod(f,"setElement",v.get("content_elem"),undefined),l.callPluginApiMethod(f,"setPreviewEls",v.get("preview_elems"),undefined,!0);var e=l.getSelectedPluginId("home_views");e&&(document.getElementById(e+"-plugin").style.visibility="hidden"),h||p.setSelectedId(r,{silent:c}),t.isCEF()&&(n.logElapsedTime("Finished instantiating Plugin"),n.logElapsedTime("Starting Selecting Plugin")),setTimeout(function(){e=l.getSelectedPluginId("home_views"),e&&(document.getElementById(e+"-plugin").style.visibility="visible")},0),l.callPluginApiMethod(f,"selectPlugin",i,y).then(function(){t.isCEF()&&(n.logElapsedTime("Finished Selecting Plugin"),w({name:"SELECT_PLUGIN_SUCCESS",plugin_id:l.getPluginId(f)})),document.activeElement||$("body").focus(),s.resolve()},function(){t.isCEF()&&(n.logElapsedTime("Finished Selecting Plugin"),w({name:"SELECT_PLUGIN_FAILURE",plugin_id:l.getPluginId(f)})),s.reject()})}catch(o){LOG("AcCore.SelectingPluginOp.run.select id="+r+" "+(o.stack||o.message)),s.reject()}}var s=$.Deferred(),o=this.options,u,a,f,l=o.appApi.pluginsApi,c,h,p,d,v,m,g,y=this._getRejectedPromise(),b;_.isObject(r)&&(i=r,r=undefined),r||(r=o.pluginId),i&&(c=i.noHistoryEffect,h=i.noSelectionEffect),p=l.getPluginsUiModel(r);if(!p)return LOG("AcCore.SelectingPluginOp.run: No UI model for '"+r+"' plugin"),s.reject();d=p.get("plugins"),m=p.get("ignore_selection"),g=p.get("no_selectors");if(!r||!d.get(r))r=p.getSelectedId();return u=p.get("selected_plugin_id"),u&&u!==r&&!g&&!c&&(f=p.getPluginApi(u),f&&(l.callPluginApiMethod(f,"deselectPlugin"),a=!0)),v=d.get(r),v&&!g&&!m&&(!v.isPluginShown()||v.isPluginLoaded()&&!v.isPluginEnabled())&&(r=p.getFirstEnabledId(),v=d.get(r)),v?v.isPluginLoaded()?a?_.delay(E,p.get("deselect_delay")):E():(v.set("load_plugin",!0),t.isCEF()&&(b={readerContextModel:o.readerContextModel}),e.opFactory.create("LoadingPluginsOp",_.extend({pluginsConfig:l.getPluginsConfig(r),pluginContext:b,pluginsUiModel:p},_.pick(o,"appApi","pluginId"))).run().then(E)):s.reject(),s.promise()}}),e.SelectingPluginOp}),define("core/dev/ops/plugins/selecting-selection-action-item-op",["core/ac-core","core/ops/op"],function(e){e.SelectingSelectionActionItemOp=e.Op.extend({run:function(){var t=this.options;return e.opFactory.create("SelectingPluginOp",t).run()}})}),define("core/dev/ops/preview/getting-hover-preview-metadata-op",["core/ac-core","core/ops/op"],function(e){return e.GettingHoverPreviewMetadataOp=e.Op.extend({run:function(){var t=this.options,n=t.hoverPreviewUiModel,r;return e.opFactory.create("GettingAssetMetadataOp",t).run().then(function(e){r=n.get("item_view"),r&&r.model&&r.model.id===t.id&&n.set("page_count",e.page_count)})}}),e.GettingHoverPreviewMetadataOp}),define("core/dev/ops/preview/getting-rhp-folder-child-counts-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){return e.GettingRhpFolderChildCountsOp=e.Op.extend({run:function(){function o(){var t=i.get("item_model");return t&&t.id===e.id}function u(e){var t=_.find(e.facets.object_type,function(e){return e.value==="asset"});return t?t.count:0}var e=this.options,n,r,i=e.rhpPreviewUiModel,s=i.get("item_model");return!s||!s.isFolder()?this._getRejectedPromise():(n="POST",r=JSON.stringify({q:{parent_id:s.id},facet:{fields:["object_type"]},pagesize:0}),e.appApi.networkApi.throttledAjax(Ac.baseFilesUrisModel.getApiUri()+"search",_.extend({},e,{type:n,headers:t.getRequestHeadersNoClientId(n),data:r,dataType:"json",global:_.isUndefined(e.global)?!0:e.global})).then(function(e){o()&&i.set("total_files",u(e))}))}}),e.GettingRhpFolderChildCountsOp}),define("core/dev/ops/preview/getting-rhp-preview-metadata-op",["core/ac-core","core/ops/op"],function(e){return e.GettingRhpPreviewMetadataOp=e.Op.extend({run:function(){function f(){var e=r.get("item_model");return e&&e.id===t.id}function l(e){return n.getConnectorsUiHelpers(n.getConnectorName(e))}var t=this.options,n=t.appApi.connectorsApi,r=t.rhpPreviewUiModel,i=r.get("item_model"),s=e.opFactory,o,u,a;return i.isRecentFileItem||i.workflowType?this._getResolvedPromise():(u=s.create("GettingAssetMetadataOp",t).run().then(function(e){f()&&r.set("page_count",e.page_count)}),a=s.create("GettingFolderPathOp",t).run(i.get("parent_id")).then(function(e){f()&&(o=e.path,r.set("file_path",o),r.set("connector_info",l(o[0].id)))}),$.when.apply(undefined,[u,a]))}}),e.GettingRhpPreviewMetadataOp}),define("core/dev/ops/selection/clearing-selection-op",["core/ac-core","core/ops/op"],function(e){return e.ClearingSelectionOp=e.Op.extend({run:function(){return this.options.selectionUiModel.clearSelection(this.options.silent),this._getResolvedPromise()}}),e.ClearingSelectionOp}),define("core/dev/ops/selection/selecting-collection-item-op",["core/ac-core","core/utils/util","core/ops/op"],function(e,t){return e.SelectingCollectionItemOp=e.Op.extend({run:function(){var t=this.options,n=t.itemView,r=this._multipleSelection(),i,s=e.SelectionUiModel;this._triggerSelection=!0;switch(t.selectType){case s.SELECT_ALL:i=this._selectAll(!0);break;case s.SELECT_NONE:i=this._selectAll(!1);break;case s.SELECT_DESELECT:i=this._selectItem(n,!1);break;case s.SELECT_EXTEND:i=this._extendSelectItem(n);break;case s.SELECT_SELECT:i=this._selectItem(n);break;case s.SELECT_TOGGLE:i=this._toggleSelectItem(n);break;case s.SELECT_NEXT:i=this._selectNext();break;case s.SELECT_PREVIOUS:i=this._selectPrevious();break;case s.SELECT_UP:i=this._selectUp();break;case s.SELECT_DOWN:i=this._selectDown();break;case s.SELECT_FIRST:i=this._selectFirst();break;case s.SELECT_FIRST_IN_ROW:i=this._selectFirstInRow();break;case s.SELECT_LAST:i=this._selectLast();break;case s.SELECT_LAST_IN_ROW:i=this._selectLastInRow();break;case s.SELECT_HIGHLIGHT:i=this._highlightRow(n);break;case s.EXTEND_SELECT_NEXT:i=this._selectNext(r);break;case s.EXTEND_SELECT_PREVIOUS:i=this._selectPrevious(r);break;case s.EXTEND_SELECT_UP:i=this._selectUp(r);break;case s.EXTEND_SELECT_DOWN:i=this._selectDown(r)}return i&&this._triggerSelection&&t.selectionUiModel.triggerSelectionChange(),this._getResolvedPromise()},_selectItemView:function(e,t){var n,r=this.options;if(!e){LOG("AcCore.SelectingCollectionItemOp._selectItemView no view!");return}return r.collectionUiModel=e.options.collectionUiModel,n=this.options.selected_id,n&&r.selectionUiModel.set("index_last_selected",n),this._selectChild(this._getChildAt(n),t)},_selectAll:function(t,n){var r=this.options,i=r.collectionItemsView,s=[],o,u={selectAll:!0};i&&(s=this._getChildren());if(t&&s.length>1&&!this._multipleSelection())return;return t?(this.options.appApi.siteCatalystApi.logVirgoSelectAllEvent(this.options.pluginId),_.each(s,_.bind(function(e){this.options.selected_id=this._getTargetIndex(),this._selectChild(e,t,u)&&(o=!0)},this)),o):(e.opFactory.create("ClearingSelectionOp",_.extend({},r,{silent:n})).run(),o=!0,o)},_extendSelectItem:function(e){var t,n,r,i;return this._suppressHoverPreview(),this._multipleSelection()||this._selectAll(!1)&&(i=!0),this.options.selected_id=this._getTargetIndex(),this._selectItemView(e,!0)&&(i=!0),t=this._getTargetIndex(),n=this._getClosestSelectedIndex(t,!1),n>0?(this._selectRange(!0,t,n)&&(i=!0),this._selectRange(!1,0,t-1)&&(i=!0)):(r=this._getClosestSelectedIndex(t,!0),r>=0?this._selectRange(!0,r,t)&&(i=!0):this._selectItem(e)&&(i=!0)),i},_selectItem:function(e){var n;this._getSelectionStart()==-1&&(this._triggerSelection=!1);if(!e.options.itemUiModel.get("selected")){var r,i=this.options;return this._suppressHoverPreview(),this.options.selected_id=this._getTargetIndex(),(t.isCEF()&&!i.collectionsUiModel.get("checkbox")||!this._multipleSelection())&&this._selectAll(!1,!i.isInSearchResultsView)&&(r=!0),this._selectItemView(e,!0)&&(r=!0),r}return!0},_highlightRow:function(e){this._triggerSelection=!1,this.options.pluginId==="root-select"&&(this._triggerSelection=!0);if(!e.options.itemUiModel.get("selected")){var n,r=this.options;return this._suppressHoverPreview(),this.options.selected_id=this._getTargetIndex(),(t.isCEF()&&!r.collectionsUiModel.get("checkbox")||!this._multipleSelection())&&this._selectAll(!1,!r.isInSearchResultsView)&&(n=!0),this._selectItemView(e,!0)&&(n=!0),n}return!0},_toggleSelectItem:function(e){var t,n;if(!e)return;return t=e.options.itemUiModel.get("selected"),this._multipleSelection()||this._selectAll(!1)&&(n=!0),t||this._suppressHoverPreview(),this.options.selected_id=this._getTargetIndex(),this._selectItemView(e,!t)&&(n=!0),n},_deselectAll:function(){return this.options.selectionUiModel.getNumSelectedItems()>0?(this._selectAll(!1),!0):!1},_selectExtendChildAt:function(e,t){var n,r,i;return this._suppressHoverPreview(),this._multipleSelection()?(r=this._getSelectionStart(),i=this._getSelectionEnd(),e>=0&&e<r?this._selectRange(!0,e,i)&&(n=!0):e<this._getChildCount()&&e>i?this._selectRange(!0,r,e)&&(n=!0):e>=r&&e<=i&&(t?(this._selectAll(!1)&&(n=!0),this._selectRange(!0,r,e)&&(n=!0)):(this._selectAll(!1)&&(n=!0),this._selectRange(!0,e,i)&&(n=!0))),n):(this._selectAll(!1)&&(n=!0),this._selectChildAt(e)&&(n=!0),n)},_selectNext:function(e){var t=this.options.selectionUiModel,n=t.get("index_last_selected"),r=this._getNextSelectable(n,!1),i;if(n>=0&&!e&&!this._deselectAll())return;return e?i=this._selectExtendChildAt(r,!1):i=this._selectChildAt(r),i&&t.set("index_last_selected",r),i},_selectPrevious:function(e){var t=this.options.selectionUiModel,n=t.get("index_last_selected"),r=this._getNextSelectable(n,!0),i;if(!e&&!this._deselectAll())return;return e?i=this._selectExtendChildAt(r,!0):i=this._selectChildAt(r),i&&t.set("index_last_selected",r),i},_selectUpOrDown:function(e,t,n){var r=this.options.selectionUiModel,i,s;s=this._getNextInColumn(e,t);if(s<0)return;if(e>=0&&!n&&!this._deselectAll())return;return n?i=this._selectExtendChildAt(s,t):i=this._selectChildAt(s),i&&r.set("index_last_selected",s),i},_selectUp:function(e){var t=this.options.selectionUiModel.get("index_last_selected");return this._selectUpOrDown(t,!0,e)},_selectDown:function(e){var t=this.options.selectionUiModel.get("index_last_selected");return this._selectUpOrDown(t,!1,e)},_selectFirst:function(){var e;if(!this._deselectAll())return;e=this._getNextSelectable(-1,!1);if(e>=0)return this._selectChildAt(e,!0)},_selectLast:function(){var e;if(!this._deselectAll())return;e=this._getNextSelectable(this._getChildCount(),!0);if(e>=0)return this._selectChildAt(e,!0)},_selectStartOrEnd:function(e,t){var n;if(!this._deselectAll())return;return n=this._getFirstInRow(e,t),n>=0&&(e=n),this._selectChildAt(e)},_selectFirstInRow:function(){return this._selectStartOrEnd(this._getSelectionStart(),!0)},_selectLastInRow:function(){return this._selectStartOrEnd(this._getSelectionEnd(),!1)},_multipleSelection:function(){var e=this.options;return t.isCEF()&&e.appApi.saveAsApi.isRunningInFileSaveAs()?!1:e.selectionUiModel.get("multiple_selection")},_getTargetId:function(){var e=this.options.itemView,t,n;return e&&(t=e.model,t&&(n=t.id)),n},_getTargetIndex:function(){var e,t,n;return t=this._getTargetId(),n=this._getChildren(),n.each(function(n,r){if($(r).data("id")===t)return e=n,!1}),e},_getClosestSelectedIndex:function(e,t){var n=this.options.collectionUiModel,r,i,s,o,u;r=this._getChildren(),i=r.length,s=-1,u=function(e){return n.getItemUiModel(r.eq(e)).get("selected")};if(t){for(o=e-1;o>=0;o-=1)if(u(o)){s=o;break}}else for(o=e+1;o<i;o+=1)if(u(o)){s=o;break}return s},_getSelectionIndex:function(e){function a(e){r=n.eq(e);var t=r.data("model"),i=t&&t.isRecentFileItem;return u.isItemSelected(r.data("id"),i)}var t=this.options,n,r,i,s,o,u=t.selectionUiModel;n=this._getChildren(),i=n.length,o=-1;if(e){for(s=0;s<i;s+=1)if(a(s)){o=s;break}}else for(s=i-1;s>=0;s-=1)if(a(s)){o=s;break}return o},_getSelectionStart:function(){return this._getSelectionIndex(!0)},_getSelectionEnd:function(){return this._getSelectionIndex(!1)},_selectRange:function(e,t,n){var r,i,s=!1;r=this.options.collectionItemsView.$el.children();for(i=t;i<=n;i+=1)this._selectChild(r.eq(i),e)&&(s=!0);return s},_isChildAtSelectable:function(e){return this._isChildSelectable(this._getChildAt(e))},_isChildSelectable:function(e){var t=e.data("model");return!this.options.noFolderSelection||!t.isFolder()},_selectChild:function(e,t,n){var r=this.options,i=r.selectionUiModel,s,o,u=!1,a=!1;if(!e)return;return e=$(e),s=e.data("model"),o=r.collectionUiModel.getItemUiModel(e),n&&(u=!!n.scrollIntoView,a=!!n.selectAll),u&&r.collectionsUiModel.set("scroll_id_into_view",s.id),!this._isChildSelectable(e)&&s.collection.length>1&&(a||i.getNumSelectedItems()>0)&&(t=!1),i.selectItem(s,o,t)},_selectChildAndScroll:function(e,t){return this._selectChild(e,t,{scrollIntoView:!0})},_selectChildAt:function(e,t,n){return _.isUndefined(t)&&(t=!0),this._selectChildAndScroll(this._getChildAt(e),t,n)},_getItemViewAt:function(e,t,n){var r=t.eq(n),i=$(r).data("id");return e.getChildViewById(i)},_getChildren:function(){return this.options.collectionItemsView.$el.children()},_getChildCount:function(){return this._getChildren().length},_getChildAt:function(e){var t=this._getChildren();return e<0||e>=t.length?undefined:t.eq(e)},_getNextSelectable:function(e,t){return t?Math.max(e-1,0):Math.min(this._getChildCount()-1,e+1)},_getNextInColumn:function(e,t){var n=this._getChildAt(e),r=this._getChildCount(),i,s,o=-1,u,a,f,l;i=_.bind(function(e){return n=this._getChildAt(e),this._isChildSelectable(n)&&n.position().left===a},this),s=_.bind(function(e){return n=this._getChildAt(e),this._isChildSelectable(n)&&n.position().top===f},this);if((t&&e>0||e>=0)&&n){u=n.position();if(u){a=u.left,f=u.top;if(t){for(l=e-1;l>=0;l-=1)if(i(l)){o=l;break}}else{for(l=e+1;l<r;l+=1)if(i(l)){o=l;break}l===r&&!s(r-1)&&(o=r-1)}}}else!t&&e<0&&(o=0);return o},_getFirstInRow:function(e,t){var n=this._getChildAt(e),r=this._getChildCount(),i,s,o,u,a;i=_.bind(function(e){return n=this._getChildAt(e),this._isChildSelectable(n)&&n.position().top===u},this);if(n){o=n.position();if(o){u=o.top;if(t)for(a=e-1;a>=0;a-=1){if(!i(a))break;s=a}else for(a=e+1;a<r;a+=1){if(!i(a))break;s=a}}}return s},_suppressHoverPreview:function(){var e=this.options,t=this._getTargetId();t&&e.hoverPreviewUiModel.suppress(t)}}),e.SelectingCollectionItemOp}),define("core/dev/ops/session/deleting-session-op",["core/ac-core","core/ops/op"],function(e){return e.DeletingSessionOp=e.Op.extend({run:function(){var e=this.options.sessionModel;return e.set("id","_"),e.destroy({global:!1,includeCsrf:!0})||$.Deferred().reject("AcCore.DeletingSessionOp.run: validation error").promise()}}),e.DeletingSessionOp}),define("core/dev/ops/session/refreshing-session-initially-op",["core/ac-core","core/utils/util","core/ops/op"],function(e,t){return e.RefreshingSessionInitiallyOp=e.Op.extend({run:function(){var n=this.options,r=e.opFactory;return t.isCEF()?r.create("RNARefreshingSessionOp",_.extend({},n,{initialRefresh:!0})).run():t.getCookie("csrftoken")?r.create("RefreshingSessionOp",_.extend({},n,{initialRefresh:!0})).run():this._getRejectedPromise()}}),e.RefreshingSessionInitiallyOp}),define("core/dev/ops/session/refreshing-session-later-op",["core/ac-core","core/utils/num-util","core/utils/util","core/ops/op"],function(e,t,n){return e.RefreshingSessionLaterOp=e.Op.extend({run:function(){var r=this.options,i=$.Deferred(),s,o,u=e.opFactory,a,f;return s=r.sessionUiModel,o=s.get("refresh_timer_id"),o&&clearTimeout(o),n.isCEF()?a=u.create("RNARefreshingSessionOp",r):a=u.create("RefreshingSessionOp",r),f=s.get("expiration_time")*1e3*s.get("refresh_expiration_fraction"),f=Math.min(f,t.MAX_INT32),o=_.delay(function(){a.run().done(function(){i.resolve()})},f),s.set("refresh_timer_id",o),i.promise()}}),e.RefreshingSessionLaterOp}),define("core/dev/ops/session/refreshing-session-op",["core/ac-core","core/ops/op"],function(e){return e.RefreshingSessionOp=e.Op.extend({run:function(){var t=this.options,n=t.appApi,r,i;return n.inactivityApi.isIdle()?$.Deferred().reject().promise():(r=t.refreshSessionModel,i=t.sessionUiModel,r.clear({silent:!0}),r.save(undefined,{global:!1,excludeAccessToken:!0,includeCsrf:!0}).then(function(r){_.each(Ac.Core,function(e){e.HttpUtil.setSessionAttrs(i,r)}),t.signInUiModel.set("is_signed_in",!0),e.opFactory.create("RefreshingSessionLaterOp",_.omit(t,"initialRefresh")).run(),t.initialRefresh||n.usersMeApi.refreshUserInfo()},function(e){_.each(Ac.Core,function(e){e.HttpUtil.clearSessionAttrs(i)}),e.status===401&&n.sessionApi.signedOut()})||$.Deferred().reject("AcCore.RefreshingSessionLaterOp.run: validation error").promise())}}),e.RefreshingSessionOp}),define("core/dev/ops/session/rna-refreshing-session-op",["core/ac-core","core/ops/op"],function(e){return e.RNARefreshingSessionOp=e.Op.extend({run:function(){var t=this.options,n=t.appApi,r=t.appApi.rnaApi,i,s,o;return n.inactivityApi.isIdle()&&!n.pluginsApi.isPluginSelected("task_handler")&&!n.pluginsApi.isPluginSelected("ccx")&&!n.pluginsApi.isPluginSelected("root")&&!n.pluginsApi.isPluginSelected("sentfiles")&&!n.pluginsApi.isPluginSelected("receivedfiles")&&!n.pluginsApi.isPluginSelected("scan_files")?$.Deferred().reject().promise():n.networkConnectivityApi.isOnline()?(i=t.sessionUiModel,r.then(function(n){return n.logIn(!1).then(function(n){o=t.sessionRNAModel=n,_.each(Ac.Core,function(e){e.HttpUtil.setSessionAttrs(i,o.attributes)}),e.opFactory.create("RefreshingSessionLaterOp",_.omit(t,"initialRefresh")).run(),t.initialRefresh||t.appApi.usersMeApi.refreshUserInfo().then(function(){t.signInUiModel.set("is_signed_in",!0)})},function(){_.each(Ac.Core,function(e){e.HttpUtil.clearSessionAttrs(i)})})})):$.Deferred().reject().promise()}}),e.RNARefreshingSessionOp}),define("core/dev/ops/session/starting-session-op",["core/ac-core","core/ops/op"],function(e){return e.StartingSessionOp=e.Op.extend({run:function(t,n){var r=this.options,i,s;return i=r.sessionModel,s=r.sessionUiModel,i.clear({silent:!0}),i.save({code:t,client:n||e.Util.getClientType()},{global:!1}).then(function(t){_.each(Ac.Core,function(e){e.HttpUtil.setSessionAttrs(s,t)}),e.opFactory.create("RefreshingSessionLaterOp",r).run()},function(e){_.each(Ac.Core,function(e){e.HttpUtil.clearSessionAttrs(s)})})||$.Deferred().reject("AcCore.StartingSessionOp.run: validation error").promise()}}),e.StartingSessionOp}),define("core/dev/ops/session/rna-starting-session-op",["core/ac-core","core/ops/op"],function(e){return e.RNAStartingSessionOp=e.Op.extend({run:function(){var t=this.options,n,r,i;return n=t.sessionRNAModel,r=t.sessionUiModel,n?(_.each(Ac.Core,function(e){e.HttpUtil.setSessionAttrs(r,n.attributes)}),e.opFactory.create("RefreshingSessionLaterOp",t).run(),this._getResolvedPromise()):(_.each(Ac.Core,function(e){e.HttpUtil.clearSessionAttrs(r)}),$.Deferred().reject("AcCore.RNAStartingSessionOp.run: validation error").promise())}}),e.RNAStartingSessionOp}),define("core/dev/ops/session/starting-susi-session-op",["core/ac-core","core/utils/ajax-util","core/utils/util","core/ops/op"],function(e,t,n){return e.StartingSusiSessionOp=e.Op.extend({run:function(){function l(){var e=s.getHashParams(),t=e.code;return t?i.create("StartingSessionOp",r).run(t,e.clt):u}function c(){var e=s.getQueryParams(),t=e.device_token,n=e.code;return t||n?(s.clearQueryParams(),r.appApi.rnaApi.then(function(e){return e.parseRedirectionUrl(window.location.href).then(function(){return i.create("RNAStartingSessionOp",r).run()},function(){return a})})):u}var r=this.options,i=e.opFactory,s=r.appApi.routerApi,o,u=this._getResolvedPromise(),a=this._getRejectedPromise(),f;return n.isCEF()?(f=c,o=this._getResolvedPromise()):(f=l,o=i.create("ValidatingBaseUrisOp",r).run()),o.then(function(){return f().then(function(){return t.setContextOptions(r),i.create("RefreshingSessionInitiallyOp",r).run()})})}}),e.StartingSusiSessionOp}),define("core/dev/ops/session/stopping-session-op",["core/ac-core","core/ops/op"],function(e){return e.StoppingSessionOp=e.Op.extend({run:function(){var e;return e=this.options.signOutModel,e.clear({silent:!0}),e.save(undefined,{modal:!1})||$.Deferred().reject("AcCore.StoppingSessionOp.run: validation error").promise()}}),e.StoppingSessionOp}),define("core/dev/ops/sharing/sharing-item-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){return e.SharingItemOp=e.Op.extend({run:function(){var e=this.options,n,r,i,s,o,u=e.model;return n="PUT",r={"public":e.isPublic},o=e.global,o===undefined&&(o=!1),$.ajax(u.getSharingURL(),{type:n,headers:t.getRequestHeadersNoClientId(n),data:JSON.stringify(r),dataType:"json",global:o}).done(function(e){i=e.preview_url,i!==undefined&&(s=i&&!0,u.set({preview_url:i,shared:s}))})}}),e.SharingItemOp}),define("core/dev/ops/rna/creating-window-op",["core/ac-core","core/ops/op"],function(e){e.CreatingWindowOp=e.Op.extend({run:function(){var t=this.options,n=new $.Deferred,r=t.cefContextModel,i;return r?(i=r.get("browserWindowManager"),i&&t.windowType?(i.invoke("createWindow",t.windowType,[0,0,window.innerWidth,window.innerHeight]).done(function(r){t.nativeWindowModel=e.rnaModelFactory.create("NativeWindowModel",undefined,{_proxy:r}),t.nativeWindowModel.invoke("getPlatformHandle").done(function(e){t.nativeWindowModel.set("platformHandle",e,{localAttr:!0}),n.resolve()}).fail(function(e){n.reject()})}).fail(function(e){n.reject()}),n.promise()):n.reject().promise()):n.reject().promise()}})}),define("core/dev/ops/rna/downloading-file-op",["core/ac-core","core/ops/op"],function(e){return e.DownloadingFileOp=e.Op.extend({run:function(){var t=this.options,n=$.Deferred(),r,i;return t.appApi.rnaApi?(_.isEmpty(t.assetId)?i={itemModelProxy:t.itemModelProxy,fileName:t.fileName||"",fileExtension:e.Util.getExtension(t.fileName)||"",fileSize:t.fileSize.toString()||"0"}:(i={assetId:t.assetId,assetType:t.assetType||"managed",fetchMetadata:t.fetchMetadata||!1,fileName:t.fileName||"",fileExtension:e.Util.getExtension(t.fileName)||"",fileSize:t.fileSize.toString()||"0"},t.fileObj&&(i=_.extend(i,{fileObj:t.fileObj}))),t.appApi.rnaApi.then(_.bind(function(s){_.isEmpty(t.assetId)?r=s.fileApi({methodName:"saveAsWithDownloadProgress",methodArgs:i}):r=s.assetApi({methodName:"downloadFile",methodArgs:i}),r.done(function(r){var i;r.errorSet?n.reject(r.errorCode):(i={progressObj:r.progressObj,downloadResultPromise:n},e.opFactory.create("ListenForFileDownloadProgressOp",_.extend(t,i)).run())}).fail(function(e){n.reject()})},this)),[n,r]):this._getRejectedPromise()}}),e.DownloadingFileOp}),define("core/dev/ops/rna/initializing-cef-op",["core/ac-core","core/ops/op"],function(e){return e.InitializingCEFOp=e.Op.extend({run:function(){var t,n=this.options;return t=e.rnaModelFactory,_.extend(n,{cefContextModel:t.create("CefContextModel")}),n.cefContextModel._contextPromise?n.cefContextModel._contextPromise:this._getResolvedPromise()}}),e.InitializingCEFOp}),define("core/dev/ops/rna/initializing-pdm-op",["core/ac-core","core/ops/op"],function(e){return e.InitializingPDMOp=e.Op.extend({run:function(){var t=e.rnaModelFactory;return _.extend(this.options,{pdmContextModel:t.create("PDMContextModel")}),this.options.pdmContextModel._contextPromise?this.options.pdmContextModel._contextPromise:this._getResolvedPromise()}}),e.InitializingPDMOp}),define("core/dev/ops/rna/initializing-reader-op",["core/ac-core","core/utils/date-util","core/ops/op"],function(e,t){return e.InitializingReaderOp=e.Op.extend({run:function(){var n,r=this.options,i=r.cefContextModel,s=i.get("browserCEFManager"),o=s.get("browser"),u=o.get("readerAddress"),a=$.Deferred(),f,l;return _.extend(r,{readerContextModel:a.promise()}),f=function(){var r,i;n=e.rnaModelFactory,t.logElapsedTime("before CreatingReaderContext"),r=n.create("ReaderContextModel"),r._contextPromise&&(i=r._contextPromise,i.done(function(){t.logElapsedTime("after CreatingReaderContext"),a.resolve(r)}),i.fail(function(){a.reject(r)}))},l=function(){u=o.get("readerAddress"),u.length>0&&(t.logElapsedTime("after WaitingForReaderUp"),f(),o.off("change:readerAddress",l))},u.length>0?(t.logElapsedTime("ReaderIsAlreadyUp"),l()):(t.logElapsedTime("before WaitingForReaderUp"),o.on("change:readerAddress",l)),a.promise()}}),e.InitializingReaderOp}),define("core/dev/ops/rna/launch-footer-url-in-browser-op",["core/ac-core","core/ops/op"],function(e){return e.LaunchFooterUrlInBrowserOp=e.Op.extend({run:function(){var e=this.options,t=e.appApi.pluginsApi,n,r=!0;return n=e.pluginId,t.callPluginMethod(n,"getFilesFooterUrl",undefined,this._getResolvedPromise(),!0).done(_.bind(function(t){if(!t)return $.Deferred().resolve().promise();e.isDesktopConnectorPlugin&&(r=!1),e.appApi.rnaApi.done(_.bind(function(e){e.connectorsAPI({methodName:"openConnectorUrlInBrowser",methodArgs:[t.uri,r]})},this))},this))}}),e.LaunchFooterUrlInBrowserOp}),define("core/dev/utils/shared-doc-framework-util",["core/ac-core"],function(e){return e.SharedDocsFrameworkUtil={isSentRecieveDocsViewsSupported:function(){return!0}},e.SharedDocsFrameworkUtil}),define("core/dev/ops/rna/listening-for-actions-op",["core/ac-core","core/utils/date-util","core/utils/shared-doc-framework-util","core/models/workflow-status-strings","aicx/ac-aicx","app/ac-app","core/ops/op"],function(e,t,n,r,i,s){var o,u,a;return e.ListeningForActions=e.Op.extend({initialize:function(){var t=this.options,n=t.actionsUiModel;e.Op.prototype.initialize.call(this),n.addCallback("uiThemeChanged",this._onUIThemeChanged),n.addCallback("selectPlugin",this._selectPlugin),n.addCallback("navigateTo",this._navigateTo),n.addCallback("selectConnectorPlugin",this._selectConnectorPlugin),n.addCallback("clickedOutsideAiCview",this._clickedOutsideAiCview),n.addCallback("selectPluginInFileSelDlg",this._selectPluginInFileSelDlg),n.addCallback("selectConnectorPluginInFileSelDlg",this._selectConnectorPluginInFileSelDlg),n.addCallback("directInk",this._selectApplyButtonInDigSig),n.addCallback("getSignFileList",this._getSignaturesFilesList),n.addCallback("refreshUI",this._refreshUI),n.addCallback("hideCB",this._hideCB),n.addCallback("getSendTrackFileList",this._getSendTrackFileList),n.addCallback("updateContextBoardData",this._updateContextBoardData),n.addCallback("performOpenCommandOnSignatureWorkflow",this._performOpenCommandOnSignatureWorkflow),n.addCallback("getSignAgreementData",this._getSignAgreementData),n.addCallback("getSignAgreementsDataBatch",this._getSignAgreementsDataBatch),n.addCallback("getReviewFileList",this._getReviewFileList),n.addCallback("takeKeyDownEvent",this._gettakeKeyDownEvent),n.addCallback("esSessionUpdate",this._esSessionUpdate),n.addCallback("taskHandlerAction",this._performTaskAction),n.addCallback("showSpinner",this._showSpinner),n.addCallback("stopSpinner",this._stopSpinner),n.addCallback("getDocCloudFileList",this._getDocCloudFileList),n.addCallback("getFavoriteFileList",this._getFavoriteFileList),n.addCallback("updateAccessToken",this._updateAccessToken),n.addCallback("getCreativeCloudFileList",this._getCreativeCloudFileList),n.addCallback("shareViewFile",this._shareViewFile),n.addCallback("refreshDcTab",this._refreshDcTab),n.addCallback("refreshAssetSharedStatus",this._refreshAssetSharedStatus),n.addCallback("getWorkflowDataAsyncResponse",this._updateSBYSBOData),n.addCallback("performAV2ExportPDF",this._performAV2ExportPDF),n.addCallback("clearCEFSidedCache",this._clearCEFSidedCache),n.addCallback("refreshCollabList",this._refreshCollabList),n.addCallback("AcroLoggingStatusChanged",this._onAcroLoggingStatusChanged)},run:function(){var n=$.Deferred(),r=this.options,i,s=!1,o=this,u;return u=function(e){s||(s=i.hasProperty("actionMgr"),s&&(this._actionManager=i.get("actionMgr"),t.logElapsedTime("after WaitingForViewData"),i.off("change:actionMgr",u),o._listenForActionEvents(this._actionManager)))},r.readerContextModel.done(_.bind(function(a){i=a.get("rna"),i?(s=i.hasProperty("actionMgr"),s?(t.logElapsedTime("AlreadyHasViewData"),this._actionManager=i.get("actionMgr"),o._listenForActionEvents(this._actionManager)):(t.logElapsedTime("before WaitingForViewData"),i.on("change:actionMgr",u)),e.opFactory.create("GettingSiteCatalystBaseFileOp",r).run()):n.reject()},this)),r.appApi.sessionApi.addSignedInChangeCallback(this._signedInChangeCallback),this._deferred=n,n.promise()},_signedInChangeCallback:function(e,t){t||(this._signInPromise=undefined)},tearDown:function(){options.appApi.sessionApi.removeSignedInChangeCallback(this._signedInChangeCallback),this._actionManager&&this._actionManager.off("custom:onAction",this._executeAction)},_executeAction:function(e,t){var n=t.params,r=n.actionId,i=n.params;this.options.actionsUiModel.triggerAction(r,i)},_listenForActionEvents:function(t){t&&t instanceof e.RNAModel?(t.on("custom:onAction",this._executeAction),t.invoke("flush")):t&&$.isFunction(t.then)&&t.then(_.bind(function(){this.options.readerContextModel.done(_.bind(function(t){var n=t.get("rna"),r;n&&n.hasProperty("actionMgr")&&(r=n.get("actionMgr")),r&&r instanceof e.RNAModel&&(this._actionManager=r,r.on("custom:onAction",this._executeAction),r.invoke("flush"))},this))},this))},_onUIThemeChanged:function(e,t){this.options.appApi.displayApi.applyUIThemeStyles(!0).then(_.bind(function(){var e="unified_share";this.options.appApi.pluginsApi.isPluginSelected(e)&&(this.options.appApi.pluginsApi.callPluginMethod(e,"_updateSendMailBackgroundForModernSharesheet",undefined,this._getResolvedPromise(),!0),this.options.appApi.pluginsApi.callPluginMethod(e,"_updateToggleTheme",undefined,this._getResolvedPromise(),!0))},this))},_selectPlugin:function(e,t){var n=this.options,r=n.appApi.pluginsApi,i=n.appApi.rnaApi;n.appApi.inactivityApi.isIdle()&&this.options.appApi.inactivityApi.setIsActive();if(t.id==="com.adobe.recentFiles"||t.viewType==="native"){r.setNativeViewSelected(!0);return}r.setNativeViewSelected(!1);if(n.appApi.displayApi.isModal()&&!this.options.appApi.displayApi.isModalAjax()&&r.isPluginOfThisType(t.id,"home_views")&&r.getSelectedPluginId("home_views")!==t.id){i.done(function(e){e.isFeatRunning()&&e.isASTestAllowInstantiation()&&e.invokeMethod({methodName:"logASTestReportAPI",methodArgs:["CefViewLoadingSteps","Inside _selectPlugin","Returning from selectPlugin because modal is true."]})});return}n.runningInFull=!0,document.title=window.location.host+"/"+t.id,i.done(function(e){e.isFeatRunning()&&e.isASTestAllowInstantiation()&&e.invokeMethod({methodName:"logASTestReportAPI",methodArgs:["CefViewLoadingSteps","Cef Renderer title",document.title]})}),r.isPluginOfThisType(t.id,"home_views")?(o=t.id,u=undefined,r.selectPluginIfNotSelected(Ac.Plugins.HOME).then(_.bind(function(){u||r.selectPlugin(o).then(_.bind(function(){t.nextAction&&this._executeAction(null,{params:t.nextAction})},this))},this))):r.selectPlugin(t.id).then(_.bind(function(){t.nextAction&&this._executeAction(null,{params:t.nextAction})},this)),t.leftRailId&&n.appApi.rnaApi.done(function(e){e.invokeMethod({methodName:"selectPluginSuccess",methodArgs:t.leftRailId})})},_selectConnectorPlugin:function(t,n){var r=this.options,i,s=r.appApi.pluginsApi,f=r.appApi.connectorsApi,l=r.appApi.sessionApi,c=this._getResolvedPromise(),h=r.appApi.rnaApi;r.runningInFull=!0;if(!n.connectorKey)return;i=f.getConnectorPluginId(n.connectorKey,n.connectorId);if(r.appApi.displayApi.isModal()&&!this.options.appApi.displayApi.isModalAjax()&&s.getSelectedPluginId("home_views")!==i){h.done(function(e){e.isFeatRunning()&&e.isASTestAllowInstantiation()&&e.invokeMethod({methodName:"logASTestReportAPI",methodArgs:["CefViewLoadingSteps","Inside _selectPlugin","Returning from selectPlugin because modal is true."]})});return}u=n.connectorKey,a=n.connectorId,o=i,document.title=window.location.href+"/"+o,h.done(function(e){e.isFeatRunning()&&e.isASTestAllowInstantiation()&&e.invokeMethod({methodName:"logASTestReportAPI",methodArgs:["CefViewLoadingSteps","Cef Renderer title",document.title]})}),s.getPluginUiModel(f.getConnectorPluginId(u,a))||(c=$.when(e.opFactory.create("GettingConnectorsUiHelpersOp",r).run(),e.opFactory.create("GettingSystemFoldersOp",r).run())),c.then(_.bind(function(){if(!u)return;o=f.getConnectorPluginId(u,a),s.selectPluginIfNotSelected(Ac.Plugins.HOME).then(_.bind(function(){u&&s.selectPlugin(o).then(_.bind(function(){n.nextAction&&this._executeAction(null,{params:n.nextAction})},this))},this))},this)),n.leftRailId&&r.appApi.rnaApi.done(function(e){e.invokeMethod({methodName:"selectPluginSuccess",methodArgs:n.leftRailId})})},_navigateTo:function(t,n){var r={},i=e.opFactory.create("GettingSiteCatalystBaseFileOp",this.options);n.queryParams&&(r=this.options.appApi.routerApi.parseQueryParams(n.queryParams),r.env&&Ac.config.setEnvironment(r.env),r.locale&&(Ac.Locale.setLocale(r.locale),require.config({config:{i18n:{locale:Ac.Locale.getLocale()}}}))),n.url&&(i.run(),this.options.appApi.routerApi.navigate(n.url,{trigger:!0}))},_clickedOutsideAiCview:function(e,t){var n=this.options,r=n.appApi.pluginsApi,i;r.getSelectedPluginId("tools")==="home"&&n.appApi.selectionApi.isRunningInFull()&&(i=r.getSelectedPluginId("home_views"),r.callPluginMethod(i,"clickedOutsideAiCview",undefined,this._getResolvedPromise(),!0))},_selectPluginInFileSelDlg:function(t,n){var r=this.options,i=r.appApi,s=i.pluginsApi,o,u=this._getResolvedPromise();r.runningInFileSelection&&(o=n.id,u=$.when(e.opFactory.create("GettingConnectorsUiHelpersOp",r).run(),e.opFactory.create("GettingSystemFoldersOp",r).run()),u.done(function(){i.selectionApi.triggerPluginSelectorClick(o,r.fileSelectionDlgOptions)}))},_selectApplyButtonInDigSig:function(e,t){var n=this.options,r=n.appApi,i=r.pluginsApi,s,o=i.getSelectedPluginId("tools"),u={val:0,signInfo:"",fillSignApplyStatus:-1};t["isBlank"]==1&&(u.val=1);var a=t.signInfo;u.val||(u.signInfo=a);var f=t.activateApply;f==0||f==1?u.fillSignApplyStatus=f:u.fillSignApplyStatus=-1,i.callPluginMethod(o,"directInkSignature",u,this._getResolvedPromise(),!0)},_gettakeKeyDownEvent:function(e,t){var n=this.options,r=n.appApi,i=r.pluginsApi,s,o=i.getSelectedPluginId("tools"),u={val:0};u.val=t.keydown,i.callPluginMethod(o,"_handleKeyDownEvents",u,this._getResolvedPromise(),!0)},_selectConnectorPluginInFileSelDlg:function(t,n){var r="",i="",s,o=this.options,u=o.appApi,a=u.connectorsApi,f=u.pluginsApi,l=this._getResolvedPromise();if(!a)return;if(!f)return;n&&(r=n.connectorId,i=n.accountId),o.runningInFileSelection&&(s=a.getConnectorPluginId(r,i,!0),l=$.when(e.opFactory.create("GettingConnectorsUiHelpersOp",o).run(),e.opFactory.create("GettingSystemFoldersOp",o).run()),l.done(function(){u.selectionApi.triggerPluginSelectorClick(s,o.fileSelectionDlgOptions)}))},_getSignaturesFilesList:function(e,t){var n=10;this._getSignInPromise().done(_.bind(function(){this._getSignaturesFilesListInternal(e,t,n)},this))},_getSignaturesFilesListInternal:function(e,t,n){var r=this.options,i=r.appApi.pluginsApi;i.isPluginLoaded("signatures")&&r.appApi.sessionApi.isSignedIn()?i.callPluginMethod("signatures","getSignaturesFilesList",t,this._getResolvedPromise(),!0):n>0&&(this._signListTimeout&&clearTimeout(this._signListTimeout),this._signListTimeout=setTimeout(this._getSignaturesFilesListInternal,1e3,e,t,n-1))},_getSendTrackFileList:function(e,t){this._getSignInPromise().done(_.bind(function(){var n=this.options,r=n.appApi.pluginsApi;r.isPluginLoaded("sentfiles")?r.callPluginMethod("sentfiles","getSendTrackFileList",t,this._getResolvedPromise(),!0):(this._sendListTimeout&&clearTimeout(this._sendListTimeout),this._sendListTimeout=setTimeout(this._getSendTrackFileList,1e3,e,t))},this))},_refreshUI:function(e,t){var i,s=null,o=this.options.appApi.pluginsApi,u;t.workflowType==r.SIGN?i="signatures":n.isSentRecieveDocsViewsSupported()&&t.currentRole?t.currentRole=="sender"?i="sentfiles":t.currentRole=="receiver"&&(i="receivedfiles"):t.workflowType==r.REVIEW&&(i="reviews",s=t.refreshArgStr),u=o.getSelectedPluginId("home_views"),!_.isUndefined(u)&&i!==u&&this.options.appApi.pluginsApi.callPluginMethod(u,"_refreshUI",s,this._getResolvedPromise(),!0),this.options.appApi.pluginsApi.callPluginMethod(i,"_refreshUI",s,this._getResolvedPromise(),!0)},_hideCB:function(e,t){var n;t.workflowType==r.SEND_TRACK&&(n="sentfiles"),this.options.appApi.pluginsApi.callPluginMethod(n,"_hideCB",null,this._getResolvedPromise(),!0)},_commonFunctionForAEPCB:function(t,n,i,s){s===!1&&!t.isFauxMode?(o="sentfiles",t.workflowType=r.SEND_TRACK):(o="reviews",t.workflowType=r.REVIEW),t.workflowData.isSharedFile=!0;var o,u=this.options.appApi.pluginsApi;t.workflowID&&(i.workflowID=t.workflowID),t.requestAgent&&(i.requestAgent=t.requestAgent),t.requestAgent==="Tracking"?i.isUnaccepted=t.isUnaccepted?!0:!1:t.requestAgent==="recent"&&(i.isUnaccepted=!1),t.workflowType&&(i.workflowType=t.workflowType),t.notificationID&&(i.notificationID=t.notificationID),t.workflowData&&(i.workflowType=t.workflowData.WorkflowType);if(!i.requestAgent&&!i.workflowID&&u.getSelectedPluginId("full_preview_rhp")&&!u.isPluginSelected(o))return;if(!i.requestAgent&&!i.workflowID&&_.isEmpty(t.workflowData))return;this.options.appApi.dialogApi.closeAllDialogs();var a=!1,f;t.bootstrap&&(f=JSON.parse(t.bootstrap),a=f.privileges.can_remove_from_recents);if(u.isPluginSelected(o)&&!_.isEmpty(t.workflowData)){var l=new e.ParcelModel({workflowType:t.workflowType});l.setData(t.workflowData),l.isFauxMode=t.isFauxMode,l.shouldShowRemoveFromRecent=t.iscurrentSelectedtabRecent&&a?!0:!1,u.callPluginMethod(o,"_setContextBoardModel",{model:l,pluginOptions:i},this._getResolvedPromise(),!0)}else u.selectPlugin(o,i).done(_.bind(function(){$(".plugin-content").removeClass("selected");var n=u.getPluginContentId(o);$("#"+n).addClass("selected");if(!i.workflowID&&!_.isEmpty(t.workflowData)){console.log(t.workflowData);var r=new e.ParcelModel({workflowType:t.workflowType});r.setData(t.workflowData),r.isFauxMode=t.isFauxMode,r.shouldShowRemoveFromRecent=t.iscurrentSelectedtabRecent&&a?!0:!1,u.callPluginMethod(o,"_setContextBoardModel",{model:r,pluginOptions:i},this._getResolvedPromise(),!0)}},this))},_updateContextBoardDummyDataForAEP:function(e,t){var n,r=this.options.appApi.pluginsApi,i,s=this.options;s.id="dummyId";var o=!1;t.workflowData.aep_workflow_info.collaborators&&t.workflowData.aep_workflow_info.collaborators.length&&t.workflowData.aep_workflow_info.collaborators[0].collaborators_permission&&t.workflowData.aep_workflow_info.collaborators[0].collaborators_permission==="can_make_comments"&&(o=!0),t.workflowData.aep_workflow_info.is_original_shared=!0,t.workflowData.bootstrap={email_message:t.workflowData.aep_workflow_info.intro_message,preview_url:t.workflowData.aep_workflow_info.preview_url,is_original_shared:t.workflowData.aep_workflow_info.is_original_shared,commenting_urn:t.workflowData.aep_workflow_info.commenting_urn,asset_id:t.workflowData.asset_id,is_legacy_asset:t.workflowData.aep_workflow_info.is_legacy_asset};var i={isCBView:!0};this._commonFunctionForAEPCB(t,s,i,o)},_refreshDcTab:function(e,t){var n="root",r=null;this.options.appApi.pluginsApi.isPluginSelected(n)&&this.options.appApi.pluginsApi.callPluginMethod(n,"_refreshDcUI",r,this._getResolvedPromise(),!0),n="scan_files",this.options.appApi.pluginsApi.isPluginSelected(n)&&this.options.appApi.pluginsApi.callPluginMethod(n,"_refreshDcUI",r,this._getResolvedPromise(),!0)},_refreshCollabList:function(e,t){var n="reviews",r=null;this.options.appApi.pluginsApi.isPluginSelected(n)&&this.options.appApi.pluginsApi.callPluginMethod(n,"refreshCollaborators",r,this._getResolvedPromise(),!0)},_refreshAssetSharedStatus:function(e,t){var n="root",r={asset_id:t.asset_id,is_shared:t.is_shared};this.options.appApi.pluginsApi.isPluginSelected(n)&&this.options.appApi.pluginsApi.callPluginMethod(n,"_refreshAssetSharedStatusInDC",r,this._getResolvedPromise(),!0),n="scan_files",this.options.appApi.pluginsApi.isPluginSelected(n)&&this.options.appApi.pluginsApi.callPluginMethod(n,"_refreshAssetSharedStatusInDC",r,this._getResolvedPromise(),!0)},_updateSBYSBOData:function(e,t){var n="sentfiles";this.options.appApi.pluginsApi.isPluginSelected(n)&&this.options.appApi.pluginsApi.callPluginMethod(n,"updateNextPageData",t,this._getResolvedPromise(),!0),n="receivedfiles",this.options.appApi.pluginsApi.isPluginSelected(n)&&this.options.appApi.pluginsApi.callPluginMethod(n,"updateNextPageData",t,this._getResolvedPromise(),!0)},_updateCBDataForAdobeCloudSharedFile:function(t,n){var r,i=this.options.appApi.pluginsApi,s,o=this.options;o.id=n.workflowID;if(!o.id&&n.workflowData){var u=n.workflowData.aep_workflow_info;o.id=u&&u.invitationUrn!=""?u.invitationUrn:n.workflowData.asset_id}if(o.id&&o.id==="dummyId"){this._updateContextBoardDummyDataForAEP(t,n);return}if(!n.workflowData||!n.workflowData.isShared)return;var a=n.bootstrap;o.share_info=!0;var f=e.opFactory,l=f.create("FireBootstrapApiOp",o),c=undefined;this._getSignInPromise().done(_.bind(function(){c=a?$.Deferred().resolve(JSON.parse(a)):l.run(),c.then(_.bind(function(e){n.workflowData.aep_workflow_info.intro_subject=e.parcel_data.email_subject,n.workflowData.aep_workflow_info.intro_message=e.parcel_data.email_message,n.workflowData.aep_workflow_info.preview_url=e.parcel_data.preview_url,n.workflowData.aep_workflow_info.is_original_shared=e.is_original_shared,n.workflowData.aep_workflow_info.id=e.parcel_data.id,n.workflowData.aep_workflow_info.invitationUrn=e.parcel_data.invitation;var t=e.meta_list[0]?e.meta_list[0].commenting_urn:undefined,r=e.meta_list[0]?e.meta_list[0].asset_urn:n.workflowData.asset_id;n.workflowData.aep_workflow_info.commenting_urn=t,n.workflowData.asset_id=r,n.workflowData.bootstrap={email_message:e.parcel_data.email_message,preview_url:e.parcel_data.preview_url,is_original_shared:e.is_original_shared,commenting_urn:t,asset_id:r,is_legacy_asset:e.is_legacy_asset};var i={isCBView:!0};i.bootstrap=a,this._commonFunctionForAEPCB(n,o,i,e.parcel_data.can_make_comments)},this),_.bind(function(){},this))},this))},_updateContextBoardData:function(t,n){var i,s=this.options.appApi.pluginsApi,o,u=this.options;if(n.workflowType!=r.SIGN){this._updateCBDataForAdobeCloudSharedFile(t,n);return}i="signatures",o={isCBView:!0},n.workflowID&&(o.workflowID=n.workflowID),n.requestAgent&&(o.requestAgent=n.requestAgent),n.requestAgent==="Tracking"?o.isUnaccepted=n.isUnaccepted?!0:!1:n.requestAgent==="recent"&&(o.isUnaccepted=!1),n.canShowSaveALocalCopy=="true"?o.canShowSaveALocalCopy=!0:o.canShowSaveALocalCopy=!1,n.notificationID&&(o.notificationID=n.notificationID);if(!o.requestAgent&&!o.workflowID&&s.getSelectedPluginId("full_preview_rhp")&&!s.isPluginSelected(i))return;if(!o.requestAgent&&!o.workflowID&&_.isEmpty(n.workflowData))return;this.options.appApi.dialogApi.closeAllDialogs();if(s.isPluginSelected(i)&&!_.isEmpty(n.workflowData)){var a=new e.ParcelModel({workflowType:n.workflowType});a.setData(n.workflowData),a.isFauxMode=n.isFauxMode,s.callPluginMethod(i,"_setContextBoardModel",{model:a,pluginOptions:o},this._getResolvedPromise(),!0)}else s.selectPlugin(i,o).done(_.bind(function(){$(".plugin-content").removeClass("selected");var t=s.getPluginContentId(i);$("#"+t).addClass("selected");if(!o.workflowID&&!_.isEmpty(n.workflowData)){console.log(n.workflowData);var r=new e.ParcelModel({workflowType:n.workflowType});r.setData(n.workflowData),r.isFauxMode=n.isFauxMode,s.callPluginMethod(i,"_setContextBoardModel",{model:r,pluginOptions:o},this._getResolvedPromise(),!0)}},this))},_performOpenCommandOnSignatureWorkflow:function(t,n){var i;n.workflowType==r.SIGN?i="signatures":n.workflowType==r.REVIEW?i="reviews":n.workflowType==r.SEND_TRACK&&(i="sentfiles");var s=n.workflowData,o=new e.ParcelModel({workflowType:n.workflowType});o.setData(s),this.options.appApi.pluginsApi.callPluginMethod("signatures","openSignAgreement",o,$.Deferred().reject(),!0)},_performAV2ExportPDF:function(e,t){var n=this.options.appApi.pluginsApi,r={exportFormat:t.exportTo,docLang:t.docLang,imgQuality:t.jpegQuality,invocation:t.invocation,showImmediateProgressSpinner:t.showImmediateProgressSpinner,selectedPluginIdForSaveAs:undefined};t.invocation==="AV2ConvertSaveAs"&&(r.selectedPluginIdForSaveAs=t.selectedPluginIdForSaveAs),n.selectPlugin(t.id).then(_.bind(function(){n.callPluginMethod(t.id,"exportPDFExecute",r,this._getResolvedPromise(),!0)},this))},_getSignAgreementData:function(e,t){this.options.appApi.pluginsApi.callPluginMethod("signatures","getSignAgreementData",t,this._getResolvedPromise(),!0)},_getSignInPromise:function(){if(!this._signInPromise||this._signInPromise.state()==="rejected")this._signInPromise=this.options.appApi.sessionApi.ensureSignedIn();return this._signInPromise},_getSignAgreementsDataBatch:function(e,t){var n=this.options,r=n.appApi.pluginsApi;r.isPluginLoaded("signatures")?r.callPluginMethod("signatures","getSignAgreementDataBatch",t,this._getResolvedPromise(),!0):setTimeout(this._getSignAgreementsDataBatch,1e3,e,t)},_getReviewFileList:function(e,t){this._getSignInPromise().done(_.bind(function(){var r=this.options,i=r.appApi.pluginsApi,s=n.isSentRecieveDocsViewsSupported()?"receivedfiles":"reviews";i.isPluginLoaded(s)?i.callPluginMethod(s,"getReviewFileList",t,this._getResolvedPromise(),!0):(this._reviewFileListTimeout&&clearTimeout(this._reviewFileListTimeout),this._reviewFileListTimeout=setTimeout(this._getReviewFileList,1e3,e,t))},this))},_shareViewFile:function(e,t){if(t.isFauxViewMode==0)try{this.options.pluginApis.sentfiles.$cbView._participantsView._manageParticipantInfoToggleState(),this.options.pluginApis.sentfiles.$cbView._participantsView._handleAddPeopleCoachMarkVisibility(),this.options.pluginApis.sentfiles.$cbView._primaryActionsView._handleCopySharedLinkCoachMarkVisibility()}catch(n){}else try{this.options.pluginApis.reviews.$cbView._reviewParticipantsView._manageParticipantInfoToggleState(),this.options.pluginApis.reviews.$cbView._reviewParticipantsView._handleAddReviewerCoachMarkVisibility(!1),this.options.pluginApis.reviews.$cbView._reviewPrimaryActionsView._handleCopySharedLinkCoachMarkVisibility()}catch(n){}},_performTaskAction:function(e,t){var n=this.options,r=n.appApi.pluginsApi;if(r.isPluginAvailable("task_handler")){var i;this._skipAuthorizationHeaderForAction(t.action)||!_.isUndefined(t.url)&&!this._needAuthorizationHeader(t.url)||t.action==="getSophiaSurfaceContent"?i=$.Deferred().resolve():i=this._getSignInPromise(),i.done(_.bind(function(){r.callPluginMethod("task_handler","performTaskAction",t,this._getResolvedPromise(),!0)},this))}else this._taskHandlerTimeout&&clearTimeout(this._taskHandlerTimeout),this._taskHandlerTimeout=setTimeout(this._performTaskAction,1e3,e,t)},_needAuthorizationHeader:function(e){return e.match(/behance\.net/i)?!1:!0},_skipAuthorizationHeaderForAction:function(e){switch(e){case"fetchPGCSuggestions":case"acceptPgcRecipients":case"acceptNewPgcRecipients":case"initiateEurekaReview":case"fetchMicrosoftGraphContacts":case"evaluateNGLUpsellWorkflow":return!0}return!1},_showSpinner:function(e,t){var n=this.options;n.appApi.displayApi.showSpinner(!0);var r=document.getElementById("rhp-content");r&&(r.style.opacity=0)},_stopSpinner:function(e,t){var n=this.options;n.appApi.displayApi.showSpinner(!1);var r=document.getElementById("rhp-content");r&&(r.style.opacity=1)},_esSessionUpdate:function(e,t){t.hasOwnProperty("signedIn")&&this.options.signInUiModel.set("is_echosign_signed_in",t.signedIn)},_getDocCloudFileList:function(t,n){this._getSignInPromise().done(_.bind(function(){this.options.search_uri=n.search_uri,this.options.x_api_client_id=n.x_api_client_id,this.options.isReviewServicesEnabled=n.is_review_service_visible,this.options.isSntServicesEnabled=n.is_snt_service_visible,this.options.isFavoritesServicesEnabled=n.is_favorite_service_visible,this.options.shouldFetchDCFileList=n.should_fetch_dc_file_list;var t=e.opFactory.create("USSDCFilesOp",_.extend(this.options)).run({});t.then(_.bind(function(e){this.response=e;var t=this.options;t.appApi.rnaApi.done(_.bind(function(e){e._recentFilesAPI.invoke("getDCRecentFileListResponse",this.response)},this))},this),_.bind(function(e){}))},this))},_getFavoriteFileList:function(t,n){this._getSignInPromise().done(_.bind(function(){this.options.search_uri=n.search_uri,this.options.x_api_client_id=n.x_api_client_id;var t=e.opFactory.create("USSFavoriteFilesOp",this.options).run({});t.then(_.bind(function(e){this.response=e;var t=this.options;t.appApi.rnaApi.done(_.bind(function(e){e._recentFilesAPI.invoke("getFavoriteFileListResponse",this.response)},this))},this),_.bind(function(e){}))},this))},_updateAccessToken:function(e,t){var n=(new Date).getTime()/1e3,r=t.expiration_time/1e3-n;r>=0&&(typeof this.options.sessionUiModel!="undefined"&&(this.options.sessionUiModel.set("primary_token",t.primary_token),this.options.sessionUiModel.set("expiration_time",r),this.options.sessionUiModel.set("expiration_time_utc",t.expiration_time)),typeof this.options.sessionRNAModel!="undefined"&&(this.options.sessionRNAModel.set("primary_token",t.primary_token),this.options.sessionRNAModel.set("expiration_time",r),this.options.sessionRNAModel.set("expiration_time_utc",t.expiration_time)))},_getCreativeCloudFileList:function(t,n){this._getSignInPromise().done(_.bind(function(){this.options.search_uri=n.search_uri,this.options.adobeId=n.adobeID,this.options.serviceType=n.serviceType;var t=n.serviceType,r=e.opFactory.create("USSCCFilesOp",_.extend(this.options)).run(n);r.done(_.bind(function(r){this.response=r,this.response.serviceType=t,this.response.request=n.request;var i=this.options;i.appApi.rnaApi.done(_.bind(function(t){var n=e.opFactory.create("SendChunkDataToNative",i);n.run(JSON.stringify(this.response),"CreativeCloudUSS")},this))},this)).fail(_.bind(function(t){if(this.options.appApi.inactivityApi.isIdle())this.options.appApi.inactivityApi.setIsActive();else{this.response=t,this.response&&(this.response.serviceType=this.options.serviceType,this.response.request=n.request);var r=this.options;r.appApi.rnaApi.done(_.bind(function(t){var n=e.opFactory.create("SendChunkDataToNative",r);n.run(JSON.stringify(this.response),"CreativeCloudUSS")},this))}},this))},this))},_clearCEFSidedCache:function(t,n){var r=e.opFactory,s=i.opFactory,o=r.create("GettingBaseFilesUrisOp",_.extend(this.options)),u=r.create("GettingBaseCloudUrisOp",_.extend(this.options)),a=s.create("GettingBaseAicUrisOp",_.extend(this.options));o.onSignedInChange(),u.onSignedInChange(),a.onSignedInChange();var f=r.create("GettingDiscoveryRespOp",_.extend(this.options));f.onSignedInChange()},_onAcroLoggingStatusChanged:function(e,t){this.options.acroLoggingEnabled=t.acroLoggingStatus}}),e.ListeningForActions}),define("core/dev/ops/rna/listening-for-connector-events-op",["core/ac-core","core/utils/util","core/ops/op"],function(e,t){var n=null,r=null;return e.ListeningForConnectorEvents=e.Op.extend({run:function(){var e=$.Deferred(),i=this.options,s=this,o=null;return this._deferred=e,n=i.appApi.connectorsApi,r=i.appApi.rnaApi,t.isCEF()?(i.readerContextModel.done(_.bind(function(t){var n=t.get("rna"),r,i;if(n){n.hasProperty("rnaAPI")&&(r=n.get("rnaAPI"),r.hasProperty("leftRailAPI")&&(i=r.get("leftRailAPI"),i.hasProperty("leftRailItems")&&(o=i.get("leftRailItems"))));if(!o){e.reject();return}o.off("add"),o.off("remove"),o.off("change"),o.on("add",this._onLeftRailItemAdded),o.on("remove",this._onLeftRailItemRemoved),o.on("change",this._onLeftRailItemChanged),e.resolve()}else e.reject()},this)),e.promise()):e.resolve().promise()},_onLeftRailItemAdded:function(e,t){var i="",s="";if(!n)return;if(!r)return;e.hasProperty("connectorId")&&(i=e.get("connectorId")),e.hasProperty("accountId")&&(s=e.get("accountId")),r.done(_.bind(function(e){var t=e.getConnectorsUIHelperData(!1,!1),r=e.getSystemFoldersData(!1,!1),o=$.when(t,r);o.done(_.bind(function(){var e,t=n.getConnectorPluginId(i,s,this.options.appApi.selectionApi.isRunningInFileSelection());t&&(e={connectorName:i},n.addConnectorPlugin(t,e))},this))},this))},_onLeftRailItemRemoved:function(e,t){var i="",s="";if(!n)return;if(!r)return;e.hasProperty("connectorId")&&(i=e.get("connectorId")),e.hasProperty("accountId")&&(s=e.get("accountId")),r.done(_.bind(function(e){var t=e.getConnectorsUIHelperData(!1,!1),r=e.getSystemFoldersData(!1,!1),o=$.when(t,r);o.done(_.bind(function(){var e,t=n.getConnectorPluginId(i,s,this.options.runningInFileSelection);t&&(e={pluginId:t},n.removeConnectorPlugin(t,e))},this))},this))},_onLeftRailItemChanged:function(e,t){}}),e.ListeningForConnectorEvents}),define("core/dev/ops/rna/listening-for-file-download-progress-op",["core/ac-core","core/ops/op"],function(e){return e.ListenForFileDownloadProgressOp=e.Op.extend({run:function(){var e=this.options,t=e.progressObj,n=e.progressCB,r=e.downloadResultPromise;t._addEventListener("custom:downloadFinished",function(e,t,n){!t.params||t.params.errorCode!=0?r.reject(t.params.errorCode):r.resolve(t.params)})}}),e.ListenForFileDownloadProgressOp}),define("core/dev/ops/rna/listening-for-file-upload-progress-op",["core/ac-core","core/ops/op"],function(e){return e.ListenForFileUploadProgressOp=e.Op.extend({run:function(){var e=this.options,t=e.progressObj,n=e.progressCB,r=e.uploadResultPromise,i=e.fileNumber;this._fileNumber=i,t._addEventListener("custom:uploadBegin",function(e,t,n){}),t._addEventListener("custom:uploadProgress",_.bind(function(e,t,i){t.params||r.reject(),n&&n(t.params.bytesWritten,t.params.bytesTotal,this._fileNumber)},this)),t._addEventListener("custom:uploadFinished",function(e,t,n){var i,s,o=t.params.httpRespCode;!t.params||t.params.errorCode!=0?r.reject():o>=200&&o<400?(i=JSON.parse(t.params.respBody),s=t.params.httpRespCode,r.resolve(i,s)):r.reject()})}}),e.ListenForFileUploadProgressOp}),define("core/dev/ops/rna/listening-for-stop-file-upload-op",["core/ac-core","core/ops/op"],function(e){return e.ListenForStopFileUploadOp=e.Op.extend({run:function(){var e=this.options,t=e.notificationObj,n={uploadRequest:e.uploadRequestObj},r=function(){e.appApi.rnaApi.then(function(e){e.assetApi({methodName:"stopFileUpload",methodArgs:n}),t.off("custom:stopFileUpload",r),e.notificationAPI.removeNotification(t.get("notificationID"))})};t&&t.on("custom:stopFileUpload",r)}}),e.ListenForStopFileUploadOp}),define("core/dev/ops/rna/opening-doc-in-reader-op",["core/ac-core","core/ops/op"],function(e){e.OpeningDocInReaderOp=e.Op.extend({run:function(){var t=this.options,n=new $.Deferred,r,i=[],s;return t.rootView&&t.rootView._triggerViewEvent(e.ViewEvents.OPEN_DOC_IN_READER_START),t.appApi.rnaApi.done(function(o){var u,a;if(t.itemModel&&t.itemModel.get("fileURI"))r=o.invokeMethod("openDoc",t.itemModel.get("fileURI"));else if(!t.itemModel||t.itemModel.get("source")!=="sharepoint"&&t.itemModel.get("source")!=="desktopConnector")if(t.id)if(t.itemModel.get("isNonPlatformFile")===0)r=o.fileApi({methodName:"openFile",methodArgs:[t.itemModel._proxy,"",!1,!0,i]});else{s=t.folderUiModel.get("path"),s.length&&i.push(_.last(s).id);var f=t.itemModel.get("is_shared")===!0;f?r=e.opFactory.create("OpeningSharedDocInViewerOp",t).run():r=o.assetApi({methodName:"openFile",methodArgs:[t.id,i]})}else t.localFileModel&&(u=_.isUndefined(t.needSave)?!1:t.needSave,a=_.isUndefined(t.updateRecentFilesAndFolders)?!0:t.updateRecentFilesAndFolders,r=o.fileApi({methodName:"openFile",methodArgs:[t.localFileModel,t.displayName,u,a]}));else s=t.folderUiModel.get("path"),_.each(s,function(e){i.push(e.id)}),r=o.fileApi({methodName:"openFile",methodArgs:[t.itemModel._proxy,"",!1,!0,i]});r.done(function(){n.resolve()}).fail(function(e){n.reject(e)})}).fail(function(){n.reject()}),n.always(function(){t.rootView&&t.rootView._triggerViewEvent(e.ViewEvents.OPEN_DOC_IN_READER_END)}),n.promise()}})}),define("core/dev/ops/rna/opening-shared-doc-in-reader-op",["core/ac-core","core/ops/op"],function(e){e.OpeningSharedDocInViewerOp=e.Op.extend({run:function(){var t=this.options,n=new $.Deferred,r,i=e.opFactory;this.deferred=$.Deferred();var s=Ac.discoveryUrisModel.getUSSUrlsAndUserInfo();return this._openSharedDocument(t),this.deferred},_openSharedDocument:function(e){var t={};t.assetId=e.id.toLowerCase(),this.options.appApi.rnaApi.done(_.bind(function(e){e.assetApi({methodName:"openSharedFile",methodArgs:t}),this.deferred.resolve()},this))}})}),define("core/dev/ops/rna/updating-originalshare-asseturn-op",["core/ac-core","core/ops/op"],function(e){e.UpdatingOriginalShareAndAssetURNOp=e.Op.extend({run:function(e){var t=this.options,n=$.Deferred();if(e){var r={};!_.isUndefined(e.parcel_data)&&!_.isUndefined(e.parcel_data.id)&&(r.workflowID=e.parcel_data.id),!_.isUndefined(e.meta_list)&&e.meta_list.length&&!_.isUndefined(e.meta_list[0].asset_urn)&&(r.assetURN=e.meta_list[0].asset_urn),_.isUndefined(e.is_original_shared)||(r.isOriginalShare=e.is_original_shared),!_.isUndefined(r.workflowID)&&!_.isUndefined(r.assetURN)&&!_.isUndefined(r.isOriginalShare)&&t.appApi.rnaApi.done(_.bind(function(e){e._stAPI.invoke("updateOriginalShareAndAssetURN",r).done(_.bind(function(){n.resolve()},this))},this))}return n}})}),define("core/dev/ops/rna/shared-file-bootstrap-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){e.FireBootstrapApiOp=e.Op.extend({run:function(){var e=this.options,n="GET",r,i,s,o,u=$.Deferred(),a,f="";a=e.id;if(a==="dummyId"||a==="")return u.reject({httpRespCode:404,httpRespBody:"The resource is no longer accessible"}),u;this.invitationId=a,e.share_info===!0&&(f="?shareinfo=true"),o=t.getRequestHeaders(n),o["Content-Type"]="application/json",i=this._getSendUriTrimmed()+"preview/"+a+"/bootstrap"+f;var l;return this.options.appApi.sessionApi.getPrimaryToken().length&&(l=this.options.appApi.sessionApi.getPrimaryToken()),o.authorization="Bearer "+l,s=JSON.stringify({value:!1}),$.ajax(i,{type:n,headers:o,dataType:"json",global:e.global?e.global:!1,modal:e.modal?e.modal:!1,success:_.bind(function(e,t,n){e===undefined||e.parcel_data===undefined?u.reject({httpRespCode:n.status,httpRespBody:n.responseText}):u.resolve(e)},this),error:_.bind(function(e){e.status==423&&this.options.appApi.rnaApi.done(_.bind(function(e){e.invokeMethod({methodName:"triggerMigrationInProgressError",methodArgs:{}})},this)),u.reject({httpRespCode:e.status,httpRespBody:e.responseText})},this)}),u},_getSendUriTrimmed:function(){var e=this.options.appApi.baseFilesUrisApi.getSendApiUri(),t=e.lastIndexOf("api");return e=e.substring(0,t),e}})}),define("core/dev/ops/rna/opening-doc-in-pdm-op",["core/ac-core","core/ops/op"],function(e){e.OpeningDocInPDMOp=e.Op.extend({run:function(){var e=this.options,t=new $.Deferred,n,r;return r=e.pdmContextModel.get("pdm"),n=r.get("pdmPreview"),n&&e.nativeWindowModel&&e.itemModel?(n.invoke("showFilePreview",e.nativeWindowModel.get("platformHandle"),e.itemModel.get("fileURI"),0,0,window.innerWidth,window.innerHeight).done(function(n){e.nativeWindowModel.invoke("show"),t.resolve()}).fail(function(e){t.reject()}),t.promise()):t.reject().promise()}})}),define("core/dev/ops/rna/save-as-file-op",["core/ac-core","core/ops/op"],function(e){return e.SaveAsFileOp=e.Op.extend({run:function(){var e=this.options,t=$.Deferred(),n;return e.file?(n=[e.file,e.fileName,e.fileExtn],e.appApi.rnaApi.then(_.bind(function(e){e.fileApi({methodName:"saveAs",methodArgs:n}).then(function(e){e.errorSet?t.reject():t.resolve()},function(e){t.reject()})},this)),t):this._getRejectedPromise()}}),e.SaveAsFileOp}),define("core/dev/ops/rna/uploading-file-op",["core/ac-core","core/ops/op"],function(e){return e.UploadingFileOp=e.Op.extend({run:function(){var t=this.options,n=t.rnaFile,r=t.fileNo,i=t.notificationObj,s=t.progressCB,o=t.onDuplicateName||"",u=t.ignoreContentType||!1,a=t.showBezel||!1,f=t.parentID,l=t.fileName,c=t.doNotUpdateRFL,h=$.Deferred(),p=t.fauxModeInitiationCommentPage,d=t.fauxModeInitiationCommentId,v,m;if(!n||!this.options.appApi.rnaApi)return this._getRejectedPromise();_.isUndefined(c)&&(c=!1);if(!t.mimeType){if(!u)return this._getRejectedPromise();t.mimeType="application/octet-stream"}return this._fileNumber=r,m={file:n,uploadType:t.uploadType,mimeType:t.mimeType,on_dup_name:o,ignore_content_type:u,show_bezel:a,doNotUpdateRFL:c},f&&(m=_.extend({},m,{parentID:f})),l&&(m=_.extend({},m,{fileName:l})),_.isEmpty(d)||(m=_.extend({},m,{fauxModeInitiationCommentId:d})),_.isUndefined(p)||(m=_.extend({},m,{fauxModeInitiationCommentPage:p})),t.appApi.rnaApi.then(_.bind(function(n){v=n.assetApi({methodName:"uploadFile",methodArgs:m}),v.done(_.bind(function(n){var r,o,u;if(n.errorSet)h.reject();else{r={progressObj:n.progressObj,progressCB:s,uploadResultPromise:h},isNaN(this._fileNumber)||(r.fileNumber=this._fileNumber),e.opFactory.create("ListenForFileUploadProgressOp",_.extend(t,r)).run();if(i){try{o=JSON.parse(i.get("userData"))}catch(a){}o&&o.canUploadBeCancelled&&(u={notificationObj:i,uploadRequestObj:n.uploadRequestObj},e.opFactory.create("ListenForStopFileUploadOp",_.extend(t,u)).run())}}},this)).fail(function(e){h.reject()})},this)),h}}),e.UploadingFileOp}),define("core/dev/ops/rna/apply-ui-theme-icons-op",["core/ac-core","core/ops/op"],function(e){return e.ApplyUIThemeIconsOp=e.Op.extend({run:function(){var e=this.options;return this._updateImageURLs(e.iconSet),e.appApi.pluginsApi.isInSearchResultsView()&&e.connectorsUiHelpersModel&&e.appApi.rnaApi.done(function(e){e.getConnectorsUIHelperData(!1,!1)}),this._getResolvedPromise()},_findUIThemeStyleSheet:function(){this._ThemeStyleSheet=_.find(document.styleSheets,function(e){return!_.isUndefined(e.href)&&e.href.indexOf("main-cef-ui-theme.css")!==-1})},_updateCssSelectorStyle:function(e,t,n){if(this._ThemeStyleSheet){var r=this._ThemeStyleSheet,i=_.find(r.cssRules,function(t){return t.selectorText&&t.selectorText.toLowerCase()===e});_.isUndefined(i)||i.style.setProperty(t,n,"important")}},_getThemeNameFromIconSet:function(e){var t;return t=e.slice(0,e.toLowerCase().indexOf("icons")).toLowerCase(),t},_hasImageExtension:function(e){var t,n;t=[".png",".gif",".svg",".ico",".cur",".jpg"];for(n=0;n<t.length;++n)if(e.indexOf(t[n])>=0)return!0;return!1},_containsImageURL:function(e){return e.indexOf("url")>=0&&this._hasImageExtension(e)?!0:!1},_shouldURLbeChanged:function(e,t){if(e.indexOf("themeless")>-1)return!1;var n="/themes/dark/";return t=="dark"?e.indexOf(n)>-1?!1:!0:e.indexOf(n)>-1?!0:!1},_getContentOrBackground:function(e){var t,n,r;return t=undefined,_.isUndefined(e)||_.isUndefined(e.content)&&_.isUndefined(e.backgroundImage)?undefined:(n=e.content,r=e.backgroundImage,!_.isUndefined(r)&&this._containsImageURL(r)&&(t="backgroundImage"),!_.isUndefined(n)&&this._containsImageURL(n)&&(t="content"),t)},_processRule:function(e,t){var n,r,i,s,o,u;if(e.type===CSSRule.STYLE_RULE)r=e.style,n=this._getContentOrBackground(r),!_.isUndefined(n)&&!_.isUndefined(r)&&(i=r[n],t=="dark"?this._shouldURLbeChanged(i,t)&&(i=i.split("/"),i.splice(i.length-1,0,"themes",t),i=i.join("/"),r[n]=i):this._shouldURLbeChanged(i,t)&&(i=i.replace("/themes/dark",""),r[n]=i));else if(e.type===CSSRule.MEDIA_RULE){s=e.cssRules;for(u=0;u<s.length;++u)o=s[u],this._processRule(o,t)}else this._processStyleSheet(e.styleSheet,t)},_processStyleSheet:function(e,t){var n,r,i;if(_.isUndefined(e))return;try{n=e.cssRules}catch(s){}if(!_.isUndefined(n))for(r=0;r<n.length;++r){i=n[r];if(_.isUndefined(i))continue;this._processRule(i,t)}},_updateImageURLs:function(e){var t,n,r,i;if(_.isUndefined(e))return;r="light",i=this._getThemeNameFromIconSet(e);if(_.isUndefined(i)||_.isNull(i))return;t=document.styleSheets;for(n=0;n<t.length;++n)this._processStyleSheet(t[n],i)},_updateSkeletonPlaceholder:function(e){if(_.isUndefined(e))return;var t=this._getThemeNameFromIconSet(e);if(_.isUndefined(t)||_.isNull(t))return;var n="linear-gradient(270deg, #E1E1E1, #F5F5F5 50%, #E1E1E1)";t=="dark"&&(n="linear-gradient(270deg, #3E3E3E, #5C5C5C 50%, #393939)"),this._updateCssSelectorStyle(".ui-theme .placeholder-skeleton-theme","background",n),this._updateCssSelectorStyle(".ui-theme .placeholder-skeleton-theme","background-size","500px")},_updateProgressAnimationBackround:function(e){if(_.isUndefined(e))return;var t=this._getThemeNameFromIconSet(e);if(_.isUndefined(t)||_.isNull(t))return;var n="linear-gradient(270deg, #E1E1E1, #F5F5F5 50%, #E1E1E1)";t=="dark"&&(n="linear-gradient(270deg, #3E3E3E, #5C5C5C 50%, #393939)"),this._updateCssSelectorStyle(".ui-theme .progress-animation-background","background",n)}}),e.ApplyUIThemeIconsOp}),define("core/dev/ops/rna/f6-key-press-handler-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){return e.F6KeyPressHandlerOp=e.Op.extend({run:function(){var e={},t=this.options,n=t.isF6Consumed,r=t.shift;return this.options.appApi.rnaApi.done(_.bind(function(t){return e.isF6Consumed=n,e.shift=r,t.rnaServicesAPI.f6KeyHandled(e)},this))}}),e.F6KeyPressHandlerOp}),define("core/dev/ops/eurekaReview/eureka-upload-review-op",["core/ac-core","core/ops/op"],function(e){e.EurekaUploadReviewOp=e.Op.extend({run:function(){var t=$.Deferred();if(this.options.localFiles.length>0&&!_.isUndefined(this.options.localFiles[0])&&!this._isBHFile(this.options.localFiles[0])){var n=this.options.appApi.rnaApi;n.done(_.bind(function(e){e._reviewAPI.invoke("EurekaLogPerformance",["EurekaReviewInitiation UploadRunMethod"])}),this);var r,i,s,o=[],u=0,a=0,f={localFiles:this.options.localFiles};a=f.localFiles.length;for(i=0,s=f.localFiles.length;i<s;i+=1){this.options.file=f.localFiles[i],u=i,this.options=_.extend(this.options,{fileNo:u}),this._fileNo=this.options.fileNo;var l="unmanaged",c="";_.isUndefined(this.options.persistence)||this.options.persistence&&(l="managed"),_.isUndefined(this.options.parentID)||(c=this.options.parentID);var h=this.options.file,p="auto_rename",d=this._fileNo,v=c,l=l,m=_.extend(this.options,{rnaFile:h._proxy,uploadType:l,onDuplicateName:p,ignoreContentType:!0,fileNo:d,parentID:v,showBezel:!1,doNotUpdateRFL:!0,fauxModeInitiationCommentPage:this.options.fauxModeInitiationCommentPage,fauxModeInitiationCommentId:this.options.fauxModeInitiationCommentId}),g=e.opFactory.create("UploadingFileOp",m),y=g.run();y.then(_.bind(function(e){this._setAssetIdValue(e,this.options)},this),_.bind(function(e){console.log("Error in uploading"),t.reject(this.options)},this)),o.push(y)}return $.when.apply($,o).then(_.bind(function(e){this.options.appApi.rnaApi.done(_.bind(function(e){e.stApi.setSendTrackWorkflowInProgress(!1)},this)),t.resolve(this.options.assetIdVal)},this),_.bind(function(){this.options.appApi.rnaApi.done(_.bind(function(e){e.stApi.setSendTrackWorkflowInProgress(!1)},this)),t.reject()},this)),t}var b=this.options.localFiles[0];return _.isUndefined(b)?t.reject():this._isBHFile(b)&&t.resolve(b.get("assetId")),t},_setAssetIdValue:function(e,t){t.assetIdVal=e.sc_id;if(e.sc_id===undefined){var n=e.uri.split("/");n.length&&(t.assetIdVal=n[n.length-1])}},_isBHFile:function(e){return!_.isEmpty(e.get("assetId"))}})}),define("core/dev/ops/eurekaReview/finding-upload-folder-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){e.FindingUploadFolderOp=e.Op.extend({run:function(){if(!_.isUndefined(e.UploadIdentityFolder))return this.id=e.UploadIdentityFolder,_.isUndefined(e.UploadPersistenceFlag)||(this.persistence=e.UploadPersistenceFlag),$.Deferred().resolve(this).promise();var n,r,i,s,o=this.options;return n=e.baseFilesUrisModel.getSendApiUri()+"find_upload_folder",r="POST",i=t.getRequestHeaders(r),i["Content-Type"]="application/json",s=$.ajax(n,{modal:!1,type:r,headers:i,success:this._successHandler,failure:this._errorHandler}),s},_successHandler:function(t){this.id=t.id||$.parseJSON(t).id,this.persistence=t.persistence||$.parseJSON(t).persistence,_.isUndefined(this.id)||(e.UploadIdentityFolder=this.id),_.isUndefined(this.persistence)||(e.UploadPersistenceFlag=this.persistence)},_errorHandler:function(e,t,n){LOG.error("/find_upload_folder failed, called from FindingUploadFolderOp, textStatus="+t+", errorThrown="+n,{logServer:!0})}})}),define("core/dev/ops/eurekaReview/initiate-Review-op",["core/ac-core","core/utils/http-util","core/models/workflow-status-strings","core/ops/op"],function(e,t,n){e.InitiateReviewOp=e.Op.extend({run:function(){var e=this.options,n,r,i,s=_.clone(e.recipients),o,u,a,f,l;console.log(e.shareFiles),o=e.shareFiles.map(function(e){var t={id:e.id,name:e.name,content_type:e.content_type||"application/pdf",size:e.size};return t});var c=this.options.appApi.rnaApi;return c.done(_.bind(function(e){e._reviewAPI.invoke("EurekaLogPerformance",["EurekaReviewInitiation ReviewInitation Started"])}),this),e.is_public&&s.push("PARCEL_PUBLIC_SHARING"),n=e.rootUrl+"/a/api/parcels",r="POST",i={files:o,recipients:s,email_subject:e.email_subject,can_make_comments:e.can_make_comments,branding_enabled:e.is_branding},i=this._createReviewBody(e,i),u=JSON.stringify(i),a=t.getRequestHeaders(r),a["Content-Type"]="application/json",f=e.user_action_id,l=e.user_action_name,f&&(a["x-user-action-id"]=f,a["x-user-action-name"]=l,a["x-user-engagement"]="active"),this.options.parcelCreationPromise=$.Deferred(),$.ajax(n,{data:u,dataType:"json",success:_.bind(function(e,t,n){var r=this.options;this.options.fileCount=e.parcel.files.length+"";var i=e.parcel,s={},o=r.isView;if(i.review||o)s=this._createOpenReviewParamsFromParcelResponse(i,o);var u=!0;if(i.state==="ACTIVE"){var a=this.options.appApi.rnaApi;a.done(_.bind(function(e){e._reviewAPI.invoke("EurekaLogPerformance",["EurekaReviewInitiation ReviewInitation Successful"])}),this),u=!1,r.parcelid=i.parcel_id,this._openEurekaFileParcelGetsActive(r,e)}else u&&(this.options.pollCount=1,this.options.MAX_POLL_COUNT=50,this.options.openEurekaFileArgs=s,this.options.parcel_id=i.parcel_id,(r.is_review||o)&&setTimeout(_.bind(this._pollReviewParcel,this),2e3))},this),error:_.bind(function(e){this.options.code="Unknown";try{var t=JSON.parse(e.responseText);t!==undefined&&(this.options.code=t.error.code)}catch(n){}this.options.parcelCreationPromise.reject(this.options)},this),global:!1,headers:a,type:r}),this.options.parcelCreationPromise},_openEurekaFileParcelGetsActive:function(e,t){this._logData(e.parcel_id,e,"Success");if(e.is_review||e.isView)this.options.appApi.rnaApi.done(function(t){e.is_individual&&t.assetApi({methodName:"openEurekaFile",methodArgs:e.openEurekaFileArgs}),e.isView?(t.stApi.setLastSharePaneMode(0),t.stApi.UnifiedShareSuccess("view")):(t.stApi.setLastSharePaneMode(1),t.stApi.UnifiedShareSuccess("review"))}),this.options.parcelCreationPromise.resolve(t)},_createOpenReviewParamsFromParcelResponse:function(e,t){var n=0,r=this.options.isModalView==="true"?!0:!1,i={},s=this._gettingInitiatorInvitationId(e.invitations);return _.isUndefined(s)&&(s=e.parcel_id),s&&(t?i.isView=t?!0:!1:i.reviewUrl=e.review.url,i.invitationId=s,i.closeExistingDoc=!0,i.isNewlyCreatedReview=!0,i.closeShareModalView=r,this.options.is_individual&&(n=this.options.recipients.length),i.numReviewers=n,i.uuidForFauxMode=this.options.uuidForFauxMode),i},_pollReviewParcel:function(){var e,n,r,i=this.options.parcel_id;e=this.options.rootUrl+"/a/api/parcels/"+i,n="GET",r=t.getRequestHeaders(n),$.ajax(e,{dataType:"json",success:_.bind(function(e,t,n){var r=this.options;if(e.parcels[0].state==="ACTIVE"){var i=this.options.appApi.rnaApi;i.done(_.bind(function(e){e._reviewAPI.invoke("EurekaLogPerformance",["EurekaReviewInitiation ReviewInitation Successful"]),e._reviewAPI.invoke("logEurekaEvent",["Eureka","Success",r.reviewSource])}),this);var s={};s.parcel=e.parcels[0],this._openEurekaFileParcelGetsActive(r,s)}else if(e.parcels[0].state==="PENDING"&&r.pollCount<=r.MAX_POLL_COUNT)r.pollCount++,setTimeout(_.bind(this._pollReviewParcel,this),2e3);else{var i=this.options.appApi.rnaApi;i.done(_.bind(function(e){e._reviewAPI.invoke("EurekaLogPerformance",["EurekaReviewInitiation ReviewInitation Failed"])}),this);var o,u;try{o=e.error.code}catch(a){}if(_.isUndefined(o))try{o=e.parcels[0].reason_for_failed_state}catch(a){}this.options.code=o,this.options.parcelCreationPromise.reject(this.options)}},this),error:_.bind(function(e){this.options.code="Unknown",this.options.parcelCreationPromise.reject(this.options)},this),global:!1,headers:r,type:n})},_createReviewBody:function(e,t){e.email_message&&(t.email_message=e.email_message),e.respond_back_options_enabled&&(t.include_message=!0,t.respond_back=e.respond_back);if(e.is_review){t.can_make_comments=!0;var n=e.deadline,r=e.reminder,i={};n=n?n.toISOString():"",r=r?r.toISOString():"",n!==""&&(i.deadline_date=n),r!==""&&(i.reminder_dates=[r]),t.review={review_info:i}}return t},_computeSharingType:function(e,t){var n="";return n+=t?"Personalized":"Public",n+=" - ",n+=e?"Can Comment":"Can View Only",n},_gettingInitiatorInvitationId:function(e){var t;if(this.options.appApi.sessionApi.isSignedIn()){var n=this.options.appApi.usersMeApi.getUserIdentity().email;_.isUndefined(n)||$.each(e,function(e,r){if(r.recipient_email===n||r.is_public)return t=r.invitation_id,t})}return t},_logData:function(e,t,n,r){var i={};i.Status=n,n==="Success"?(_.isUndefined(e)||(i.parcelid=e),i.CountFileAdded=this.options.fileCount,i.CountUserAdded=t.is_individual?t.recipients.length+"":"NA",i.Source=t.reviewSource):(i.ErrorCode=r.status+"",i.ErrorMessage=r.responseText),i.SharingType=this._computeSharingType(t.is_review,t.is_individual),t.ShareVariant&&(i.ShareVariant=t.ShareVariant),this.options.appApi.rnaApi.done(_.bind(function(e){var t={methodName:"logUnifiedShareSenderData",methodArgs:[i]};e.stApi.invokeMethod(t)},this))}})}),define("core/dev/ops/eurekaReview/validate-and-upload-review-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){e.ValidateAndUploadReviewOp=e.Op.extend({run:function(){var t=$.Deferred(),n,r,i,s,o,u,a,f=[],l,c,h,p,d,v,m,g,y,b,w;return this.options.validateAndUploadOp=$.Deferred(),localFiles=[],a&&(f=this.options.recipients,y=!1),n={localFiles:localFiles,recipients:this.options.recipients,is_public:this.options.isPublic,is_individual:this.options.isIndividual,can_make_comments:y,email_subject:this.options.subjectTextTrimmed,email_message:this.options.messageText,displayApi:this.options.appApi.displayApi,appApi:this.options.appApi,rootView:this.options.rootView,is_branding:h,is_review:this.options.isReview,fileValidateAndUploadPromise:t},r=_.extend({},{localFilesBackup:localFiles}),n=_.extend({},n,{recipientsAreFinalized:!0}),p=_.bind(function(){var n,r,i=this.options;console.log("Validate&upload"),n=new e.EurekaUploadReviewOp(i),m=new e.FindingUploadFolderOp(i),r=_.bind(function(){i.parentId=m.id,_.isUndefined(m.persistence)||(i.persistence=m.persistence);var e=this.options.appApi.rnaApi;e.done(_.bind(function(e){e._reviewAPI.invoke("EurekaLogPerformance",["EurekaReviewInitiation StartingUpload"])}),this),n.run().then(_.bind(function(e){var n=this.options.appApi.rnaApi;n.done(_.bind(function(e){e._reviewAPI.invoke("EurekaLogPerformance",["EurekaReviewInitiation UploadingFinished"])}),this),i.shareFiles=[{id:e,name:this.options.localFiles[0].get("name"),content_type:"application/pdf",size:this.options.localFiles[0].get("size")}],console.log("UploadSuccessful"),t.resolve(i)},this),_.bind(function(){t.reject(this.options);var e=this.options.appApi.rnaApi;e.done(_.bind(function(e){e._reviewAPI.invoke("EurekaLogPerformance",["EurekaReviewInitiation Uploading Failed"])}),this),console.log("Upload failed")},this))},this),localFiles.length?m.run().then(r,_.bind(function(){t.reject(this.options);var e=this.options.appApi.rnaApi;e.done(_.bind(function(e){e._reviewAPI.invoke("EurekaLogPerformance",["EurekaReviewInitiation FindingUploadFolderFailed"])}),this)},this)):r()},this),d=_.bind(function(e){if(!e)p();else{var t=this.options.limitsModel.get("restrictions_white_list");if($.inArray("all",t)!==-1)p();else if($.inArray("none",t)===-1){var n=this.options.recipients,r=_.find(n,function(e){var n=e.split("@").pop();return $.inArray(n,t)===-1?!0:!1});!_.isUndefined(r)||p()}}},this),this.options=_.extend({},this.options,n),this.options.appApi.rnaApi.done(_.bind(function(r){r._reviewAPI.invoke("GetUploadReviewFileObj",this.options.uuidForFauxMode).then(_.bind(function(r){if(_.isUndefined(r)){t.reject(this.options);return}var i=new e.LocalItemModel(undefined,{_proxy:r});this.options.localFiles.push(i);if(e.Util.isCEF()){if(!this.options.appApi.networkConnectivityApi.isOnline()){t.reject(this.options);return}this.options.appApi.sessionApi.ensureSignedIn().then(_.bind(function(){setTimeout(_.bind(function(){this._resolveRecipientsAddressesList(this.options.recipients).always(_.bind(function(){var e=this.options.appApi.baseFilesUrisApi.getAlternateUploadUri(),t=this.options.appApi.baseFilesUrisApi.getSendApiUri(),r=document.createElement("a");r.href=t,t=r.protocol+"//"+r.host,n={rootUrl:t,uploadUrl:e},this.options=_.extend({},this.options,n),this.options.readRegistry=!1;var i=!1;d(i)},this))},this),100)},this),_.bind(function(e){var n=this.options.appApi.rnaApi;n.done(_.bind(function(e){e._reviewAPI.invoke("EurekaLogPerformance",["EurekaReviewInitiation SignInFailed"])}),this),t.reject(this.options)},this))}},this),_.bind(function(e){t.reject(this.options)},this))},this)),t},_resolveRecipientsAddressesList:function(e){return this.options.appApi.rnaApi.done(_.bind(function(t){if(_.isUndefined(e)||e.length===0)return this._getResolvedPromise();var n=this.options.recipients;return t.stApi.getLastUsedPreferences().then(_.bind(function(r){return r&&r.remeberChoice==1?this._getResolvedPromise():t.stApi.getResolvedEmailAddressesListAPI(e).then(_.bind(function(e){var t,r;return e.length===0?$.Deferred().reject().promise():(t=e.split(";"),t.pop(),this.options.recipients=[],t.every(_.bind(function(e){return e.indexOf("@")!==-1?(this.options.recipients.push(e),!0):(this.options.recipients=n,!1)},this)),$.Deferred().resolve().promise())},this),_.bind(function(e){return $.Deferred().reject().promise()},this))},this),_.bind(function(){return $.Deferred().reject().promise()},this))},this))}})}),define("core/dev/ops/uss/uss-searching-dc-asset-op",["core/ac-core","core/utils/http-util","core/utils/util","core/ops/op"],function(e,t,n){var r={};return e.USSSearchingDCAssetOp=e.Op.extend({run:function(e){var r=this.options,i,s,o,u,a=r.query,f=r.parentId,l=$.Deferred();console.log(window);if(Ac.discoveryUrisModel){var c=Ac.discoveryUrisModel.getUSSUrlsAndUserInfo();r.SCserverURL=c.SCUrl,r.ACPserverURL=c.ACPUrl,r.isACPuser=c.isACPUser}u="POST",r.isACPuser?(i=this._requestBodyForACPServer(r),s=r.ACPserverURL):(i=this._requestIdBodyForSCServer(r),s=r.SCserverURL),f&&_.extend(i,{container:{asset_id:[f]},parent_id:[f]}),o=JSON.stringify(i),o=n.compressQuestionMarks(o);var h={op:this};return r.appApi.networkApi.throttledAjax(s,{type:u,headers:t.getUSSRequestHeaders(),context:h,data:o,dataType:"json",global:!1}).then(_.bind(function(e){var t,n=!1;e&&e.result_sets&&e.result_sets.length>0&&_.each(e.result_sets[0].items,_.bind(function(e){e.asset_name==r.query&&(t=e,n=!0)},this)),n?l.resolve(t):l.reject()},this)),l},_requestBodyForACPServer:function(e){var t={q:e.query,scope:["creative_cloud"],op_none_of:[{"api:metadata/application$$shell:visibility":["hiddenSelf","hiddenRecursive"]},{"app_metadata$$project:directoryType":"team"},{op_field_exists:["app_metadata$$cc:inherited$$cc:team","app_metadata$$review:sourceAsset$$dc:format"]}],creative_cloud_toplevel_collection_name:"cloud-content",hints:[{enable_content_search:!1}],limit:1,asset_id_opacity:!0};return e.fileOnly&&_.extend(t,{creative_cloud_asset_type:["asset"]}),e.folderOnly&&_.extend(t,{creative_cloud_asset_type:["collection"]}),e.includeCustomMetadata&&_.extend(t,{fetch_fields:{includes:["collab_metadata.collaborators","collab_metadata.shared_by"]}}),t},_requestIdBodyForSCServer:function(e){var t=[],n={q:e.query,fetch_fields:{includes:["asset_list","participant_list"]},subscope:["document_cloud"],limit:1};return e.fileOnly&&_.extend(n,{document_cloud_asset_type:["asset"]}),e.folderOnly&&_.extend(n,{document_cloud_asset_type:["collection"]}),_.extend(n,{scope:["document_cloud"]}),_.extend(n,{hints:[{document_cloud_enable_content_search:!1}]}),n}}),e.USSSearchingDCAssetOp}),define("core/dev/ops/op-factory",["core/ac-core","core/ops/connectors/adding-connector-op","core/ops/connectors/adding-connector-plugin-op","core/ops/connectors/instantiating-connectors-by-cohort-op","core/ops/connectors/instantiating-connectors-op","core/ops/connectors/instantiating-one-connector-op","core/ops/connectors/removing-connector-op","core/ops/connectors/removing-connector-plugin-op","core/ops/connectors/removing-connector-plugins-op","core/ops/creating/creating-folder-op","core/ops/dialogs/renaming-item-from-dlg-op","core/ops/dialogs/showing-move-dlg-op","core/ops/dialogs/showing-quota-warning-dlg-op","core/ops/dialogs/showing-rename-dlg-op","core/ops/downloading/downloading-asset-if-exists-op","core/ops/downloading/downloading-asset-op","core/ops/downloading/downloading-form-op","core/ops/downloading/downloading-zip-op","core/ops/downloading/downloading-zip-start-op","core/ops/getting/getting-asset-metadata-op","core/ops/getting/getting-base-cloud-uris-op","core/ops/getting/getting-base-files-uris-op","core/ops/getting/getting-discovery-resp-op","core/ops/getting/getting-common-limits-op","core/ops/getting/getting-connectors-ui-helpers-op","core/ops/getting/getting-desktop-fetching-autocomplete-list-op","core/ops/getting/getting-document-cloud-storage-info-op","core/ops/getting/getting-download-ticket-op","core/ops/getting/getting-folder-items-op","core/ops/getting/getting-folder-metadata-op","core/ops/getting/getting-system-folder-metadata-op","core/ops/getting/getting-folder-op","core/ops/getting/getting-folder-path-op","core/ops/getting/getting-root-op","core/ops/getting/getting-site-catalyst-base-file-op","core/ops/getting/getting-sso-uri-op","core/ops/getting/getting-storage-quota-op","core/ops/getting/getting-system-folders-op","core/ops/getting/getting-users-me-cohorts-op","core/ops/listening/listening-for-key-events-op","core/ops/listening/listening-for-focus-events-op","core/ops/manipulation/add-participant-op","core/ops/manipulation/deleting-existing-dup-op","core/ops/manipulation/deleting-form-op","core/ops/manipulation/deleting-item-op","core/ops/manipulation/deleting-selection-if-confirmed-op","core/ops/manipulation/deleting-selection-op","core/ops/manipulation/moving-item-op","core/ops/manipulation/moving-items-op","core/ops/manipulation/renaming-added-dup-op","core/ops/manipulation/starring-dc-file-op","core/ops/manipulation/renaming-item-op","core/ops/manipulation/setting-asset-metadata-op","core/ops/manipulation/unshare-review-op","core/ops/manipulation/unsharing-review-parcel-if-confirmed-op","core/ops/misc/checking-storage-quota-on-startup-op","core/ops/misc/handling-collection-render-begin-op","core/ops/misc/handling-collection-render-end-op","core/ops/misc/loading-framework-version-op","core/ops/misc/sending-log-event-op","core/ops/misc/validating-base-uris-op","core/ops/misc/validating-name-op","core/ops/misc/send-chunk-data-to-native-op","core/ops/notifications/creating-notifications-endpoints-op","core/ops/notifications/enabling-folder-notifications-op","core/ops/notifications/getting-folder-notifications-op","core/ops/notifications/stopping-notifications-op","core/ops/pgc/accepting-new-pgc-suggestion-op","core/ops/pgc/accepting-pgc-suggestions-op","core/ops/pgc/getting-pgc-suggestions-op","core/ops/microsoftGraph/microsoft-graph-outlook-contacts-op","core/ops/plugins/executing-plugins-predownload-op","core/ops/plugins/instantiating-plugin-op","core/ops/plugins/instantiating-selector-op","core/ops/plugins/loading-module-op","core/ops/plugins/loading-plugin-list-op","core/ops/plugins/loading-plugin-op","core/ops/plugins/loading-plugins-op","core/ops/plugins/loading-selection-actions-op","core/ops/plugins/selecting-plugin-op","core/ops/plugins/selecting-selection-action-item-op","core/ops/preview/getting-hover-preview-metadata-op","core/ops/preview/getting-rhp-folder-child-counts-op","core/ops/preview/getting-rhp-preview-metadata-op","core/ops/selection/clearing-selection-op","core/ops/selection/selecting-collection-item-op","core/ops/session/deleting-session-op","core/ops/session/refreshing-session-initially-op","core/ops/session/refreshing-session-later-op","core/ops/session/refreshing-session-op","core/ops/session/rna-refreshing-session-op","core/ops/session/starting-session-op","core/ops/session/rna-starting-session-op","core/ops/session/starting-susi-session-op","core/ops/session/stopping-session-op","core/ops/sharing/sharing-item-op","core/ops/rna/creating-window-op","core/ops/rna/downloading-file-op","core/ops/rna/initializing-cef-op","core/ops/rna/initializing-pdm-op","core/ops/rna/initializing-reader-op","core/ops/rna/launch-footer-url-in-browser-op","core/ops/rna/listening-for-actions-op","core/ops/rna/listening-for-connector-events-op","core/ops/rna/listening-for-file-download-progress-op","core/ops/rna/listening-for-file-upload-progress-op","core/ops/rna/listening-for-stop-file-upload-op","core/ops/rna/opening-doc-in-reader-op","core/ops/rna/opening-shared-doc-in-reader-op","core/ops/rna/updating-originalshare-asseturn-op","core/ops/rna/shared-file-bootstrap-op","core/ops/rna/opening-doc-in-pdm-op","core/ops/rna/save-as-file-op","core/ops/rna/uploading-file-op","core/ops/rna/apply-ui-theme-icons-op","core/ops/rna/f6-key-press-handler-op","core/ops/eurekaReview/eureka-upload-review-op","core/ops/eurekaReview/finding-upload-folder-op","core/ops/eurekaReview/initiate-Review-op","core/ops/eurekaReview/validate-and-upload-review-op","core/ops/uss/uss-searching-dc-asset-op"],function(e){return e.OpFactory=e.Op.extend({create:function(t,n){var r=e[t];if(!!r)return new r(n);LOG(0,"AcCore.OpFactory.create: Unrecognized class: "+t)}}),e.OpFactory}),define("core/dev/ac-core-init",["core/ac-core","core/utils/util","core/ac-core-config","core/collections/ui/ui-collection-factory","core/collections/collection-factory","core/models/model-factory","core/models/ui/ui-model-factory","core/models/rna/rna-model-factory","core/collections/rna/rna-collection-factory","core/ops/op-factory"],function(e,t){return _.extend(e,{Locale:Ac.Locale,Features:Ac.Features,uiCollectionFactory:new e.UiCollectionFactory,collectionFactory:new e.CollectionFactory,modelFactory:new e.ModelFactory,uiModelFactory:new e.UiModelFactory,opFactory:new e.OpFactory}),t.isCEF()&&(_.extend(e,{rnaModelFactory:new e.RNAModelFactory,rnaCollectionFactory:new e.RNACollectionFactory}),e.Config.APP_NAME="Adobe Acrobat/Reader"),e}),define("core/dev/templates/search-field-template",[],function(){return'<div class="search-field-container ui-theme theme-container" role="search">    <input id="search-field-<%= viewId %>" class="search-field ui-theme theme-text"           type="text" spellcheck="false"           data-test-name="search-field"           placeholder="<%= enterKeyword %>"           title="<%= search %>" /></div>'}),define("core/dev/views/input-placeholder-view",["core/ac-core","core/views/view"],function(e){e.InputPlaceholderView=e.View.extend({events:{focus:"_onFocus",blur:"_onBlur"},initialize:function(){e.View.prototype.initialize.call(this),this._placeholder=this.$el.attr("placeholder"),this._isPromptEnabled=!0},getText:function(){return this.$el.val()},setText:function(e){this.$el.val(e)},hasText:function(){return this.getText().length>0},enablePrompt:function(e){return this._isPromptEnabled=e,this._hidePlaceholder(!e||this._hasFocus()),this},_hidePlaceholder:function(e){e||!this._isPromptEnabled?this.$el.removeAttr("placeholder"):this.$el.attr("placeholder",this._placeholder)},_onKeyUp:function(){return this.hasText()?this._hidePlaceholder(!1):this._hidePlaceholder(this._hasFocus()),!1},_onFocus:function(){this.hasText()||this._hidePlaceholder(!0)},_onBlur:function(){this._hidePlaceholder(!1)}})}),define("core/dev/views/input-search-view",["core/ac-core","core/utils/string-util","core/utils/view-util","core/utils/util","core/utils/sc-analytics","core/views/input-placeholder-view"],function(e,t,n,r,i){e.InputSearchView=e.InputPlaceholderView.extend({options:{clearOnEsc:!0},initialize:function(){e.InputPlaceholderView.prototype.initialize.call(this),this._oldText="",this._addDomEventListeners(),this._addKeyEventListener()},clearText:function(e){return this.$el.val(""),(!e||!e.silent)&&this._commitTextOnlyIfChanged(),this},commitText:function(){this._commitTextQueryBox()},_commitText:function(n,r){var s=$.trim(n),o=" ",u,a,f,l=this.options.searchField;if(t.beginsWithQuote(s)){if(s.length===1)return;if(this._unmatchedOpenQuote)return}t.isQuoted(s)?(s=t.stripQuotes(s),r=!0):this._unmatchedOpenQuote||(u=s.indexOf(o),u>0&&(a=s.split(o),s=a[0],r=!0,f=a[1],this.setText(f))),r&&!f&&this.clearText({silent:!0}),r&&this._logSiteCatalystEvent([i.SEARCH_TEXT_ENTERED]),this._triggerViewEvent(e.ViewEvents.ADD_SEARCH_FIELD_QUERY,{searchFieldQuery:{field:l,value:s,commitQueryBox:r,queryLabel:s}}),f&&this._triggerViewEvent(e.ViewEvents.ADD_SEARCH_FIELD_QUERY,{searchFieldQuery:{field:l,value:f,commitQueryBox:!1,queryLabel:f}})},_commitTextIfChanged:function(e,t){var n=this.getText(),r;if(n!==this._oldText||e)this._unmatchedOpenQuote&&(r=String.fromCharCode(this._unmatchedOpenQuote),n.indexOf(r)<0&&delete this._unmatchedOpenQuote),this._oldText=n,this._commitText(n,t)},_commitTextOnlyIfChanged:function(){this._commitTextIfChanged(!1,!1)},_commitTextQueryBox:function(){this._commitTextIfChanged(!0,!0)},_isQuotedString:function(e){var n=e.charCodeAt(0),r=e.charCodeAt(e.length-1);return t.isQuoteCharCode(n)&&n===r},_addDomEventListeners:function(){this.$el.on("paste",this._onPaste)},_onPaste:function(){var e=this.$el,t=this.getText(),r,i;_.defer(_.bind(function(){if(!t||n.isAllTextSelected(e))r=$.trim(this.getText()),i=this.options.searchUiModel.get("max_paste_length"),r.length>i&&(r=r.substr(0,i)),this._isQuotedString(r)?this._commitText(r,!0):r.indexOf(" ")>0&&this._commitText('"'+r+'"')},this))},_onKeyDown:function(t){var i=!1,s=t.which,o=this.options.appApi,u=o.usersMeApi;return n.descendantHasFocus(this.$el)?(s===8?this.hasText()||((this.options.appApi.selectionApi.isRunningInFileSelection()||r.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs())&&this._triggerViewEvent(e.ViewEvents.REMOVE_LAST_FIELD_QUERY),i=!0):s===9?this.hasText()&&(this._consumeEvent(t),this._commitTextQueryBox(),i=!0):s===13?(this.hasText()&&t.stopImmediatePropagation(),r.isIE()&&(this._consumeEvent(t),this.hasText()&&this._commitTextQueryBox()),i=!0):!r.isCEF()&&e.Features.isFeatureEnabled("javascript_console_logging")&&(this.hasText()||s===32&&(t.shiftKey?this.options.appApi.siteCatalystApi.toggleConsoleLogging():t.ctrlKey&&(u.setUserPrefs("common",{}),u.setUserPrefs("files",{}),LOG("AcCore.InputSearchView._onKeyDown: Cleared 'common' and 'files' preferences")))),i):i},_onKeyPress:function(e){var r=!1,i=e.which,s;return n.descendantHasFocus(this.$el)?(i===13?(this._commitTextQueryBox(),r=!0):t.isQuoteCharCode(i)&&(s=this._unmatchedOpenQuote,s&&this.getText().charCodeAt(0)===s?s===i&&(delete this._unmatchedOpenQuote,this._commitQueryBoxOnKeyUp=!0,r=!0):this._unmatchedOpenQuote=i),r):r},_onKeyUp:function(t){var r=!1,i=t.which;return n.descendantHasFocus(this.$el)?(r=e.InputPlaceholderView.prototype._onKeyUp.call(this,t),r?r:(this._onDebouncedKeyUp||(this._onDebouncedKeyUp=_.debounce(_.bind(function(){this._commitTextOnlyIfChanged()},this),this.options.searchUiModel.get("keydown_debounce_delay"))),i===27?this.options.clearOnEsc&&(this.clearText(),r=!0):i===32?!this._unmatchedOpenQuote&&e.Locale.getLocale()!=="ja-jp"&&(this._commitTextQueryBox(),r=!0):this._commitQueryBoxOnKeyUp?(this._commitTextQueryBox(),this._commitQueryBoxOnKeyUp=!1):this._onDebouncedKeyUp(t),r)):r}})}),define("core/dev/views/search-field-view",["core/ac-core","core/templates/search-field-template","i18n!core/nls/ui-strings","core/utils/util","core/utils/view-util","core/views/view","core/views/input-search-view"],function(e,t,n,r,i){return e.SearchFieldView=e.View.extend({events:{"click   .search-field":"_onSearchFieldClick","keydown .search-field":"_onSearchFieldKeyDown"},initialize:function(){e.View.prototype.initialize.call(this),this._addAppApiCallbacks()},render:function(){var r=this.$el,s=this.$item;e.View.prototype.render.call(this);if(!s||!i.contains(r,s))r.append(_.template(t)({enterKeyword:n.ENTER_KEYWORD,search:n.SEARCH,viewId:this.options.viewId})),s=this.$item=r.children().last(),this._initWrappers();this._minimizeInputFieldWidth(),this._renderChildViews(),this._updateControls(),this._maximizeInputFieldWidth()},empty:function(){return this.$item.empty(),this},detach:function(){return this.$item.detach(),this},_initWrappers:function(){this.$searchFieldCn=this.$(".search-field-container"),this.$searchField=this.$(".search-field")},_renderChildViews:function(){this._renderChildView("_searchFieldView",e.InputSearchView,this.$searchField,{searchField:e.SearchUiModel.FIELD_ALL})},_updateControls:function(){var e=this.options,t=e.appApi.acrobatApi,n=this._searchFieldView,r=this.$searchFieldCn;e.searchUiModel.hasRemovableFieldQueries()?(n.enablePrompt(!1),r.removeClass("prompt")):(n.clearText().enablePrompt(!0),r.addClass("prompt")),t.isInAcrobat()&&t.isFolderSelectionMode()&&(this.$el.addClass("disabled"),i.enableInput(this.$searchField,!1))},_minimizeInputFieldWidth:function(){var e=this.$searchFieldCn;e.css("width",e.css("min-width"))},_maximizeInputFieldWidth:function(){var e=this.$searchFieldCn,t=e.position();if(!t)return;e.width(e.parent().width()-t.left-1)},_onSearchFieldClick:function(){var t=e.ViewEvents;this._triggerViewEvent(t.SEARCH_FIELD_CLICKED),r.isCEF()&&this._triggerViewEvent(t.CLEAR_SELECTION)},_onSearchFieldKeyDown:function(t){var n=t.which,r=e.Features,i,s,o;t.shiftKey&&(n===121?r.isFeatureEnabled("test_http_error_ui")&&(this._consumeEvent(t),this._isTestHttpErrorUiMode=!0):n===117&&r.isFeatureEnabled("test_idle_timeout")&&(this._consumeEvent(t),this._isTestIdleTimeoutMode=!0));if(this._isTestHttpErrorUiMode){n===13&&(i=$.trim(this.$searchField.val()),i.length>0&&(s=i.split(","),_.each(s,_.bind(function(e){var t,n,r,i,s;n=/\(\w+\)/.exec(e),n&&n.length>0&&(r=n[0],t=r.substr(1,r.length-2)),i={error:{code:t}},s={status:parseInt($.trim(e),10),responseText:JSON.stringify(i)},this.options.appApi.errorApi.enqueueAjaxError(s)},this))),this.$searchField.val(""),this._isTestHttpErrorUiMode=!1);return}if(this._isTestIdleTimeoutMode){if(n===13){i=$.trim(this.$searchField.val()),o=i.length>0?parseInt(i,10):0;if(isNaN(o)||o<0)o=0;this.options.appApi.inactivityApi.setIdleTimeout(o),this.$searchField.val(""),this._isTestIdleTimeoutMode=!1}return}},_addAppApiCallbacks:function(){var e=this.options.appApi;e.windowApi.addWindowResizeCallback(this._onWindowResize),e.previewApi.addItemModelChangeCallback(this._onItemModelChange)},_onWindowResize:function(){this._maximizeInputFieldWidth()},_onItemModelChange:function(e){var t=this.$searchField;e&&i.hasFocus(t)&&t.blur()}}),e.SearchFieldView}),define("core/dev/views/plugins-content-view",["core/ac-core","core/views/view"],function(e){e.PluginsContentView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this)},render:function(){var t=this.$el,n,r,i=this.options,s=i.appApi.pluginsApi,o=i.pluginsUiModel,u=o.get("plugins"),a,f,l,c,h=o.get("no_selectors");e.View.prototype.render.call(this),n=_.template(this._getContentTemplate()),t.children().length===0&&(u&&u.each(function(e){t.append(n()),f=e.id,c=s.getPluginSelectorId(f),r=t.children().last(),r.attr({id:f+"-plugin","aria-labelledby":c}).data("id",f),e.set("content_elem",r)}),this._initWrappers(),h&&(this.$contents.addClass("selected no-selectors"),u.each(function(e){s.selectPlugin(e.id)})),this._addUiModelEventListeners()),this.$contents||this._initWrappers(),h?(l=o.get("expanded_plugin_id"),l?u.each(function(e){r=e.get("content_elem"),l===e.id?r.show():r.hide()}):u.each(function(e){e.get("content_elem").show()})):(this.$contents.removeClass("selected"),f=o.getSelectedId(),a=u.get(f),a&&a.get("content_elem").addClass("selected"))},_getContentTemplate:function(){LOG(0,"AcCore.PluginsContentView._getContentTemplate must be overridden by subclass")},_addUiModelEventListeners:function(){var e=this.options.pluginsUiModel;this.listenTo(e,"change:expanded_plugin_id",this._onExpandedPluginIdChange),this.listenTo(e.get("plugins"),"add",this._onPluginAdd),this.listenTo(e.get("plugins"),"remove",this._onPluginRemove)},_onExpandedPluginIdChange:function(){this.render()},_onPluginAdd:function(e){var t=this.$el,n,r;r=_.template(this._getContentTemplate()),_.isUndefined(e.get("content_elem"))&&(t.append(r()),n=t.children().last(),n.attr("id",e.id+"-plugin"),e.set("content_elem",n),this._initWrappers(),this.render())},_onPluginRemove:function(e){e.get("content_elem").remove(),this._initWrappers(),this.render()},_initWrappers:function(){this.$contents=this.$el.children(".plugin-content")}})}),define("core/dev/views/plugin-view",["core/ac-core","core/views/view"],function(e){return e.PluginView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this)},getAppApiVersion:function(){return"dev"},setAppApi:function(e){this.options.appApi=e},getPluginApiVersion:function(){return""},getPluginVersionList:function(){return $.Deferred().resolve().promise(["Not implemented"])},initPlugin:function(){return this._getResolvedPromise()},selectPlugin:function(){return LOG(0,"AcCore.PluginView.selectPlugin must be implemented by subclass"),this._getResolvedPromise()},deselectPlugin:function(){return undefined},setPluginOptions:function(e){this._pluginOptions=e},getPluginOptions:function(){return this._pluginOptions},getPreferences:function(){return undefined},setPreferences:function(){return undefined},getSelectionUiModel:function(){return undefined},removeStatusHistory:function(){return undefined},releasePlugin:function(){this.applyMethodRecursively("stopListening"),this.applyMethodRecursively("_removeKeyEventListener"),this.removeAllChildViews()},getSiteCatalystName:function(){return LOG(0,"AcCore.PluginView.getSiteCatalystName must be implemented by subclass"),""},setPreviewEls:function(e){this.options.previewEls=e},runPreDownloadOp:function(){return this._getResolvedPromise()},getFilesFooterUrl:function(){return this._getResolvedPromise()},doesFileExists:function(e){return undefined}}),e.PluginView}),define("core/dev/views/plugin-selector-view",["core/ac-core","core/views/plugin-view"],function(e){return e.PluginSelectorView=e.PluginView.extend({initialize:function(){e.PluginView.prototype.initialize.call(this)},render:function(){var t=this.$el;return e.PluginView.prototype.render.call(this),this.$item||(t.append(this.options.template({label:this.getSelectorLabel(),title:this.getSelectorTooltip()})),this.$item=t.children().last(),this.$item.find(".plugin-selector-icon").addClass(this.getSelectorIconClass()),this.$item.find(".rhp-action-label").attr("title",this.getSelectorTooltip())),this},getSiteCatalystName:function(){return LOG(0,"AcCore.SelectorView.getSiteCatalystName must be implemented by subclass"),""},setTemplateFunction:function(e){return this.options.template=e,this},setSelectorLabel:function(e){this._label=e},setToolTip:function(e){this._tooltip=e},getSelectorLabel:function(){return this._label||""},getSelectorIconClass:function(){return""},getSelectorTooltip:function(){return this._tooltip||""},setRemovable:function(e){this._removable=e},isRemovable:function(){return this._removable===!0},showSelector:function(e){var t=this.$item;if(!t)return;e?t.show():t.hide()}}),e.PluginSelectorView}),define("core/dev/views/account-menu-item-view",["core/ac-core","core/views/plugin-selector-view"],function(e){return e.AccountMenuItemView=e.PluginSelectorView.extend({initialize:function(){e.PluginSelectorView.prototype.initialize.call(this),LOG.warn("'core/views/account-menu-item-view' is deprecated. Use 'core/views/plugin-selector-view' instead.")}}),e.AccountMenuItemView}),define("core/dev/templates/collection-virgo-header-thumbnail-template",[],function(){return'<div id="virgo-files-sort-menu-thumbnail" class="files-sort-menu virgo-files-sort-menu shared-files-sort-menu menu ui-theme dropdown-background-theme dropdown-border-theme menu ui-theme theme-container" role="menu"></div><div role="columnheader">    <div role="checkbox"         class="review-list-header-checkbox virgoHeaderThumbnailCheckbox                review-list-item-checkbox"         id = "virgoHeaderCheckbox"               tabindex="0"         aria-checked="false"></div></div><div role="presentation" class=" collection-header-info-container ui-theme theme-container">    <div role="columnheader"            class="collection-header-column-header collection-header-virgo-column-header name-virgo-header"         data-test-name="collection-header-name" id = "nameThMenu"><div class = "sortedBy sortedByOne collection-header-virgo-column-title theme-virgo-header-text"> <%= sortedBy %></div>        <div class="collection-header-column-title name-header collection-header-virgo-column-title workflow-files-header-column-sort-text-theme" tabindex="-1" title = "<%= name %>" aria-label = "<%= name %>"><%= name %></div>        <div class="collection-header-column-sort collection-header-virgo-column-header name-sort virgo-sort virgo-sort-thumbnail hidden" tabindex = "-1"             data-test-name="collection-header-name-sort"></div>    </div>    <div role="columnheader"            class="collection-header-column-header collection-header-virgo-column-header size-virgo-header"         data-test-name="collection-header-size" id = "sizeThMenu"><div class = "sortedBy collection-header-virgo-column-title theme-virgo-header-text"> <%= sortedBy %></div>        <div class="collection-header-column-title size-header collection-header-virgo-column-title workflow-files-header-column-sort-text-theme" tabindex="-1" title = "<%= size %>" aria-label = "<%= size %>"><%= size %></div>        <div class="collection-header-column-sort collection-header-virgo-column-header virgo-sort size-sort virgo-sort-thumbnail hidden" tabindex = "-1"             data-test-name="collection-header-size-sort"></div>    </div>    <div role="columnheader"            class="collection-header-column-header collection-header-virgo-column-header date-virgo-header"        data-test-name="collection-header-date" id = "dateThMenu"><div class = "sortedBy collection-header-virgo-column-title theme-virgo-header-text"> <%= sortedBy %></div>        <div class="collection-header-column-title date-header collection-header-virgo-column-title workflow-files-header-column-sort-text-theme" tabindex="-1"></div>        <div class="collection-header-column-sort virgo-sort collection-header-virgo-column-header date-sort virgo-sort-thumbnail hidden" tabindex = "-1"             data-test-name="collection-header-date-sort"></div>    </div>    <div role="columnheader"            class="collection-header-column-header collection-header-virgo-column-header type-virgo-header"        data-test-name="collection-header-date" id = "typeThMenu">   <div class = "sortedBy collection-header-virgo-column-title theme-virgo-header-text"> <%= sortedBy %></div>        <div class="collection-header-column-title type-header collection-header-virgo-column-title workflow-files-header-column-sort-text-theme" tabindex="-1" title = "<%= type %>" aria-label = "<%= type %>"><%= type %></div>        <div class="collection-header-column-sort virgo-sort collection-header-virgo-column-header type-sort virgo-sort-thumbnail hidden" tabindex = "-1"             data-test-name="collection-header-type-sort"></div>    </div></div>'}),define("files/dev/templates/virgo-sort-menu-template",[],function(){return'<div role="radiogroup"        class = "viewGroupOne"        aria-labelledby="        files-sort-menu-view-by-section-header-<%= viewId %>">    <div id="files-sort-menu-view-by-section-header-<%= viewId %>"         class="section-header first files-sort-menu-item-common shared-files-sort-menu-title dropdown-text-color-theme "         role="heading">        <%= viewBy %></div>    <button class="files-sort-menu-item1 files-sort-menu-item-common  "            data-section="view-by" data-value="list"            data-test-name="sort-menu-item-view-by-list"            role="menuitem" tabindex="-1">        <%= list %>&nbsp;        <span class="shared-files-sort-menu-items-tick-icon" style="display:none"></span>    </button>    <button class="files-sort-menu-item1 files-sort-menu-item-common  "            data-section="view-by" data-value="thumbnail"            data-test-name="sort-menu-item-view-by-thumbnail"            role="button" tabindex="-1">        <%= thumbnail %>&nbsp;        <span class="shared-files-sort-menu-items-tick-icon" style="display:none"></span>    </button></div><div role="separator" class = "sortSeperator"></div><div role="radiogroup"     aria-labelledby="        files-sort-menu-sort-by-section-header-<%= viewId %>">    <div id="files-sort-menu-sort-by-section-header-<%= viewId %>"         class="section-header shared-files-sort-menu-title first files-sort-menu-item-common cb-text-theme files-sort-menu-item-dc-common files-sort-menu-item-common"         role="heading">        <%= sortBy %></div>    <button class="files-sort-menu-item1 shared-files-sort-menu-items cb-active-text-theme theme-list-item-row-sort  name files-sort-menu-item-common files-sort-menu-item-dc-common files-sort-menu-item-common "            data-section="sort-by" data-value="name"            data-test-name="sort-menu-items-sort-by-file-name"            role="button" tabindex="-1">        <%= sortByFileName %>&nbsp;        <div class="shared-files-sort-menu-items-tick-icon" style="display:none"></span>    </button>    <button class="files-sort-menu-item1 shared-files-sort-menu-items cb-active-text-theme name theme-list-item-row-sort files-sort-menu-item-common files-sort-menu-item-dc-common files-sort-menu-item-common "            data-section="sort-by" data-value="modified"            data-test-name="sort-menu-items-sort-by-date-modified"            role="button" tabindex="-1">        <%= sortByDateModified %>&nbsp;        <span class="shared-files-sort-menu-items-tick-icon" style="display:none"><span>    </button>    <button class="files-sort-menu-item1 shared-files-sort-menu-items cb-active-text-theme name theme-list-item-row-sort files-sort-menu-item-common files-sort-menu-item-dc-common files-sort-menu-item-common "            data-section="sort-by" data-value="created"            data-test-name="sort-menu-items-sort-by-date-created"            role="button" tabindex="-1">        <%= sortByDateAdded %>&nbsp;        <span class="shared-files-sort-menu-items-tick-icon" style="display:none"></span>    </button></div> <div class="menu-nub-grey"></div>'}),define("core/dev/utils/event-util",["core/ac-core"],function(e){return e.EventUtil={getEventTarget:function(e){var t;return e=e||window.event,t=e.target,_.isUndefined(t)&&(t=e.srcElement),$(t)},addDomEventListener:function(e,t,n,r){return e.addEventListener?e.addEventListener(t,n,r):(t="on"+t,e.attachEvent(t,n)),this},removeDomEventListener:function(e,t,n,r){return e.removeEventListener?e.removeEventListener(t,n,r):(t="on"+t,e.detachEvent(t,n)),this},addPostMessageListener:function(e){var t,n;return window.addEventListener?(t="addEventListener",n="message"):(t="attachEvent",n="onmessage"),window[t](n,e,!1),this},removePostMessageListener:function(e){var t,n;return window.removeEventListener?(t="removeEventListener",n="message"):(t="detachEvent",n="onmessage"),window[t](n,e,!1),this}},e.EventUtil}),define("core/dev/views/menu-view",["core/ac-core","core/utils/event-util","core/utils/view-util","core/views/view"],function(e,t,n){e.MenuView=e.View.extend({options:{animate:!0,triggerEl:null},events:{"mouseover :focusable:not(:tabbable)":"_onMouseOver",mousedown:"_onMouseDown"},render:function(){e.View.prototype.render.call(this),this._initWrappers()},open:function(e){var t=this.$el,n=$.Deferred(),r,i=this.options;return this._clearFocusTimer(),this.isMenuOpen()||this._isAnimating?n.reject().promise():(this._isMenuOpen=!0,this.render(),i.animate?(this._isAnimating=!0,t.slideDown(200,_.bind(function(){t.addClass("shown").removeAttr("aria-hidden"),e&&e(),this._isAnimating=!1},this))):(t.addClass("shown").removeAttr("aria-hidden"),e&&_.defer(e)),!i.triggerEl&&$(document.activeElement).not("body").length&&(i.triggerEl=document.activeElement),r=t.find("[role='option']:focusable,[role^='menuitem']:focusable,:tabbable").first(),r.length||(r=t.find(":focusable")),r.focus(this._getFocusDelay()/2),_.defer(this._addMenuEventListenerFactory()),this._deferred=n,n.promise())},close:function(t,n){var r=this.$el,i=this.options,s=i.menusUiModel,o,u;if(!this.isMenuOpen()||this._isAnimating){t&&t();return}this._isMenuOpen=!1,o=_.bind(function(){if(this._deferred){this._removeMenuEventListeners(),this._triggerViewEvent(e.ViewEvents.MENU_CLOSED),r.removeClass("shown").attr("aria-hidden","true");if(!n||!n.doNotEmpty)this.removeAllChildViews(),r.empty();i.triggerEl&&$(i.triggerEl).is(":focusable")&&(u=$(document.activeElement),(u.closest(this.$el).length===1||u.not("body").length===0)&&$(i.triggerEl).focus()),this._deferred.resolve(),this._deferred=undefined}},this),i.animate?(this._isAnimating=!0,r.slideUp(200,_.bind(function(){o(),this._isAnimating=!1,t&&_.delay(t,s.get("close_animation_delay"))},this))):(o(),t&&t())},isMenuOpen:function(){return this._isMenuOpen},toggle:function(e){this.isMenuOpen()?this.close(e):this.open(e)},_initWrappers:function(){this.$body=$("body")},_addMenuEventListenerFactory:function(){return _.bind(this._addMenuEventListeners,this)},_addMenuEventListeners:function(){t.addDomEventListener(document.body,"click",this._onBodyClick,!0),t.addDomEventListener(document.body,"touchstart",this._onBodyClick,!0),this.options.appApi.keyApi.pushKeyHandler(this),this.options.appApi.focusApi.pushFocusHandler(this)},_removeMenuEventListeners:function(){t.removeDomEventListener(document.body,"click",this._onBodyClick,!0),t.removeDomEventListener(document.body,"touchstart",this._onBodyClick,!0),this.options.appApi.keyApi.popKeyHandler(this),this.options.appApi.focusApi.popFocusHandler(this)},_isClickOutsideMenu:function(e){return t.getEventTarget(e).closest(this.$el).length===0},_onBodyClick:function(e){this.option&&this.option.appApi&&this.option.appApi.displayApi&&!this.options.appApi.displayApi.isModalAjax()&&this._isClickOutsideMenu(e)&&(this.close(),this._closedByClick(e))},_closedByClick:function(e){return undefined},_clearFocusTimer:function(){clearTimeout(this.options.menusUiModel.get("focus_timeout_id"))},_getFocusDelay:function(){return this.options.menusUiModel.get("focus_delay")},_isOptionOrMenuItem:function(e){return $(e).is("[role='option'], [role^='menuitem']")},_onFocusIn:function(e){var t=$(e.target);return this._clearFocusTimer(),this._isOptionOrMenuItem(t)&&t.is("[tabindex]")&&t.attr("tabindex","0"),!0},_onFocusOut:function(e){var t=$(e.target),r,i=this,s=this.options.menusUiModel;return this._isOptionOrMenuItem(t)&&t.is("[tabindex]")&&_.defer(function(){r=$(document.activeElement),r.closest("[role='menu']").length||r.closest("[role='listbox']").length?t.attr("tabindex","-1"):t.attr("tabindex","0"),t.siblings(":tabbable").length||t.attr("tabindex","0")}),this._clearFocusTimer(),s.set("focus_timeout_id",_.delay(function(){n.descendantHasFocus(i.$el)||i.close()},this._getFocusDelay())),!0},_onMouseDown:function(){this._clearFocusTimer()},_onMouseOver:function(e){this._clearFocusTimer(),n.descendantHasFocus(this.$el)&&$(e.currentTarget).focus()},_onKeyDown:function(e){var t=this.$el,r=$(e.target),i=this.$(":focusable"),s=i.filter(":tabbable"),o,u=!1,a=r.is("input[type=text]");if(!r.closest(t).length)return u;this._clearFocusTimer();switch(e.which){case 9:this._isOptionOrMenuItem(r)?s.length>1?o=n.getNextFocusableDescendant(t,e.shiftKey,!0,":tabbable"):u=!0:s.length<=1?u=!0:(o=n.getNextFocusableDescendant(t,e.shiftKey,!0,":tabbable"),o&&o.length>0&&(u=!a));break;case 27:this.options.appApi.displayApi.isModalAjax()||(u=!0,this.close()),$("#nameMenu").hasClass("curr_name")?o=$("#nameMenu"):$("#dateMenu").hasClass("curr_date")?o=$("#dateMenu"):$("#sizeMenu").hasClass("curr_size")&&(o=$("#sizeMenu")),$("#nameThMenu").hasClass("curr_name")?o=$("#nameThMenu"):$("#dateThMenu").hasClass("curr_date")?o=$("#dateThMenu"):$("#sizeThMenu").hasClass("curr_size")?o=$("#sizeThMenu"):$("#typeThMenu").hasClass("curr_size")&&(o=$("#typeThMenu"));break;case 13:case 32:a||(u=!0,r.click()),$("#nameMenu").hasClass("curr_name")?o=$("#nameMenu"):$("#dateMenu").hasClass("curr_date")?o=$("#dateMenu"):$("#sizeMenu").hasClass("curr_size")&&(o=$("#sizeMenu")),$("#nameThMenu").hasClass("curr_name")?o=$("#nameThMenu"):$("#dateThMenu").hasClass("curr_date")?o=$("#dateThMenu"):$("#sizeThMenu").hasClass("curr_size")?o=$("#sizeThMenu"):$("#typeThMenu").hasClass("curr_size")&&(o=$("#typeThMenu"));break;case 37:case 38:u=!0,o=n.getNextFocusableDescendant(t,!0,!0),(!o||o.length===0)&&this.close();break;case 39:case 40:u=!0,o=n.getNextFocusableDescendant(t,!1,!0);break;case 35:u=!0,o=i.last();break;case 36:u=!0,o=i.first()}return u&&this._consumeEvent(e),o&&o.length>0&&_.defer(function(){o.focus()}),u}})}),define("files/dev/views/virgo-sort-menu-view",["core/ac-core","files/ac-files","files/templates/virgo-sort-menu-template","i18n!files/nls/ui-strings","i18n!core/nls/ui-strings","core/utils/sc-analytics","core/utils/css-util","core/utils/util","core/views/menu-view"],function(e,t,n,r,i,s,o,u){var a={};return t.VirgoSortMenuView=e.MenuView.extend({events:function(){return _.extend({},e.MenuView.prototype.events,{"click .files-sort-menu-item1":"_onMenuItemClick","focusin .files-sort-menu-item1":"_onMenuFocusInHC","focusout .files-sort-menu-item1":"_onMenuFocusOutHC"})},initialize:function(){var t=e.SortUiModel;e.MenuView.prototype.initialize.call(this),a[t.ORDER_BY_FILE_NAME]=[s.FILE_NAME_UP,s.FILE_NAME_DOWN],a[t.ORDER_BY_FILE_TYPE]=[s.FILE_TYPE_UP,s.FILE_TYPE_DOWN],a[t.ORDER_BY_FILE_SIZE]=[s.FILE_SIZE_UP,s.FILE_SIZE_DOWN],a[t.ORDER_BY_DATE_ADDED]=[s.DATE_ADDED_UP,s.DATE_ADDED_DOWN],a[t.ORDER_BY_DATE_MODIFIED]=[s.DATE_MODIFIED_UP,s.DATE_MODIFIED_DOWN],a[t.ORDER_BY_DATE_LAST_ACCESS]=[s.DATE_ACCESSSED_UP,s.DATE_ACCESSED_DOWN]},render:function(){e.MenuView.prototype.render.call(this),this.$el.children().length===0&&(this.$el.html(_.template(n)({viewBy:r.VIEW_BY,list:r.LIST,thumbnail:r.THUMBNAIL,sortBy:i.SORT_BY,sortByFileName:r.SORT_BY_FILE_NAME,sortByDateAdded:r.SORT_BY_DATE_ADDED,sortByDateModified:r.SORT_BY_DATE_MODIFIED,viewId:this.options.viewId})),this._initWrappers()),this._showCurrentView(),this._showCurrentSort(),this.options.appApi.selectionApi.isRunningInFileSelection()||u.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()||(this.$viewGroupOne.css("display","none"),this.$sortSeperator.css("display","none"),this.$sectionHeader.addClass("virgo-section-header"))},open:function(t){return this._logSiteCatalystEvent([s.SORT,s.SHOWN]),e.MenuView.prototype.open.call(this,t)},_initWrappers:function(){e.MenuView.prototype._initWrappers.call(this),this.$viewMenuItems=this.$(".files-sort-menu-item1[data-section='view-by']"),this.$sortMenuItems=this.$(".files-sort-menu-item1[data-section='sort-by']"),this.$sortMenuItemOrderIcons=this.$(".shared-files-sort-menu-items-tick-icon"),this.$fileInfoMenuItem=this.$(".files-sort-menu-item1[data-value='file-info']"),this.$viewGroupOne=this.$(".viewGroupOne"),this.$sortSeperator=this.$(".sortSeperator"),this.$sectionHeader=this.$(".files-sort-menu-item-common")},_showCurrentView:function(){var e=this.options.collectionsUiModel,t;this.$viewMenuItems.removeClass("selected").attr("aria-checked","false"),t=this.$("[data-value="+e.get("view")+"]"),t.addClass("selected").attr("aria-checked","true")},_showCurrentSort:function(){var e=this.options.sortUiModel,t,n;e.get("is_locked")&&this.$sortMenuItems.addClass("disabled").attr({disabled:"disabled","aria-disabled":"true"}),this.$sortMenuItems.removeClass("ascending descending selected").attr("aria-checked","false"),this.$sortMenuItemOrderIcons.css("display","none"),t=this.$("[data-value="+e.get("order_by")+"]"),n=t.find(".shared-files-sort-menu-items-tick-icon"),t.addClass("selected"),n.css("display","block"),e.isAscending()?(t.addClass("ascending").attr("aria-checked","true"),n.attr("aria-label",r.ASCENDING)):(t.addClass("descending").attr("aria-checked","true"),n.attr("aria-label",r.DESCENDING))},_onMenuItemClick:function(e){var t=$(e.currentTarget),n=t.attr("data-section"),r=t.attr("data-value");if(t.hasClass("disabled")){this.close();return}this.close(_.bind(function(){n==="view-by"?this._viewBy(r):n==="sort-by"&&this._sortBy(r)},this))},_viewBy:function(t){this._logSiteCatalystEvent([s.VIEW_BY,t==="list"?s.LIST:s.THUMB,s.CHECKED]),this._triggerViewEvent(e.ViewEvents.VIEW_BY,{view:t})},_sortBy:function(t){var n=this.options,r=n.sortUiModel,i,o,u,f;t==="name"?this.options.sortUiModel.set("curr_sort","1"):t==="modified"||t==="last_access"||t==="created"?this.options.sortUiModel.set("curr_sort","2"):t==="size"?this.options.sortUiModel.set("curr_sort","3"):t==="ext"&&this.options.sortUiModel.set("curr_sort","4"),$("#nameMenu").removeClass("selected_menu"),$("#sizeMenu").removeClass("selected_menu"),$("#dateMenu").removeClass("selected_menu"),$("#nameThMenu").removeClass("selected_menu"),$("#sizeThMenu").removeClass("selected_menu"),$("#dateThMenu").removeClass("selected_menu"),$("#typeThMenu").removeClass("selected_menu"),i=r.get("order_by"),u=e.SortUiModel.ORDER_ASCENDING,f=e.SortUiModel.ORDER_DESCENDING,t===i?r.isAscending()?o=f:o=u:o=r.getOrderDirection(t),this._logSiteCatalystEvent([s.SORT_BY,a[t][o===u?0:1]]),this._triggerViewEvent(e.ViewEvents.SORT,{orderBy:t,orderDirection:o})},_getSiteCatalystContext:function(){return this.options.noUrlUpdate?undefined:s.SEARCH_BAR},_onMenuFocusInHC:function(e){var t=$(e.currentTarget)},_onMenuFocusOutHC:function(e){var t=$(e.currentTarget)}}),t.VirgoSortMenuView}),define("core/dev/views/collection-virgo-header-thumbnail-view",["core/ac-core","files/ac-files","core/templates/collection-virgo-header-thumbnail-template","i18n!core/nls/ui-strings","i18n!files/nls/ui-strings","core/utils/css-util","core/utils/view-util","core/utils/util","core/utils/sc-analytics","core/views/view","core/views/view-events","files/views/virgo-sort-menu-view"],function(e,t,n,r,i,s,o,u,a){e.CollectionVirgoHeaderThumbnailView=e.View.extend({events:{"click .collection-header-checkbox":"_onCheckboxClick","click  .name-header":"_onSortMenuNameBtnClick","click  .date-header":"_onSortMenuDateBtnClick","click  .collection-header-column-title":"_onSortMenuBtnClick","click .files-sort-menu-btn":"_onSortMenuBtnClick","click .collection-header-column-sort.name-sort":"_onNameClick","click .collection-header-column-sort.date-sort":"_onDateClick","click .review-list-header-checkbox":"_onCheckboxClick"},initialize:function(){e.View.prototype.initialize.call(this),this._addKeyEventListener(),this._addUiModelEventListeners()},render:function(){var t=this.$el,i=this.options;e.View.prototype.render.call(this),o.isElementEmpty(t)&&(this.options.appApi.selectionApi.isRunningInFileSelection()||u.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()?t.html(_.template(n)({name:r.NAME,size:r.SIZE,selectAll:r.SELECT_ALL})):t.html(_.template(n)({name:r.VIRGO_NAME,size:r.VIRGO_SIZE,type:r.VIRGO_TYPE,selectAll:r.SELECT_ALL,sortedBy:r.SORTED_BY})),this._initWrappers());var s;this.options.appApi.selectionApi.isRunningInFileSelection()||u.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()?s=this._getDateTitle():s=this._getVirgoDateTitle(),this.$dateTitle.text(s),this.$dateTitle.attr("aria-label",s),this.$dateTitle.attr("title",s),this._updateSortIcon(),i.sortUiModel.get("is_locked")?this.$colHeaders.addClass("locked").attr("disabled","disabled"):this.$colHeaders.removeClass("locked").removeAttr("disabled"),this.$infoCn.css("right",i.collectionUiModel.get("has_vertical_scrollbar")?o.getScrollBarWidth()+"px":0),this._updateCheckbox();var a=this.$(".review-list-header-checkbox"),i=this.options,f=i.selectionUiModel.getSelectionCount();a.removeClass("hidden dash selected").removeAttr("aria-hidden"),f>0&&(f===this._getNumSelectable()?(a.addClass("selected").attr("aria-checked","true"),a.css("display","block")):(a.addClass("dash").attr("aria-checked","mixed"),a.css("display","block")));var l=this.options.appApi.connectorsApi.getConnectorPluginName(i.pluginId);return l==="desktop_sharepoint"?this.$virgoCheckbox.css("display","none"):this.$virgoCheckbox.css("display","block"),this.$virgoHeaderThumbnailCheckbox.hasClass("selected")?this.$virgoHeaderThumbnailCheckbox.attr("title",r.DESELECT_ALL):this.$virgoHeaderThumbnailCheckbox.attr("title",r.SELECT_ALL),this._renderSortMenuView(),this},_renderSortMenuView:function(){this._renderChildView("_sortMenuView",t.VirgoSortMenuView,this.$sortMenu),this.$sortMenu.css("display","none"),this.$name.removeClass("selected_menu"),this.$size.removeClass("selected_menu"),this.$date.removeClass("selected_menu")},_initWrappers:function(){this.$colHeaders=this.$(".collection-header-column-header"),this.$checkbox=this.$(".collection-header-checkbox"),this.$checkboxCell=this.$checkbox.closest("[role='columnheader']"),this.$infoCn=this.$(".collection-header-info-container"),this.$name=this.$(".name-virgo-header"),this.$size=this.$(".size-virgo-header"),this.$date=this.$(".date-virgo-header"),this.$type=this.$(".type-virgo-header"),this.$dateTitle=this.$(".date-virgo-header .collection-header-column-title"),this.$nameSortIcon=this.$(".name-virgo-header .collection-header-column-sort"),this.$typeSortIcon=this.$(".type-virgo-header .collection-header-column-sort"),this.$sizeSortIcon=this.$(".size-virgo-header .collection-header-column-sort"),this.$dateSortIcon=this.$(".date-virgo-header .collection-header-column-sort"),this.$virgoCheckbox=this.$(".review-list-item-checkbox"),this.$virgoHeaderThumbnailCheckbox=this.$(".virgoHeaderThumbnailCheckbox"),this.$sortMenuBtn=this.$(".files-sort-menu-btn"),this.$sortMenu=this.$(".files-sort-menu")},_isItemSelectable:function(e){return!this.options.noFolderSelection||!e.isFolder()},_isItemSelected:function(e){return this.options.selectionUiModel.isItemSelected(e.id)},_getNumSelectable:function(){var e=0;return this.options.collection.each(_.bind(function(t){this._isItemSelectable(t)&&(e+=1)},this)),e},_onSortMenuNameBtnClick:function(){this.$nameSortIcon.hasClass("hidden")||(this.options.sortUiModel.set("curr_sort","1"),this.$name.addClass("curr_name"),this.$date.removeClass("curr_date"),this.$size.removeClass("curr_size"));var e=this.options.appApi.connectorsApi.getConnectorPluginName(this.options.pluginId);if(e==="root"||e==="ccloud"||this.options.pluginId==="scan_files"){if(this.options.sortUiModel.get("curr_sort")!=="1")this.$name.removeClass("selected_menu"),this.$size.removeClass("selected_menu"),this.$date.removeClass("selected_menu"),this.$name.addClass("curr_name"),this._sortBy("name");else if(this.$name.hasClass("selected_menu")&&this._sortMenuView){this.$name.removeClass("selected_menu"),this.$size.removeClass("selected_menu"),this.$date.removeClass("selected_menu");var t=this._sortMenuView;t.close()}else this.$name.addClass("selected_menu"),this._onSortMenuClick(),this.$sortMenu.css("display","block"),this._IsSortEnabled()&&this.$sortMenu.css("right",this.$el.width()-(this.$(".name-header").offset().left+this.$sortMenu.width()-30));this.options.sortUiModel.set("curr_sort","1")}},_onSortMenuDateBtnClick:function(){this.$dateSortIcon.hasClass("hidden")||(this.options.sortUiModel.set("curr_sort","2"),this.$date.addClass("curr_date"),this.$size.removeClass("curr_size"),this.$name.removeClass("curr_name"));var e=this.options.appApi.connectorsApi.getConnectorPluginName(this.options.pluginId);if(e==="root"||e==="ccloud"||this.options.pluginId==="scan_files"){if(this.options.sortUiModel.get("curr_sort")!=="2")this.$name.removeClass("selected_menu"),this.$size.removeClass("selected_menu"),this.$date.removeClass("selected_menu"),this.$date.addClass("curr_date"),this.options.sortUiModel.get("mru_date_order")==="modified"?this._sortBy("modified"):this.options.sortUiModel.get("mru_date_order")==="last_access"?this._sortBy("last_access"):this.options.sortUiModel.get("mru_date_order")==="created"&&this._sortBy("created");else if(this.$date.hasClass("selected_menu")&&this._sortMenuView){this.$name.removeClass("selected_menu"),this.$size.removeClass("selected_menu"),this.$date.removeClass("selected_menu");var t=this._sortMenuView;t.close()}else this.$date.addClass("selected_menu"),this._onSortMenuClick(),this.$sortMenu.css("display","block"),this._IsSortEnabled()&&this.$sortMenu.css("right",this.$el.width()-(this.$(".date-header").offset().left+this.$sortMenu.width()-30));this.options.sortUiModel.set("curr_sort","2")}},_onSortMenuSizeBtnClick:function(){this.$sizeSortIcon.hasClass("hidden")||(this.options.sortUiModel.set("curr_sort","3"),this.$size.addClass("curr_size"),this.$name.removeClass("curr_name"),this.$date.removeClass("curr_date"));var e=this.options.appApi.connectorsApi.getConnectorPluginName(this.options.pluginId);if(e==="root"||e==="ccloud"||this.options.pluginId==="scan_files"){if(this.options.sortUiModel.get("curr_sort")!=="3")this.$name.removeClass("selected_menu"),this.$size.removeClass("selected_menu"),this.$date.removeClass("selected_menu"),this.$size.addClass("curr_size"),this._sortBy("size");else if(this.$size.hasClass("selected_menu")&&this._sortMenuView){this.$size.removeClass("selected_menu");var t=this._sortMenuView;t.close()}else this.$size.addClass("selected_menu"),this._onSortMenuClick(),this.$sortMenu.css("display","block"),this._IsSortEnabled()&&this.$sortMenu.css("right",this.$el.width()-(this.$(".size-header").offset().left+this.$sortMenu.width()-30));this.options.sortUiModel.set("curr_sort","3")}},_onSortMenuTypeBtnClick:function(){this.$typeSortIcon.hasClass("hidden")||(this.options.sortUiModel.set("curr_sort","4"),this.$type.addClass("curr_type"),this.$name.removeClass("curr_name"),this.$date.removeClass("curr_date"),this.$size.removeClass("curr_size"));var e=this.options.appApi.connectorsApi.getConnectorPluginName(this.options.pluginId);if(e==="root"||e==="ccloud"||this.options.pluginId==="scan_files"){if(this.options.sortUiModel.get("curr_sort")!=="4")this.$name.removeClass("selected_menu"),this.$size.removeClass("selected_menu"),this.$date.removeClass("selected_menu"),this.$type.removeClass("selected_menu"),this.$type.addClass("curr_type"),this._sortBy("ext");else if(this.$type.hasClass("selected_menu")&&this._sortMenuView){this.$type.removeClass("selected_menu");var t=this._sortMenuView;t.close()}else this.$type.addClass("selected_menu"),this._onSortMenuClick(),this.$sortMenu.css("display","block"),this._IsSortEnabled()&&this.$sortMenu.css("right",this.$el.width()-(this.$(".type-header").offset().left+this.$sortMenu.width()-30));this.options.sortUiModel.set("curr_sort","4")}},_addUiModelEventListeners:function(){var e=this.options,t=e.filesUiModel;this.listenTo(e.collectionUiModel,"change:has_vertical_scrollbar",this._onHasVerticalScrollbarChange).listenTo(e.selectionUiModel,"change:selected_item_models",this._onSelectedItemModelsChange).listenTo(e.sortUiModel,"change",this._onSortUiModelChange).listenTo(t,"change:show_sort_menu",this._onShowSortMenuChange)},_onShowSortMenuChange:function(e,t){var n=this._sortMenuView,r,i=this.$sortMenuBtn;if(this.options.isInSearchResultsView)return;t?(r=this.options.filesUiModel,n&&n.open().always(function(){r.set("show_sort_menu",!1,{silent:!0})})):n.close()},_onHasVerticalScrollbarChange:function(){this.render()},_onSelectedItemModelsChange:function(){this.render()},_IsSortEnabled:function(){var e=this.options.appApi.connectorsApi.getConnectorPluginName(this.options.pluginId);return e==="root"||e==="ccloud"||this.options.pluginId==="scan_files"||this.options.pluginId==="my_recent_files_search"?!0:!1},_onSortMenuClick:function(){this._IsSortEnabled()&&(this.options.noUrlUpdate?this._logSiteCatalystEvent([a.SORT_ICON,a.CLICKED]):this._logSiteCatalystEvent([a.SEARCH_BAR,a.SORT_ICON,a.CLICKED]),this._triggerViewEvent(t.ViewEvents.SORT_MENU_BTN_CLICK))},_sortBy:function(t){var n=this.options,r=n.sortUiModel,i,s,o,u;i=r.get("order_by"),o=e.SortUiModel.ORDER_ASCENDING,u=e.SortUiModel.ORDER_DESCENDING,t===i?r.isAscending()?s=u:s=o:s=r.getOrderDirection(t),this._triggerViewEvent(e.ViewEvents.SORT,{orderBy:t,orderDirection:s})},_onSortUiModelChange:function(){this.render()},_getNumSelected:function(){var e=0;return this.options.collection.each(_.bind(function(t){this._isItemSelected(t)&&(e+=1)},this)),e},_updateCheckbox:function(){},_getDateTitle:function(){var t=this.options.sortUiModel.get("mru_date_order"),n=e.SortUiModel,i;switch(t){case n.ORDER_BY_DATE_ADDED:i=r.CREATED_DATE;break;case n.ORDER_BY_DATE_MODIFIED:i=r.MODIFIED_DATE;break;case n.ORDER_BY_DATE_LAST_ACCESS:i=r.OPENED_DATE}return i},_getVirgoDateTitle:function(){var t=this.options.sortUiModel.get("mru_date_order"),n=e.SortUiModel,i;switch(t){case n.ORDER_BY_DATE_ADDED:i=r.VIRGO_CREATED;break;case n.ORDER_BY_DATE_MODIFIED:i=r.VIRGO_MODIFIED;break;case n.ORDER_BY_DATE_LAST_ACCESS:i=r.VIRGO_OPENED}return i},_updateSortIcon:function(){var t,n=this.options.sortUiModel,r=e.SortUiModel,s,o,u=3;this.$colHeaders.removeAttr("aria-sort"),this.$(".collection-header-column-sort").addClass("hidden").removeClass("descending"),s=n.get("order_by");switch(s){case r.ORDER_BY_DATE_ADDED:case r.ORDER_BY_DATE_MODIFIED:case r.ORDER_BY_DATE_LAST_ACCESS:o=this.$date,t=this.$dateSortIcon,u=2;break;case r.ORDER_BY_FILE_SIZE:case r.ORDER_BY_FILE_TYPE:case r.ORDER_BY_FILE_NAME:o=this.$name,t=this.$nameSortIcon,u=3}if(!t)return;t.removeClass("hidden"),n.getOrderDirection()===r.ORDER_DESCENDING?(t.addClass("descending"),o.attr("aria-sort","descending"),t.attr("aria-label",i.DESCENDING),t.attr("title",i.DESCENDING)):(o.attr("aria-sort","ascending"),t.attr("aria-label",i.ASCENDING),t.attr("title",i.ASCENDING)),this.$name.css("display","none"),this.$date.css("display","none"),this.$size.css("display","none"),this.$type.css("display","none"),this.options.sortUiModel.get("curr_sort")===undefined?u===1?(this.$size.css("display","block"),this.$size.addClass("virgo-thumbnail-collection-header")):u===2?(this.$date.css("display","block"),this.$date.addClass("virgo-thumbnail-collection-header")):u===3?(this.$name.css("display","block"),this.$name.addClass("virgo-thumbnail-collection-header")):(this.$type.css("display","block"),this.$type.addClass("virgo-thumbnail-collection-header")):this.options.sortUiModel.get("curr_sort")==="1"?(this.$name.css("display","block"),this.$name.addClass("virgo-thumbnail-collection-header")):this.options.sortUiModel.get("curr_sort")==="2"?(this.$date.css("display","block"),this.$date.addClass("virgo-thumbnail-collection-header")):this.options.sortUiModel.get("curr_sort")==="3"?(this.$size.css("display","block"),this.$size.addClass("virgo-thumbnail-collection-header")):this.options.sortUiModel.get("curr_sort")==="4"&&(this.$type.css("display","block"),this.$type.addClass("virgo-thumbnail-collection-header"))},_adjustLayout:function(){var e=$(window).width();this.$size.css("display",e>650?"block":"none"),this.$date.css("display",e>720?"block":"none")},_onKeyDown:function(e){var t=this.$el,n,r=e.which,i=r===16,s=!1,u=$(e.target);if(!o.descendantHasFocus(t))return s;switch(r){case 37:case 39:case 9:case 27:e.shiftKey?n=o.getNextFocusableDescendant(t,!0,!1):n=o.getNextFocusableDescendant(t,!1,!1);break;case 32:case 13:u.hasClass("name-header")?(this._onSortMenuNameBtnClick(),s=!0):u.hasClass("date-header")?(this._onSortMenuDateBtnClick(),s=!0):u.hasClass("size-header")?(this._onSortMenuSizeBtnClick(e),s=!0):u.hasClass("name-sort")?(this._onNameClick(),s=!0):u.hasClass("size-sort")?(this._onDateClick(),s=!0):u.hasClass("date-sort")?(this._onSizeClick(),s=!0):u.hasClass("review-list-header-checkbox")&&u.hasClass("virgoHeaderThumbnailCheckbox")&&(this._onCheckboxClick(),s=!0)}return n&&n.length===1&&(s=!0,n.focus()),s},_getTotalItems:function(){var e=0;return this.options.collection.each(_.bind(function(t){e+=1},this)),e},_onCheckboxClick:function(){var t=e.SelectionUiModel,n;n=this._getNumSelected()==this._getTotalItems()?t.SELECT_NONE:t.SELECT_ALL,this._triggerViewEvent(e.ViewEvents.SELECT_ITEM,_.extend({},this.options,{selectType:n}));var r=this.$virgoCheckbox,i=this.options,s=i.selectionUiModel.getSelectionCount();r.removeClass("hidden dash selected").removeAttr("aria-hidden"),s>0&&(s===this._getNumSelectable()?(r.addClass("selected").attr("aria-checked","true"),r.css("display","block")):(r.addClass("dash").attr("aria-checked","mixed"),r.css("display","block"))),e.Util.isIE8()&&o.detachAndReattachElement(r),name==="desktop_sharepoint"?this.$virgoCheckbox.css("display","none"):this.$virgoCheckbox.css("display","block")},_onNameClick:function(){var t,n=this.options;if(n.sortUiModel.get("is_locked"))return;t=this._onColumnHeaderClick("name"),n.appApi.siteCatalystApi.logScEvent([a.FILE_LIST,a.SORT_COLUMN,t===e.SortUiModel.ORDER_ASCENDING?a.NAME_UP:a.NAME_DOWN])},_onSizeClick:function(){var t,n=this.options;if(n.sortUiModel.get("is_locked"))return;t=this._onColumnHeaderClick("size"),n.appApi.siteCatalystApi.logScEvent([a.FILE_LIST,a.SORT_COLUMN,t===e.SortUiModel.ORDER_ASCENDING?a.SIZE_UP:a.SIZE_DOWN])},_onTypeClick:function(){var t,n=this.options;if(n.sortUiModel.get("is_locked"))return;t=this._onColumnHeaderClick("ext"),n.appApi.siteCatalystApi.logScEvent([a.FILE_LIST,a.SORT_COLUMN,t===e.SortUiModel.ORDER_ASCENDING?a.SIZE_UP:a.SIZE_DOWN])},_onDateClick:function(){var t,n=this.options,r=n.sortUiModel;if(r.get("is_locked"))return;t=this._onColumnHeaderClick(r.get("mru_date_order")),n.appApi.siteCatalystApi.logScEvent([a.FILE_LIST,a.SORT_COLUMN,t===e.SortUiModel.ORDER_ASCENDING?a.DATE_UP:a.DATE_DOWN])},_onColumnHeaderClick:function(t){var n=this.options.sortUiModel,r=e.SortUiModel,i=r.ORDER_ASCENDING,s=r.ORDER_DESCENDING,o;return t!==n.get("order_by")?o=n.getOrderDirection(t):(o=n.getOrderDirection(),o===i?o=s:o=i),this._triggerViewEvent(e.ViewEvents.SORT,{orderBy:t,orderDirection:o}),o},_onFocusIn:function(e){return!0},_onFocusOut:function(){return!0}})}),define("core/dev/templates/collection-template",[],function(){return'<div role="toolbar" class="selection-actions ui-theme theme-container"></div><div role="grid"     aria-labelledby="<%= pluginSelectorId %>                      <%= folderPathId %>                      <%= searchResultsSummaryId %>"     aria-multiselectable="true">    <div role="row" class="collection-old-header collection-header unselectable ui-theme theme-container theme-border"></div>    <div role="row" class="collection-virgo-header collection-header unselectable theme-file-list-row-border ui-theme theme-container" id = "collectionVirgoHeader"></div>    <div role="row" class="collection-virgo-header-thumbnail collection-header theme-file-list-row-border unselectable ui-theme theme-container" id = "collectionVirgoHeaderThumbnail"></div>    <div role="presentation" class="collection-items with-header">    </div></div>'}),define("core/dev/templates/collection-header-template",[],function(){return'<div role="columnheader">    <input type="checkbox" aria-checked="false"           class="collection-header-checkbox"            title="<%= selectAll %>"/>    <span class="collection-header-checkbox-checkmark"          aria-hidden="true"></span></div><div role="presentation" class="collection-header-info-container ui-theme theme-container">    <button role="columnheader"            class="collection-header-name                   collection-header-column-header"         data-test-name="collection-header-name" tabindex="0">        <div class="collection-header-column-title theme-header-text"><%= name %></div>        <div class="collection-header-column-sort hidden"             data-test-name="collection-header-name-sort"></div>    </button>    <button role="columnheader"            class="collection-header-size collection-header-size-cursor                   collection-header-column-header"         data-test-name="collection-header-size" tabindex="-1">        <div class="collection-header-column-title theme-header-text"><%= size %></div>        <div class="collection-header-column-sort hidden"             data-test-name="collection-header-size-sort"></div>    </button>    <button role="columnheader"            class="collection-header-date                   collection-header-column-header"        data-test-name="collection-header-date" tabindex="-1">        <div class="collection-header-column-title theme-header-text"></div>        <div class="collection-header-column-sort hidden"             data-test-name="collection-header-date-sort"></div>    </button></div>'}),define("core/dev/views/collection-header-view",["core/ac-core","core/templates/collection-header-template","i18n!core/nls/ui-strings","core/utils/css-util","core/utils/view-util","core/utils/util","core/utils/sc-analytics","core/views/view","core/views/view-events"],function(e,t,n,r,i,s,o){e.CollectionHeaderView=e.View.extend({events:{"click .collection-header-checkbox":"_onCheckboxClick","click .collection-header-name":"_onNameClick","click .collection-header-size":"_onSizeClick","click .collection-header-date":"_onDateClick"},initialize:function(){e.View.prototype.initialize.call(this),this._addKeyEventListener(),this._addFocusEventListener(),this._addUiModelEventListeners()},render:function(){var o=this.$el,u=this.options;e.View.prototype.render.call(this);if(i.isElementEmpty(o)){this.options.appApi.selectionApi.isRunningInFileSelection()||s.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()?o.html(_.template(t)({name:n.NAME,size:n.SIZE,selectAll:n.SELECT_ALL})):o.html(_.template(t)({name:n.VIRGO_NAME,size:n.VIRGO_SIZE,selectAll:n.SELECT_ALL})),this._initWrappers(),this.options.pluginId==="root-select"&&this.$(".collection-header-size-cursor").css("cursor","default");if(u.appApi.acrobatApi.isInAcrobat()||!u.selectionUiModel.get("multiple_selection"))r.addClass(this.$checkbox,"hidden"),r.addClass(this.$infoCn,"no-checkbox"),this.$checkbox.attr({"aria-hidden":"true",disabled:"disabled",tabindex:"-1"}),this.$checkboxCell.attr("aria-hidden","true"),this.$name.attr("tabindex","0")}return this.options.appApi.selectionApi.isRunningInFileSelection()||s.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()?this.$dateTitle.text(this._getDateTitle()):this.$dateTitle.text(this._getVirgoDateTitle()),this._updateSortIcon(),this.options.folderModel.attributes.connector_key==="onedrivebusiness"&&(this.$size.css("cursor","default"),this.$size.css("opacity","1"),this.$date.css("cursor","default"),this.$date.css("opacity","1")),u.sortUiModel.get("is_locked")?this.$colHeaders.addClass("locked").attr("disabled","disabled"):this.$colHeaders.removeClass("locked").removeAttr("disabled"),this.$infoCn.css("right",u.collectionUiModel.get("has_vertical_scrollbar")?i.getScrollBarWidth()+"px":0),this._updateCheckbox(),this._adjustLayout(),this},_initWrappers:function(){this.$colHeaders=this.$(".collection-header-column-header"),this.$checkbox=this.$(".collection-header-checkbox"),this.$checkboxCell=this.$checkbox.closest("[role='columnheader']"),this.$infoCn=this.$(".collection-header-info-container"),this.$name=this.$(".collection-header-name"),this.$size=this.$(".collection-header-size"),this.$date=this.$(".collection-header-date"),this.$dateTitle=this.$(".collection-header-date .collection-header-column-title"),this.$nameSortIcon=this.$(".collection-header-name .collection-header-column-sort"),this.$sizeSortIcon=this.$(".collection-header-size .collection-header-column-sort"),this.$dateSortIcon=this.$(".collection-header-date .collection-header-column-sort")},_isItemSelectable:function(e){return!this.options.noFolderSelection||!e.isFolder()},_isItemSelected:function(e){return this.options.selectionUiModel.isItemSelected(e.id)},_getNumSelectable:function(){var e=0;return this.options.collection.each(_.bind(function(t){this._isItemSelectable(t)&&(e+=1)},this)),e},_getNumSelected:function(){var e=0;return this.options.collection.each(_.bind(function(t){this._isItemSelected(t)&&(e+=1)},this)),e},_updateCheckbox:function(){var t=this.$checkbox,n=this.$infoCn,r=this._getNumSelected(),s=this.options;s.collectionsUiModel.get("checkbox")?(t.removeClass("dash check hidden").removeAttr("aria-checked checked disabled").prop({checked:!1,indeterminate:!1,disabled:!1}),n.removeClass("no-checkbox"),r>0?r===this._getNumSelectable()?t.addClass("check").attr({"aria-checked":"true",checked:"checked"}).prop({checked:!0,indeterminate:!1}):t.addClass("dash").attr("aria-checked","mixed").removeAttr("checked").prop({checked:!1,indeterminate:!0}):s.collection.length===0&&t.attr("disabled","disabled").prop("disabled",!0)):(t.addClass("hidden").attr("disabled","disabled"),n.addClass("no-checkbox")),e.Util.isIE8()&&i.detachAndReattachElement(t.next())},_getDateTitle:function(){var t=this.options.sortUiModel.get("mru_date_order"),r=e.SortUiModel,i;switch(t){case r.ORDER_BY_DATE_ADDED:i=n.CREATED_DATE;break;case r.ORDER_BY_DATE_MODIFIED:i=n.MODIFIED_DATE;break;case r.ORDER_BY_DATE_LAST_ACCESS:i=n.VIEWED_DATE}return i},_getVirgoDateTitle:function(){var t=this.options.sortUiModel.get("mru_date_order"),r=e.SortUiModel,i;switch(t){case r.ORDER_BY_DATE_ADDED:i=n.VIRGO_CREATED;break;case r.ORDER_BY_DATE_MODIFIED:i=n.VIRGO_MODIFIED;break;case r.ORDER_BY_DATE_LAST_ACCESS:i=n.VIRGO_MODIFIED}return i},_updateSortIcon:function(){var t,n=this.options.sortUiModel,r=e.SortUiModel,i,s;this.$colHeaders.removeAttr("aria-sort"),this.$(".collection-header-column-sort").addClass("hidden").removeClass("descending"),i=n.get("order_by");switch(i){case r.ORDER_BY_FILE_SIZE:if(this.pluginId!=="root-select"){s=this.$size,t=this.$sizeSortIcon;break};case r.ORDER_BY_DATE_ADDED:case r.ORDER_BY_DATE_MODIFIED:case r.ORDER_BY_DATE_LAST_ACCESS:s=this.$date,t=this.$dateSortIcon;break;case r.ORDER_BY_FILE_NAME:s=this.$name,t=this.$nameSortIcon}if(!t)return;t.removeClass("hidden"),n.getOrderDirection()===r.ORDER_DESCENDING?(t.addClass("descending"),s.attr("aria-sort","descending")):s.attr("aria-sort","ascending")},_adjustLayout:function(){var e=$(window).width();this.$size.css("display",e>650?"block":"none"),this.$date.css("display",e>720?"block":"none")},_onCheckboxClick:function(){var t=e.SelectionUiModel,n;n=this._getNumSelected()>0?t.SELECT_NONE:t.SELECT_ALL,this._triggerViewEvent(e.ViewEvents.SELECT_ITEM,_.extend({},this.options,{selectType:n}))},_onNameClick:function(){var t,n=this.options;if(n.sortUiModel.get("is_locked"))return;t=this._onColumnHeaderClick("name"),n.appApi.siteCatalystApi.logScEvent([o.FILE_LIST,o.SORT_COLUMN,t===e.SortUiModel.ORDER_ASCENDING?o.NAME_UP:o.NAME_DOWN])},_onSizeClick:function(){if(this.options.pluginId==="root-select"||this.options.appApi.connectorsApi.getConnectorPluginName(this.options.pluginId)==="onedrivebusiness")return;var t,n=this.options;if(n.sortUiModel.get("is_locked"))return;t=this._onColumnHeaderClick("size"),n.appApi.siteCatalystApi.logScEvent([o.FILE_LIST,o.SORT_COLUMN,t===e.SortUiModel.ORDER_ASCENDING?o.SIZE_UP:o.SIZE_DOWN])},_onDateClick:function(){if(this.options.appApi.connectorsApi.getConnectorPluginName(this.options.pluginId)==="onedrivebusiness")return;var t,n=this.options,r=n.sortUiModel;if(r.get("is_locked"))return;t=this._onColumnHeaderClick(r.get("mru_date_order")),n.appApi.siteCatalystApi.logScEvent([o.FILE_LIST,o.SORT_COLUMN,t===e.SortUiModel.ORDER_ASCENDING?o.DATE_UP:o.DATE_DOWN])},_onColumnHeaderClick:function(t){var n=this.options.sortUiModel,r=e.SortUiModel,i=r.ORDER_ASCENDING,s=r.ORDER_DESCENDING,o;return t!==n.get("order_by")?o=n.getOrderDirection(t):(o=n.getOrderDirection(),o===i?o=s:o=i),this._triggerViewEvent(e.ViewEvents.SORT,{orderBy:t,orderDirection:o}),o},_onFocusIn:function(e){return!0},_onFocusOut:function(){return!0},_onKeyDown:function(e){var t=this.$el,n,r=e.which,s=r===37,o=!1;if(!i.descendantHasFocus(t))return o;switch(r){case 37:case 39:n=i.getNextFocusableDescendant(t,s,!0)}return n&&n.length===1&&(o=!0,n.focus()),o},_addUiModelEventListeners:function(){var e=this.options;this.listenTo(e.collectionUiModel,"change:has_vertical_scrollbar",this._onHasVerticalScrollbarChange).listenTo(e.selectionUiModel,"change:selected_item_models",this._onSelectedItemModelsChange).listenTo(e.sortUiModel,"change",this._onSortUiModelChange)},_onHasVerticalScrollbarChange:function(){this.render()},_onSelectedItemModelsChange:function(){this.render()},_onSortUiModelChange:function(){this.render()}})}),define("core/dev/templates/collection-virgo-header-template",[],function(){return'<div id="virgo-files-sort-menu" class="files-sort-menu virgo-files-sort-menu shared-files-sort-menu menu ui-theme dropdown-background-theme dropdown-border-theme menu ui-theme theme-container" role="menu"></div> <div role="columnheader">    <div role="checkbox"         class="review-list-header-checkbox                review-list-item-checkbox"         id = "virgoHeaderCheckbox"               tabindex="0"         aria-checked="false"></div></div><div role="presentation" class="collection-header-info-container ui-theme theme-container">    <div role="columnheader"            class="collection-header-name virgo-header-name                   collection-header-column-header collection-header-virgo-column-header shared-workflow-files-header-column" id = "nameMenu"         data-test-name="collection-header-name" tabindex = "-1">        <div class="shared-workflow-files-header-column-title shared-workflow-files-header-column-dc-title workflow-files-header-column-sort-text-theme  collection-header-column-title collection-header-virgo-column-title name-title" title = "<%= name %>" aria-label = "<%= name %>"><%= name %></div><div class="collection-header-column-sort virgo-sort name-sort collection-header-virgo-column-header hidden"             data-test-name="collection-header-name-sort" tabindex = "-1"></div> </div><div role="columnheader"            class="collection-header-sharing virgo-header-sharing                   collection-header-column-header collection-header-virgo-column-header shared-workflow-files-header-column" id = "sharingMenu"         data-test-name="collection-header-sharing">        <div class="shared-workflow-files-header-column-title shared-workflow-files-header-column-dc-title workflow-files-header-column-no-sort-text-theme  collection-header-column-title collection-header-virgo-column-title sharing-title" title = "<%= share %>" aria-label = "<%= share %>"><%= share %></div><div class="collection-header-column-sort virgo-sort name-sort collection-header-virgo-column-header hidden"             data-test-name="collection-header-name-sort" tabindex = "-1"></div> </div>    <div role="columnheader"            class="collection-header-size virgo-header-size                   collection-header-column-header collection-header-virgo-column-header shared-workflow-files-header-column" id = "dateMenu"        data-test-name="collection-header-size" tabindex = "-1">        <div class="shared-workflow-files-header-column-title shared-workflow-files-header-column-dc-title workflow-files-header-column-sort-text-theme  collection-header-column-title collection-header-virgo-column-title date-title" > </div>    <div class="collection-header-column-sort  collection-header-virgo-column-header virgo-sort size-sort hidden"             data-test-name="collection-header-size-sort" tabindex = "-1" ></div>    </div><div role="columnheader"            class="collection-header-date virgo-header-date                   collection-header-column-header collection-header-virgo-column-header shared-workflow-files-header-column" id = "sizeMenu"         data-test-name="collection-header-date">        <div class="shared-workflow-files-header-column-title shared-workflow-files-header-column-dc-title workflow-files-header-column-no-sort-text-theme  collection-header-column-title collection-header-virgo-column-title size-title" title = "<%= size %>" aria-label = "<%= size %>"><%= size %></div> <div class="collection-header-column-sort collection-header-virgo-column-header virgo-sort date-sort hidden"             data-test-name="collection-header-date-sort"></div> </div></div>'}),define("core/dev/views/collection-virgo-header-view",["core/ac-core","files/ac-files","core/templates/collection-virgo-header-template","i18n!core/nls/ui-strings","core/utils/css-util","core/utils/view-util","core/utils/util","core/utils/sc-analytics","i18n!files/nls/ui-strings","core/views/view","core/views/view-events","files/views/virgo-sort-menu-view"],function(e,t,n,r,i,s,o,u,a){e.CollectionVirgoHeaderView=e.View.extend({events:{"click .collection-header-checkbox":"_onCheckboxClick","click  .name-title":"_onSortMenuNameBtnClick","click  .date-title":"_onSortMenuDateBtnClick","click  .size-title":"_onSortMenuSizeBtnClick","click  .collection-header-column-title":"_onSortMenuBtnClick","click .files-sort-menu-btn":"_onSortMenuBtnClick","click .collection-header-column-sort.name-sort":"_onNameClick","click .collection-header-column-sort.size-sort":"_onDateClick","click .collection-header-column-sort.date-sort":"_onSizeClick","click .review-list-header-checkbox":"_onCheckboxClick"},initialize:function(){e.View.prototype.initialize.call(this),this._addKeyEventListener(),this._addFocusEventListener(),this._addUiModelEventListeners()},render:function(){var t=this.$el,i=this.options;e.View.prototype.render.call(this),s.isElementEmpty(t)&&(this.options.appApi.selectionApi.isRunningInFileSelection()||o.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()?t.html(_.template(n)({name:r.NAME,size:r.SIZE,selectAll:r.SELECT_ALL})):t.html(_.template(n)({name:r.VIRGO_NAME,share:r.VIRGO_HDR_SHARE,size:r.VIRGO_SIZE,selectAll:r.SELECT_ALL,sort:a.SORT,viewId:i.viewId})),this._initWrappers(),this._isInDocCloudOrScan()&&(this.$(".shared-workflow-files-header-column-title").removeClass("workflow-files-header-column-sort-text-theme"),this.$(".shared-workflow-files-header-column-title").addClass("workflow-files-header-column-no-sort-text-theme"),this.$size.addClass("virgo-header-date-cursor")));var u;this.options.appApi.selectionApi.isRunningInFileSelection()||o.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()?u=this._getDateTitle():u=this._getVirgoDateTitle(),this.$dateTitle.text(u),this.$dateTitle.attr("aria-label",u),this.$dateTitle.attr("title",u),this._updateSortIcon(),i.sortUiModel.get("is_locked")?(this.$colHeaders.addClass("locked"),this.options.isInSearchResultsView||this.$colHeaders.attr("disabled","disabled")):this.$colHeaders.removeClass("locked").removeAttr("disabled"),this.options.folderModel.attributes.connector_key==="onedrivebusiness"&&(this.$size.css("cursor","default"),this.$size.css("opacity","1"),this.$date.css("cursor","default"),this.$date.css("opacity","1")),this.$infoCn.css("right",i.collectionUiModel.get("has_vertical_scrollbar")?s.getScrollBarWidth()+"px":0),this._updateCheckbox(),this._adjustLayout();var f=this.$(".review-list-header-checkbox"),i=this.options,l=i.selectionUiModel.getSelectionCount();f.removeClass("hidden dash selected").removeAttr("aria-hidden"),l>0&&(l===this._getNumSelectable()?(f.addClass("selected").attr("aria-checked","true"),f.css("display","block")):(f.addClass("dash").attr("aria-checked","mixed"),f.css("display","block")));var c=this.options.appApi.connectorsApi.getConnectorPluginName(i.pluginId);return c==="desktop_sharepoint"||this.options.isInSearchResultsView?(this.$virgoCheckbox.css("display","none"),this.options.isInSearchResultsView&&this.$name.attr("tabIndex","0")):this.$virgoCheckbox.css("display","block"),this.$virgoCheckbox.hasClass("selected")?this.$virgoCheckbox.attr("title",r.DESELECT_ALL):this.$virgoCheckbox.attr("title",r.SELECT_ALL),this.options.isInSearchResultsView||this._renderSortMenuView(),this},_renderSortMenuView:function(){this._renderChildView("_sortMenuView",t.VirgoSortMenuView,this.$sortMenu),this.$sortMenu.css("display","none"),this.$name.removeClass("selected_menu"),this.$size.removeClass("selected_menu"),this.$date.removeClass("selected_menu")},_initWrappers:function(){this.$colHeaders=this.$(".collection-header-column-header"),this.$checkbox=this.$(".collection-header-checkbox"),this.$checkboxCell=this.$checkbox.closest("[role='columnheader']"),this.$infoCn=this.$(".collection-header-info-container"),this.$name=this.$(".collection-header-name"),this.$share=this.$(".collection-header-sharing"),this.$size=this.$(".collection-header-date"),this.$date=this.$(".collection-header-size"),this.$dateTitle=this.$(".collection-header-size .collection-header-column-title"),this.$nameSortIcon=this.$(".collection-header-name .collection-header-column-sort"),this.$sizeSortIcon=this.$(".collection-header-date .collection-header-column-sort"),this.$dateSortIcon=this.$(".collection-header-size .collection-header-column-sort"),this.$virgoCheckbox=this.$(".review-list-item-checkbox"),this.$sortMenuBtn=this.$(".files-sort-menu-btn"),this.$sortMenu=this.$(".files-sort-menu")},_isItemSelectable:function(e){return!this.options.noFolderSelection||!e.isFolder()},_isItemSelected:function(e){return this.options.selectionUiModel.isItemSelected(e.id)},_getNumSelectable:function(){var e=0;return this.options.collection.each(_.bind(function(t){this._isItemSelectable(t)&&(e+=1)},this)),e},_getNumSelected:function(){var e=0;return this.options.collection.each(_.bind(function(t){this._isItemSelected(t)&&(e+=1)},this)),e},_updateCheckbox:function(){},_getDateTitle:function(){var t=this.options.sortUiModel.get("mru_date_order"),n=e.SortUiModel,i;switch(t){case n.ORDER_BY_DATE_ADDED:i=r.CREATED_DATE;break;case n.ORDER_BY_DATE_MODIFIED:i=r.MODIFIED_DATE;break;case n.ORDER_BY_DATE_LAST_ACCESS:i=r.OPENED_DATE}return i},_getVirgoDateTitle:function(){var t=this.options.sortUiModel.get("mru_date_order"),n=e.SortUiModel,i;switch(t){case n.ORDER_BY_DATE_ADDED:i=r.VIRGO_CREATED;break;case n.ORDER_BY_DATE_MODIFIED:i=r.VIRGO_MODIFIED;break;case n.ORDER_BY_DATE_LAST_ACCESS:this.options.isInSearchResultsView?i=r.VIRGO_OPENED:i=r.VIRGO_MODIFIED}return i},_updateSortIcon:function(){var t,n=this.options.sortUiModel,r=e.SortUiModel,i,s;this.$colHeaders.removeAttr("aria-sort"),this.$(".collection-header-column-sort").addClass("hidden").removeClass("descending"),i=n.get("order_by");switch(i){case r.ORDER_BY_DATE_ADDED:case r.ORDER_BY_DATE_MODIFIED:case r.ORDER_BY_DATE_LAST_ACCESS:s=this.$date,t=this.$dateSortIcon;break;case r.ORDER_BY_FILE_SIZE:if(this.options.pluginId!=="root"&&this.options.pluginId!=="scan_files"){s=this.$size,t=this.$sizeSortIcon;break};case r.ORDER_BY_FILE_NAME:s=this.$name,t=this.$nameSortIcon}if(!t)return;t.removeClass("hidden"),n.getOrderDirection()===r.ORDER_DESCENDING?(t.addClass("descending"),s.attr("aria-sort","descending"),t.attr("aria-label",a.DESCENDING),t.attr("title",a.DESCENDING)):(s.attr("aria-sort","ascending"),t.attr("aria-label",a.ASCENDING),t.attr("title",a.ASCENDING))},_adjustLayoutForDcAndScanTabAndUSS:function(e){var t=$(window).width();this.options.isInSearchResultsView&&(t-=220);var n,r,i;n=r=i=!1,this.$size.css("display","none"),this.$date.css("display","none"),this.$share.css("display","none");var s=0;e?(t>900&&(s++,n=!0),t>1100&&(s++,r=!0),t>1300&&(s++,i=!0),t-=280):(t>700&&(s++,n=!0),t>900&&(s++,r=!0),t>1100&&(s++,i=!0));var o=Math.min(t*.2*s,t-580),u=o/s,a=20;i&&(this.$size.css("display","block"),this.$size.css("position","absolute !important"),this.$size.css("right",a+"px"),this.$size.css("width",u+"px"),this.$size.css("text-align","left"),a+=u),r&&(this.$date.css("display","block"),this.$date.css("position","absolute !important"),this.$date.css("right",a+"px"),this.$date.css("width",u+"px"),this.dateLeftPos=a+u,this.$date.css("text-align","left"),a+=u),n&&(this.$share.css("display","block"),this.$share.css("right",a+"px"),this.$share.css("width",u+"px"),this.$share.css("text-align","left"))},_adjustLayout:function(){var e=$(window).width();this.options.isInSearchResultsView?this.options.pluginId==="root"||this.options.pluginId==="my_recent_files_search"?this.$el.hasClass("with-rhp")===!0?this._adjustLayoutForDcAndScanTabAndUSS(!0):this._adjustLayoutForDcAndScanTabAndUSS(!1):(this.$date.css("right","403px"),this.$size.css("right","95px"),this.$share.css("display","none")):(this.$el.hasClass("with-rhp")===!0?this._isInDocCloudOrScan()?this._adjustLayoutForDcAndScanTabAndUSS(!0):(this.$size.css("display",e>900?"block":"none"),this.$date.css("display",e>1200?"block":"none"),this.$name.css("display",e>500?"block":"none")):(this.$name.css("display","block"),this._isInDocCloudOrScan()?this._adjustLayoutForDcAndScanTabAndUSS(!1):(this.$size.css("display",e>700?"block":"none"),this.$date.css("display",e>900?"block":"none"))),this._isInDocCloudOrScan()||(this.$share.css("display","none"),this.$date.css("right","403px"),this.$size.css("right","95px")))},_getTotalItems:function(){var e=0;return this.options.collection.each(_.bind(function(t){e+=1},this)),e},_onCheckboxClick:function(){var t=e.SelectionUiModel,n;n=this._getNumSelected()==this._getTotalItems()?t.SELECT_NONE:t.SELECT_ALL,this._triggerViewEvent(e.ViewEvents.SELECT_ITEM,_.extend({},this.options,{selectType:n}));var r=this.$virgoCheckbox,i=this.options,o=i.selectionUiModel.getSelectionCount();r.removeClass("hidden dash selected").removeAttr("aria-hidden"),o>0&&(o===this._getNumSelectable()?(r.addClass("selected").attr("aria-checked","true"),r.css("display","block")):(r.addClass("dash").attr("aria-checked","mixed"),r.css("display","block"))),e.Util.isIE8()&&s.detachAndReattachElement(r),name==="desktop_sharepoint"||this.options.isInSearchResultsView?this.$virgoCheckbox.css("display","none"):this.$virgoCheckbox.css("display","block")},_onNameClick:function(){var t,n=this.options;if(n.sortUiModel.get("is_locked"))return;t=this._onColumnHeaderClick("name"),n.appApi.siteCatalystApi.logScEvent([u.FILE_LIST,u.SORT_COLUMN,t===e.SortUiModel.ORDER_ASCENDING?u.NAME_UP:u.NAME_DOWN])},_onSizeClick:function(){if(this._isInDocCloudOrScan())return;var t,n=this.options;if(n.sortUiModel.get("is_locked"))return;t=this._onColumnHeaderClick("size"),n.appApi.siteCatalystApi.logScEvent([u.FILE_LIST,u.SORT_COLUMN,t===e.SortUiModel.ORDER_ASCENDING?u.SIZE_UP:u.SIZE_DOWN])},_onDateClick:function(){var t,n=this.options,r=n.sortUiModel;if(r.get("is_locked"))return;t=this._onColumnHeaderClick(r.get("mru_date_order")),n.appApi.siteCatalystApi.logScEvent([u.FILE_LIST,u.SORT_COLUMN,t===e.SortUiModel.ORDER_ASCENDING?u.DATE_UP:u.DATE_DOWN])},_onColumnHeaderClick:function(t){var n=this.options.sortUiModel,r=e.SortUiModel,i=r.ORDER_ASCENDING,s=r.ORDER_DESCENDING,o;return t!==n.get("order_by")?o=n.getOrderDirection(t):(o=n.getOrderDirection(),o===i?o=s:o=i),this._triggerViewEvent(e.ViewEvents.SORT,{orderBy:t,orderDirection:o}),o},_onFocusIn:function(e){return!1},_onFocusOut:function(){return!1},_onKeyDown:function(e){var t=this.$el,n,r=e.which,i=r===16,o=!1,u=$(e.target);if(!s.descendantHasFocus(t))return o;switch(r){case 37:case 39:case 9:case 27:e.shiftKey?n=s.getNextFocusableDescendant(t,!0,!1):n=s.getNextFocusableDescendant(t,!1,!1);break;case 32:case 13:u.hasClass("collection-header-name")?(this._onSortMenuNameBtnClick(),o=!0):u.hasClass("collection-header-size")?(this._onSortMenuDateBtnClick(),o=!0):u.hasClass("collection-header-date")?(this._onSortMenuSizeBtnClick(e),o=!0):u.hasClass("name-sort")?(this._onNameClick(),o=!0):u.hasClass("size-sort")?(this._onDateClick(),o=!0):u.hasClass("date-sort")?(this._onSizeClick(),o=!0):u.hasClass("review-list-header-checkbox")&&(this._onCheckboxClick(),o=!0)}if(n&&n.length===1){var a=this.options.appApi.connectorsApi.getConnectorPluginName(this.options.pluginId);if(a==="root"||a==="ccloud"||this.options.pluginId==="scan_files"||this.options.isInSearchResultsView||a==="googleDrive"||a==="desktop_sharepoint"||a==="onedrive"||a==="dropbox"||a==="box"||a==="onedrivebusiness")n.focus(),o=!0}return o},_addUiModelEventListeners:function(){var e=this.options,t=e.filesUiModel;this.listenTo(e.collectionUiModel,"change:has_vertical_scrollbar",this._onHasVerticalScrollbarChange).listenTo(e.selectionUiModel,"change:selected_item_models",this._onSelectedItemModelsChange).listenTo(e.sortUiModel,"change",this._onSortUiModelChange).listenTo(t,"change:show_sort_menu",this._onShowSortMenuChange)},_onShowSortMenuChange:function(e,t){var n=this._sortMenuView,r,i=this.$sortMenuBtn;if(this.options.isInSearchResultsView)return;t&&!this.options.isInSearchResultsView?(r=this.options.filesUiModel,n.open().always(function(){r.set("show_sort_menu",!1,{silent:!0})})):n.close()},_onHasVerticalScrollbarChange:function(){this.render()},_onSelectedItemModelsChange:function(){this.render()},_IsSortEnabled:function(){var e=this.options.appApi.connectorsApi.getConnectorPluginName(this.options.pluginId);return e==="root"||e==="ccloud"||this.options.pluginId==="scan_files"||this.options.pluginId==="my_recent_files_search"||e==="googleDrive"||e==="desktop_sharepoint"||e==="onedrive"||e==="dropbox"||e==="box"||e==="onedrivebusiness"?!0:!1},_onSortMenuClick:function(){this._IsSortEnabled()&&(this.options.noUrlUpdate?this._logSiteCatalystEvent([u.SORT_ICON,u.CLICKED]):this._logSiteCatalystEvent([u.SEARCH_BAR,u.SORT_ICON,u.CLICKED]),this._triggerViewEvent(t.ViewEvents.SORT_MENU_BTN_CLICK))},_onSortMenuNameBtnClick:function(){this.$nameSortIcon.hasClass("hidden")||(this.options.sortUiModel.set("curr_sort","1"),this.$name.addClass("curr_name"),this.$date.removeClass("curr_date"),this.$size.removeClass("curr_size"));var e=this.options.appApi.connectorsApi.getConnectorPluginName(this.options.pluginId);if(e==="root"||e==="ccloud"||this.options.pluginId==="scan_files"||e==="googleDrive"||e==="desktop_sharepoint"||e==="onedrive"||e==="dropbox"||e==="box"||e==="onedrivebusiness"){if(this.options.sortUiModel.get("curr_sort")!=="1")this.$name.removeClass("selected_menu"),this.$size.removeClass("selected_menu"),this.$date.removeClass("selected_menu"),this.$name.addClass("curr_name"),this._sortBy("name");else if(e==="root"||e==="ccloud"||this.options.pluginId==="scan_files")if(this.$name.hasClass("selected_menu")&&this._sortMenuView){this.$name.removeClass("selected_menu"),this.$size.removeClass("selected_menu"),this.$date.removeClass("selected_menu");var t=this._sortMenuView;t.close()}else this.$name.addClass("selected_menu"),this.options.isInSearchResultsView||this.$sortMenu.css("display","block"),this._onSortMenuClick(),this._IsSortEnabled()&&this.$sortMenu.css("right",this.$el.width()-(118+this.$sortMenu.width()));this.options.sortUiModel.set("curr_sort","1")}},_onSortMenuDateBtnClick:function(){this.$dateSortIcon.hasClass("hidden")||(this.options.sortUiModel.set("curr_sort","2"),this.$date.addClass("curr_date"),this.$size.removeClass("curr_size"),this.$name.removeClass("curr_name"));var e=this.options.appApi.connectorsApi.getConnectorPluginName(this.options.pluginId);if(e==="root"||e==="ccloud"||this.options.pluginId==="scan_files"||e==="googleDrive"||e==="desktop_sharepoint"||e==="onedrive"||e==="dropbox"||e==="box"){if(this.options.sortUiModel.get("curr_sort")!=="2")this.$name.removeClass("selected_menu"),this.$size.removeClass("selected_menu"),this.$date.removeClass("selected_menu"),this.$date.addClass("curr_date"),this.options.sortUiModel.get("mru_date_order")==="modified"?this._sortBy("modified"):this.options.sortUiModel.get("mru_date_order")==="last_access"?this._sortBy("last_access"):this.options.sortUiModel.get("mru_date_order")==="created"&&this._sortBy("created");else if(e==="root"||e==="ccloud"||this.options.pluginId==="scan_files")if(this.$date.hasClass("selected_menu")&&this._sortMenuView){this.$name.removeClass("selected_menu"),this.$size.removeClass("selected_menu"),this.$date.removeClass("selected_menu");var t=this._sortMenuView;t.close()}else this.$date.addClass("selected_menu"),this._onSortMenuClick(),this.options.isInSearchResultsView||this.$sortMenu.css("display","block"),this._IsSortEnabled()&&this.$sortMenu.css("right",this.dateLeftPos-this.$sortMenu.width()+"px");this.options.sortUiModel.set("curr_sort","2")}},_onSortMenuSizeBtnClick:function(){if(this._isInDocCloudOrScan())return;this.$sizeSortIcon.hasClass("hidden")||(this.options.sortUiModel.set("curr_sort","3"),this.$size.addClass("curr_size"),this.$name.removeClass("curr_name"),this.$date.removeClass("curr_date"));var e=this.options.appApi.connectorsApi.getConnectorPluginName(this.options.pluginId);if(e==="root"||e==="ccloud"||this.options.pluginId==="scan_files"||e==="googleDrive"||e==="desktop_sharepoint"||e==="onedrive"||e==="dropbox"||e==="box"){if(this.options.sortUiModel.get("curr_sort")!=="3")this.$name.removeClass("selected_menu"),this.$size.removeClass("selected_menu"),this.$date.removeClass("selected_menu"),this.$size.addClass("curr_size"),this._sortBy("size");else if(e==="root"||e==="ccloud"||this.options.pluginId==="scan_files")if(this.$size.hasClass("selected_menu")&&this._sortMenuView){this.$size.removeClass("selected_menu");var t=this._sortMenuView;t.close()}else this.$size.addClass("selected_menu"),this._onSortMenuClick(),this.options.isInSearchResultsView||this.$sortMenu.css("display","block"),this._IsSortEnabled()&&this.$sortMenu.css("right","100px");this.options.sortUiModel.set("curr_sort","3")}},_sortBy:function(t){var n=this.options,r=n.sortUiModel,i,s,o,u;i=r.get("order_by"),o=e.SortUiModel.ORDER_ASCENDING,u=e.SortUiModel.ORDER_DESCENDING,t===i?r.isAscending()?s=u:s=o:s=r.getOrderDirection(t),this._triggerViewEvent(e.ViewEvents.SORT,{orderBy:t,orderDirection:s})},_onSortUiModelChange:function(){this.render()},_isInDocCloudOrScan:function(){return this.options.pluginId==="root"||this.options.pluginId==="scan_files"?!0:!1}})}),define("core/dev/templates/selection-actions-template",[],function(){return'<input class="selection-action-checkbox"    id="selection-action-checkbox-<%= viewId %>"    title="<%= checkboxTitle %>"    type="checkbox"/>    <span class="selection-action-checkbox-checkmark"          aria-hidden="true"></span><div class="selection-action-btns unselectable">    <button class="selection-action-btn open disabled"            id="selection-action-open-btn-<%= viewId %>"            title="<%= actionOpenTitle %>"            disabled tabindex="-1">        <div class="selection-action-label theme-hyperlink"        ><%= actionOpen %></div>    </button>    <button class="selection-action-btn saveAs disabled"            id="selection-action-saveAs-btn-<%= viewId %>"            title="<%= actionSaveAsTitle %>"            disabled tabindex="-1">        <div class="selection-action-label theme-hyperlink"        ><%= actionSaveAs %></div>    </button>    <button class="selection-action-btn rename disabled"            id="selection-action-rename-btn-<%= viewId %>"            title="<%= actionRenameTitle %>"            disabled tabindex="-1">        <div class="selection-action-label  theme-hyperlink"        ><%= actionRename %></div>    </button>    <button class="selection-action-btn move disabled"            id="selection-action-move-btn-<%= viewId %>"            title="<%= actionMoveTitle %>"            disabled tabindex="-1">        <div class="selection-action-label theme-hyperlink"        ><%= actionMove %></div>    </button>    <button class="selection-action-btn download disabled"            id="selection-action-download-btn-<%= viewId %>"            title="<%= actionDownloadTitle %>"            disabled tabindex="-1">        <div class="selection-action-label theme-hyperlink"        ><%= actionDownload %></div>    </button>    <button class="selection-action-btn share disabled"            id="selection-action-share-btn-<%= viewId %>"            title="<%= actionShareTitle %>"            disabled tabindex="-1">        <div class="selection-action-label theme-hyperlink"        ><%= actionSend %></div>    </button>    <div class="selection-action-plugins" role="presentation"></div>    <button class="selection-action-btn delete"            id="selection-action-delete-btn-<%= viewId %>"            title="<%= actionDeleteTitle %>"            tabindex="-1">        <div class="selection-action-label delete theme-hyperlink"        ><%= actionDelete %></div>    </button></div><div class="selection-action-send-menu menu ui-theme theme-container" role="menu"></div>'}),define("core/dev/utils/action-ids",["core/ac-core","i18n!core/nls/ui-strings"],function(e,t){return e.ActionIds={toolIdsToActionIds:{send:"tracked_send",exportpdf:"exportpdf",exportpdf_rhp:"exportpdf",createpdf:"createpdf",createpdf_rhp:"createpdf",fillsign:"fillsign",combineconvertpdf_rhp:"combineconvertpdf"},toolIdsToActionNames:{send:t.SEND_AND_TRACK,exportpdf:"Export PDF",exportpdf_rhp:"Export PDF",convertpdf:"Convert PDF",createpdf:"Create PDF",createpdf_rhp:"Create PDF",fillsign:"Fill & Sign",combineconvertpdf_rhp:"Convert PDF"},RENAME:"rename",MOVE:"move",MOVE_ACROSS_CONNECTORS:"move_across_connectors",UPLOAD:"upload",DOWNLOAD:"download",DELETE:"delete",FILTER:"filter",SORT:"sort",SEARCH:"search",NEWFOLDER:"newfolder",SEND:"tracked_send",EXPORTPDF:"exportpdf",CREATEPDF:"createpdf",FILLSIGN:"fillsign",MULTIPLE_SELECTION:"multiple_selection",NON_PDF:"non_pdf",NON_PDF_SAVE:"non_pdf_save"},e.ActionIds}),define("core/dev/templates/selection-action-item-template",[],function(){return'<button class="selection-action-btn plugin-selector"     title="<%= title %>" tabindex="-1">    <div class="selection-action-label theme-hyperlink"><%= label %></div></button>'}),define("core/dev/views/plugins-selector-view",["core/ac-core","core/utils/sc-analytics","core/utils/view-util","core/views/view"],function(e,t,n){e.PluginsSelectorView=e.View.extend({events:{"click .plugin-selector":"_onPluginSelectorClick"},initialize:function(){e.View.prototype.initialize.call(this),this._addKeyEventListener(),this._addFocusEventListener()},render:function(){var t=this.options,n=t.pluginsUiModel,r=this.$el,i,s,o,u,a,f;e.View.prototype.render.call(this),r.children(".plugin-selector").remove(),s=_.template(this._getSelectorTemplate()),n.get("plugins").each(_.bind(function(e){u=e.id;if(this._getSectionName&&e.get("config").section!==this._getSectionName())return!0;o=e.get("selector_api");if(!o)return!0;this.options.appApi.pluginsApi.addSelectorApi(u,o),o.setElement(r),o.setTemplateFunction(s);var t=e.get("tooltip");t&&o.setToolTip(t),a=e.get("selector_label"),a&&o.setSelectorLabel(a),f=e.get("is_removable"),f&&o.setRemovable(f),delete o.$item;if(!e.isPluginShown())return!0;o.render(),i=r.children().last(),i.data("id",u),i.attr("id",u+"-selector"),e.isPluginEnabled()||i.addClass("disabled").attr({disabled:"disabled","aria-disabled":!0}),document.getElementById(u+"-plugin")&&i.attr({"aria-controls":u+"-plugin"}),e.set("selector_elem",i),o.setElement(i)},this)),this._initWrappers(),this._dimDisabledItems(),this._unhighlightSelection(),this._highlightSelection()},selectPlugin:function(e){this.$lastActiveElement=$(document.activeElement),this._triggerViewEvent(this._getSelectorViewEvent(),{pluginId:e})},_getSelectorTemplate:function(){LOG.warning("AcCore.PluginsSelectorView._getSelectorTemplate must be overridden by subclass")},_getSelectorViewEvent:function(){LOG.warning("AcCore.PluginsSelectorView._getSelectorViewEvent must be overridden by subclass")},_initWrappers:function(){this.$selectors=this.$(".plugin-selector")},_getSelectedUiModel:function(){var e=this.options.pluginsUiModel,t,n;return t=e.get("selected_plugin_id"),t&&(n=e.get("plugins").get(t)),n},_getSelectedSelectorElement:function(){var e=this._getSelectedUiModel();return e?e.get("selector_elem"):undefined},_getSelectedSelectorApi:function(){var e=this._getSelectedUiModel();return e?e.get("selector_api"):undefined},_dimDisabledItems:function(){var e=this.options,t=e.pluginsUiModel,n=e.appApi.pluginsApi,r,i;t.get("plugins").each(function(e){r=e.get("plugin_api"),i=e.get("selector_elem");if(!r||!i)return!0;n.callPluginApiMethod(r,"isEnabled",undefined,e.isPluginEnabled(),!0)?i.removeClass("disabled").removeAttr("disabled aria-disabled"):i.addClass("disabled").attr({disabled:"disabled","aria-disabled":!0})})},_unhighlightSelection:function(){this.$selectors.removeClass("selected").filter("[aria-pressed]").attr({"aria-pressed":!1}),this.$selectors.filter("[aria-selected]").attr({"aria-selected":!1}),this.$selectors.filter("[aria-checked]").attr({"aria-checked":!1})},_highlightSelection:function(){var e=this._getSelectedSelectorElement();e?(this.$selectors.not(e).attr("tabindex",-1),e.addClass("selected").attr("tabindex",0).filter("[aria-pressed]").attr({"aria-pressed":!0}),e.filter("[aria-selected]").attr({"aria-selected":!0}),e.filter("[aria-checked]").attr({"aria-checked":!0}),this.$lastActiveElement&&e.attr("id")===this.$lastActiveElement.attr("id")&&e.focus()):this.$selectors.filter(":focusable").attr("tabindex",0),this.$lastActiveElement=null},_onPluginSelectorClick:function(e){var n=$(e.target),r,i,s,o,u,a,f,l=this.options;n.is(".plugin-selector")||(n=$(e.currentTarget)),r=n.data("id"),i=n.hasClass("selected"),s=n.hasClass("disabled"),l.noHistoryEffect||(f=l.pluginsUiModel,f&&f.set("pending_plugin_id",r)),!i&&!s?(o=!0,a=t.CLICKED):a=t.CLICKED_NOOP,u=this.options.appApi.pluginsApi.callSelectorMethod(r,"getSiteCatalystName",undefined,r,!0),u||(u=this.options.appApi.pluginsApi.callPluginMethod(r,"getSiteCatalystName",undefined,r,!0)),this._logSiteCatalystEvent([u,a]),o&&this.selectPlugin(r)},_onKeyDown:function(e){var t=$(e.target),r=this.$el,i,s=!1;if(!t.closest(r).length||!t.closest(".plugin-selector").length)return s;switch(e.which){case 13:case 32:t.trigger("click"),this._consumeEvent(e),s=!0;break;case 37:case 38:i=n.getNextFocusableDescendant(r,!0,!0,".plugin-selector"),s=!0;break;case 39:case 40:i=n.getNextFocusableDescendant(r,!1,!0,".plugin-selector"),s=!0}return i&&i.length===1&&(this._consumeEvent(e),i.focus(),i.is("[role='tab']")&&i.trigger("click")),s},_onFocusIn:function(e){var t=$(e.target),n=this.$selectors.filter(":focusable");t.is(".plugin-selector")&&(n.not(t).attr("tabindex",-1),t.attr("tabindex",0))},_onFocusOut:function(e){var t=$(e.target),n=this.$selectors.filter(":focusable"),r=n.filter(".selected");t.is(".plugin-selector")&&r.length&&(n.not(r).attr("tabindex",-1),r.attr("tabindex",0))}})}),define("core/dev/views/selection-actions-plugins-view",["core/ac-core","core/templates/selection-action-item-template","core/views/plugins-selector-view"],function(e,t){e.SelectionActionsPluginsView=e.PluginsSelectorView.extend({initialize:function(){e.PluginsSelectorView.prototype.initialize.call(this),this.options=_.extend({},this.options,{pluginsUiModel:this.options.selectionActionsPluginsUiModel})},render:function(){this.options.pluginsUiModel.get("plugins").each(function(e){var t=e.get("selector_elem");t&&t.hasClass("disabled")?e.set("enable_plugin",!1):e.set("enable_plugin",!0)}),e.PluginsSelectorView.prototype.render.call(this),this._updateButtons()},_highlightSelection:function(){this.$selectors.filter(":focusable").attr("tabindex","-1")},_getSelectorTemplate:function(){return t},_getSelectorViewEvent:function(){return e.ViewEvents.SELECTION_ACTION_ITEM_CLICK},_onPluginSelectorClick:function(t){var n=this.options,r=n.appApi;r.pluginsApi.callPluginMethodForEachIfEnabled(n.selectionActionsPluginsUiModel.getAllIds(),"deselectPlugin",undefined,undefined,!0),_.delay(_.bind(function(){e.PluginsSelectorView.prototype._onPluginSelectorClick.call(this,t)},this),n.selectionActionsPluginsUiModel.get("deselect_delay"))},_onKeyDown:function(){return!1},_updateButtons:function(){var e=this.options,t=e.appApi;t.pluginsApi.callSelectorMethodForEach(e.selectionActionsPluginsUiModel.getAllIds(),"updateSelector",e,undefined,!0)}})}),define("core/dev/templates/selection-action-send-menu-template",[],function(){return'<div class="selection-action-send-menu-item selection-action-send-menu-item-common theme-text theme-hoverable"     data-section="send" data-value="attach-to-email" tabindex="-1"     role="menuitem" data-test-name="selection-action-item-attach-to-email">    <%= attachToEmail %></div><div class="selection-action-send-menu-item selection-action-send-menu-item-common theme-text theme-hoverable"     data-section="send" data-value="send-and-track" tabindex="-1"     role="button" data-test-name="selection-action-item-send-and-track">    <%= sendAndTrack %></div> <div class="menu-nub-grey left"></div>'}),define("core/dev/views/selection-action-send-menu-view",["core/ac-core","core/templates/selection-action-send-menu-template","i18n!core/nls/ui-strings","core/utils/sc-analytics","core/views/menu-view"],function(e,t,n,r){return e.SelectionActionSendMenuView=e.MenuView.extend({events:function(){return _.extend({},e.MenuView.prototype.events,{"click .selection-action-send-menu-item":"_onMenuItemClick"})},initialize:function(){e.MenuView.prototype.initialize.call(this)},render:function(){e.MenuView.prototype.render.call(this),this.$el.children().length===0&&(this.$el.html(_.template(t)({attachToEmail:n.ATTACH_TO_EMAIL,sendAndTrack:n.SEND_AND_TRACK})),this._initWrappers()),this.$attachToEmailMenuItem.attr("tabindex","0"),this.$attachToEmailMenuItem.attr("aria-label",n.ATTACH_TO_EMAIL),this.$sendAndTrackMenuItem.attr("aria-label",n.SEND_AND_TRACK)},open:function(t,n){return this._logSiteCatalystEvent([r.SEND_MENU,r.SHOWN]),this.$el.parent().css("overflow","visible"),n&&this.$el.css("left",n.left),e.MenuView.prototype.open.call(this,t)},close:function(t){return this.$el.parent().css("overflow","hidden"),e.MenuView.prototype.close.call(this,t)},reposition:function(e){e&&this.$el.css("left",e)},_initWrappers:function(){e.MenuView.prototype._initWrappers.call(this),this.$attachToEmailMenuItem=this.$(".selection-action-send-menu-item[data-value='attach-to-email']"),this.$sendAndTrackMenuItem=this.$(".selection-action-send-menu-item[data-value='send-and-track']")},_onMenuItemClick:function(e){var t=$(e.currentTarget),n=t.attr("data-value");if(t.hasClass("disabled")){this.close();return}this.close(_.bind(function(){this._executeSend(n)},this))},_executeSend:function(t){this._logSiteCatalystEvent([t==="attach-to-email"?r.ATTACH_TO_EMAIL:r.SEND_AND_TRACK,r.CLICKED]),t==="attach-to-email"?this._triggerViewEvent(e.ViewEvents.SELECTION_ACTION_ATTACH_TO_EMAIL):t==="send-and-track"&&this._triggerViewEvent(e.ViewEvents.SELECTION_ACTION_SEND_AND_TRACK)},_getSiteCatalystContext:function(){return this.options.noUrlUpdate?undefined:r.SHARE},_onFocusIn:function(e){var t=$(e.target);return this.$(":focusable").not(t).attr("tabindex",-1),t.attr("tabindex",0),!0},_onBodyClick:function(t){return!this.options.appApi.displayApi.isModalAjax()&&this._isClickOutsideMenu(t)&&this._consumeEvent(t),e.MenuView.prototype._onBodyClick.call(this,t)}}),e.SelectionActionSendMenuView}),define("core/dev/views/selection-actions-view",["core/ac-core","core/templates/selection-actions-template","i18n!core/nls/ui-strings","core/utils/util","core/utils/css-util","core/utils/sc-analytics","core/utils/action-ids","core/utils/view-util","core/views/view","core/views/view-events","core/views/selection-actions-plugins-view","core/views/selection-action-send-menu-view"],function(e,t,n,r,i,s,o,u){e.SelectionActionsView=e.View.extend({events:{click:"_onClick","click .selection-action-checkbox":"_onCheckboxClick","click .selection-action-btn.open":"_onOpenClick","click .selection-action-btn.saveAs":"_onSaveAsClick","click .selection-action-btn.rename":"_onRenameClick","click .selection-action-btn.move":"_onMoveClick","click .selection-action-btn.download":"_onDownloadClick","click .selection-action-btn.share":"_onShareClick","click .selection-action-btn.delete":"_onDeleteClick"},initialize:function(){e.View.prototype.initialize.call(this),this.template=_.template(t),this._addKeyEventListener(),this._addFocusEventListener(),this._addUiModelEventListeners()},render:function(){var s=this.$el,o,u,a=e.Features,f=this.options,l;return e.View.prototype.render.call(this),s.children().length===0?(s.empty().html(_.template(t)({checkboxTitle:n.CLOSE,actionOpen:n.OPEN,actionSaveAs:n.SAVE_AS,actionRename:n.RENAME,actionMove:n.MOVE,actionDownload:n.DOWNLOAD,actionSend:n.SEND_AND_TRACK,actionDelete:n.DELETE,actionOpenTitle:this._getOpenToolTip(),actionSaveAsTitle:this._getSaveAsToolTip(),actionRenameTitle:this._getRenameToolTip(),actionMoveTitle:this._getMoveToolTip(),actionDownloadTitle:this._getDownloadToolTip(),actionShareTitle:this._getShareToolTip(),actionDeleteTitle:this._getDeleteToolTip(),viewId:f.viewId})),this._initWrappers(),r.isCEF()&&f.appApi.rnaApi.done(_.bind(function(e){!e.stApi.isSendTrackAvailable()||f.noShare?this.$shareBtn.children().text(n.ATTACH_TO_EMAIL):this.$shareBtn.children().text(n.SEND),this.$shareBtn.attr("title",this._getShareToolTip())},this)),!a.isFeatureEnabled("share_ui")&&!a.isFeatureEnabled("share_ui_2")&&this.$shareBtn.hide()):(this.$openBtn.attr("title",this._getOpenToolTip()),this.$saveAsBtn.attr("title",this._getSaveAsToolTip()),this.$renameBtn.attr("title",this._getRenameToolTip()),this.$moveBtn.attr("title",this._getMoveToolTip()),this.$downloadBtn.attr("title",this._getDownloadToolTip()),this.$shareBtn.attr("title",this._getShareToolTip()),this.$deleteBtn.attr("title",this._getDeleteToolTip())),r.isCEF()&&f.selectionUiModel.getNumSelectedItems()<=0&&s.hasClass("open")?(s.removeClass("open"),this):(this._updateCheckbox(),this._updateButtons(),this._updateButtonsVisibility(),this._renderChildViews(),o=this.$(".selection-action-btn"),u=this.$(".selection-action-label"),l=this._removeLastSeparator(o),i.fitInOneRow(o,u,{prefFontSize:14,minFontSize:11,prefLrPadding:10,lastVisible:l}),this._repositionSendMenu(),this.$(":tabbable").length||this.$(":focusable:first").attr("tabindex","0"),this.$(":tabbable").length||this.$(":focusable:first").attr("tabindex","0"),this)},_initWrappers:function(){this.$selectionActions=this.$(".selection-action-btns"),this.$selectionActionsPlugins=this.$(".selection-action-plugins"),this.$checkbox=this.$(".selection-action-checkbox"),this.$openBtn=this.$(".selection-action-btn.open"),this.$saveAsBtn=this.$(".selection-action-btn.saveAs"),this.$renameBtn=this.$(".selection-action-btn.rename"),this.$moveBtn=this.$(".selection-action-btn.move"),this.$downloadBtn=this.$(".selection-action-btn.download"),this.$shareBtn=this.$(".selection-action-btn.share"),this.$deleteBtn=this.$(".selection-action-btn.delete"),this.$selectionActionSendMenuView=this.$(".selection-action-send-menu")},_getOpenToolTip:function(){var e=n.OPEN,t,r,i;return t=this.options.selectionUiModel.getSelectionCountByType(),r=t.numFiles,i=t.numFolders,i===0?r===1?e=n.OPEN_FILE:e=n.OPEN_FILES:e=n.OPEN_FOLDER,e},_getSaveAsToolTip:function(){var e=n.SAVE_AS,t,i;return t=this.options.selectionUiModel.getSelectionCountByType(),i=t.numFiles,i===1?e=n.SAVE_AS_FILE:r.isCEF()&&!this.options.mutipleNonPDFsSaveDisabled&&(e=n.SAVE_AS_FILES),e},_getRenameToolTip:function(){var e,t;return t=this.options.selectionUiModel.getSingleSelectedItemModel(),t?e=t.isFile()?n.RENAME_FILE:n.RENAME_FOLDER:e=n.RENAME,e},_getMoveToolTip:function(){var e,t,i,s;return t=this.options.selectionUiModel.getSelectionCountByType(),i=t.numFiles,s=t.numFolders,i===0?s===1?e=n.MOVE_FOLDER:e=n.MOVE_FOLDERS:i===1?s===0?e=n.MOVE_FILE:s===1?e=n.MOVE_FILE_AND_FOLDER:e=n.MOVE_FILE_AND_FOLDERS:s===0?e=n.MOVE_FILES:s===1?e=n.MOVE_FILES_AND_FOLDER:e=n.MOVE_FILES_AND_FOLDERS,r.isCEF()&&(e=n.MOVE),e},_getDownloadToolTip:function(){var e,t,r,i;return t=this.options.selectionUiModel.getSelectionCountByType(),r=t.numFiles,i=t.numFolders,r===0?i===1?e=n.DOWNLOAD_FOLDER:e=n.DOWNLOAD:r===1?i===0?e=n.DOWNLOAD_FILE:e=n.DOWNLOAD:i===0?e=n.DOWNLOAD_FILES:e=n.DOWNLOAD,e},_getShareToolTip:function(){var e=this._getShareToolTipCommon();return r.isCEF()&&this.options.appApi.rnaApi.done(_.bind(function(t){!t.stApi.isSendTrackAvailable()||this.options.noShare?e=n.ATTACH_TO_EMAIL:e=this._getShareToolTipCommon()},this)),e},_getShareToolTipCommon:function(){var t,r;return r=this.options.selectionUiModel.getSelectionCountByType(),r.numFiles===1?e.Features.isFeatureEnabled("share_ui_2")?t=n.SEND_FILE:t=n.SHARE_FILE:e.Features.isFeatureEnabled("share_ui_2")?t=n.SEND_FILES:t=n.SHARE_FILES,t},_getDeleteToolTip:function(){return n.DELETE},_isItemSelectable:function(e){return!this.options.noFolderSelection||!e.isFolder()},_getNumSelectable:function(){var e=0;return this.options.collection.each(_.bind(function(t){this._isItemSelectable(t)&&(e+=1)},this)),e},_updateCheckbox:function(){var e=this.$checkbox,t=this.options,n;t.collectionsUiModel.get("checkbox")?(e.removeClass("hidden"),this.$selectionActions.removeClass("no-checkbox"),n=t.selectionUiModel.getNumSelectedItems(),e.removeClass("dash check hidden").removeAttr("aria-checked checked").prop("indeterminate",!1),n>0&&(n===this._getNumSelectable()?e.addClass("check").attr({"aria-checked":"true",checked:"checked"}):e.addClass("dash").attr("aria-checked","mixed").prop("indeterminate",!0))):(e.addClass("hidden"),this.$selectionActions.addClass("no-checkbox")),r.isIE8()&&u.detachAndReattachElement(e.next())},_updateButtons:function(){var t=this.options,n=t.selectionUiModel,i=n.getSingleSelectedItemModel(),s=n.getSelectionCountByType(),u,a,f,l,c=t.appApi.connectorsApi;u=s.numFiles,a=s.numFolders,f=s.numNonPDFs,l=s.numForms;if(i){r.isCEF()?i.isFolder()||i.isPDF()?(this.$openBtn.show(),this.$saveAsBtn.hide()):(this.$openBtn.hide(),this.$saveAsBtn.show()):(this.$openBtn.hide(),this.$saveAsBtn.hide()),this.$openBtn.removeClass("disabled").removeAttr("disabled"),this.$openBtn.children().removeClass("theme-disabled-text").addClass("theme-hyperlink"),this.$saveAsBtn.removeClass("disabled").removeAttr("disabled"),this.$saveAsBtn.children().removeClass("theme-disabled-text").addClass("theme-hyperlink"),this.$renameBtn.removeClass("disabled").removeAttr("disabled"),this.$renameBtn.children().removeClass("theme-disabled-text").addClass("theme-hyperlink"),this.$moveBtn.removeClass("disabled").removeAttr("disabled");if(e.Features.isFeatureEnabled("share_ui")||e.Features.isFeatureEnabled("share_ui_2"))i.isFile()?(this.$shareBtn.removeClass("disabled").removeAttr("disabled"),this.$shareBtn.children().removeClass("theme-disabled-text").addClass("theme-hyperlink")):(this.$shareBtn.addClass("disabled").attr("disabled","disabled"),this.$shareBtn.children().removeClass("theme-hyperlink").addClass("theme-disabled-text"));i.isFile()||i.isFolder()?(this.$downloadBtn.removeClass("disabled").removeAttr("disabled"),this.$downloadBtn.children().removeClass("theme-disabled-text").addClass("theme-hyperlink")):(this.$downloadBtn.addClass("disabled").attr("disabled","disabled"),this.$downloadBtn.children().removeClass("theme-hyperlink").addClass("theme-disabled-text"))}else{r.isCEF()&&a===0&&u>0&&l===0?f===0?(this.$openBtn.show(),this.$saveAsBtn.hide()):u===f?(this.$openBtn.hide(),this.$saveAsBtn.show()):(this.$openBtn.hide(),this.$saveAsBtn.hide()):(this.$openBtn.hide(),this.$saveAsBtn.hide()),this.$openBtn.removeClass("disabled").removeAttr("disabled"),this.$openBtn.children().removeClass("theme-disabled-text").addClass("theme-hyperlink"),this.$renameBtn.addClass("disabled").attr("disabled","disabled"),this.$renameBtn.children().removeClass("theme-hyperlink").addClass("theme-disabled-text"),this.$moveBtn.removeClass("disabled").removeAttr("disabled"),f>1&&t.mutipleNonPDFsSaveDisabled?(this.$saveAsBtn.addClass("disabled").attr("disabled","disabled"),this.$saveAsBtn.children().removeClass("theme-hyperlink").addClass("theme-disabled-text")):(this.$saveAsBtn.removeClass("disabled").removeAttr("disabled"),this.$saveAsBtn.children().removeClass("theme-disabled-text").addClass("theme-hyperlink"));if(a>0&&u>0||a>1)this.$downloadBtn.addClass("disabled").attr("disabled","disabled"),this.$downloadBtn.children().removeClass("theme-hyperlink").addClass("theme-disabled-text");else if(u>0||a===1)this.$downloadBtn.removeClass("disabled").removeAttr("disabled"),this.$downloadBtn.children().removeClass("theme-disabled-text").addClass("theme-hyperlink");if(e.Features.isFeatureEnabled("share_ui")||e.Features.isFeatureEnabled("share_ui_2"))a>0?(this.$shareBtn.addClass("disabled").attr("disabled","disabled"),this.$shareBtn.children().removeClass("theme-hyperlink").addClass("theme-disabled-text")):u>0&&(this.$shareBtn.removeClass("disabled").removeAttr("disabled"),this.$shareBtn.children().removeClass("theme-disabled-text").addClass("theme-hyperlink"))}t.folderDeletionDisabled&&(a>0?(this.$deleteBtn.addClass("disabled").attr("disabled","disabled"),this.$deleteBtn.children().removeClass("theme-hyperlink").addClass("theme-disabled-text")):(this.$deleteBtn.removeClass("disabled").removeAttr("disabled"),this.$deleteBtn.children().removeClass("theme-disabled-text").addClass("theme-hyperlink"))),this._updateButton(this.$renameBtn,o.RENAME),c.isConnectorPlugin(t.pluginId)||this._updateButton(this.$moveBtn,o.MOVE_ACROSS_CONNECTORS),r.isCEF()||this._updateButton(this.$shareBtn,o.SEND),this._updateButton(this.$downloadBtn,o.DOWNLOAD),this._updateButton(this.$deleteBtn,o.DELETE),this._updateButton(this.$saveAsBtn,o.NON_PDF_SAVE)},_updateButtonsVisibility:function(){var e=this.options,t=e.appApi.connectorsApi;r.isCEF()||this._updateButtonVisibility(this.$shareBtn,e.noShare||!e.appApi.pluginsApi.isPluginAvailable("send"));if(!t.isConnectorPlugin(e.pluginId)&&e.pluginId!=="scan_files")return;this._updateButtonVisibility(this.$renameBtn,e.noRename),this._updateButtonVisibility(this.$moveBtn,e.noMove),this._updateButtonVisibility(this.$downloadBtn,e.noDownload),this._updateButtonVisibility(this.$deleteBtn,e.noDelete)},_updateButton:function(e,t){var n=this.options,r=n.selectionUiModel.getSelectedItemModels(),i=!1,s=n.appApi.connectorsApi;i=s.isActionRestrictedOnItems(r,t),i&&(e.addClass("disabled").attr("disabled","disabled"),e.children().removeClass("theme-hyperlink").addClass("theme-disabled-text"))},_updateButtonVisibility:function(e,t){t?e.hide():e.show()},_logNumSelectedItems:function(){var e=this.options,t=e.appApi.siteCatalystApi,n=e.selectionUiModel,i=n.getNumSelectedFiles(),o=n.getNumSelectedFolders(),u=this._getParentScContext(),a=[];i>0&&(this.options.pluginId==="scan_files"?(a=r.addToArray(a,u),a=r.addToArray(a,s.NUM_FILES_CHECKED),a=r.addToArray(a,s.getCountCode(i)),e.appApi.siteCatalystApi.logScEvent(a)):t.logScEvent([u,s.NUM_FOLDERS_CHECKED,s.getCountCode(i)])),o>0&&(this.options.pluginId==="scan_files"?(a=r.addToArray(a,u),a=r.addToArray(a,s.NUM_FILES_CHECKED),a=r.addToArray(a,s.getCountCode(o)),e.appApi.siteCatalystApi.logScEvent(a)):t.logScEvent([u,s.NUM_FOLDERS_CHECKED,s.getCountCode(o)]))},_getSiteCatalystContext:function(){return s.ACTION_BAR},_renderChildViews:function(){var t=this.options;this._renderChildView("_selectionActionsPluginsView",e.SelectionActionsPluginsView,this.$selectionActionsPlugins),r.isCEF()&&t.appApi.rnaApi.done(_.bind(function(n){n.stApi.isSendTrackAvailable()&&!t.noShare&&this._renderChildView("_selectionActionSendMenuView",e.SelectionActionSendMenuView,this.$selectionActionSendMenuView)},this))},_onClick:function(e){var t=this.options;e.target===this.$el.get(0)&&!t.collectionsUiModel.get("checkbox")&&t.appApi.selectionApi.clearSelection()},_onCheckboxClick:function(){this._logSiteCatalystEvent([s.CANCEL,s.CLICKED]),this._triggerViewEvent(e.ViewEvents.CLEAR_SELECTION)},_onDeleteClick:function(t){if($(t.currentTarget).hasClass("disabled"))return;this._logNumSelectedItems(),this._logSiteCatalystEvent([s.DELETE,s.CLICKED]),this._triggerViewEvent(e.ViewEvents.DELETE,{parentView:this,scContext:this._getFullScContext()})},_onOpenClick:function(t){var n=this.options;if($(t.currentTarget).hasClass("disabled"))return;this.options.pluginId==="scan_files"&&this._logSiteCatalystEvent([s.SCAN_DOC_OPEN,s.CLICKED]),n.selectionUiModel.getNumSelectedItems()>0&&this._triggerViewEvent(e.ViewEvents.OPEN_SELECTED_COLLECTION_ITEMS)},_onSaveAsClick:function(t){var n=this.options;if($(t.currentTarget).hasClass("disabled"))return;n.selectionUiModel.getNumSelectedItems()>0&&this._triggerViewEvent(e.ViewEvents.SAVEAS_SELECTED_COLLECTION_ITEMS)},_onRenameClick:function(t){var n=this.options,r=n.selectionUiModel.getSingleSelectedItemModel(),i;if(!r||$(t.currentTarget).hasClass("disabled"))return;i=r.get("name"),this._logNumSelectedItems(),this._logSiteCatalystEvent([s.RENAME,s.CLICKED]),this._triggerViewEvent(e.ViewEvents.RENAME,{id:r.get("id"),object_type:r.get("object_type"),name:i,existingName:i,parentView:this,scContext:this._getFullScContext()})},_onMoveClick:function(t){if($(t.currentTarget).hasClass("disabled"))return;this._logNumSelectedItems(),this._logSiteCatalystEvent([s.MOVE,s.CLICKED]),this._triggerViewEvent(e.ViewEvents.MOVE,{parentView:this,scContext:this._getFullScContext()})},_onDownloadClick:function(t){var n=this.options,r=n.selectionUiModel,i,o,u;if($(t.currentTarget).hasClass("disabled"))return;this._logNumSelectedItems(),this._logSiteCatalystEvent([s.DOWNLOAD,s.CLICKED]),u=r.getSelectedItemModels(),i=r.getSingleSelectedItemModel(),i||(u=_.filter(u,function(e){return!e.isForm()}),u.length===1&&(i=u[0])),i&&i.isFile()?this._triggerViewEvent(e.ViewEvents.DOWNLOAD,{id:i.id,scContext:this._getFullScContext(),numForms:r.getNumSelectedForms(),itemModel:i}):(o=_.pluck(u,"id").join(";"),this._triggerViewEvent(e.ViewEvents.DOWNLOAD_ZIP,{id_list:o,scContext:this._getFullScContext(),numForms:r.getNumSelectedForms(),itemModel:u}))},_onShareClick:function(t){var n=this.options,i=n.appApi,o="send",u;if($(t.currentTarget).hasClass("disabled"))return;this._logNumSelectedItems(),this._logSiteCatalystEvent([s.SHARE,s.CLICKED]);if(r.isCEF()){this._consumeEvent(t),i.rnaApi.done(_.bind(function(t){t.stApi.isSendTrackAvailable()&&!n.noShare?this._selectionActionSendMenuView.isMenuOpen()?this.close():this._selectionActionSendMenuView.open(undefined,_.extend({},{left:this.$selectionActions.position().left+this.$shareBtn.position().left,top:this.$selectionActions.position().top+this.$shareBtn.position().top})):(this._logSiteCatalystEvent([s.ATTACH_TO_EMAIL,s.CLICKED]),this._triggerViewEvent(e.ViewEvents.SELECTION_ACTION_ATTACH_TO_EMAIL))},this));return}if(e.Features.isFeatureEnabled("share_ui_2")){i.routerApi.navigate(o,{trigger:!0});return}u=n.selectionUiModel.get("selected_item_models"),this._triggerViewEvent(e.ViewEvents.SHOW_PUBLIC_SHARE_DLG,{models:u,parentView:this,scContext:this._getFullScContext()})},_repositionSendMenu:function(){var e=this.options,t=e.appApi;r.isCEF()&&t.rnaApi.done(_.bind(function(t){t.stApi.isSendTrackAvailable()&&!e.noShare&&this._selectionActionSendMenuView.isMenuOpen()&&this._selectionActionSendMenuView.reposition(this.$selectionActions.position().left+this.$shareBtn.position().left)},this))},_onKeyDown:function(e){var t=this.$el,n,r=e.which,i=r===37,s=!1;if(!u.descendantHasFocus(t))return s;switch(r){case 13:s=!0,$(e.target).click();break;case 37:case 39:n=u.getNextFocusableDescendant(t,i,!0)}return n&&n.length===1&&(s=!0,n.focus()),s},_onFocusIn:function(e){var t=$(e.target);this.$(":focusable").not(t).attr("tabindex",-1),t.attr("tabindex",0)},_addUiModelEventListeners:function(){this.options.selectionUiModel.on("change:selected_item_models",this._onSelectedItemModelsChange)},_onSelectedItemModelsChange:function(){var e=this.options,t=e.appApi,n=this.$el;if(t.usersMeApi.isUserInCohort("bh-home20","enabled"))return;if(!e.collectionUiModel.get("is_active")||e.noSelectionActions||t.acrobatApi.isInAcrobat())return;e.selectionUiModel.getNumSelectedItems()>0?(n.hasClass("open")||(this._logSiteCatalystEvent(s.SHOWN),n.addClass("open").removeAttr("aria-hidden")),this.render(),r.isIE8()&&_.defer(this.render)):n.removeClass("open").attr("aria-hidden","true")},_removeLastSeparator:function(e){var t=e.length-1,n,r,i=0,s;for(;t>=0;t--)n=e.eq(t),!i&&u.isElementDisplayed(n)?(r=n.find("div"),r.hasClass("delete")||r.addClass("delete"),s=n,i=1):(r=n.find("div"),r.hasClass("delete")&&r.removeClass("delete"));return s}})}),define("core/dev/utils/image-loader",["core/ac-core","core/utils/http-util","core/utils/util"],function(e,t,n){var r=6,i=[],s=[];return e.ImageLoader={loadImage:function(e,t,n,r){var i=$.Deferred();return this.enqueueImageRequest(e,t,i,n,r),this.dequeueImageRequest(),i.promise()},suspendPendingRequests:function(){this._isSuspended=!0},resumePendingRequests:function(){var e;this._isSuspended=!1;for(;;){e=this.dequeueImageRequest();if(!e)break}},cancelPendingRequests:function(){i=[],s=[]},enqueueImageRequest:function(e,t,n,r,s){var o={$image:e,url:t,deferred:n,eventData:r,force:s};i.push(o)},dequeueImageRequest:function(){var e;return this._isSuspended||i.length===0||s.length>=r?e:(e=i.shift(),s.push(e),n.isCEF()?this.processRNAImageRequest(e.$image,e.url,e.deferred,e.eventData,e.force):this.processImageRequest(e.$image,e.url,e.deferred,e.eventData,e.force),e)},processImageRequest:function(e,t,n,r,i){var s=function(e){e.off("load").off("error")},o=_.bind(function(e){this.removeActiveImageRequest(e),this.dequeueImageRequest()},this);if(!i&&e.attr("src")){e.data("loaded")?n.resolve(r):n.reject(r),o(e);return}r=r||{},e.off().on("load",r,_.bind(function(){e.css("visibility","inherit"),e.data("loaded",!0),s(e),o(e),n.resolve(r)},this)).on("error",r,_.bind(function(){e.css("visibility","hidden"),e.data("loaded",!1),s(e),o(e),n.reject(r)},this)),e.attr("src",t)},processRNAImageRequest:function(e,n,r,i,s){var o,u,a,f,l,c,h;o=_.bind(function(e){this.removeActiveImageRequest(e),this.dequeueImageRequest()},this),u=function(e){e.off("load").off("error")},a=function(e,t){e.css("visibility","inherit"),e.data("loaded",!0),u(e),o(e),r.resolve(t)},f=function(e,t){e.css("visibility","hidden"),e.data("loaded",!1),u(e),o(e),r.reject(t)};if(!s&&e.attr("src")){e.data("loaded")?r.resolve(i):r.reject(i),o(e);return}i=i||{},l=new XMLHttpRequest,c=t.getRequestHeaders("GET"),l.open("GET",n,!0),l.responseType="blob",l.withCredentials=!0;for(h in c)c.hasOwnProperty(h)&&l.setRequestHeader(h,c[h]);l.onload=function(){var t=this.status;t===200?(n=URL.createObjectURL(this.response),e.off().on("load",i,function(){URL.revokeObjectURL(n),a(e,i)}).on("error",i,function(){URL.revokeObjectURL(n),f(e,i)}),e.attr("src",n)):f(e,i)},l.onerror=function(){f(e,i)},l.send(null)},removeActiveImageRequest:function(e){_.each(s,function(t,n){if(t&&t.$image===e){s.splice(n,1);return}})}},e.ImageLoader}),define("core/dev/templates/collection-item-template",[],function(){return'<div role="gridcell"     class="collection-item-cell collection-item-checkbox-cell">    <input type="checkbox" class="collection-item-checkbox"           tabindex="-1" />    <span class="collection-item-checkbox-checkmark"          aria-hidden="true"></span></div><div role="presentation" class="collection-item-info-container">    <div role="rowheader"         class="collection-item-cell collection-item-info-cell">        <div role="img" class="collection-item-thumb"></div>        <img class="collection-item-thumb hidden" aria-hidden="true" />        <div class="collection-item-name theme-list-item-text" tabindex="-1">        <a class="collection-item-name-text theme-list-item-text" tabindex="-1"></a>        <img class="collection-item-name-icon" alt="" tabindex="-1"/>        </div>        <div class="collection-item-public">            <div class="collection-item-public-icon" tabindex="-1"                 title="<%= publicIconTitle %>">                <span class="collection-item-public-shared                             hidden-accessible"></span>            </div>        </div>    </div>    <div role="gridcell"         class="collection-item-cell collection-item-size-cell">        <div class="collection-item-size theme-list-item-text"></div>    </div>    <div role="gridcell"         class="collection-item-cell collection-item-date-cell">        <div class="collection-item-date theme-list-item-text"></div>    </div></div><div role="presentation" class="collection-item-mask"></div>'}),define("core/dev/views/collection-item-view",["core/ac-core","core/templates/collection-item-template","i18n!core/nls/ui-strings","i18n!files/nls/ui-strings","core/utils/util","core/utils/css-util","core/utils/truncate","core/utils/file-types","core/utils/num-util","core/utils/date-util","core/utils/view-util","core/utils/image-loader","core/views/view"],function(e,t,n,r,i,s,o,u,a,f,l,c){e.CollectionItemView=e.View.extend({events:{"mouseenter .collection-item-name-icon":"_onIconHover"},initialize:function(){e.View.prototype.initialize.call(this),this._addModelEventListeners(),this._addUiModelEventListeners()},template:function(){return _.template(t)},render:function(){var t=this.$el;return t.children().length===0&&t.html(this.template()({publicIconTitle:this._getPublicIconTooltip()})),this._initWrappers(),this._updateIds(),this._updateFields(),this.options.noShareButton||!e.Features.isFeatureEnabled("share_ui")&&!e.Features.isFeatureEnabled("share_ui_2")?this.$publicWidget.hide():this._updatePublicStatus(),this._setCheckboxVisibility(),this._customizeByOptions(),this._updateSelectionStatus(),this._updateMask(),this.options.isInDom&&this._truncateName(),this._updateAriaAttributes(),this._adjustLayout(),this},deactivate:function(){var e=this.$rendition;return e&&(e.off(),this.$mask.off()),this.stopListening(),this._clearWrappers(),this},isActive:function(){return!_.isUndefined(this.$rendition)},replaceModel:function(e){var t=this.model,n;!t||t.cid!==e.cid?(this._removeModelEventListeners(),this._configure(_.extend({},this.options,{model:e})),this._addModelEventListeners(),this.invalidate()):(n=t.changed,n.name&&this._invalidateName(),(n.created||n.modified||n.last_access)&&this._invalidateDate(),n.size&&this._invalidateSize())},invalidate:function(){this._invalidateName(),this._invalidateDate(),this._invalidateSize()},replaceUiModel:function(e){var t=this.options,n=t.itemUiModel;if(n&&n.cid===e.cid)return;this._removeUiModelEventListeners(),this._configure(_.extend({},t,{itemUiModel:e})),this._addUiModelEventListeners()},updateTruncation:function(){var e=this.$nameIcon;this._truncateName(),i.isCEF()&&this.options.rnaRecentFilesSelect&&e&&e.attr("src")===undefined&&this._getSourceIcon()},updateRendition:function(){var e=this.options,t=this.model,n,r=this.$rendition,s,o;if(!this.isActive())return;if(!e.appApi.sessionApi.isSignedIn()||!e.collectionUiModel.get("is_active"))return;if(t.isFolder()||e.itemUiModel.get("masked"))return;r.hasClass("hidden")||this._updateRenditionVisibiity();if(this._isListView())if(this.options.appApi.selectionApi.isRunningInFileSelection()||i.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs())return;n=t.getRenditionUrl("thumbnail",0);if(r.attr("src")===n)return;c.loadImage(r,n,undefined,!0).then(_.bind(function(){if(!l.isElementInDom(r))return;o=r.closest(".collection-item"),o.data("isRenditionLoaded",!0),r.removeClass("hidden"),s=r.parent().find("div.collection-item-thumb"),s.addClass("hidden"),this._isListView()||this._setRenditionPosition(r),r.off("dragstart").on("dragstart",function(e){e.preventDefault()}),r.attr("src")&&t.set({imgBlob:r.attr("src")},{silent:!0})},this),function(){return})},getViewElement:function(){return this.$el},getAvailableNameWidth:function(){var e,t,n,r,i,o;if(!this._availableNameWidth){e=this.$name,t=s.getCssNum(e,"margin-right");if(this._isListView()){n=e.position().left,r=l.getNextDisplayedSibling(e);if(!r||r.length===0)r=l.getNextDisplayedSibling(e.parent());var u=0;r&&r.length>0&&(u=r.position().left),i=u>0?u:this.$infoContainer.width(),o=i-n-t}else o=this.$infoContainer.width()-t;this._availableNameWidth=o}else o=this._availableNameWidth;return o},setAvailableNameWidth:function(e){this._availableNameWidth=e},_initWrappers:function(){var e=this.$checkbox,t=this.$(".collection-item-checkbox");if(e&&e.get(0)===t.get(0))return;this.$checkbox=t,this.$checkboxCell=this.$(".collection-item-checkbox-cell"),this.$infoContainer=this.$(".collection-item-info-container"),this.$icon=this.$("div.collection-item-thumb"),this.$rendition=this.$("img.collection-item-thumb"),this.$name=this.$(".collection-item-name"),this.$nameText=this.$(".collection-item-name-text"),this.$nameIcon=this.$(".collection-item-name-icon"),this.$size=this.$(".collection-item-size"),this.$sizeCell=this.$(".collection-item-size-cell"),this.$date=this.$(".collection-item-date"),this.$dateCell=this.$(".collection-item-date-cell"),this.$publicWidget=this.$(".collection-item-public"),this.$publicIcon=this.$(".collection-item-public-icon"),this.$publicShared=this.$(".collection-item-public-shared"),this.$mask=this.$(".collection-item-mask")},_clearWrappers:function(){delete this.$checkbox,delete this.$checkboxCell,delete this.$infoContainer,delete this.$icon,delete this.$rendition,delete this.$name,delete this.$nameText,delete this.$nameIcon,delete this.$size,delete this.$sizeCell,delete this.$date,delete this.$dateCell,delete this.$publicWidget,delete this.$publicIcon,delete this.$publicShared,delete this.$mask},_getIconClass:function(){var e=this.model,t,n;return e.isFolder()?t="folder-item":(n=u.getFileInfo(e.get("content_type"),e.get("name")),t=n.iconCls||""),t},_getIconDesc:function(){var e=this.model,t,r;return e.isFolder()?t=n.FOLDER_INITIAL_CAP:(r=u.getFileInfo(e.get("content_type"),e.get("name")),t=r.desc||""),t},_getImageSrc:function(){var e=this.model,t;return e.isFolder()?t=e.get("src"):t=e.get("imgBlob"),t},_getPublicFlag:function(){return this.model.isPublic()?n.SHARED:""},_getPublicClass:function(){return this.model.isPublic()?"":"hidden"},_getPublicIconTooltip:function(){return i.isCEF()?n.PUBLIC_ICON_TOOLTIP:""},_invalidateName:function(){this._isNameInvalid=!0,this._setPrevUntruncatedName()},_getName:function(){var e;return this._isNameInvalid?(e=i.replaceSpaceWithNbsp(this.model.get("name")),this._name=e,this._isNameInvalid=!1):e=this._name,e},_invalidateSize:function(){this._isSizeInvalid=!0},_getSize:function(){var e;return this._isSizeInvalid?(e=this.model.isFolder()?this._getFolderSummary():a.formatSize(this.model.get("size")),this._size=e,this._isSizeInvalid=!1):e=this._size,e},_getFolderSummary:function(){return"-"},_invalidateDate:function(){this._isDateInvalid=!0},_getDate:function(){var e=this.model,t,n,r,i=this.options,s=i.appApi.connectorsApi,o=s.isConnectorRemovable(s.getConnectorPluginName(i.pluginId));return this._isDateInvalid?(n=this.options.sortUiModel.get("mru_date_order"),r=e.get(n),r&&(!o||!this.model.isFolder())?t=f.formatDate(r):t="-",this._date=t,this._isDateInvalid=!1):t=this._date,t},_getSourceIcon:function(){var e=this.options,t=this.model,r,i,s;if(!e.rnaRecentFilesSelect)return;i=this.$nameIcon,s=this.$nameText,e.appApi.rnaApi.done(_.bind(function(s){s.determineSourceOfRecentFile(t.get("index"),!0).then(_.bind(function(t){t!=="unsupported"&&t!=="local"&&(r=e.connectorsCollection[t],_.isUndefined(r)||(i.attr("src",r.icon_rfl),i.css("display","inline"),i.attr("data-source",t),t==="root"?i.attr("title",""):i.attr("title",n.LOCATION+": "+r.label)))},this))},this))},_isListView:function(){return this.options.collectionsUiModel.isListView()},_setCheckboxVisibility:function(){var e=this.$checkbox,t=this.$checkboxCell,n=this.$infoContainer;this.options.checkbox?(this.model.isRoot()&&(s.addClass(e,"inactive"),s.removeClass(e,"hidden"),s.removeClass(n,"no-checkbox")),s.removeClass(e,"hidden"),s.removeClass(t,"hidden"),t.removeAttr("aria-hidden")):(s.addClass(e,"hidden"),s.addClass(this.$infoContainer,"no-checkbox"),s.addClass(t,"hidden"),t.attr("aria-hidden",!0))},_updateIds:function(){var e=this.options.viewId,t=this.$checkbox,n="collection-item-checkbox-"+e;if(t.attr("id")===n)return;this.$el.attr({id:"collection-item-"+e}),t.attr({id:n,name:n}),this.$icon.attr({id:"collection-item-icon-"+e}),this.$rendition.attr({id:"collection-item-rendition-"+e}),this.$name.attr({id:"collection-item-name-"+e}),this.$nameText.attr({id:"collection-item-name-text-"+e}),this.$nameIcon.attr({id:"collection-item-name-icon-"+e}),this.$publicShared.attr({id:"collection-item-public-shared-"+e}),this.$sizeCell.attr({id:"collection-item-size-"+e}),this.$dateCell.attr({id:"collection-item-date-"+e})},_updateAriaAttributes:function(){var e=this.$el,t=this.$checkbox,n=this.$icon,r=this.$rendition,i=this.$publicIcon,s=[],o=[],u=this._getPrevUntruncatedName()||this._getName(),a=this._getIconDesc();s.push(n.attr("id")),s.push(this.$publicShared.attr("id")),s.push(this.$sizeCell.attr("id")),s.push(this.$dateCell.attr("id")),o.push(u),o.concat(s),o=o.join(" "),s=s.join(" "),e.attr("aria-label")!==o&&e.attr("aria-label",o),e.attr("aria-describedby")!==s&&e.attr("aria-describedby",s),t.attr("title")!==u&&t.attr("title",u),n.attr("aria-label")!==a&&n.attr("aria-label",a).attr("alt",a),r.attr("alt")!==a&&r.attr("alt",a);var f=this.model.isFolder();f||this._getImageSrc()&&r.attr("src")!==this._getImageSrc()&&r.attr("src",""),i.attr("role")!=="link"&&i.attr("role","link")},_updateFields:function(){var e=this.$icon,t=this.$nameText,n=this.$publicIcon,r=this.$publicShared,i=this.$size,o=this.$date,u=this._getIconClass(),a=this._getName(),f=this._getPublicClass(),l=this._getPublicFlag(),c=this._getSize(),h=this._getDate(),p=this.model,d=p.get("id");this._isRenditionLoaded()||(e.removeClass(),e.addClass("collection-item-thumb"),s.addClass(e,u)),s.addClass(n,f);if(a!==this._getPrevUntruncatedName()&&t.text()!==a){if(this.options.isInSearchResultsView){var v=this.options.searchUiModel.get("mru_query");a=a.replace(new RegExp(v,"gi"),function(e){return"<b>"+e+"</b>"}),t.html(a)}else t.text(a);this._setPrevUntruncatedName()}!this.options.noFullPreview&&(!t.attr("href")||t.attr("href").indexOf(d)===-1)&&t.attr("href","/file/"+d),r.text()!==l&&r.text(l),i.text()!==c&&i.text(c),o.text()!==h&&o.text(h)},_updatePublicStatus:function(){var e,t;e=this._getPublicFlag(),e!==this._prevPublicFlag&&(t=this.$publicIcon,this.model.isPublic()?s.removeClass(t,"hidden"):s.addClass(t,"hidden"),this.$publicShared.text(e),this._prevPublicFlag=e)},_customizeByOptions:function(){var e=this.options,t=this.model.isFolder();t?(e.noFolderSelection&&s.addClass(this.$checkbox,"hidden"),s.addClass(this.$el,"folder-item")):e.noFullPreview&&this.$name.addClass("no-full-preview").removeAttr("href").removeAttr("tabindex")},_updateSelectionStatus:function(){var e=this.$el,t=this.$checkbox;this.options.selectionUiModel.isItemSelected(this.model.id,this.model.isRecentFileItem)?(s.addClass(e,"selected"),s.addClass(t,"selected"),t.prop("checked",!0),e.attr("aria-selected",!0)):(s.removeClass(e,"selected"),s.removeClass(t,"selected"),e.blur(),t.prop("checked",!1),e.removeAttr("aria-selected")),i.isIE8()&&l.detachAndReattachElement(t.next())},_updateMask:function(){var e=this.$mask;this.options.itemUiModel.get("masked")?(s.addClass(e,"shown"),e.off("click").on("click",function(e){e.stopPropagation()})):(s.removeClass(e,"shown"),e.off("click"))},_truncateName:function(){var e=this.$nameText,t,n,r,i=_.bind(o.getTextSize,o);if(!e)return;n=this.getAvailableNameWidth();if(isNaN(n)||n<=0)return;t=this._getName();if(n===this._prevAvailableNameWidth&&t===this._getPrevUntruncatedName())return;t!==e.text()&&e.text(t),r=o.truncateToFit(e,function(){return i(e).width-n}),r.width>0&&(this._prevAvailableNameWidth=n,this._setPrevUntruncatedName(t))},_setPrevUntruncatedName:function(e){var t=this.$el;e?t.data("prevUntruncatedName",e):t.removeData("prevUntruncatedName")},_getPrevUntruncatedName:function(){return this.$el.data("prevUntruncatedName")},_triedLoadingRendition:function(){var e=this.$rendition;return e&&e.attr("src")},_isRenditionLoaded:function(){return this.$el.data("isRenditionLoaded")},_updateRenditionVisibiity:function(){this._setRenditionVisibility(),this._isListView()||this._setRenditionPosition()},_setRenditionVisibility:function(){this.options.appApi.selectionApi.isRunningInFileSelection()||i.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()?this._isListView()?this._showRendition(!1):this._triedLoadingRendition()&&!this._isRenditionLoaded()?this._showRendition(!1):this._showRendition(!0):this._triedLoadingRendition()&&!this._isRenditionLoaded()?this._showRendition(!1):this._showRendition(!0)},_showRendition:function(e){var t=this.$rendition,n=this.$icon;e?(s.removeClass(t,"hidden"),s.addClass(n,"hidden")):(s.removeClass(n,"hidden"),s.addClass(t,"hidden"))},_setRenditionPosition:function(e){var t,n,r;e=e||this.$rendition,r=e.width(),t=e.parent(),n=t.width(),e.css("left",(n-r)/2-16)},_adjustLayout:function(){if(this._isListView()){var e=$(window).width();this.$size.add(this.$sizeCell).css("display",e>650?"block":"none"),this.$date.add(this.$dateCell).css("display",e>720?"block":"none"),this.$publicWidget.css("display",e>720?"block":"none")}else{var t=this.options.model.isFolder();this.$size.add(this.$sizeCell).css("display","none"),this.$date.add(this.$dateCell).css("display",t?"none":"block"),this.$publicWidget.css("display","none")}var n="";this._isListView()?n="list-custom-dialogs":n="thumb-custom-dialogs",this.options.appApi.selectionApi.isRunningInFileSelection()||i.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()?this.$icon.addClass(n):(this.$icon.removeClass("list-custom-dialogs"),this.$icon.removeClass("thumb-custom-dialogs")),this._isListView()?n="":n="img-thumb-custom-dialogs",this.options.appApi.selectionApi.isRunningInFileSelection()||i.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()?this.$rendition.addClass(n):this.$rendition.removeClass("img-thumb-custom-dialogs")},_addModelEventListeners:function(){var e=this.model;if(!e)return;this.listenTo(e,"change:name",this._onNameChange).listenTo(e,"change:created",this._onDateChange).listenTo(e,"change:modified",this._onDateChange).listenTo(e,"change:last_access",this._onDateChange)},_removeModelEventListeners:function(){var e=this.model;this.stopListening(e,"change:name",this._onNameChange).stopListening(e,"change:created",this._onDateChange).stopListening(e,"change:modified",this._onDateChange).stopListening(e,"change:last_access",this._onDateChange)},_onNameChange:function(){this._invalidateName()},_onDateChange:function(){this._invalidateDate()},_addUiModelEventListeners:function(){var e=this.options.itemUiModel;this.listenTo(e,"change:selected",this._onUiModelSelectedChange).listenTo(e,"change:masked",this._onUiModelMaskedChange)},_removeUiModelEventListeners:function(){var e=this.options.itemUiModel;this.stopListening(e,"change:selected",this._onUiModelSelectedChange).stopListening(e,"change:masked",this._onUiModelMaskedChange)},_onUiModelSelectedChange:function(){this._updateSelectionStatus()},_onUiModelMaskedChange:function(){this._updateMask()},_onIconHover:function(e){var t=this.options,i;e.target.title===""&&e.target.hasAttribute("data-source")&&e.target.getAttribute("data-source")==="root"&&t.appApi.rnaApi.done(_.bind(function(s){s.determineSourceOfRecentFile(this.model.get("index"),!1).then(_.bind(function(s){i=t.connectorsCollection[s],e.target.title=n.LOCATION+": "+r.FILES_SIGN_OUT_TITLE,s!=="root"&&!_.isUndefined(i)&&(e.target.title=n.LOCATION+": "+i.label)},this))},this))}})}),define("core/dev/templates/collection-virgo-item-template",[],function(){return'<div class = "listrowitem shared-list-item-row" id = "listRowItem"><div role="columnheader">    <div role="checkbox"         class="review-list-item-checkbox"                  aria-checked="false"></div></div><div role="presentation" class="collection-item-info-container virgo-collection-item-info-container">   <div role="rowheader" class="collection-item-cell collection-item-info-cell">   <div class="shared-list-preview-img-cn theme-file-list-row-border">   <div role="img" class="collection-item-thumb shared-list-item-icon collection-item-virgo-thumb" ></div>   <img class="collection-item-thumb shared-list-preview-image collection-item-virgo-thumb file-list-thumbnail-border centered-vertically hidden" aria-hidden="true" />   </div>        <div class="collection-item-name collection-item-virgo-name-list " >        <div class="collection-item-name-text virgo-collection-item-name-text " ></div>        <img class="collection-item-virgo-grid-share-icon" alt="" />        <div class="collection-item-virgo-extension-list virgo-collection-item-extension-text " ></div>        <img class="collection-item-name-icon virgo-collection-item-name-icon" alt="" />        <img class="collection-item-name-starred-icon virgo-collection-item-name-starred-icon" alt="" />        </div>        <div class="collection-item-public collection-item-public-virgo">            <div class="collection-item-virgo-public-icon"                  title="<%= publicIconTitle %>">                <span class="collection-item-public-shared                             hidden-accessible"></span>            </div>        </div>    </div>    <div role="gridcell"         class="collection-item-cell collection-item-date-cell collection-item-virgo-date-cell collection-item-date-cell-list">        <div class="collection-item-date"></div>    </div>    <div role="gridcell"         class="collection-item-cell collection-item-size-cell collection-item-virgo-size-cell collection-item-size-cell-list">    <div  class="collection-item-dot-cell-list right-positions-child-one" style = "display: none">●</div>        <div class="collection-item-size "></div>    </div>    <div role="gridcell"         class="collection-item-cell collection-item-share-cell collection-item-virgo-share-cell collection-item-share-cell-list">        <img class="collection-item-share-icon virgo-collection-item-share-icon" alt="" />        <div class="collection-item-share "></div>    </div></div><div role="presentation" class="collection-item-mask"></div></div>'}),define("core/dev/views/collection-virgo-item-view",["core/ac-core","core/templates/collection-virgo-item-template","i18n!core/nls/ui-strings","i18n!files/nls/ui-strings","core/utils/util","core/utils/css-util","core/utils/truncate","core/utils/file-types","core/utils/num-util","core/utils/date-util","core/utils/view-util","core/utils/image-loader","core/views/view"],function(e,t,n,r,i,s,o,u,a,f,l,c){e.CollectionVirgoItemView=e.View.extend({events:{"mouseenter .collection-item-name-icon":"_onIconHover",mouseenter:"_onListItemItemHoverIn",mouseleave:"_onListItemItemHoverOut","mouseenter .collection-item-name-starred-icon":"_onStarredIconHoverIn","mouseleave .collection-item-name-starred-icon":"_onStarredIconHoverOut","click .collection-item-name-starred-icon":"_onStarredIconClick"},initialize:function(){e.View.prototype.initialize.call(this),this._addModelEventListeners(),this._addUiModelEventListeners()},template:function(){return _.template(t)},render:function(){var t=this.$el;return t.children().length===0&&t.html(this.template()({publicIconTitle:this._getPublicIconTooltip()})),this._initWrappers(),this._updateIds(),this._updateFields(),this.options.noShareButton||!e.Features.isFeatureEnabled("share_ui")&&!e.Features.isFeatureEnabled("share_ui_2")?this.$publicWidget.hide():this._updatePublicStatus(),this._setCheckboxVisibility("none"),this._customizeByOptions(),this._updateSelectionStatus(),this._updateMask(),this.options.isInDom&&this._truncateName(),this._updateAriaAttributes(),this._adjustLayout(),this.$checkbox.hasClass("selected")?this.$checkbox.attr("title",n.DESELECT_FILE):this.$checkbox.attr("title",n.SELECT_FILE),this},deactivate:function(){var e=this.$rendition;return e&&(e.off(),this.$mask.off()),this.stopListening(),this._clearWrappers(),this},isActive:function(){return!_.isUndefined(this.$rendition)},replaceModel:function(e){var t=this.model,n;t.isRecentFileItem&&t.id===e.id&&(this._restoreImageBlob=!0),!t||t.cid!==e.cid?(this._removeModelEventListeners(),this._configure(_.extend({},this.options,{model:e})),this._addModelEventListeners(),this.invalidate()):(n=t.changed,n.name&&this._invalidateName(),(n.created||n.modified||n.last_access)&&this._invalidateDate(),n.size&&this._invalidateSize())},invalidate:function(){this._invalidateName(),this._invalidateDate(),this._invalidateSize(),this._invalidateSourceIcon()},replaceUiModel:function(e){var t=this.options,n=t.itemUiModel;if(n&&n.cid===e.cid)return;this._removeUiModelEventListeners(),this._configure(_.extend({},t,{itemUiModel:e})),this._addUiModelEventListeners()},updateTruncation:function(){var e=this.$nameIcon,t=this.$starredIcon;this._truncateName();if(i.isCEF()&&(this.options.rnaRecentFilesSelect||this.options.isInSearchResultsView)&&e){var n=this.$nameText;this.$nameText.css("min-width","auto");var r=n.position().left+n.width(),s;e.css("left",r),e.css("top","4px"),e.attr("src")===undefined&&this._getSourceIcon(),this._getSourceStarredIcon(),e.attr("src")===undefined?s=r:s=r+e.width()+12,t.css("left",s),t.css("top","6px")}},updateRendition:function(){var e=this.options,t=this.model,n,r=this.$rendition,s,o,u;if(!this.isActive())return;if(!t.isRecentFileItem&&(!e.appApi.sessionApi.isSignedIn()||!e.collectionUiModel.get("is_active")))return;if(t.isFolder()||e.itemUiModel.get("masked"))return;r.hasClass("hidden")||this._updateRenditionVisibiity();if(this._isListView())if(this.options.appApi.selectionApi.isRunningInFileSelection()||i.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs())return;u=this._getImageSrc();if(u&&u===r.attr("src"))return;n=t.getRenditionUrl("thumbnail",0);if(t.isRecentFileItem)n?this._loadImage(n):this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaRecentFilesAPI.fetchRecentFileThumbnail(t.get("index")).then(_.bind(function(e){t.setRenditionUrl(e),this._loadImage(e)},this))},this));else{var a=120,f=a,l=a,c=t.get("id"),h={methodName:"getURLImage",methodArgs:[{id:c,url:n,width:f,height:l}]};e.appApi.rnaApi.done(_.bind(function(e){e.rnaTasksAPI.invokeMethod(h).then(_.bind(function(e){e.has_cached_icon._value?this._loadImage(e.icon_url._value):e._addEventListener("custom:urlImageBitmap",_.bind(function(e,t){var n=t.params;n.url!=undefined&&this.model.getRenditionUrl("thumbnail",0)==n.img_url&&this._loadImage(n.url)},this))},this))},this))}},_loadImage:function(e){var t=this.$rendition,n,r,i=this.model;if(this._isFileNotSupported())return;c.loadImage(this.$rendition,e,undefined,!0).then(_.bind(function(){if(!l.isElementInDom(t))return;n=t.closest(".collection-item"),n.data("isRenditionLoaded",!0),t.removeClass("hidden"),r=t.parent().find("div.collection-item-thumb"),r.addClass("hidden"),this._isListView()||this._setRenditionPosition(t),t.off("dragstart").on("dragstart",function(e){e.preventDefault()}),t.attr("src")&&(i.isRecentFileItem?i.setImageBlob(t.attr("src")):i.set({imgBlob:t.attr("src")},{silent:!0}))},this),function(){return})},getViewElement:function(){return this.$el},getAvailableNameWidth:function(){var e,t,n,r,i,o;if(!this._availableNameWidth){e=this.$name,t=s.getCssNum(e,"margin-right");if(this._isListView()){n=e.position().left;if(!r||r.length===0){r=l.getNextDisplayedSibling(e.parent());var u=l.getNextDisplayedSibling(e.parent());r&&(r=l.getNextDisplayedSibling(r));if(this._isInDocCloudOrScan()||this.options.isInSearchResultsView){var a;r&&(a=l.getNextDisplayedSibling(r),a&&(r=a))}r||(r=u)}var f=0;r&&r.length>0&&(f=r.position().left),i=f>0?f:this.$infoContainer.width(),o=i-n-t-100}else o=this.$infoContainer.width()-t;this._availableNameWidth=o}else o=this._availableNameWidth;return o},setAvailableNameWidth:function(e){this._availableNameWidth=e},_initWrappers:function(){var e=this.$checkbox,t=this.$(".review-list-item-checkbox");if(e&&e.get(0)===t.get(0))return;this.$checkbox=t,this.$checkboxCell=this.$(".review-list-item-checkbox-cell"),this.$infoContainer=this.$(".collection-item-info-container"),this.$icon=this.$("div.collection-item-virgo-thumb"),this.$rendition=this.$("img.collection-item-virgo-thumb"),this.$name=this.$(".collection-item-name"),this.$nameText=this.$(".collection-item-name-text"),this.$extensionText=this.$(".virgo-collection-item-extension-text"),this.$starredIcon=this.$(".collection-item-name-starred-icon"),this.$nameIcon=this.$(".collection-item-name-icon"),this.$share=this.$(".collection-item-share"),this.$shareCell=this.$(".collection-item-share-cell"),this.$shareIcon=this.$(".collection-item-share-icon"),this.$gridShareIcon=this.$(".collection-item-virgo-grid-share-icon"),this.$size=this.$(".collection-item-date"),this.$sizeCell=this.$(".collection-item-date-cell"),this.$date=this.$(".collection-item-size"),this.$dateCell=this.$(".collection-item-size-cell"),this.$publicWidget=this.$(".collection-item-public"),this.$publicIcon=this.$(".collection-item-public-icon"),this.$publicShared=this.$(".collection-item-public-shared"),this.$mask=this.$(".collection-item-mask"),this.$itemRow=this.$(".listrowitem"),this.$previewCn=this.$(".shared-list-preview-img-cn"),this.$preview=this.$(".shared-list-preview-image"),this.$item=this.$(".collection-item-info-cell"),this.options.isInSearchResultsView&&this.$checkbox.hide()},_clearWrappers:function(){delete this.$checkbox,delete this.$checkboxCell,delete this.$infoContainer,delete this.$icon,delete this.$rendition,delete this.$name,delete this.$nameText,delete this.$extensionText,delete this.$nameIcon,delete this.$starredIcon,delete this.$share,delete this.$shareCell,delete this.$shareIcon,delete this.$gridShareIcon,delete this.$size,delete this.$sizeCell,delete this.$date,delete this.$dateCell,delete this.$publicWidget,delete this.$publicIcon,delete this.$publicShared,delete this.$mask},_getIconClass:function(){var e=this.model,t,n;return e.isFolder()?t="folder-item":(n=u.getFileInfo(e.get("content_type"),e.get("name")),this._isInDocCloudOrScan()&&this._isFileNotSupported()?t="file-icon-generic":t=n.iconCls||""),t},_getIconDesc:function(){var e=this.model,t,r;return e.isFolder()?t=n.FOLDER_INITIAL_CAP:(r=u.getFileInfo(e.get("content_type"),e.get("name")),t=r.desc||""),t},_getImageSrc:function(){var e=this.model,t;return e.isFolder()?t=e.get("src"):t=e.get("imgBlob"),t},_getPublicFlag:function(){return this.model.isPublic()?n.SHARED:""},_getPublicClass:function(){return this.model.isPublic()?"":"hidden"},_getPublicIconTooltip:function(){return i.isCEF()?n.PUBLIC_ICON_TOOLTIP:""},_invalidateName:function(){this._isNameInvalid=!0,this._setPrevUntruncatedName()},_invalidateSourceIcon:function(){this._isSourceIconInvalid=!0},_getName:function(){var e;return this._isNameInvalid?(e=i.replaceSpaceWithNbsp(this.model.get("name")),this._name=e,this._isNameInvalid=!1):e=this._name,e},_invalidateSize:function(){this._isSizeInvalid=!0},_getSize:function(){var e;return this._isSizeInvalid?(e=this.model.isFolder()?this._getFolderSummary():a.formatSize(this.model.get("size")),this._size=e,this._isSizeInvalid=!1,this.model.isFolder()&&this.$el.children().children().eq(1).children().eq(2).addClass("collection-item-size-cell-list-folder")):e=this._size,e},_getFolderSummary:function(){return"—"},_invalidateDate:function(){this._isDateInvalid=!0},getFormattedDate:function(e,t){var r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"],i=function(e){return parseInt(e)<10?"0"+e:e},s=t,o={"k+":e.getFullYear(),"z+":r[e.getMonth()],"q+":i(e.getDate()),"h+":i(e.getHours()>12?e.getHours()%12:e.getHours()),"f+":i(e.getMinutes()),"x+":e.getHours()>=12?"PM":"AM"};for(var u in o)(new RegExp("("+u+")")).test(t)&&(s=s.replace(RegExp.$1,o[u]));var a=new Date;a=f.getBeginningOfDay(a);if(f.areDatesEqual(e,a)){var l=s.lastIndexOf(","),c=s.substring(l+1);return n.TODAY+", "+c}a=f.getNumDaysAgo(a,1);if(f.areDatesEqual(e,a)){var l=s.lastIndexOf(","),c=s.substring(l+1);return n.DATE_YESTERDAY+", "+c}return s},_localizeDateStr:function(e){var t=moment.utc(e).toDate(),n=f.formatDateWithFormat(e,undefined,!1);return n},_getDate:function(){var e=this.model,t,n,r,i=this.options,s=i.appApi.connectorsApi,o=s.isConnectorRemovable(s.getConnectorPluginName(i.pluginId));return n=this.options.sortUiModel.get("mru_date_order"),r=e.get(n),r&&(!o||!this.model.isFolder())?t=this._localizeDateStr(r):t="—",this._date=t,t},_getSourceStarredIcon:function(){var e=this.options,t=this.model,n;if(!(e.rnaRecentFilesSelect||e.isInSearchResultsView&&t.isRecentFileItem))return;n=this.$starredIcon,e.appApi.rnaApi.done(_.bind(function(e){e.getFileFavoriteStatus(t.get("index")).then(_.bind(function(e){e==="yes"?(n.addClass("collection-item-name-starred-icon"),n.css("display","inline"),n.attr("title","")):(n.removeClass(),n.removeAttr("src"))},this))},this))},_getSourceIcon:function(){var e=this.options,t=this.model,r,i;if(!(e.rnaRecentFilesSelect||e.isInSearchResultsView&&t.isRecentFileItem))return;i=this.$nameIcon,e.appApi.rnaApi.done(_.bind(function(s){s.determineSourceOfRecentFile(t.get("index"),!0).then(_.bind(function(s){s!=="unsupported"&&s!=="local"&&(t.isRecentFileItem&&s!="root"&&t.set("source","desktopConnector",{localAttr:!0}),r=e.connectorsCollection[s],_.isUndefined(r)||(i.attr("src",r.icon_rfl),i.css("display","inline"),i.attr("data-source",s),s==="root"?i.attr("title",""):i.attr("title",n.LOCATION+": "+r.label)))},this))},this))},_isListView:function(){return this.options.collectionsUiModel.isListView()},_setCheckboxVisibility:function(e){var t=this.$checkbox;t.css("display",e),this._isInDocCloudOrScan()&&this.model.isCCFile()&&t.css("display",!1)},_updateIds:function(){var e=this.options.viewId,t=this.$checkbox,n="collection-item-checkbox-"+e;if(t.attr("id")===n)return;this.$el.attr({id:"collection-item-"+e}),t.attr({id:n,name:n}),this.$icon.attr({id:"collection-item-icon-"+e}),this.$rendition.attr({id:"collection-item-rendition-"+e}),this.$name.attr({id:"collection-item-name-"+e}),this.$nameText.attr({id:"collection-item-name-text-"+e}),this.$extensionText.attr({id:"virgo-collection-item-extension-text-"+e}),this.$nameIcon.attr({id:"collection-item-name-icon-"+e}),this.$starredIcon.attr({id:"collection-item-name-starred-icon-"+e}),this.$publicShared.attr({id:"collection-item-public-shared-"+e}),this.$sizeCell.attr({id:"collection-item-size-"+e}),this.$shareIcon.attr({id:"collection-item-share-icon-"+e}),this.$gridShareIcon.attr({id:"collection-item-virgo-grid-share-icon-"+e}),this.$dateCell.attr({id:"collection-item-date-"+e}),this.$shareCell.attr({id:"collection-item-share-"+e})},_updateAriaAttributes:function(){var e=this.$el,t=this.$checkbox,n=this.$icon,r=this.$rendition,i=this.$publicIcon,s=[],o=[],u=this._getPrevUntruncatedName()||this._getName(),a=this._getIconDesc();s.push(n.attr("id")),s.push(this.$publicShared.attr("id")),s.push(this.$sizeCell.attr("id")),s.push(this.$dateCell.attr("id")),s.push(this.$shareCell.attr("id")),o.push(u),o.concat(s),o=o.join(" "),s=s.join(" "),e.attr("aria-label")!==o&&e.attr("aria-label",o),e.attr("aria-describedby")!==s&&e.attr("aria-describedby",s),t.attr("title")!==u&&t.attr("title",u),n.attr("aria-label")!==a&&n.attr("aria-label",a).attr("alt",a),r.attr("alt")!==a&&r.attr("alt",a);var f=this.model.isFolder();f||this._getImageSrc()&&r.attr("src")!==this._getImageSrc()&&r.attr("src",""),i.attr("role")!=="link"&&i.attr("role","link")},_updateFields:function(){var e=this.$icon,t=this.$nameText,r=this.$publicIcon,i=this.$publicShared,o=this.$size,u=this.$date,a=this.$share,f=this._getIconClass(),l=this._getName(),c=this._getPublicClass(),h=this._getPublicFlag(),p=this._getSize(),d=this._getDate(),v=this.model,m=v.get("id");this._isSourceIconInvalid&&(this.$nameIcon.removeAttr("src"),this._isSourceIconInvalid=!1),v.isRecentFileItem&&this._restoreImageBlob&&(v.setImageBlob(this.$rendition.attr("src")),this._restoreImageBlob=!1),this._isRenditionLoaded()?(e.removeClass(),e.addClass("collection-item-virgo-thumb"),e.addClass("shared-list-item-icon"),s.addClass(e,f)):(e.removeClass(),e.addClass("collection-item-thumb"),e.addClass("collection-item-virgo-thumb"),e.addClass("shared-list-item-icon"),this.$(".collection-item-virgo-thumb").css("margin-top","0px"),s.addClass(e,f));var g,y,b;g=l.lastIndexOf("."),g>=0&&!this.options.model.isFolder()?(y=l.substr(0,g),b=l.substr(g+1),this.ext=b):(y=l,b="");if(l!==this._getPrevUntruncatedName()&&t.text()!==l){if(this.options.isInSearchResultsView){var w=this.options.searchUiModel.get("mru_query_regex");y=y.replace(w,function(e){return"<b>"+e+"</b>"}),t.html(y)}else t.text(y);t.attr("title",y),this._setPrevUntruncatedName()}var E=this.options.model.isFolder();if(E===!0)this.$extensionText.text(n.FOLDER_PATH);else if(this._isListView())this.$extensionText.text(b.toUpperCase()),this.$extensionText.attr("title","");else{var S=b.toUpperCase(),x=S+"  "+"<span class='collection-item-virgo-grid-item-info-separator'>●</span>"+"  "+d;this.$extensionText.html(x),this.$extensionText.attr("title",S+" ● "+d)}!this.options.noFullPreview&&(!t.attr("href")||t.attr("href").indexOf(m)===-1)&&t.attr("href","/file/"+m),i.text()!==h&&i.text(h),o.text()!==p&&o.text(p),u.text()!==d&&u.text(d);var T=v.get("is_shared")===!0;this._isListView()?(this.$gridShareIcon.hide(),this.$extensionText.css("left","43px"),E?(this.$shareIcon.hide(),this.$share.css("left","0px"),a.text(this._getFolderSummary())):!T||this.options.pluginId==="my_recent_files_search"?(a.text(n.VIRGO_NON_SHARED),this.$shareIcon.hide(),this.$share.css("left","0px")):(this.$shareIcon.show(),this.$share.css("left","22px"),this.$shareIcon.css("left","0px"),a.text(n.VIRGO_SHARED_FILE))):(a.hide(),this.$shareIcon.hide(),this.$gridShareIcon.hide(),E?this.$extensionText.css("left","-11px"):T?(this.$gridShareIcon.css("display","block"),this.$extensionText.css("left","11px")):this.$extensionText.css("left","-11px")),this._isFileNotSupported()===!0?(this.$itemRow.parent().addClass("disabled"),this.$itemRow.parent().css("pointer-events","none")):(this.$itemRow.parent().removeClass("disabled"),this.$itemRow.parent().css("pointer-events","auto"))},_updatePublicStatus:function(){var e,t;e=this._getPublicFlag(),e!==this._prevPublicFlag&&(t=this.$publicIcon,this.model.isPublic()?s.addClass(t,"hidden"):s.addClass(t,"hidden"),this.$publicShared.text(e),this._prevPublicFlag=e)},_customizeByOptions:function(){var e=this.options,t=this.model.isFolder();t?(e.noFolderSelection&&s.addClass(this.$checkbox,"hidden"),s.addClass(this.$el,"folder-item")):e.noFullPreview&&this.$name.addClass("no-full-preview").removeAttr("href").removeAttr("tabindex")},_updateSelectionStatus:function(){var e=this.$el,t=this.$checkbox,n=this.$item;this.options.selectionUiModel.isItemSelected(this.model.id,this.model.isRecentFileItem)?(s.addClass(e,"selected"),s.addClass(t,"selected"),s.addClass(n,"selected"),t.prop("checked",!0),this.options.isInSearchResultsView||t.css("display","block"),s.addClass(this.$previewCn,"selected"),e.attr("aria-selected",!0),t.attr("aria-checked",!0)):(s.removeClass(e,"selected"),s.removeClass(t,"selected"),s.removeClass(n,"selected"),s.removeClass(this.$previewCn,"selected"),t.attr("aria-checked",!1),t.css("display","none")),i.isIE8()&&l.detachAndReattachElement(t)},_updateMask:function(){var e=this.$mask;this.options.itemUiModel.get("masked")?(s.addClass(e,"shown"),e.off("click").on("click",function(e){e.stopPropagation()})):(s.removeClass(e,"shown"),e.off("click"))},_showStarIcon:function(){if(this._isInDocCloudOrScan()&&!this.model.isFolder()){var e=this.model.get("favorite");if(this._isListView()){this.model.iss,this.$nameText.css("min-width","auto");var t=this.$nameText.position().left+this.$nameText.width(),n;n=t+this.$nameIcon.width()+12,this.$starredIcon.css("left",t+"px"),this.$starredIcon.css("top","6px")}else{var t=this.$nameText.position().left+this.$nameText.width();this.$starredIcon.css("left",t-20+"px"),this.$starredIcon.css("top","-170px")}e?this.$starredIcon.css("display","block"):this.$starredIcon.hasClass("unstar")||this.$starredIcon.css("display","none")}else this.$starredIcon.css("display","none")},_truncateName:function(){var e=this.$nameText,t,n,r,i=_.bind(o.getTextSize,o);if(!e)return;n=this.getAvailableNameWidth();if(isNaN(n)||n<=0){this._showStarIcon();return}t=this._getName();if(n===this._prevAvailableNameWidth&&t===this._getPrevUntruncatedName()){this._showStarIcon();return}var s,u,a;s=t.lastIndexOf("."),s>=0&&!this.options.model.isFolder()?(u=t.substr(0,s),a=t.substr(s+1)):(u=t,a=""),u!==e.text()&&(e.text(u),e.attr("title",u)),r=o.truncateToFit(e,function(){return i(e).width-n},{truncateFromRight:!0}),r.width>0&&(this._prevAvailableNameWidth=n,this._setPrevUntruncatedName(t)),this._showStarIcon()},_setPrevUntruncatedName:function(e){var t=this.$el;e?t.data("prevUntruncatedName",e):t.removeData("prevUntruncatedName")},_getPrevUntruncatedName:function(){return this.$el.data("prevUntruncatedName")},_triedLoadingRendition:function(){var e=this.$rendition;return e&&e.attr("src")},_isRenditionLoaded:function(){return this.$el.data("isRenditionLoaded")},_updateRenditionVisibiity:function(){this._setRenditionVisibility(),this._isListView()||this._setRenditionPosition()},_setRenditionVisibility:function(){this.options.appApi.selectionApi.isRunningInFileSelection()||i.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()?this._isListView()?this._showRendition(!1):this._triedLoadingRendition()&&!this._isRenditionLoaded()?this._showRendition(!1):this._showRendition(!0):this._triedLoadingRendition()&&!this._isRenditionLoaded()?this._showRendition(!1):this._showRendition(!0)},_showRendition:function(e){var t=this.$rendition,n=this.$icon;e?(s.removeClass(t,"hidden"),s.addClass(n,"hidden")):(s.removeClass(n,"hidden"),s.addClass(t,"hidden"))},_setRenditionPosition:function(e){var t,n,r;e=e||this.$rendition,r=e.width(),t=e.parent(),n=t.width()},_adjustLayoutForDcAndScanTabAndUSS:function(e){var t=$(window).width();this.options.isInSearchResultsView&&(t-=220);var n,r,i;n=r=i=!1,this.$size.add(this.$sizeCell).css("display","none"),this.$date.add(this.$dateCell).css("display","none"),this.$share.add(this.$shareCell).css("display","none");var s=0;e?(t>900&&(s++,n=!0),t>1100&&(s++,r=!0),t>1300&&(s++,i=!0),t-=280):(t>700&&(s++,n=!0),t>900&&(s++,r=!0),t>1100&&(s++,i=!0));var o=Math.min(t*.2*s,t-580),u=o/s,a=8;i&&(this.$size.add(this.$sizeCell).css("display","block"),this.$size.add(this.$sizeCell).css("position","absolute !important"),this.$size.add(this.$sizeCell).css("right",a+"px"),this.$size.add(this.$sizeCell).css("width",u+"px"),this.$size.add(this.$sizeCell).css("text-align","left"),a+=u),r&&(this.$date.add(this.$dateCell).css("display","block"),this.$date.add(this.$dateCell).css("position","absolute !important"),this.$date.add(this.$dateCell).css("right",a+"px"),this.$date.add(this.$dateCell).css("width",u+"px"),this.$date.add(this.$dateCell).css("text-align","left"),a+=u),n&&(this.$share.add(this.$shareCell).css("display","block"),this.$shareCell.css("right",a+"px"),this.$shareCell.css("width",u+"px"))},_adjustLayout:function(){if(this._isListView()){var e=$(window).width();this.options.isInSearchResultsView||(this.$el.hasClass("with-rhp")===!0?this._isInDocCloudOrScan()?this._adjustLayoutForDcAndScanTabAndUSS(!0):(this.$size.add(this.$sizeCell).css("display",e>900?"block":"none"),this.$date.add(this.$dateCell).css("display",e>1200?"block":"none"),this.$publicWidget.css("display",e>900?"block":"none")):(this.$publicWidget.css("display",e>900?"block":"none"),this._isInDocCloudOrScan()?this._adjustLayoutForDcAndScanTabAndUSS(!1):(this.$size.add(this.$sizeCell).css("display",e>700?"block":"none"),this.$date.add(this.$dateCell).css("display",e>900?"block":"none")))),this.$extensionText.css("display","block"),this.$rendition.removeClass("shared-thumb-view"),this.$item.removeClass("shared-thumb-view"),this.$item.addClass("theme-list-item-row-virgo theme-file-list-row-border"),this.$itemRow.removeClass("shared-thumb-view"),this.$el.addClass("theme-list-item-row-virgo"),this.$el.removeClass("theme-thumbnail-item-row "),this.$el.removeClass("cb-text-theme"),this.$el.addClass("cb-active-text-theme"),this.$previewCn.removeClass("shared-thumb-view theme-file-preview-background theme-grid-view-border"),this.$previewCn.parent().parent().parent().parent().addClass("shared-workflow-list-item"),this.$previewCn.parent().parent().parent().parent().addClass("theme-list-item-row-virgo"),this.$previewCn.parent().parent().parent().parent().addClass("theme-file-list-row-border"),this.$previewCn.parent().parent().parent().parent().removeClass("shared-thumb-view"),this.$previewCn.parent().parent().parent().parent().removeClass("collection-item-no-focus-outline"),this.$preview.addClass("dc-preview-tile"),this.$name.addClass("collection-item-virgo-name-list"),this.$name.removeClass("collection-item-virgo-name-thumbnail"),this.$nameText.addClass("collection-item-virgo-name-list"),this.$nameText.removeClass("collection-item-virgo-name-thumbnail"),this.$(".collection-item-size-cell").removeClass("right-positions"),this.$(".collection-item-size-cell").addClass("collection-item-size-cell-list"),this.$(".collection-item-size").removeClass("right-positions-child"),this.$date.css("left","auto","important"),this.$(".collection-item-dot-cell-list").css("display","none"),!this.options.isInSearchResultsView||this.options.pluginId!=="root"&&this.options.pluginId!=="my_recent_files_search"?(!this._isInDocCloudOrScan()||this.options.isInSearchResultsView)&&this.$share.css("display","none"):this.$el.hasClass("with-rhp")===!0?this._adjustLayoutForDcAndScanTabAndUSS(!0):this._adjustLayoutForDcAndScanTabAndUSS(!1)}else this.$rendition.addClass("shared-thumb-view"),this.$item.addClass("shared-thumb-view"),this.$itemRow.addClass("shared-thumb-view"),this.$item.removeClass("theme-file-list-row-border"),this.$previewCn.addClass("shared-thumb-view theme-file-preview-background theme-grid-view-border"),this.$previewCn.parent().parent().parent().parent().addClass("shared-workflow-list-item"),this.$previewCn.parent().parent().parent().parent().addClass("shared-thumb-view"),this.$previewCn.parent().parent().parent().parent().removeClass("theme-list-item-row-virgo"),this.$previewCn.parent().parent().parent().parent().removeClass("theme-file-list-row-border"),this.$previewCn.parent().parent().parent().parent().addClass("collection-item-no-focus-outline"),this.$name.removeClass("collection-item-virgo-name-list"),this.$name.addClass("collection-item-virgo-name-thumbnail"),this.$nameText.addClass("collection-item-virgo-name-thumbnail"),this.$nameText.removeClass("collection-item-virgo-name-list"),this.$el.removeClass("theme-list-item-row-virgo"),this.$el.addClass("theme-thumbnail-item-row "),this.$el.addClass("cb-text-theme"),this.$el.removeClass("cb-active-text-theme"),this.$preview.removeClass("dc-preview-tile"),this.$size.add(this.$sizeCell).css("display","none"),this.$extensionText.css("display","block"),this.$date.add(this.$dateCell).css("display","none"),this.$publicWidget.css("display","none")},_addModelEventListeners:function(){var e=this.model;if(!e)return;this.listenTo(e,"change:name",this._onNameChange).listenTo(e,"change:created",this._onDateChange).listenTo(e,"change:modified",this._onDateChange).listenTo(e,"change:last_access",this._onDateChange)},_removeModelEventListeners:function(){var e=this.model;this.stopListening(e,"change:name",this._onNameChange).stopListening(e,"change:created",this._onDateChange).stopListening(e,"change:modified",this._onDateChange).stopListening(e,"change:last_access",this._onDateChange)},_onNameChange:function(){this._invalidateName()},_onDateChange:function(){this._invalidateDate()},_addUiModelEventListeners:function(){var e=this.options.itemUiModel;this.listenTo(e,"change:selected",this._onUiModelSelectedChange).listenTo(e,"change:masked",this._onUiModelMaskedChange)},_removeUiModelEventListeners:function(){var e=this.options.itemUiModel;this.stopListening(e,"change:selected",this._onUiModelSelectedChange).stopListening(e,"change:masked",this._onUiModelMaskedChange)},_onUiModelSelectedChange:function(){this._updateSelectionStatus()},_onUiModelMaskedChange:function(){this._updateMask()},_onIconHover:function(e){var t=this.options,i;e.target.title===""&&e.target.hasAttribute("data-source")&&e.target.getAttribute("data-source")==="root"&&t.appApi.rnaApi.done(_.bind(function(s){s.determineSourceOfRecentFile(this.model.get("index"),!1).then(_.bind(function(s){i=t.connectorsCollection[s],e.target.title=n.LOCATION+": "+r.FILES_SIGN_OUT_TITLE,s!=="root"&&!_.isUndefined(i)&&(e.target.title=n.LOCATION+": "+i.label)},this))},this))},_onStarredIconHoverIn:function(e){this.model.get("favorite")?e.target.title=n.UNSTAR_FILE:(this.$starredIcon.addClass("hover"),e.target.title=n.STAR_FILE)},_onStarredIconHoverOut:function(e){this.model.get("favorite")||this.$starredIcon.removeClass("hover")},_onStarredIconClick:function(t){var r=this.model.get("favorite"),i=this.model.get("id"),s=new e.starringDCFile(this.options),o=s.run(!r);o.done(_.bind(function(){this.model.set("favorite",!r),r?this.$starredIcon.hide():(this.$starredIcon.removeClass("hover"),this.$starredIcon.removeClass("unstar"),this.$starredIcon.show()),this.options.appApi.rnaApi.done(function(e){e.rnaFteAPI.invokeMethod({methodName:"updateStarStatusinOpenedDoc",methodArgs:[{assetID:i,favorite:!r,success:!0}]})})},this)).fail(_.bind(function(){this.options.appApi.rnaApi.done(function(e){e.rnaFteAPI.invokeMethod({methodName:"updateStarStatusinOpenedDoc",methodArgs:[{success:!1,favorite:!r}]})}),r?this.options.rootView._showToast(n.UNSTARRING_FAILED_TOAST+"<br>"+n.TRY_LATER_TOAST):this.options.rootView._showToast(n.STARRING_FAILED_TOAST+"<br>"+n.TRY_LATER_TOAST)},this)),t.stopPropagation()},_onListItemItemHoverIn:function(e){var t=this.$checkbox;t&&!this.options.isInSearchResultsView&&t.css("display","block"),this._isInDocCloudOrScan()&&this.model.isCCFile()&&t.css("display","none"),!this.model.get("favorite")&&!this.model.isFolder()&&(this.$starredIcon.addClass("unstar"),this.$starredIcon.css("display","block"))},_onListItemItemHoverOut:function(e){this.$el.hasClass("selected")||this.$checkbox&&(this.$el.blur(),this.$checkbox.css("display","none")),this.model.get("favorite")||this.$starredIcon.css("display","none"),this.$starredIcon.removeClass("unstar")},_isInDocCloudOrScan:function(){return this.options.pluginId==="root"||this.options.pluginId==="scan_files"?!0:!1},_isFileNotSupported:function(){return this._isInDocCloudOrScan()&&this.options.model.isCCFile()?!0:!1}})}),define("core/dev/views/collection-items-view",["core/ac-core","core/utils/util","core/utils/view-util","core/utils/css-util","core/utils/date-util","core/utils/image-loader","core/utils/sc-analytics","core/views/view","core/views/collection-item-view","core/views/collection-virgo-item-view","core/views/view-events"],function(e,t,n,r,i,s,o){var u=_.template('<div class="collection-item unselectable theme-border theme-list-item-row-virgo theme-file-list-row-border "     role="row" tabindex="-1" id = "collection-item-id"></div>'),a=_.template('<div class="collection-item unselectable theme-border theme-list-item theme-file-list-row-border "     role="row" tabindex="-1" id = "collection-item-id"></div>'),f=_.template('<div class="collection-item unselectable theme-border theme-thumbnail-item-row "     role="row" tabindex="-1" id = "collection-item-id"></div>'),l=_.template('<div class="collection-item unselectable theme-border theme-list-item "     role="row" tabindex="-1" id = "collection-item-id"></div>'),c=_.has(document.createElement("div"),"onwheel")?"wheel":document.onmousewheel!==undefined?"mousewheel":"DOMMouseScroll";e.CollectionItemsView=e.View.extend({events:{click:"_onClick","click    .collection-item-public":"_onShareClick","click    .collection-item":"_onItemClick","click    .review-list-item-checkbox":"_onItemCheckboxClick","click    .collection-item-mask":"_onItemMaskClick","dblclick .collection-item":"_onItemDblClick","dblclick .review-list-item-checkbox":"_onItemCheckboxDblClick","keyClick .collection-item":"_onSelectitemRow","checkboxClick .collection-item":"_onItemCheckboxClick",mousedown:"_onMouseDown",mouseup:"_onMouseUp"},hoverPreviewEvents:{mouseenter:"_onMouseEnter",mouseleave:"_onMouseLeave",mousemove:"_onMouseMove","mouseleave .collection-item":"_onItemMouseLeave"},_isVirgoView:function(){return this.options.appApi.selectionApi.isRunningInFileSelection()||t.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()?!1:!0},initialize:function(){var n,r,i=t.isCEF(),s;e.View.prototype.initialize.call(this),n=this.options,r=n.appApi,this._itemElementById={},this._itemViewById={};if(i){var o=r.connectorsApi.getConnectorsUiHelpers().connectors;_.extend(this.options,{connectorsCollection:o}),r.rnaApi.done(_.bind(function(e){var t=e.getBlacklistedExtensions();_.extend(n,{blacklistExtensions:t})},this))}n.hoverPreviewView&&!r.usersMeApi.isUserInCohort("bh-home20","enabled")&&_.extend(this.events,this.hoverPreviewEvents),s={},s[c]="_onMouseWheel",_.extend(this.events,s),n.selectionUiModel.get("multiple_selection")||n.collectionsUiModel.set("checkbox",!1),i&&n.collectionUiModel.set({is_item_excluded:function(e){return e.isForm()||e.isBlacklisted&&e.isBlacklisted(n.blacklistExtensions)}}),this._addKeyEventListener(),this._addFocusEventListener(),this._addUiModelEventListeners(),this._addScrollEventListeners(),e.Features.isFeatureEnabled("no_collection_item_checkbox")&&n.appApi.routerApi.hasQueryParam("no_collection_item_checkbox","1")&&n.collectionsUiModel.set("checkbox",!1),this.options.isInSearchResultsView&&r.connectorsApi.addConnectorsUiHelpersChangeCallback(this._onConnectorsUiHelperChanged),this.bIsSingleClickEventWaiting=!1},_onConnectorsUiHelperChanged:function(){var e=this.options.appApi.connectorsApi.getConnectorsUiHelpers().connectors;_.each(this.options.connectorsCollection,function(t,n){t.icon_rfl=e[n].icon_rfl}),$(".collection-item-name-icon").each(function(){var t=this.getAttribute("data-source");t&&this.setAttribute("src",e[t].icon_rfl)})},render:function(t){var r=this.options,o=this.collection.length,u=e.ViewEvents,a=r.collectionsUiModel,f=!0;if(r.pluginId==="scan_files"){var l=r.folderModel.get("members");if(l){var c=l[0];c&&c.parent_id===r.appApi.folderApi.getRootFolderId()&&(f=!1)}}if(r.pluginId!=="scan_files"||r.pluginId==="scan_files"&&(r.folderModel.scanInstalled===!0&&r.folderModel.scanFound===!0||r.folderModel.scanFound===!0)&&f===!0){if(!r.isInSearchResultsView&&(!this._isInDom()||this._isHidden())){this.invalidateViewsRecursively();return}e.View.prototype.render.call(this),this._triggerViewEvent(u.COLLECTION_RENDER_BEGIN,{collectionView:this}),i.logElapsedTime("collection-items-view render begin "+o),delete this._availableNameWidth,s.cancelPendingRequests(),this._renderChildViews(t),_.defer(this._updateChildViewRenditions),r.collectionUiModel.set("has_vertical_scrollbar",n.isVerticalScrollBarPresent(this.$el)),i.logElapsedTime("collection-items-view render end"),this._triggerViewEvent(u.COLLECTION_RENDER_END,{collectionView:this}),clearTimeout(a.get("scroll_listen_timer_id")),this._isMouseWheel||a.set("scroll_listen_timer_id",_.delay(this._maybeScrollIdIntoView,a.get("scroll_listen_delay")))}return this},invalidateSize:function(){delete this._availableNameWidth,delete this._childHeight,delete this._rowLen},getChildViewById:function(e){return this._itemViewById[e]},_getContainingItem:function(e){return e.closest(".collection-item")},_getHoverPreviewEventTargetItem:function(e){var t=$(e.target).closest(".collection-item-thumb, .collection-item-name");return this._getContainingItem(t)},_getEventTargetItem:function(e){return this._getContainingItem($(e.target))},_getEventTargetView:function(e){var t,n=this._getEventTargetItem(e);return n&&(t=this.getChildViewById(n.data("id"))),t},_getViewEventOptions:function(e){return{collectionItemsView:this,itemView:this._getEventTargetView(e)}},_getFocusIndex:function(){var e=-1,t,n,r;return t=document.activeElement,t&&(n=this._getContainingItem($(t)).data("model"),r=this.collection.find(function(e,t){return e.id===t.id&&e.isRecentFileItem===t.isRecentFileItem}),r&&(e=this.collection.indexOf(r))),e},_restoreFocus:function(e,t){var n=this.$el,r,i=$(t),s;if(e>=0){s=n.children(),r=s.eq(e),r.length===0&&(r=s.last());if(r.length!==0){i.closest(r).length!==0?i.focus():r.focus();return}}i.focus()},_setScrollTop:function(e,t){var n=this.options.collectionsUiModel;t&&this._removeScrollEventListeners(),this.$el.scrollTop(e),t&&_.delay(this._addScrollEventListeners,n.get("scroll_listen_delay"))},_renderChildViews:function(e){var t=this.$el,n=t.parent(),r=document.activeElement,i=this._getFocusIndex(),s=t.height()?t.height():window.innerHeight,o=t.get(0).scrollHeight?t.get(0).scrollHeight:window.innerHeight,u={},a=!this._isDragging,f=!this._isMouseWheel;_.isNumber(e)||(e=t.scrollTop()),this._pruneCollection(),this._genChildHeight(),a&&f&&!this.options.isInSearchResultsView&&(t=t.detach()),this._createMatchingElements(t),u=this._getDisplayRange(e,o,s),this.options.appApi.displayApi.showSpinner(!0),this._renderItemViewRange(t,u),this.options.appApi.displayApi.showSpinner(!1),a&&f&&!this.options.isInSearchResultsView&&n.append(t),this._setTabbableItem(),u.end-u.begin>0&&this._truncateItemNames(),this._restoreFocus(i,r),a&&f&&e>0&&this._setScrollTop(e,!0),this._renderScrollTop=e},_pruneCollection:function(){function o(e){var i,s,o;if(e.isFile()){if(r.get("folders_only"))return!0;i=r.get("filter_by_extension");if(i.length>0){s=t.getExtension(e.get("name"));if($.inArray(s,i)<0)return!0}}return o=n.get("is_item_excluded"),o&&o(e)?!0:!1}var e=this.options,n=e.collectionUiModel,r=e.collectionsUiModel,i=this.collection,s=[];i.each(function(e){o(e)&&s.push(e)}),i.remove(s,{silent:!0}),e.isInSearchResultsView&&s.length&&(e.searchModel.set("total_hits",e.searchModel.getSearchResultCount()-s.length),e.searchUiModel.trigger("refresh_search_count"))},_isListView:function(){return this.options.collectionsUiModel.isListView()},_isThumbnailView:function(){return this.options.collectionsUiModel.isThumbnailView()},_genChildHeight:function(){var e=this.$el,t,n=1,i,s,o,c=this.collection.length;if(!this._childHeight&&c>0){e.children().length===0&&(this._isListView()?this._isVirgoView()===!0?e.append(u()):e.append(a()):this._isVirgoView()===!0?e.append(f()):e.append(l()));if(this._isThumbnailView())for(t=0,s=!1;t<c&&!s;t+=1)t>=e.children().length&&(this._isListView()?this._isVirgoView()===!0?e.append(u()):e.append(a()):this._isVirgoView()===!0?e.append(f()):e.append(l())),o=e.children().eq(t),t===0?i=o.position().top:o.position().top===i?n+=1:s=!0;this._childHeight=r.getFullHeight(e.children().first()),this._rowLen=n,this._childHeight=r.getFullHeight(e.children().first())}_.isUndefined(this._rowLen)&&(this._rowLen=n)},_createMatchingElements:function(e){var t=this.collection,n,r=t.length,i,s=e.children(),o=0,u;n=this._itemElementById={},t.each(_.bind(function(t){u=s.eq(o),u.length===0&&(this._isListView()?e.append(a()):e.append(l()),u=e.children().last()),i=t.id,i!==u.data("id")&&(u.data("id",i),u.data("model",t),u.removeData("isRenditionLoaded"),u.find("img.collection-item-thumb").addClass("hidden")),this.options.isInSearchResultsView&&u.data("model",t),n[i]=u,o+=1},this)),r<e.children().length&&e.children().slice(r).remove()},_getDisplayRange:function(e,t,n){var r=this.collection.length,i,s,o=this._rowLen;return i=Math.max(Math.floor(r*e/t)-o,0),i-=o*Math.ceil(n/this._childHeight),i<0&&(i=0),o&&this._childHeight?s=Math.min(r,i+2*(o*Math.ceil(n/this._childHeight)+2)):s=i,{begin:i,end:s}},_renderItemViewRange:function(e,t){var n=e.children(),r=t.begin,i=t.end,s=i-r,o=this.getChildViews(),u=o.length,a,f=Math.max(0,s-u),l,c,h,p,d=this.collection,v,m=this.options.collectionUiModel;if(s===0)return;f>0&&(this._addItemViewCount(f),u=o.length),o=this.getChildViews(),a=this._itemViewById={};for(h=r,p=0;h<i;h+=1,p+=1)l=n.eq(h),c=o[p],v=d.at(h),a[v.id]=c,c.options.isInDom=!1,c.setElement(l),c.replaceModel(v),c.replaceUiModel(m.getItemUiModel(l)),this.$el.hasClass("with-rhp")&&c.$el.addClass("with-rhp"),c.render();while(p<u)o[p].deactivate(),p+=1},_addItemViewCount:function(e){while(e>0)this._addItemView(),e-=1},_useCheckbox:function(){return this.options.collectionsUiModel.get("checkbox")},_addItemView:function(){var t=this.options,n,r,i;r=this._tempItemModel,r||(r=this._tempItemModel=e.modelFactory.create("CollectionItemModel")),i=this._tempItemUiModel,i||(i=this._tempItemUiModel=e.uiModelFactory.create("CollectionItemUiModel")),this._isVirgoView()===!1?n=new e.CollectionItemView(_.extend({},t,{checkbox:this._useCheckbox(),model:r,itemUiModel:i})):n=new e.CollectionVirgoItemView(_.extend({},t,{checkbox:this._useCheckbox(),model:r,itemUiModel:i})),this.addChildView(n)},_truncateItemNames:function(){var e=this.getChildViews(),t=e.length,n,r;for(r=0;r<t;r+=1)n=e[r],n.options.isInDom=!0,n.setAvailableNameWidth(this._availableNameWidth),n.updateTruncation(),_.isUndefined(this._availableNameWidth)&&(this._availableNameWidth=n.getAvailableNameWidth())},_updateChildViewRenditions:function(){var e=this.getChildViews(),t=e.length,n;for(n=0;n<t;n+=1)e[n].updateRendition()},_maybeScrollIdIntoView:function(){var e=this.options,t=e.collectionsUiModel,n,r;if((this.options.pluginId==="root"||this.options.pluginId==="scan_files")&&this.options.folderModel.get("loaded")===!1)return;n=t.get("scroll_id_into_view");if(!n)return;r=this._itemElementById[n];if(!r||e.collectionUiModel.getItemUiModel(r).get("masked"))return;this._scrollItemIntoView($(r)),t.unset("scroll_id_into_view")},_scrollItemIntoView:function(e){var t,n,r,i,s,o;if(!e.length)return;t=this.$el,n=e.position().top,r=e.outerHeight(),i=t.outerHeight();if(this._isMouseWheel)return;if(n<0||n+r>i)s=t.scrollTop(),o=n-(i-r)/2,this._setScrollTop(Math.max(s+o,0))},_getChildViewHeight:function(){var e=this.$el.children();return e.length>0?r.getFullHeight(e.eq(0)):undefined},_getChildViewWidth:function(){var e=this.$el.children();return e.length>0?r.getFullWidth(e.eq(0)):undefined},_isItemSelected:function(e){return this._getContainingItem(e).hasClass("selected")},_isItemDisabled:function(e){return this._getContainingItem(e).hasClass("disabled")},_logScSelectionEvent:function(e,t){var n,r,i,s;if(this.options.noScAnalytics)return;n=this._isItemSelected(e);if(n!==t){r=this._getContainingItem(e).data("id"),i=this.getChildViewById(r);if(!i)return;s=i.model.isFile(),this._logSiteCatalystEvent([s?o.FILE_NAME:o.FOLDER_NAME,n?o.CHECKED:o.UNCHECKED])}},_onClick:function(e){e.target===this.$el.get(0)&&!this._useCheckbox()&&this.options.appApi.selectionApi.clearSelection()},_onShareClick:function(t){var n=this._getViewEventOptions(t),r=n.itemView.model;if(e.Features.isFeatureEnabled("share_ui_2")){this._onItemClick(t);return}return t.stopPropagation(),n.models=[r],n.parentView=n.itemView,this._logSiteCatalystEvent([o.SHARED,o.CLICKED]),this._triggerViewEvent(e.ViewEvents.SHOW_PUBLIC_SHARE_DLG,n),!1},_onHighlightRow:function(t){var n=this.options,r=$(t.target),i=this._isItemSelected(r),s=this._getViewEventOptions(t),o=e.ViewEvents.SELECT_ITEM,u,a,f=e.SelectionUiModel;a=s.itemView;if(!a||a.model.isCCFile())return;t.shiftKey?u=f.SELECT_EXTEND:t.ctrlKey||t.metaKey?u=f.SELECT_TOGGLE:u=f.SELECT_HIGHLIGHT,u&&_.extend(s,{selectType:u}),this._triggerViewEvent(o,s),this._consumeEvent(t),u&&this._logScSelectionEvent(r,i)},_onSelectitemRow:function(t){var n=this.options,r=$(t.target),i=this._isItemSelected(r),s=this._getViewEventOptions(t),o=this._useCheckbox(),u=e.ViewEvents.SELECT_ITEM,a,f,l,c=e.SelectionUiModel,h=e.ViewEvents;f=s.itemView;if(!f||f.model.isCCFile())return;l=f.model.isFolder(),(n.noUrlUpdate||o)&&(l||!n.noFullPreview)?t.shiftKey?a=c.SELECT_EXTEND:o?n.searchUiModel.showFolders()&&l?(n.selectionUiModel.clearSelection(),u=h.SEARCH_IN_FOLDER,_.extend(s,{search_folder_id:f.model.id})):u=h.OPEN_COLLECTION_ITEM:a=c.SELECT_SELECT:t.shiftKey?a=c.SELECT_EXTEND:t.ctrlKey||t.metaKey?a=c.SELECT_TOGGLE:a=c.SELECT_SELECT,a&&_.extend(s,{selectType:a}),this._triggerViewEvent(u,s),this._consumeEvent(t),a&&this._logScSelectionEvent(r,i)},_onItemClick:function(e){if(this._getViewEventOptions(e).itemView.model.isCCFile())return;this._onHighlightRow(e),this.bIsSingleClickEventWaiting=!0,setTimeout(_.bind(function(){this.bIsSingleClickEventWaiting===!0&&(this.bIsSingleClickEventWaiting=!1,!e.ctrlKey&&!e.metaKey&&this._onSelectitemRow(e))},this),500)},_onItemCheckboxClick:function(t){var n=this._getViewEventOptions(t),r,i=$(t.target),s;if(n.itemView.model.isCCFile())return;t.stopPropagation(),t.shiftKey?r=e.SelectionUiModel.SELECT_EXTEND:r=e.SelectionUiModel.SELECT_TOGGLE,_.extend(n,{selectType:r}),s=i.hasClass("selected"),this._triggerViewEvent(e.ViewEvents.SELECT_ITEM,n),this._logScSelectionEvent(i,s),s&&i.css("display","block")},_onItemMaskClick:function(e){e.stopPropagation()},_onItemDblClick:function(n){this.options.appApi.rnaApi.done(_.bind(function(e){e.logPerformance("DCTabFileOpenDownload","start"),e.logPerformance("OpeningFile","start")},this)),this.bIsSingleClickEventWaiting=!1;var r=this.options,i=r.selectionUiModel.getSingleSelectedItemModel(),s=this._getViewEventOptions(n),o=this._useCheckbox(),u=e.ViewEvents;!o&&i&&i.isFolder()?r.noUrlUpdate&&r.searchUiModel.showFolders()?(r.selectionUiModel.clearSelection(),this._triggerViewEvent(u.SEARCH_IN_FOLDER,_.extend(s,{search_folder_id:i.id}))):this._triggerViewEvent(u.OPEN_COLLECTION_ITEM,s):r.noFullPreview?this._triggerViewEvent(u.SELECTION_COMMIT,s):o||(this.options.appApi.siteCatalystApi.logVirgoFileOpenEvent(this.options.appApi.siteCatalystApi._getLogSubCategory(this.options.pluginId)),!t.isCEF()||i&&i.isPDF()?this._triggerViewEvent(u.OPEN_COLLECTION_ITEM,s):this._triggerViewEvent(u.SAVEAS_SELECTED_COLLECTION_ITEMS))},_onItemCheckboxDblClick:function(e){this._consumeEvent(e)},_onFocusIn:function(e){var t=$(e.target),n,r,i,s=this.options.collectionsUiModel,o=this.options.selectionUiModel,u=o.isSingleSelectionMode(),a=s.get("last_active_row_index");return n=this.$(".collection-item"),r=this._getContainingItem(t),i=n.index(r),a===i&&this._consumeEvent(e),r.length===0?!0:((u||this.options.appApi.saveAsApi.isCalledFromNativeRS()===!0)&&this.options.selectionUiModel.getNumSelectedItems()===0&&a===-1&&_.defer(_.bind(function(){this._selectItem(r,!0)},this)),n.attr("tabindex",-1),r.attr("tabindex",0).find("input:focusable, a[href]:focusable, [role=link]:focusable").attr("tabindex",0),s.set("last_active_row_index",n.index(r)),this._scrollItemIntoView(r),!0)},_onFocusOut:function(e){var t=$(e.target),n;return n=this._getContainingItem(t),n.length===0?!0:(n.find("input:tabbable, a[href]:tabbable, [role=link]:tabbable").attr("tabindex",-1),!0)},_setTabbableItem:function(){this.$("[tabindex=0]").length===0&&this.$(".collection-item").filter(":first").attr("tabindex",0)},_onMouseDown:function(){this._isMouseDown=!0,this._isDragging=!1,this._isMouseWheel=!1},_onMouseUp:function(){this._isMouseDown=!1,this._isDragging=!1,this._isMouseWheel=!1},_onMouseEnter:function(){this.options.collectionUiModel.set("is_mouse_over",!0)},_onMouseLeave:function(e){var t=this.options,n=t.hoverPreviewView;t.collectionUiModel.set("is_mouse_over",!1),(!e.relatedTarget||!n||$(e.relatedTarget).closest(n.$el).length===0)&&t.hoverPreviewUiModel.close()},_onMouseMove:function(e){this._debouncedOnMouseMove||(this._debouncedOnMouseMove=_.debounce(this._onDebouncedMouseMove,this.options.hoverPreviewUiModel.get("show_delay"))),this._debouncedOnMouseMove(e)},_onDebouncedMouseMove:function(e){var t=this.options,r=t.hoverPreviewView,i=t.hoverPreviewUiModel,s=$(e.target),o,u,a,f,l;if(t.noHoverPreview||!t.appApi.sessionApi.isSignedIn()||!t.collectionUiModel.get("is_mouse_over"))return;if(!n.isElementInDom(s))return;if(r&&s.closest(r.$el).length>0)return;o=this._getHoverPreviewEventTargetItem(e),o&&(u=o.data("id"),a=this.getChildViewById(u));if(u&&i.isSuppressed(u))return;a&&a.model.isFile()&&!a.model.isForm()?(f=i.get("item_view"),l={collection_items_view:this,item_view:a},f?f.model.get("id")!==u&&(i.close(),i.set(l)):i.set(l)):i.close()},_onItemMouseLeave:function(e){var t,n,r,i,s,o,u,a=this.options.hoverPreviewUiModel;s=function(e){o=e.target},a.unsuppress(),t=a.get("item_view");if(!t)return;r=t.model.id,n=this._getEventTargetItem(e),n.data("id")===r&&(i=$("body"),i.off("mousemove",s).on("mousemove",s),this._itemLeaveTimerId&&clearTimeout(this._itemLeaveTimerId),this._itemLeaveTimerId=setTimeout(_.bind(function(){this._itemLeaveTimerId=undefined,i.off("mousemove",s),u=this._getContainingItem($(o)),u.length>0&&u.data("id")!==r&&a.close()},this),a.get("item_leave_delay")))},_onMouseWheel:function(e){var t=this.$el,r=this.options.collectionsUiModel,i=this._debouncedMouseWheelListener,s=e.originalEvent,o=s.wheelDelta||-s.detail;this._isMouseWheel=!0,i||(i=this._debouncedMouseWheelListener=_.debounce(_.bind(function(){this._isMouseWheel=!1},this),r.get("scroll_recheck_delay"))),i(),!this.options.isInSearchResultsView&&n.descendantHasFocus(t)&&t.scrollTop()===0&&o>0&&e.preventDefault()},_onKeyDown:function(e){function Z(e){S.unset("item_view"),f.stop(!0,!0),f.animate({scrollTop:e},V)}function et(e){return e&&e.is(".folder-item")}var r=this.options,i=r.appApi.selectionApi,s=$(e.target),o=e.which,u=e.ctrlKey||e.metaKey,a=e.shiftKey,f=this.$el,l=f[0],c=f.height(),h=f.width(),p=this._useCheckbox(),d=this._isListView(),v=this._isThumbnailView(),m=l?l.scrollTop:0,g=$.Event("keyClick"),y=$.Event("checkboxClick"),b=this._getChildViewHeight(),w=this._getChildViewWidth(),E=r.collectionsUiModel,S=r.hoverPreviewUiModel,x=r.selectionUiModel,T=x.isSingleSelectionMode(),N=!1,C=t.isCEF(),k=this.$(".collection-item"),L=this._getContainingItem(s),A=L.find(".review-list-item-checkbox"),O=k.first(),M=k.last(),D=s.is(L),P=L.length>0&&!L.is(s),H=s.is("a[href], [role=link]"),B=k.index(L),j,F=$.Event("click"),I=0,q=b===0?0:Math.floor(c/b),R=w===0?0:Math.floor(h/w),U=n.descendantHasFocus(".collection-list-view")||n.descendantHasFocus(".collection-thumb-view"),z=n.descendantHasFocus(f),W=!z&&U,X=this._isItemSelected(s),V=E.get("scroll_duration"),J=e.shiftKey,K=f.find(":tabbable").first(),Q=s.is("body")&&J?!0:!1;g.shiftKey=e.shiftKey,y.shiftKey=e.shiftKey,c-m<1200&&this.triggerNextPageFetch();if(r.isInSearchResultsView){var G=r.appApi.pluginsApi.getPluginContentId(r.pluginId),Y=$("#"+G+".search-view-content");if(!$.contains(Y[0],s[0]))return!1}if(s.hasClass("virgoHeaderThumbnailCheckbox"))return N;b&&(d?I=q:v&&(I=q*R));if(n.isElementHidden(f))return N;if(s.is(":focusable")&&!U)return N;r=this._getViewEventOptions(e),F.shiftKey=a;var tt=!1;switch(o){case 9:if(x.getNumSelectedItems()===0&&D)s.trigger(g),N=!0;else if(this.options.isInSearchResultsView&&a&&W)j=n.getNextFocusableDescendant(L.parent().parent(),e.shiftKey,!0);else{this._setTabbableItem();if(W){var nt=$(".collection-header-info-container").find(":tabbable"),rt=nt.index(s);if(rt==nt.length-1||this.options.isInSearchResultsView)x.getNumSelectedItems()===0?j=O:j=K?K:O,tt=!0}else Q&&(j=K?K:O)}break;case 32:A.trigger(y),N=!0;break;case 13:z?C&&!i.isRunningInFileSelection()&&!et(L)?N=this._openFilesIfSelected():et(L)?N=this._openItemIfSelected(e):N=!0:C&&!i.isRunningInFileSelection()?N=this._openFilesIfSelected():N=this._openItemIfSelected(e);break;case 27:C&&!i.isRunningInFileSelection()&&(!this.options.isInSearchResultsView||x.isItemSelected())&&(this._deselectAll(r),N=!0);break;case 33:z?(j=k.eq(Math.max(0,B-I)),tt=!0):(Z(m-c),N=!0);break;case 34:z?(j=k.eq(Math.min(k.length-1,B+I)),tt=!0):(Z(m+c),N=!0);break;case 35:z&&!L.is(M)&&(j=M,tt=!0),Z(l.scrollHeight),N=!0;break;case 36:z&&!L.is(O)&&(j=O,tt=!0),Z(0),N=!0;break;case 37:if(p)if(z)if(v){j=L.prev(".collection-item");while(j&&this._isItemDisabled(j))j=j.prev(".collection-item")}else j=n.getNextFocusableDescendant(L,!0,!0);else b&&!W&&(Z(m-b),N=!0);else if(t.isMac()&&u)z&&R&&(j=k.eq(Math.floor(B/R)*R)),N=!0;else{if(z){j=L.prev(".collection-item");while(j&&this._isItemDisabled(j))j=j.prev(".collection-item")}N=!0}tt=!0;break;case 38:if(p)if(P)j=L;else if(D){if(v){j=k.eq(Math.max(0,B-R));var it=1;while(j&&this._isItemDisabled(j))it+=1,j=k.eq(Math.max(0,B-it*R))}else if(B>0){j=L.prev(".collection-item");while(j&&this._isItemDisabled(j))j=j.prev(".collection-item")}}else b&&!W&&(Z(m-b),N=!0);else if(t.isMac()&&u)z&&(j=O),N=!0;else if(v){if(z){j=k.eq(Math.max(0,B-R));var it=1;while(j&&this._isItemDisabled(j))it+=1,j=k.eq(Math.max(0,B-it*R))}N=!0}else if(z&&B>0){j=L.prev(".collection-item");while(j&&this._isItemDisabled(j))j=j.prev(".collection-item")}tt=!0;break;case 39:if(p)z?v?j=L.next(".collection-item"):j=n.getNextFocusableDescendant(L,!1,!0):b&&(Z(m+b),N=!0);else if(t.isMac()&&u)z&&R&&(j=k.eq(Math.floor(B/R)*R+R-1)),N=!0;else{if(z){j=L.next(".collection-item");while(j&&this._isItemDisabled(j))j=j.next(".collection-item")}N=!0}tt=!0;break;case 40:if(p)if(z)if(v){j=k.eq(Math.min(k.length-1,B+R));var it=1;while(j&&this._isItemDisabled(j))it+=1,j=k.eq(Math.min(k.length-1,B+it*R))}else{j=L.next(".collection-item");while(j&&this._isItemDisabled(j))j=j.next(".collection-item")}else b&&!W&&(Z(m+b),N=!0);else if(t.isMac()&&u)z&&(j=M),N=!0;else if(v){if(z){j=k.eq(Math.min(k.length-1,B+R));var it=1;while(j&&this._isItemDisabled(j))it+=1,j=k.eq(Math.min(k.length-1,B+it*R))}N=!0}else if(z){j=L.next(".collection-item");while(j&&this._isItemDisabled(j))j=j.next(".collection-item")}tt=!0;break;case 65:u&&(a?(this._deselectAll(r),this._clearSelection(r)):this._selectAll(r),this._consumeEvent(e),N=!0);break;case 68:u&&(N=this._deleteIfSelected());break;case 127:case 46:N=this._deleteIfSelected()}return j&&j.length>0&&(N=!0,u&&(tt=!1),tt?(u?j.trigger(y):j.trigger(g),j.focus()):j.focus(),X&&e.shiftKey?_.defer(function(){j.trigger(g)}):u||T&&(this._clearSelection(r),this._selectItem(j,!0))),N},_openFilesIfSelected:function(){var t=this.options.selectionUiModel,n=t.getSelectionCountByType(),r,i,s,o;r=n.numFiles,i=n.numFolders,s=n.numNonPDFs,o=n.numForms;if(t.getNumSelectedItems()>0){if(i===1&&r===0)this._triggerViewEvent(e.ViewEvents.OPEN_SELECTED_COLLECTION_ITEMS);else if(i===0&&r>0&&o===0)if(s===0)this._triggerViewEvent(e.ViewEvents.OPEN_SELECTED_COLLECTION_ITEMS);else if(r===s){var u=this.options.appApi.connectorsApi.getConnectorPluginName(this.options.pluginId),a=!1;if(u==="root"||u==="ccloud"||this.options.pluginId==="scan_files"||s===1)a=!0;a&&this._triggerViewEvent(e.ViewEvents.SAVEAS_SELECTED_COLLECTION_ITEMS)}return!0}return!1},_selectAll:function(t){this._triggerViewEvent(e.ViewEvents.SELECT_ITEM,_.extend(t,{selectType:e.SelectionUiModel.SELECT_ALL}))},_deselectAll:function(t){this._triggerViewEvent(e.ViewEvents.SELECT_ITEM,_.extend(t,{selectType:e.SelectionUiModel.SELECT_NONE}))},_selectItem:function(e,t){var n=this.options,r=n.collectionUiModel,i=n.selectionUiModel,s=$(e),o=s.data("model"),u=r.getItemUiModel(s);if(o.isCCFile()&&t===!0)return;i.selectItem(o,u,t,!0)},_selectPrevious:function(){this._selectType(e.SelectionUiModel.SELECT_PREVIOUS)},_selectNext:function(){this._selectType(e.SelectionUiModel.SELECT_NEXT)},_selectUp:function(){this._selectType(e.SelectionUiModel.SELECT_UP)},_selectDown:function(){this._selectType(e.SelectionUiModel.SELECT_DOWN)},_extendSelectPrevious:function(){this._selectType(e.SelectionUiModel.EXTEND_SELECT_PREVIOUS)},_extendSelectNext:function(){this._selectType(e.SelectionUiModel.EXTEND_SELECT_NEXT)},_extendSelectUp:function(){this._selectType(e.SelectionUiModel.EXTEND_SELECT_UP)},_extendSelectDown:function(){this._selectType(e.SelectionUiModel.EXTEND_SELECT_DOWN)},_selectFirst:function(){this._selectType(e.SelectionUiModel.SELECT_FIRST)},_selectFirstInRow:function(){this._selectType(e.SelectionUiModel.SELECT_FIRST_IN_ROW)},_selectLast:function(){this._selectType(e.SelectionUiModel.SELECT_LAST)},_selectLastInRow:function(){this._selectType(e.SelectionUiModel.SELECT_LAST_IN_ROW)},_selectType:function(t){this._triggerViewEvent(e.ViewEvents.SELECT_ITEM,{collectionItemsView:this,selectType:t})},_openItemIfSelected:function(t){var n=this.options,r=n.selectionUiModel,i=r.getSingleSelectedItemModel(),s=e.ViewEvents,o=this._getViewEventOptions(t);if(!i)return!1;if(n.noUrlUpdate){if(i.isFile())return!1;if(n.searchUiModel.showFolders())return n.selectionUiModel.clearSelection(),this._triggerViewEvent(s.SEARCH_IN_FOLDER,_.extend(o,{search_folder_id:i.id})),!0}return this._triggerViewEvent(s.OPEN_COLLECTION_ITEM,{collectionItemsView:this,itemView:this.getChildViewById(i.id)}),!0},_clearSelection:function(t){this._triggerViewEvent(e.ViewEvents.CLEAR_SELECTION,t)},_deleteIfSelected:function(){var t=this.options,n;n=t.selectionUiModel.getNumSelectedItems();var r=t.selectionUiModel.getSingleSelectedItemModel();return n&&!t.noSelectionActions&&!t.noDelete&&(n===1&&!_.isUndefined(r.get("is_shared"))&&r.get("is_shared")?this._triggerViewEvent(e.ViewEvents.DELETE_SHARED,{parentView:this,parcelModel:r}):this._triggerViewEvent(e.ViewEvents.DELETE,{collectionsUiModel:t.collectionsUiModel,parentView:this})),n},_addUiModelEventListeners:function(){var e=this.options,t=e.collectionsUiModel,n=e.sortUiModel;this.listenTo(t,"change:filter_by_extension",this._onFilterByExtensionChange).listenTo(n,"change:order_by",this._onSortChange).listenTo(n,"change:order_direction",this._onSortChange)},_onFilterByExtensionChange:function(){this.render()},_onSortChange:function(){this._setScrollTop(0)},_addScrollEventListeners:function(){this._removeScrollEventListeners(),this.$el.on("scroll",this._onScroll)},_removeScrollEventListeners:function(){this.$el.off("scroll")},_onScroll:function(){var e=this._debouncedScrollListener,t,n,r,i,s,o=this.options.collectionsUiModel;this.triggerNextPageFetch(),e||(n=this.$el,i=o.get("scroll_render_delay"),s=o.get("scroll_recheck_delay"),t=_.debounce(_.bind(function(){r=n.scrollTop(),r!==this._renderScrollTop&&this.render(r)},this),s),e=this._debouncedScrollListener=_.debounce(_.bind(function(){this._isDragging=this._isMouseDown,this.render(),t()},this),i)),e()},canTriggerNextPageFetch:function(){var e=this.$el.height()?this.$el.height():window.innerHeight,t=this.$el.get(0).scrollHeight?this.$el.get(0).scrollHeight:window.innerHeight,n=this.$el.scrollTop(),r=this._getDisplayRange(n,t,e),i;_.isFunction(this.options.folderModel.getNextPageTriggerThreshold)&&(i=this.options.folderModel.getNextPageTriggerThreshold());var s=this.options.folderModel.attributes.connector_key;return i||(s==="onedrive"||s==="onedrivebusiness"?i=5:i=150),r.end>this.collection.length-i&&this.collection.length>i?!0:!1},triggerNextPageFetch:function(){if(!this.canTriggerNextPageFetch()||this.options.folderModel.get("pageFetchingInProgress"))return;_.isFunction(this.options.folderModel.triggerNextPageFetch)&&(this.options.folderModel.set("pageFetchingInProgress",!0),this.options.folderModel.triggerNextPageFetch())}})}),define("core/dev/views/collection-view",["core/ac-core","files/ac-files","core/templates/collection-template","core/utils/util","core/utils/view-util","core/views/view","core/views/collection-header-view","core/views/collection-virgo-header-view","core/views/collection-virgo-header-thumbnail-view","core/views/selection-actions-view","core/views/collection-items-view"],function(e,t,n,r,i){return e.CollectionView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this._addKeyEventListener(),this._addCollectionEventListeners(),this._addUiModelEventListeners(),this.deferUssCall=!1},render:function(){var t=this.$el,s,o=this.options,u=o.appApi.pluginsApi,a=o.pluginId;if(!o.collectionUiModel.get("is_active"))return this;e.View.prototype.render.call(this),i.isElementEmpty(t)&&(t.html(_.template(n)({folderPathId:this._getFolderPathId(),searchResultsSummaryId:this._getSearchResultsSummaryId(),pluginSelectorId:u.getPluginSelectorId(a)})),this._initWrappers(),this._setCollectionItemsTabIndex()),s=this.$items,this.$listViewBtn=this.$("#shared-workflow-header-btn-listView"),this.$thumbnailViewBtn=this.$("#shared-workflow-header-btn-thumbnailView"),o.pluginId==="scan_files"?(o.collectionsUiModel.get("view")||o.collectionsUiModel.set("view","thumbnail"),o.collectionsUiModel.get("view")===e.CollectionsUiModel.VIEW_LIST?(t.removeClass("collection-thumb-view"),t.addClass("collection-list-view"),s.addClass("with-header"),t.removeClass("shared-thumb-view"),this.options.appApi.selectionApi.isRunningInFileSelection()||r.isCEF()&&o.appApi.saveAsApi.isRunningInFileSaveAs()||t.addClass("virgo-collection-list-view"),t.addClass("virgo-collection-thumb-view"),this.$thumbnailViewBtn.removeClass("button-selected"),this.$listViewBtn.addClass("button-selected")):(t.removeClass("collection-list-view"),t.addClass("collection-thumb-view"),t.addClass("shared-thumb-view"),this.options.appApi.selectionApi.isRunningInFileSelection()||r.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()?s.removeClass("with-header"):s.addClass("with-header"),t.removeClass("virgo-collection-list-view"),this.options.appApi.selectionApi.isRunningInFileSelection()||r.isCEF()&&o.appApi.saveAsApi.isRunningInFileSaveAs()||t.addClass("virgo-collection-thumb-view"),this.$thumbnailViewBtn.addClass("button-selected"),this.$listViewBtn.removeClass("button-selected"))):(o.collectionsUiModel.get("view")||o.collectionsUiModel.set("view","list"),o.collectionsUiModel.get("view")===e.CollectionsUiModel.VIEW_THUMBNAIL?(t.removeClass("collection-list-view"),t.addClass("collection-thumb-view"),t.addClass("shared-thumb-view"),this.options.appApi.selectionApi.isRunningInFileSelection()||r.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()?s.removeClass("with-header"):s.addClass("with-header"),this.options.appApi.selectionApi.isRunningInFileSelection()||r.isCEF()&&o.appApi.saveAsApi.isRunningInFileSaveAs()||t.addClass("virgo-collection-thumb-view"),t.removeClass("virgo-collection-list-view"),this.$thumbnailViewBtn.addClass("button-selected"),this.$listViewBtn.removeClass("button-selected")):(t.removeClass("collection-thumb-view"),t.addClass("collection-list-view"),s.addClass("with-header"),t.removeClass("shared-thumb-view"),this.options.appApi.selectionApi.isRunningInFileSelection()||r.isCEF()&&o.appApi.saveAsApi.isRunningInFileSaveAs()||t.addClass("virgo-collection-list-view"),t.removeClass("virgo-collection-thumb-view"),this.$thumbnailViewBtn.removeClass("button-selected"),this.$listViewBtn.addClass("button-selected"))),this._renderChildViews(),_.delay(this._hideOrShowHeaderCheckbox,o.collectionsUiModel.get("data_render_delay"));var f=this.options.appApi.connectorsApi.getConnectorPluginName(o.pluginId);return f==="root"&&this.options.searchUiModel.get("field_queries").models[0]&&this.options.searchUiModel.get("field_queries").models[0].get("field")==e.SearchUiModel.FIELD_FILE_ADDED_BY&&this.options.searchUiModel.get("field_queries").models[0].get("value")==e.SearchUiModel.CLIENT_ID_CPDF&&this.options.searchUiModel.trigger("ConvertedFilesShowFilterEvent"),this},_initWrappers:function(){this.$header=this.$(".collection-header"),this.$virgoHeader=this.$(".collection-virgo-header"),this.$virgoHeaderThumbnail=this.$(".collection-virgo-header-thumbnail"),this.$selectionActions=this.$(".selection-actions"),this.$items=this.$(".collection-items"),this.options.isInSearchResultsView&&(this.$items.addClass("uss-search-active"),this.$search_content=$(".search-views-content"),this.$virgoHeader.addClass("uss-search-active"),this.$search_content.scroll(this._onScrollSearchResults),this._StickyHeaderTop=$(".search-results-header").outerHeight(!0)+this.$virgoHeader.outerHeight(!0),this._contentBottom=this._StickyHeaderTop+this.$search_content.outerHeight(!0))},_onScrollSearchResults:function(){if(!this.$el.is(":visible"))return;var e=this.$items.offset().top,n=this.$items.offset().top+this.$items.outerHeight(!0);if(this._StickyHeaderTop>=e&&this._StickyHeaderTop<n){this.$virgoHeader.hasClass("sticky-search-header")||this.$virgoHeader.addClass("sticky-search-header"),this.$search_content.hasClass("with-sticky-search-header")||this.$search_content.addClass("with-sticky-search-header"),this.options.selectionUiModel.getNumSelectedItems()?this.$virgoHeader.addClass("active-context-board"):this.$virgoHeader.removeClass("active-context-board");if(n<this._contentBottom&&!this.deferUssCall&&this.collection.length<this.options.searchModel.getSearchResultCount()){var r=this.options;this.deferUssCall=!0,_.extend(r,{startIndex:this.collection.length,search_scope:["document_cloud"],noSearchReset:!0,useCacheToUpdate:!0}),this.options.appApi.displayApi.showSpinner(!0),t.opFactory.create("USSSearchingOp",r).run().always(_.bind(function(){this.options.appApi.displayApi.showSpinner(!1),setTimeout(_.bind(this.enableUssCall,this),200)},this))}}else this.$virgoHeader.hasClass("sticky-search-header")&&this.$virgoHeader.removeClass("sticky-search-header"),this.$search_content.hasClass("with-sticky-search-header")&&this.$search_content.removeClass("with-sticky-search-header")},enableUssCall:function(){this.deferUssCall=!1},_setCollectionItemsTabIndex:function(){r.isFirefox()&&this.$items.attr("tabindex","-1")},_renderChildViews:function(){this._renderItemsView(),this.$virgoHeaderThumbnail.css("display","none"),this.$virgoHeader.css("display","none"),$(".collection-old-header").css("display","none"),this.options.appApi.selectionApi.isRunningInFileSelection()||r.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()?this._isListView()&&this._renderHeaderView():this._isListView()?this._renderVirgoHeaderView():this._renderVirgoThumbanilHeaderView()},_renderItemsView:function(){this._renderChildView("_itemsView",e.CollectionItemsView,this.$items,{collectionView:this})},_renderHeaderView:function(){this.$virgoHeaderThumbnail.css("display","none"),this.$virgoHeader.css("display","none"),$(".collection-old-header").css("display","block"),this._renderChildView("_headerView",e.CollectionHeaderView,this.$header,{collectionItemsView:this._itemsView})},_renderVirgoHeaderView:function(){$(".collection-old-header").css("display","none"),this.$virgoHeader.css("display","block"),this.$virgoHeaderThumbnail.css("display","none"),this._renderChildView("_virgoHeaderView",e.CollectionVirgoHeaderView,this.$virgoHeader,{collectionItemsView:this._itemsView})},_renderVirgoThumbanilHeaderView:function(){$(".collection-old-header").css("display","none"),this.$virgoHeader.css("display","none"),this.$virgoHeaderThumbnail.css("display","flex"),this._renderChildView("_virgoHeaderThumbnailView",e.CollectionVirgoHeaderThumbnailView,this.$virgoHeaderThumbnail,{collectionItemsView:this._itemsView})},_isListView:function(){return this.options.collectionsUiModel.isListView()},_getIdOfSiblingBySelector:function(e){var t=this.$el,n=t.parent().find("> "+e+"[id]"),r="";return n.length&&(r=n.attr("id")),r},_getFolderPathId:function(){var e=".folder-navigation > .folder-path";return this._getIdOfSiblingBySelector(e)},_getSearchResultsSummaryId:function(){var e=".files-search-results-summary";return this._getIdOfSiblingBySelector(e)},_renderSelectionActionsView:function(){this._renderChildView("_selectionActionsView",e.SelectionActionsView,this.$selectionActions)},_onKeyDown:function(e){var t=!1;switch(e.which){case 38:i.descendantHasFocus(this.$items)&&(this.setFocusToSelectionActionsView()||this.setFocusToHeaderView(!0),t=!0);break;case 40:if(i.descendantHasFocus(this.$header)||i.descendantHasFocus(this.$virgoHeader)||i.descendantHasFocus(this.$virgoHeaderThumbnail)||i.descendantHasFocus(this.$selectionActions))this.setFocusToCollectionItemsView(),t=!0}return t&&this._consumeEvent(e),t},_setFocusToChildView:function(e,t){var n=t?":checkbox:focusable":":tabbable:first",r=e.find(n);return t&&r.length===0&&(r=e.find(":focusable:first")),r.length?(r.focus(),!0):!1},setFocusToHeaderView:function(e){if(this.options.appApi.selectionApi.isRunningInFileSelection()||r.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()){var t=this._setFocusToChildView(this.$header,e);return t}var t;return this._isListView()?t=this._setFocusToChildView(this.$virgoHeader,e):t=this._setFocusToChildView(this.$virgoHeaderThumbnail,e),t},setFocusToSelectionActionsView:function(e){var t=this._setFocusToChildView(this.$selectionActions,e);return t},setFocusToCollectionItemsView:function(){var e=this._setFocusToChildView(this.$items);return e},_correctFocusOnSelectionChange:function(t,n){var i;this.options.appApi.selectionApi.isRunningInFileSelection()||r.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()?i=this.$header:this._isListView()?i=this.$virgoHeader:i=this.$virgoHeaderThumbnail;var s=i.find(":checkbox"),o=this.$selectionActions,u=!1,a=!1;t&&(u=t.is(i),a=t.is(o)),this._hideOrShowHeaderCheckbox(),u&&n.selectType===e.SelectionUiModel.SELECT_ALL?this.setFocusToSelectionActionsView(!0):a&&(s.is(":focusable")?this.setFocusToHeaderView(!0):this.setFocusToCollectionItemsView())},_hideOrShowHeaderCheckbox:function(){var e=this.$header.find(":checkbox"),t=this.$selectionActions,n=this.options;t.hasClass("open")||n.appApi.acrobatApi.isInAcrobat()||!n.selectionUiModel.get("multiple_selection")||!n.collectionsUiModel.get("checkbox")?e.hide():e.show()},_addCollectionEventListeners:function(){var e=this.options,t,n=this.options.collectionUiModel,r=e.collectionsUiModel.get("debounced_render_delay");t=_.debounce(_.bind(function(){this.render()},this),r),this.collection.on("add change remove sort",t).on("reset",function(){e.collectionUiModel.clearItemUiModels(),t()})},_addUiModelEventListeners:function(){var e=this.options;this.listenTo(e.collectionsUiModel,"change:view",this._onViewChange).listenTo(e.selectionUiModel,"change:selected_item_models",this._onSelectedItemModelsChange)},_onViewEvent:function(t,n){switch(t){case e.ViewEvents.SELECT_ITEM:this._onSelectItem(n);break;case e.ViewEvents.CLEAR_SELECTION:this._onClearSelection(n)}e.View.prototype._onViewEvent.call(this,t,n)},_onViewChange:function(){i.isElementHidden(this.$el)||this.updateChildViewSizes()},_onSelectedItemModelsChange:function(e){if(this.options.isInSearchResultsView){var t=e.getSingleSelectedItemModel();this.render();if(t&&t.workflowType)return;t||this.$(".selected").removeClass("selected");return}this.render()},_onSelectItem:function(e){if(this.options.appApi.selectionApi.isRunningInFileSelection()||r.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()){var t=i.descendantHasFocus(this.$header),n=i.descendantHasFocus(this.$selectionActions),s;t?s=this.$header:n&&(s=this.$selectionActions)}else if(this._isListView()){var t=i.descendantHasFocus(this.$virgoHeader),n=i.descendantHasFocus(this.$selectionActions),s;t?s=this.$virgoHeader:n&&(s=this.$selectionActions)}else{var t=i.descendantHasFocus(this.$virgoHeaderThumbnail),n=i.descendantHasFocus(this.$selectionActions),s;t?s=this.$virgoHeaderThumbnail:n&&(s=this.$selectionActions)}_.delay(this._correctFocusOnSelectionChange,this.options.collectionsUiModel.get("scroll_render_delay"),s,e)},_onClearSelection:function(e){this._onSelectItem(e)}}),e.CollectionView}),define("core/dev/templates/custom-range-selector-template",[],function(){return'<div class="ui-theme theme-text date-calender"><div><span style="font-size: 25px;"><%- custom %></span><button class="dialog-close-btn" tabindex="0"><span class="hidden-accessible"><%- close %></span></button></div><table><tr><td><div class ="date-calender-left-div"><div class="dateLabelFrom"><label for="from-date"><%- from %></label><span class="invalid-from-date-error hide">*<%- invalidDate %></span></div><input class="dateInput ui-theme theme-container theme-text" type="text" id="from-date" placeholder="MM/DD/YYYY" tabindex="0"/><div class="dateLabelTo"><label for="to-date"><%- to %></label><span class="invalid-to-date-error hide">*<%- invalidDate %></span></div><input class="dateInput ui-theme theme-container theme-text" type="text" id="to-date" placeholder="MM/DD/YYYY" tabindex="0"/><div class="date-div-go" ><button class = "date-calender-action-go theme-button theme-button-label" tabindex="0"><%- go %></button><div class="date-div-cancel" ><button class = "date-calender-action-cancel theme-button theme-button-label" tabindex="0"><%- cancel %></button></div><span class="invalid-date-range-error hide">*<%- invalidDateRange %></span></div></div></td><td><div id="date-calender-month-view"><div class="header"><span class="left navButton" id="prev" style="font-size: 8px;" tabindex="0" title = "<%- prevMonth %>"> &lang; </span><span class="left hook"></span><span class="month-year"></span><span class="right hook" id=""></span><span class="right navButton" id="next" style="font-size: 8px;" tabindex="0" title = "<%- nextMonth %>"> &rang; </span></div><table id="week-days"><tr class = "day-labels"><td class = "sunday-label">    </td><td class = "monday-label">    </td><td class = "tuesday-label">   </td><td class = "wednesday-label"> </td><td class = "thursday-label">  </td><td class = "friday-label">    </td><td class = "saturday-label">  </td></tr></table><div id="month-dates"><table class="curr"><tr class="week"><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td></tr><tr class="week"><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td></tr><tr class="week"><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td></tr><tr class="week"><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td></tr><tr class="week"><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td></tr><tr class="week"><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td><td class="day"></td></tr></table></div></div></td></tr></table></div>'}),define("core/dev/views/custom-range-selector-view",["core/ac-core","core/templates/custom-range-selector-template","i18n!core/nls/ui-strings","core/dev/utils/date-util","core/views/dialog-view"],function(e,t,n,r){return e.CustomRangeSelectorView=e.DialogView.extend({events:{"click .date-calender-action-cancel ":"_onCancelBtnClick","click .date-calender-action-go ":"_onGoBtnClick","click .date-calender":"_onCalBodyClick","dblclick .date-calender":"_onCalBodyDblClick","click .date-calender .dialog-close-btn":"_onCalCloseClick",keydown:"_onAnyKeyDown"},initialize:function(){e.DialogView.prototype.initialize.call(this),this._template=_.template(t)({custom:n.CUSTOM,close:n.CLOSE,from:n.FROM,to:n.TO,go:n.GO,cancel:n.CANCEL,invalidDate:n.INVALID_DATE,invalidDateRange:n.INVALID_DATE_RANGE,prevMonth:n.PREVIOUS_MONTH,nextMonth:n.NEXT_MONTH}),this._currentMonthView=null,this._currentYearView=null,this._fromSec=0,this._toSec=0,this._currentActiveDateElement=1,this._placeholder=null},_onCalCloseClick:function(e){this.close(!1);var t=this.options.parentView._virgoFilterNavigationView.$valueMenuBtnLabelTime.attr("prevfilter");this.options.parentView._virgoFilterNavigationView.$valueMenuBtnLabelTime.text(t),this.options.parentView._virgoFilterNavigationView.$valueMenuBtnLabelTime.attr("title",t),this.options.parentView._virgoFilterNavigationView.$valueMenuBtnLabelTime.attr("aria-label",t),this.options.parentView._virgoFilterNavigationView._filterValueTime=t,this.options.parentView._virgoFilterNavigationView.$valueMenuBtnLabelType.text()===n.VIRGO_ANY_TYPE&&this.options.parentView._virgoFilterNavigationView.$valueMenuBtnLabelTime.text()===n.VIRGO_ANY_TIME&&this.options.parentView._virgoFilterNavigationView.$(".filename-label-button").text()===n.VIRGO_ANY_FILE_NAME&&this.options.parentView._virgoFilterNavigationView.$valueMenuBtnReset.css("display","none")},_onCalBodyClick:function(e){var t=e.target;t.id=="from-date"?this._onFromDateClick():t.id=="to-date"?this._onToDateClick():t.id=="prev"?this._onPrevMonthClick():t.id=="next"?this._onNextMonthClick():t.className.includes("day")?this._onCalFrameClick(e):this._currentActiveDateElement=null},_onCalBodyDblClick:function(e){this._onCalFrameDblClick(e)},_onAnyKeyDown:function(e){var t=$(e.target);if(e.key=="Enter")this._onCalBodyClick(e);else if(e.target.className=="day"){var n;if(e.key=="ArrowDown"){var r=t.closest("tr"),i=r.next();i!=undefined&&(n=$(i.find("td")[e.target.cellIndex]))}else if(e.key=="ArrowUp"){var r=t.closest("tr"),s=r.prev();s!=undefined&&(n=$(s.find("td")[e.target.cellIndex]))}else e.key=="ArrowLeft"?n=t.prev():e.key=="ArrowRight"&&(n=t.next());n!=undefined&&n.text()!=""&&n.focus()}},_onGoBtnClick:function(){var t=this.options.searchFieldQuery;this.$fromDateError.addClass("hide"),this.$toDateError.addClass("hide"),this.$dateRangeError.addClass("hide");var i=moment(this.$fromDateElem.val(),[this._placeholder]).isValid(),s=moment(this.$toDateElem.val(),[this._placeholder]).isValid(),o=new Date(moment(this.$fromDateElem.val(),[this._placeholder])),u=new Date(moment(this.$toDateElem.val(),[this._placeholder])),a=new Date,f=a.getTime(),l=this.$fromDateElem.val().replace(/\b0/g,""),c=this.$toDateElem.val().replace(/\b0/g,""),h=r.formatDateOnlyVariant(o,n.DATE_MM_DD_YYYY),p=r.formatDateOnlyVariant(u,n.DATE_MM_DD_YYYY);if(o&&u){var d=!1;if(!i||isNaN(o))d=!0,this.$fromDateError.removeClass("hide"),this._clearSelection();if(!s||isNaN(u))d=!0,this.$toDateError.removeClass("hide"),this._clearSelection();d||(o>u||o>a||u>a||l!=h||c!=p?(this.$dateRangeError.removeClass("hide"),this._clearSelection()):(this.$fromDateError.addClass("hide"),this.$toDateError.addClass("hide"),this.$dateRangeError.addClass("hide"),t.from=o,t.to=u,this._triggerViewEvent(e.ViewEvents.ADD_SEARCH_FIELD_QUERY,{searchFieldQuery:t}),this.close(!1)))}},_onCancelBtnClick:function(){this.close(!1);var e=this.options.parentView._virgoFilterNavigationView.$valueMenuBtnLabelTime.attr("prevfilter");this.options.parentView._virgoFilterNavigationView.$valueMenuBtnLabelTime.text(e),this.options.parentView._virgoFilterNavigationView.$valueMenuBtnLabelTime.attr("title",e),this.options.parentView._virgoFilterNavigationView.$valueMenuBtnLabelTime.attr("aria-label",e),this.options.parentView._virgoFilterNavigationView._filterValueTime=e,this.options.parentView._virgoFilterNavigationView.$valueMenuBtnLabelType.text()===n.VIRGO_ANY_TYPE&&this.options.parentView._virgoFilterNavigationView.$valueMenuBtnLabelTime.text()===n.VIRGO_ANY_TIME&&this.options.parentView._virgoFilterNavigationView.$(".filename-label-button").text()===n.VIRGO_ANY_FILE_NAME&&this.options.parentView._virgoFilterNavigationView.$valueMenuBtnReset.css("display","none")},_onFromDateClick:function(){this._currentActiveDateElement=1},_onToDateClick:function(){this._currentActiveDateElement=2},_onPrevMonthClick:function(){var e=new Date(this._currentYearView,this._currentMonthView,1);e.setDate(e.getDate()-1),this._createMonthCalender(e.getMonth(),e.getFullYear()),this._currentActiveDateElement=null},_onNextMonthClick:function(){var e=new Date(this._currentYearView,this._currentMonthView,1);e.setDate(e.getDate()+this._getNumDaysInMonth(e.getMonth(),e.getFullYear())),this._createMonthCalender(e.getMonth(),e.getFullYear()),this._currentActiveDateElement=null},_onCalFrameClick:function(e){var t=$(e.target),n=t.text();if(n!=""&&!t.hasClass("nil")){var r=new Date(this._currentYearView,this._currentMonthView,t.text()),i=new Date(this._fromSec),s=new Date(this._toSec),o=i.getTime(),u=s.getTime();switch(this._currentActiveDateElement){case null:if(o<=0&&u<=0||isNaN(i)&&isNaN(s))i=r,o=i.getTime();else if(u<=0||isNaN(s))if(r>=i)s=r,u=s.getTime();else{var a=i;i=r,s=a,o=i.getTime(),u=s.getTime()}else r<i?(i=r,o=i.getTime()):(s=r,u=s.getTime());break;case 1:if(u<=0||isNaN(s)||r<=s)i=r,o=i.getTime();break;case 2:if(o<=0||isNaN(i)||r>=i)s=r,u=s.getTime()}var f=!1,l=!1;o&&!isNaN(i)&&(this.$fromDateElem.val(this.formatDateOnly(i)),this._fromSec=i.getTime(),this.$fromDateError.addClass("hide"),f=!0),u&&!isNaN(s)&&(this.$toDateElem.val(this.formatDateOnly(s)),this.$toDateError.addClass("hide"),this._toSec=s.getTime(),l=!0),f&&l&&(o<=u||i<=s)&&this.$dateRangeError.addClass("hide"),this._showSelection(),this._currentActiveDateElement=null}},_onCalFrameDblClick:function(e){},formatDateOnly:function(e){var t=_.template(n.DATE_MM_DD_YYYY),r=e.getMonth()+1;n.MM==="MM"&&r<10&&(r="0"+r);var i=e.getDate();n.DD==="DD"&&i<10&&(i="0"+i);var s=e.getFullYear();return n.YYYY==="YY"&&(s-=2e3),$.trim(t({month:r,day:i,year:s}))},render:function(){return e.DialogView.prototype.render.call(this),this._appendToDialog(this._template),this._initWrappers(),this._fillCurrentMonthCalender(),this._center(),this.$titleBar.hide(),this.$dlg.width(450),this.$fromDateElem.focus(),this},isLeapYear:function(e){return(new Date(e,1,29)).getMonth()===1},_getNumDaysInMonth:function(e,t){var n;return e===1?n=this.isLeapYear(t)?29:28:e===3||e===5||e===8||e===10?n=30:n=31,n},_getMonth:function(e){switch(e){case 0:return n.JANUARY;case 1:return n.FEBRUARY;case 2:return n.MARCH;case 3:return n.APRIL;case 4:return n.MAY;case 5:return n.JUNE;case 6:return n.JULY;case 7:return n.AUGUST;case 8:return n.SEPTEMBER;case 9:return n.OCTOBER;case 10:return n.NOVEMBER;case 11:return n.DECEMBER}},_fillCurrentMonthCalender:function(){var e=new Date,t=e.getDate(),n=e.getMonth(),r=e.getFullYear();this._createMonthCalender(n,r)},close:function(t,n){e.DialogView.prototype.close.call(this,t,n)},_clearSelection:function(){$(".curr tr").each(function(){$("td",this).each(function(){var e=this;e.style.background="",e.style.color=""})})},_showSelection:function(){var e=new Date(this._fromSec),t=new Date(this._toSec),n=this._currentYearView,r=this._currentMonthView;if(isNaN(e)&&isNaN(t))return;$(".curr tr").each(function(){$("td",this).each(function(){var i=this;if(i.innerHTML!=""){var s=new Date(n,r,i.innerHTML);!isNaN(e)&&s.getTime()==e.getTime()?(i.style.color="#d5eefc",i.style.background="#2175c8"):!isNaN(t)&&s.getTime()==t.getTime()?(i.style.color="#d5eefc",i.style.background="#2175c8"):!isNaN(t)&&!isNaN(e)&&s>e&&s<=t?(i.style.color="#d5eefc",i.style.background="#2175c8"):(i.style.background="",i.style.color="")}else i.style.background="",i.style.color=""})})},_createMonthCalender:function(e,t){var r=new Date(t,e,1),i=this._getNumDaysInMonth(e,t),s=0,o=r.getDay(),u=0,a=1;$(".curr tr").each(function(){var e=0;$("td",this).each(function(){var t=this;t.style.pointerEvents="initial",a<=i?(u==0&&e==o?t.tabIndex="0":t.tabIndex="-1",u==0&&e<o?(t.innerHTML="",t.title="",t.style.pointerEvents="none"):(t.innerHTML=a,t.title=a,a++)):(t.innerHTML="",t.title="",t.tabIndex="-1",t.style.pointerEvents="none"),e++}),u++});var f=_.template(n.MONTH_YEAR),l=$.trim(f({month:this._getMonth(e),year:t}));this.$(".sunday-label").html(n.SUNDAY_SHORT),this.$(".monday-label").html(n.MONDAY_SHORT),this.$(".tuesday-label").html(n.TUESDAY_SHORT),this.$(".wednesday-label").html(n.WEDNESDAY_SHORT),this.$(".thursday-label").html(n.THURSDAY_SHORT),this.$(".friday-label").html(n.FRIDAY_SHORT),this.$(".saturday-label").html(n.SATURDAY_SHORT),this.$monthYearElem.html(l),this._currentMonthView=e,this._currentYearView=t,this._showSelection()},_initWrappers:function(){e.DialogView.prototype._initWrappers.call(this),this.$calFrame=this.$("#month-dates"),this.$fromDateElem=this.$("#from-date"),this.$toDateElem=this.$("#to-date"),this.$monthYearElem=this.$(".month-year"),this.$fromDateError=this.$(".invalid-from-date-error"),this.$toDateError=this.$(".invalid-to-date-error"),this.$dateRangeError=this.$(".invalid-date-range-error"),this.$gobutton=this.$(".date-calender-action-go"),this.$gobutton.attr("title",n.GO),this.$cancelbutton=this.$(".date-calender-action-cancel"),this.$cancelbutton.attr("title",n.CANCEL),this._placeholder=n.DATE_MM_DD_YYYY,this._placeholder=this._placeholder.replace("<%= day %>",n.DD),this._placeholder=this._placeholder.replace("<%= month %>",n.MM),this._placeholder=this._placeholder.replace("<%= year %>",n.YYYY);var t=_.template(n.DATE_MM_DD_YYYY),r=$.trim(t({month:n.MONTH_S,year:n.YEAR_S,day:n.DAY_S}));this.$fromDateElem.attr("placeholder",r),this.$toDateElem.attr("placeholder",r)}}),e.CustomRangeSelectorView}),define("core/dev/views/plugin-content-view",["core/ac-core","core/views/plugin-view"],function(e){return e.PluginContentView=e.PluginView.extend({initialize:function(t){t&&_.extend(this.options,t),e.PluginView.prototype.initialize.call(this),_.extend(this.options,{rootView:this})},render:function(){e.PluginView.prototype.render.call(this)}}),e.PluginContentView}),define("core/dev/views/full-preview-plugin-view",["core/ac-core","core/views/plugin-content-view"],function(e){return e.FullPreviewPluginView=e.PluginContentView.extend({initialize:function(t){_.extend(this.options,t),e.PluginContentView.prototype.initialize.call(this)}}),e.FullPreviewPluginView}),define("core/dev/templates/query-box-template",[],function(){return'<div class="query-box" role="listitem">    <button class="query-box-remove-btn"            title="<%= remove %> <%- label %>"            aria-label="<%= remove %> <%- label %>">    </button>    <div class="query-box-label"><%- label %></div></div>'}),define("core/dev/views/query-box-view",["core/ac-core","core/templates/query-box-template","core/utils/truncate","core/utils/css-util","i18n!files/nls/ui-strings","core/utils/sc-analytics","core/views/view"],function(e,t,n,r,i,s){return e.QueryBoxView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this)},render:function(){var n=this.$el,s=this.$item,o,u,a,f,l,c,h=this.options.searchFieldQuery;return e.View.prototype.render.call(this),s||(o=_.template(t)({remove:i.REMOVE_FILTER,label:h.get("query_label")}),n.append(o),s=n.children().last(),h.get("query_box_visible")||s.hide(),this.$item=s,this._initWrappers(),this._addDomEventListeners()),u=this.$removeBtn,a=this.$label,h.get("removable")||(u.hide(),s.addClass("no-remove-btn"),a.addClass("no-remove-btn")),s.css("max-width",n.css("width")),f=u.css("display")!=="none"?u.width():0,l=s.position(),c=l?l.left:0,a.css("max-width",n.width()-f-c-r.getExtraWidth(s)-r.getExtraWidth(a)+"px"),this._truncateText(),this},remove:function(){return this.$item.remove(),this.stopListening(),this},_initWrappers:function(){var e=this.$item;this.$removeBtn=e.find(".query-box-remove-btn"),this.$label=e.find(".query-box-label")},_truncateText:function(){var e=this.$label;n.truncateElementText(e,r.getCssNum(e,"max-width"))},_addDomEventListeners:function(){this.$removeBtn.on("click",this._onRemoveClick)},_onRemoveClick:function(t){var n=this.options;this._consumeEvent(t),this._logSiteCatalystEvent([s.KEYWORD,s.CLEARED]),this._triggerViewEvent(e.ViewEvents.REMOVE_SEARCH_FIELD_QUERY,{searchFieldQuery:n.searchFieldQuery})}}),e.QueryBoxView}),define("core/dev/templates/hover-preview-hud-template",[],function(){return'<div class="hover-preview-hud-prev hover-preview-control               hover-preview-nav-btn"     id="hover-preview-hud-prev">    <div class="hover-preview-nav-btn-img hover-preview-img-prev">    </div></div><div class="hover-preview-hud-name-container hover-preview-control">    <div class="hover-preview-hud-checkbox"         id="hover-preview-hud-checkbox"></div>    <div class="hover-preview-hud-name collection-item-name"></div></div><div class="hover-preview-hud-next hover-preview-control            hover-preview-nav-btn"     id="hover-preview-hud-next">    <div class="hover-preview-nav-btn-img hover-preview-img-next"></div></div>'}),define("core/dev/views/hover-preview-hud-view",["core/ac-core","core/templates/hover-preview-hud-template","core/utils/truncate","core/utils/css-util","core/utils/sc-analytics","core/views/view"],function(e,t,n,r,i){return e.HoverPreviewHudView=e.View.extend({events:{"click .hover-preview-hud-prev":"_onPrevPageClick","click .hover-preview-hud-next":"_onNextPageClick","click .hover-preview-hud-checkbox":"_onCheckboxClick"},initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(t),this._addUiModelEventListeners()},render:function(){e.View.prototype.render.call(this),this.$el.children().length===0&&(this.$el.html(this._template()),this._initWrappers()),this.$hudName.text(this._getItemName()),this._updateNameAndCheckbox(),this._updatePageNavButtons(),this._truncateFileName()},_initWrappers:function(){this.$hudPrev=this.$(".hover-preview-hud-prev"),this.$hudNext=this.$(".hover-preview-hud-next"),this.$hudNameContainer=this.$(".hover-preview-hud-name-container"),this.$hudCheckbox=this.$(".hover-preview-hud-checkbox"),this.$hudName=this.$(".hover-preview-hud-name")},_getItemView:function(){return this.options.hoverPreviewUiModel.get("item_view")},_getItemName:function(){var e=this._getItemView();return e?e.model.get("name"):""},_isItemSelected:function(){var e=this.options,t=this._getItemView();return t&&e.selectionUiModel.isItemSelected(t.model.get("id"))},_show:function(e){e?this.$el.removeClass("hidden"):this.$el.addClass("hidden")},_updateNameAndCheckbox:function(){var e,t,n;e=this.options.hoverPreviewUiModel,t=e.get("width")<e.get("min_width_name"),n=this.options.collectionsUiModel.isListView(),n||t?this.$hudNameContainer.addClass("hidden"):(this.$hudNameContainer.removeClass("hidden"),this._updateCheckbox())},_updatePageNavButtons:function(){var e,t,n,r,i;e=this.options.hoverPreviewUiModel,t=e.get("width")<e.get("min_width_nav"),n=e.get("current_page"),r=e.get("page_count"),i=_.isUndefined(r),i||r===1||t?(this.$hudPrev.addClass("hidden"),this.$hudNext.addClass("hidden")):(this.$hudPrev.removeClass("hidden"),this.$hudNext.removeClass("hidden"));if(i)return;n===0?this.$hudPrev.addClass("disabled"):this.$hudPrev.removeClass("disabled"),n===r-1?this.$hudNext.addClass("disabled"):this.$hudNext.removeClass("disabled")},_updateCheckbox:function(){this._isItemSelected()?this.$hudCheckbox.addClass("selected"):this.$hudCheckbox.removeClass("selected")},_truncateFileName:function(){var e,t,i;e=r.getCssNum(this.$hudNameContainer,"padding-right"),t=this.$hudNameContainer.width()-e-r.getCssNum(this.$hudName,"left"),i=_.bind(function(){return n.getTextSize(this.$hudName).width-t},this),t>0&&n.truncateToFit(this.$hudName,i)},_onPrevPageClick:function(e){this._onPageNavClick(e,!1)},_onNextPageClick:function(e){this._onPageNavClick(e,!0)},_onPageNavClick:function(e,t){var n,r,s,o;e&&e.stopPropagation();if(e&&$(e.currentTarget).hasClass("disabled"))return;this.options.appApi.siteCatalystApi.logScEvent([i.FILE_LIST,i.SMALL_PREVIEW,t?i.NEXT_PAGE:i.PREV_PAGE]),n=this.options.hoverPreviewUiModel,r=s=n.get("current_page"),o=n.get("page_count"),t?s=Math.min(r+1,o-1):s=Math.max(r-1,0),n.set("current_page",s),this._updatePageNavButtons()},_goToPage:function(e){var t=this.options.hoverPreviewUiModel;t.set("current_page",Math.min(Math.max(0,e),t.get("page_count")-1))},_onCheckboxClick:function(t){var n,r,i;t.stopPropagation(),t.shiftKey?this._isItemSelected()?i=e.SelectionUiModel.SELECT_DESELECT:i=e.SelectionUiModel.SELECT_EXTEND:i=e.SelectionUiModel.SELECT_TOGGLE,n=this.options.hoverPreviewUiModel,r={collectionItemsView:n.get("collection_items_view"),itemView:n.get("item_view"),selectType:i},this._triggerViewEvent(e.ViewEvents.SELECT_ITEM,r),this._updateCheckbox()},_onKeyUp:function(e){var t=e.which,n=this.options,r,i,s=!0;switch(t){case 27:r=n.hoverPreviewUiModel,i=r.get("item_view"),i&&(i.model&&r.suppress(i.model.id),r.unset("item_view"));break;case 37:this._onPrevPageClick();break;case 39:this._onNextPageClick();break;default:s=!1}return s},_addUiModelEventListeners:function(){var e=this.options;e.hoverPreviewUiModel.on("change:item_view",this._onItemViewChange).on("change:page_count",this._onPageCountChange).on("change:width",this._onWidthChange),e.selectionUiModel.on("change:selected_item_models",this._onSelectedItemModelsChange)},_onItemViewChange:function(e,t){this._show(t),t?this.render():this.options.appApi.keyApi.popKeyHandler(this)},_onPageCountChange:function(e,t){t&&e.get("item_view")&&(this.render(),this.options.appApi.keyApi.pushKeyHandler(this))},_onWidthChange:function(){this.render()},_onSelectedItemModelsChange:function(){this.render()}}),e.HoverPreviewHudView}),define("core/dev/templates/rhp-preview-template",[],function(){return'<div class="rhp-preview-image-cn preview-hud-background-theme">    <img class="rhp-preview-image centered-vertically" alt=""/>    <div class="rhp-preview-hud centered-vertically"></div>    <div class="rhp-preview-icon centered-vertically"></div>    <div class="rhp-item-thumb centered-vertically"></div>    <div class="rhp-preview-not-available                centered-vertically">        <%= previewNotAvailable %>        </div></div>'}),define("core/dev/templates/rhp-preview-hud-template",[],function(){return'<div tabindex = "-1"        class="rhp-preview-nav-btn rhp-preview-hud-prev"        id="rhp-preview-hud-prev"></div><div tabindex = "-1"        class="rhp-preview-nav-btn rhp-preview-hud-next"        id="rhp-preview-hud-next"></div>'}),define("core/dev/views/rhp-preview-hud-view",["core/ac-core","core/templates/rhp-preview-hud-template","i18n!files/nls/ui-strings","core/utils/view-util","core/utils/sc-analytics","core/views/view"],function(e,t,n,r,i){return e.RhpPreviewHudView=e.View.extend({events:{"click .rhp-preview-hud-prev":"_onPrevPageClick","click .rhp-preview-hud-next":"_onNextPageClick",focusin:"_onHudFocusIn",focusout:"_onHudFocusOut"},initialize:function(){e.View.prototype.initialize.call(this),this._addUiModelEventListeners()},render:function(){var r;return e.View.prototype.render.call(this),r=this.$el,r.children().length===0&&(r.html(_.template(t)),this._initWrappers()),this.options.isInSearchResultsView&&this._initWrappers(),this._updatePageNavButtons(),this.$hudPrev.attr("title",n.PREVIEW_PREVIOUS_PAGE),this.$hudNext.attr("title",n.PREVIEW_NEXT_PAGE),this},_initWrappers:function(){this.$hudPrev=this.$(".rhp-preview-hud-prev"),this.$hudNext=this.$(".rhp-preview-hud-next")},_updatePageNavButtons:function(){function l(){return s=document.activeElement,{focusPrev:a.is(s),focusNext:f.is(s)}}var e,t,n,i,s,o,u,a=this.$hudPrev,f=this.$hudNext;e=this.options.rhpPreviewUiModel,t=e.get("current_page"),n=e.get("page_count"),i=_.isUndefined(n),i||n===1?(a.addClass("hidden"),f.addClass("hidden")):(a.removeClass("hidden"),f.removeClass("hidden"));if(i)return;o=l(),r.enableInput(a,t>0),r.enableInput(f,t<n-1),_.delay(function(){u=l(),o.focusPrev&&!u.focusPrev?f.focus():o.focusNext&&!u.focusNext&&a.focus()},e.get("focus_delay")),a.hasClass("disabled")?a.removeAttr("tabindex"):a.attr("tabindex","-1"),f.hasClass("disabled")?f.removeAttr("tabindex"):f.attr("tabindex","-1")},_onPrevPageClick:function(e){this._onPageNavClick(e,!1)},_onNextPageClick:function(e){this._onPageNavClick(e,!0)},_onPageNavClick:function(e,t){var n=this.options,r=n.rhpPreviewUiModel,s,o,u;e&&e.stopPropagation();if(e&&$(e.currentTarget).hasClass("disabled"))return;n.appApi.siteCatalystApi.logScEvent([i.FILE_LIST,i.SMALL_PREVIEW,t?i.NEXT_PAGE:i.PREV_PAGE]),s=o=r.get("current_page"),u=r.get("page_count"),t?o=Math.min(s+1,u-1):o=Math.max(s-1,0),r.set("current_page",o),this._updatePageNavButtons()},_onHudFocusIn:function(){this.options.appApi.keyApi.pushKeyHandler(this)},_onHudFocusOut:function(){this.options.appApi.keyApi.popKeyHandler(this)},_onKeyUp:function(e){var t=e.which,n=!0;switch(t){case 37:this._onPrevPageClick();break;case 39:this._onNextPageClick();break;default:n=!1}return n},_addUiModelEventListeners:function(){var e=this.options.rhpPreviewUiModel;this.listenTo(e,"change:item_model",this._onItemModelChange).listenTo(e,"change:page_count",this._onPageCountChange)},_onItemModelChange:function(){this.render()},_onPageCountChange:function(e,t){t&&e.get("item_model")&&this.render()}}),e.RhpPreviewHudView}),define("core/dev/views/rhp-preview-view",["core/ac-core","core/templates/rhp-preview-template","i18n!core/nls/ui-strings","core/dev/utils/css-util","core/utils/image-loader","core/utils/file-types","core/utils/sc-analytics","core/views/view","core/views/rhp-preview-hud-view"],function(e,t,n,r,i,s){return e.RhpPreviewView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this._addUiModelEventListeners()},render:function(){var r=this.$el;return e.View.prototype.render.call(this),r.children().length===0&&(r.html(_.template(t)({previewNotAvailable:n.PREVIEW_NOT_AVAILABLE,previewNotAvailableDesc:n.PREVIEW_NOT_AVAILABLE_DESC})),this._initWrappers()),this.options.isInSearchResultsView&&this._initWrappers(),this._renderChildViews(),this},_initWrappers:function(){this.$imageCn=this.$(".rhp-preview-image-cn"),this.$image=this.$(".rhp-preview-image"),this.$icon=this.$(".rhp-preview-icon"),this.$previewThumb=this.$(".rhp-item-thumb"),this.$hud=this.$(".rhp-preview-hud"),this.$noPreview=this.$(".rhp-preview-not-available")},_renderChildViews:function(){this._renderChildView("_hudView",e.RhpPreviewHudView,this.$hud);return},_preview:function(e){if(this.options.selectionUiModel.isSelectionMasked())return;this._loadPreview(),this.options.rhpPreviewUiModel.set("page_count",e.get("page_count"))},_loadPreview:function(){var e=this.options,t=this.$image,n=e.rhpPreviewUiModel,r,i=n.get("item_model");if(e.selectionUiModel.isSelectionMasked(i.id))return;this._showIcon(!1),this._showPreviewThumb(!1),t.attr("src","").removeClass("populated"),this.$noPreview.removeClass("shown");var s=this.options.appApi.connectorsApi.getConnectorPluginName(e.pluginId);if(s!=="ccloud"&&!i.isNative()){this._isImageLoaded=!1,this._fadePreview(!0,!1);return}this._isImageLoaded=undefined;if(i.isRecentFileItem)this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaRecentFilesAPI.fetchRecentFilePagePreview(i.get("index"),n.get("current_page")).then(_.bind(function(e){this._loadImage(e)},this),_.bind(function(){this._loadingInProcess==0,this._imageLoadingSuccess=!1,this._showPreviewThumb(!0,this._getIconClass(i))},this))},this));else{r=i.getRenditionUrl("tile",n.get("current_page"));var o=500,u=500,a=i.get("id")+n.get("current_page"),f={methodName:"getURLImage",methodArgs:[{id:a,url:r,width:o,height:u}]};this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaTasksAPI.invokeMethod(f).then(_.bind(function(e){if(e.has_cached_icon._value){this._loadImage(e.icon_url._value);var t=this.options.rhpPreviewUiModel.get("item_model");t.set("imageLoaded",!0)}else e._addEventListener("custom:urlImageBitmap",_.bind(function(e,t){var r=t.params,i=n.get("item_model");a=i.get("id")+n.get("current_page");if(a===r.id)if(r.url!=undefined)this._loadImage(r.url),i.set("imageLoaded",!0,{silent:!0});else{var s=this._getIconClass(i);this._showPreviewThumb(!0,s),i.set("imageLoaded",!0,{silent:!0})}},this))},this))},this));if(n.get("current_page")==0&&(i.get("onceShown")!=1||i.get("imageLoaded")!=1)){var l=this._getIconClass(i);this._showPreviewThumb(!0,l),i.set("onceShown",!0,{silent:!0}),i.set("imageLoaded",!1,{silent:!0})}}},_loadImage:function(e){var t=this.options,n=this.$image,r=t.rhpPreviewUiModel,s=r.get("item_model");this._imageLoadingSuccess=!1,this._loadingInProcess=!0;var o=this._getIconClass(s);e&&i.loadImage(n,e,undefined,!0).then(_.bind(function(){this._imageLoadingSuccess=!0,this._loadingInProcess==0,this._fadePreview(!0,!0)},this),_.bind(function(){this._loadingInProcess==0,this._imageLoadingSuccess=!1,this._showPreviewThumb(!0,o)},this)),this._loadingInProcess!=1&&this._imageLoadingSuccess==0&&this._showPreviewThumb(!0,o)},_fadePreview:function(e,t){var n=this.$el,r=this.$image;n.stop(!0,!1),e?(n.show(),r.addClass("populated"),this._showImage(t),n.animate({opacity:1})):r.attr("src")&&n.animate({opacity:0},function(){r.removeAttr("src"),n.hide()})},_getIconClass:function(e){var t,n;return n=s.getFileInfo(e.get("content_type"),e.get("name")),t=n.iconCls||"",t},_showImage:function(e,t){var n=this.options,r=n.rhpPreviewUiModel,i=this.$imageCn,s=this.$image,o=this.$hud,u=this.$noPreview;i.removeClass("no-preview"),u.removeClass("shown");if(e){this._showIcon(!1),this._showPreviewThumb(!1);var a=200,f=200,l=s.width(),c=s.height(),h;s.css("maxHeight",f+"px"),s.css("maxWidth",a+"px"),o.show(),s.show().css("opacity",1)}else o.hide(),s.hide(),t||u.addClass("shown")},_showIcon:function(e,t){var n=this.$icon;e?(this._showImage(!1,!0),this._showPreviewThumb(!1),n.removeClass("folder multiple"),n.addClass("shown "+t)):n.removeClass("shown")},_showPreviewThumb:function(e,t){var n=this.$previewThumb;e?(this._showImage(!1,!0),this._showIcon(!1),n.removeAttr("class"),n.addClass("rhp-item-thumb centered-vertically shown "+t)):n.removeClass("shown")},_addUiModelEventListeners:function(){var e=this.options;this.listenTo(e.selectionUiModel,"change:selected_item_models",this._onSelectedItemModelsChange).listenTo(e.rhpPreviewUiModel,"change:current_page",this._onCurrentPageChange)},_onSelectedItemModelsChange:function(e){var t=e.getSelectionCount(),n=this.$el,r=this.options.rhpPreviewUiModel,i=e.getSingleSelectedItemModel(),s=this.options.pluginId==="root",o=i&&i.isRecentFileItem?s:!s;r.init(),this.$image.removeAttr("src");if(t===0)n.hide();else{if(this.options.isInSearchResultsView&&i&&(i.workflowType||o))return;n.show();if(t===1){r.init(i);if(i.isFile()){var u=this.options.appApi.connectorsApi.getConnectorPluginName(this.options.pluginId),a=i.get("source");if(a==="native"||a==="native_v2"||u==="ccloud")this._preview(i);else{var f=this._getIconClass(i);this._showPreviewThumb(!0,f)}i.isRecentFileItem&&r.set("page_count",i.get("pageCount"))}else this._showIcon(!0,"folder")}else this._showIcon(!1),n.hide()}},_onCurrentPageChange:function(e){if(!e.get("item_model"))return;this.$image.fadeOut(e.get("fade_out_duration"),this._loadPreview)}}),e.RhpPreviewView}),define("core/dev/templates/bar-graph-template",[],function(){return'<div class="bar-graph bar-graph-left"></div><div class="bar-graph bar-graph-right"></div><div class="bar-graph bar-graph-legend"></div>'}),define("core/dev/views/bar-graph-view",["core/ac-core","core/templates/bar-graph-template","core/views/view"],function(e,t){e.BarGraphView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(t)},render:function(){var t=this.options,n;return e.View.prototype.render.call(this),this.$el.children().length===0&&(this.$el.html(this._template()),this._initWrappers()),n=this.$el.width(),this._setBarWidths(),t.renderCallback(this.$left,this.$right,this.$legend),n!==this.$el.width()&&this._setBarWidths(),this},_initWrappers:function(){this.$left=$(".bar-graph-left"),this.$right=$(".bar-graph-right"),this.$legend=$(".bar-graph-legend")},_setBarWidths:function(){var e,t,n,r,i,s=this.options.barGraphUiModel;i=this.$el.width(),e=s.get("current_value"),t=s.get("total_value"),n=e/t*i,r=(t-e)/t*i,this.$left.width(n),this.$right.width(r),this.$right.css("left",n+3*parseInt(this.$left.css("borderWidth"),10)+parseInt(this.$el.css("paddingLeft"),10))}})}),define("core/dev/templates/rhp-properties-template",[],function(){return'<div role="menu" class="rhp-menu rhp-properties-menu">         <div class="rhp-properties-file-menu theme-file-list-row-header">               <div class="rhp-properties-filenametype-value">                   <div class="rhp-menu-item cb-text-theme shared-rhp-properties-file-name-value shared-rhp-properties-file-name-value-class"></div>               </div>               <div class="shared-rhp-date-type-value">                   <div class="rhp-menu-item cb-shaded-text-theme shared-rhp-properties-file-type-value"></div>                   <div class="rhp-menu-item cb-shaded-text-theme shared-rhp-properties-file-type-date-seprator"></div>                   <div class="rhp-menu-item cb-shaded-text-theme shared-rhp-properties-file-modified-date-value"></div>               </div>        </div>        <div class="rhp-properties-folder-menu">               <div class="rhp-properties-foldernametype-value">                   <div class="rhp-menu-item cb-highlight-text-theme shared-rhp-properties-file-name-value shared-rhp-properties-folder-name-value"></div>               </div>               <div class="shared-rhp-date-type-value">                   <div class="rhp-menu-item cb-shaded-text-theme shared-rhp-properties-folder-type-value folder-class-cb"></div>                   <div class="rhp-menu-item cb-shaded-text-theme shared-rhp-properties-file-type-date-seprator"></div>                   <div class="rhp-menu-item cb-shaded-text-theme shared-rhp-properties-folder-modified-date-value"></div>               </div>       </div></div> <div class="rhp-menu-break-top rhp-menu-separator theme-border"/>'}),define("core/dev/views/rhp-properties-view",["core/ac-core","core/templates/rhp-properties-template","i18n!core/nls/ui-strings","core/utils/util","core/utils/date-util","core/utils/num-util","core/utils/view-util","core/utils/truncate","core/utils/css-util","core/utils/sc-analytics","core/views/rhp-preview-hud-view","core/views/view"],function(e,t,n,r,i,s,o,u,a){return e.RhpPropertiesView=e.View.extend({events:{},initialize:function(){e.View.prototype.initialize.call(this),this._addUiModelEventListeners()},render:function(){var n=this.$el;return e.View.prototype.render.call(this),n.children().length===0&&(n.html(_.template(t)({rhpPropertiesFileNameValue:this.$fileName,rhpPropertiesFileTypeValue:this.$fileType,rhpPropertiesFileModifiedDateValue:this.$fileModifiedDate})),this._initWrappers()),this.options.isInSearchResultsView&&this._initWrappers(),this._updateFields(),this._truncateName(),this},getAvailableNameWidth:function(){var e,t;return this._availableNameWidth?t=0:(e=this.$fileName,t=a.getCssNum(e,"width")-20),t},_truncateName:function(){var e=this.$fileName,t=this.$folderName,n,r=_.bind(u.getTextSize,u)},_initWrappers:function(){this.$fileName=this.$(".shared-rhp-properties-file-name-value-class"),this.$fileType=this.$(".shared-rhp-properties-file-type-value"),this.$fileModifiedDate=this.$(".shared-rhp-properties-file-modified-date-value"),this.$fileTypeDateSeprator=this.$(".shared-rhp-properties-file-type-date-seprator"),this.$fileMenu=this.$(".rhp-properties-file-menu"),this.$folderMenu=this.$(".rhp-properties-folder-menu"),this.$folderName=this.$(".shared-rhp-properties-folder-name-value"),this.$folderType=this.$(".shared-rhp-properties-folder-type-value"),this.$totalFiles=this.$(".rhp-properties-total-files-value")},getFormattedDate:function(e,t){var n=["01","02","03","04","05","06","07","08","09","10","11","12"],r=function(e){return parseInt(e)<10?"0"+e:e},i=t,s={"y+":e.getFullYear(),"M+":n[e.getMonth()],"d+":r(e.getDate()),"h+":r(e.getHours()>12?e.getHours()%12:e.getHours()),"m+":r(e.getMinutes()),"s+":r(e.getSeconds()),"S+":r(e.getMilliseconds()),"t+":e.getHours()>=12?"PM":"AM"};for(var o in s)(new RegExp("("+o+")")).test(t)&&(i=i.replace(RegExp.$1,s[o]));return i},_localizeDateStr:function(e){var t=moment.utc(e).toDate(),n,r=this.options.appApi.localeApi.getLocale();return r=="fr-fr"?n=i.formatDateWithFormat(e,undefined,!0,!1):n=i.formatDateWithFormat(e,undefined,!0),n},_updateFields:function(){function d(e){return _.template(n.DATE_AND_TIME)({dateStr:i.formatDateOnly(e),timeStr:i.formatTimeOnly(e)})}function v(e){return _.reduce(e,function(e,t,r){return r===0?"/"+n.HOME:e+"/"+t.name},"")}var e=this.options,t=e.selectionUiModel,r=e.searchUiModel,s=e.rhpPreviewUiModel,o=t.getSingleSelectedItemModel(),u,a,f,l,c,h=this.$fileMenu,p=this.$folderMenu,m=t.getNumSelectedItems();if(o){u=o.get("name"),_.isUndefined(o.get("modified"))?c="":c=(o.isRecentFileItem?n.OPENED_S:n.MODIFIED_PROPERTY)+" "+this._localizeDateStr(o.get("modified"));if(o.isFile()){p.hide(),h.show();var g,y,b;g=u.lastIndexOf("."),g>=0?(y=u.substr(0,g),b=u.substr(g+1)):(y=u,b=""),this.$fileName.text(y),this.$fileName.attr("title",y),this.$fileType.text(" "+b.toUpperCase()),this.$fileModifiedDate.text(c),this.$fileTypeDateSeprator.text("●")}else h.hide(),p.show(),this.$folderName.text(u),this.$folderName.attr("title",u),this.$folderType.text(" "+n.FOLDER_PATH),this.$fileTypeDateSeprator.text("")}else h.hide(),p.hide(),s.expandActions()},_expandMenu:function(e){var t=this.$menuBtn,n=this.$menu;this.options.rhpPreviewUiModel.set("properties_expanded",e),e?(t.addClass("expanded"),n.addClass("expanded")):(t.removeClass("expanded"),n.removeClass("expanded"))},_onPropertiesClick:function(){var e=this.options.rhpPreviewUiModel;e.get("properties_expanded")||e.expandProperties()},_onFileLocationClick:function(){var e=this.options,t;if(!e.searchUiModel.isSearching())return;t=e.rhpPreviewUiModel.get("item_model"),t&&e.appApi.routerApi.navigate("folder/"+encodeURIComponent(t.get("parent_id")),{trigger:!0})},_addUiModelEventListeners:function(){var e=this.options,t=e.rhpPreviewUiModel;this.listenTo(e.selectionUiModel,"change:selected_item_models",this._onSelectedItemModelsChange).listenTo(e.searchUiModel,"change:status",this._onSearchStatusChange).listenTo(t,"change:properties_expanded",this._onPropertiesExpandedChange).listenTo(t,"change:connector_helper",this._onConnectorHelperChange)},_onSelectedItemModelsChange:function(e){var t,n;if(e.isSelectionMasked())return;t=e.getSingleSelectedItemModel(),n=e.getNumSelectedItems();if(n===0)this.options.rhpPreviewUiModel.expandActions(!0);else if(n>0){var r=this.options.pluginId==="root",i=t&&t.isRecentFileItem?r:!r;if(this.options.isInSearchResultsView&&t&&(t.workflowType||i)||t&&t.get("is_shared")===!0)return;this.render()}},_onSearchStatusChange:function(){this.render()},_onPropertiesExpandedChange:function(){this.render()},_onConnectorHelperChange:function(){this.render()}}),e.RhpPropertiesView}),define("core/dev/templates/rhp/shared-rhp-properties-template",[],function(){return'<div id="context-board-menu" role="menu" class="rhp-menu rhp-properties-menu">         <div class="rhp-properties-file-menu theme-file-list-row-header">           <div class="rhp-properties-filenametype-value">               <div class="rhp-menu-item shared-rhp-properties-file-name-value cb-highlight-text-theme"></div>           </div>         <div class="shared-rhp-date-type-value">           <div class="rhp-menu-item shared-rhp-properties-file-type-value cb-shaded-text-theme"></div>           <div class="rhp-menu-item cb-shaded-text-theme shared-rhp-properties-file-type-date-seprator"></div>			<div class="rhp-menu-item theme-list-item-text shared-rhp-properties-file-creator-name-value cb-shaded-text-theme"></div>           <div class="rhp-menu-item theme-list-item-text shared-rhp-properties-file-modified-date-value cb-shaded-text-theme"></div>        </div>     </div>        <div class="rhp-properties-folder-menu">           <div class="rhp-properties-foldernametype-value">               <div class="rhp-menu-item rhp-properties-folder-name-value cb-shaded-text-theme"></div>               <div class="rhp-menu-item rhp-properties-folder-type-value cb-shaded-text-theme"></div>           </div>        </div></div>		<div id="context-board-cross" class="share-close core-remove-x" style="width:  0%;display:  inline-block; visibility: hidden"></div>		<div class="rhp-menu-separator theme-border" style="border-bottom: solid 1px #eaeaea;"/>'}),define("core/dev/views/rhp/shared-rhp-properties-view",["core/ac-core","core/templates/rhp/shared-rhp-properties-template","i18n!core/nls/ui-strings","core/utils/util","core/utils/date-util","core/utils/view-util","core/utils/truncate","core/utils/css-util","core/utils/file-types","core/models/workflow-status-strings","core/utils/sc-analytics","core/views/view"],function(e,t,n,r,i,s,o,u,a,f){return e.SharedRhpPropertiesView=e.View.extend({events:{},initialize:function(){e.View.prototype.initialize.call(this)},render:function(){var n=this.$el;e.View.prototype.render.call(this),n.children().length===0&&(n.html(_.template(t)({rhpPropertiesFileNameValue:this.$fileName,rhpPropertiesFileTypeValue:this.$fileType,rhpPropertiesFileModifiedDateValue:this.$fileModifiedDate})),this._initWrappers()),this._updateFields();var r=215-o.getTextSize(this.$fileType).width-22;if(this.$creatorName&&this.$creatorName.length>0){this.$creatorName[0].style.width=r.toString()+"px";for(var i=0;i<this.$creatorName[0].innerHTML.length;i++)if(this.$creatorName[0].innerHTML.charCodeAt(i)>255){this.$creatorName[0].style.top="-2px";break}}var s=this.options.appApi.connectorsApi.getConnectorPluginName(this.options.pluginId);return this},_initWrappers:function(){this.$dateTypeValue=this.$(".shared-rhp-date-type-value"),this.$fileName=this.$(".shared-rhp-properties-file-name-value"),this.$fileType=this.$(".shared-rhp-properties-file-type-value"),this.$fileModifiedDate=this.$(".shared-rhp-properties-file-modified-date-value"),this.$creatorName=this.$(".shared-rhp-properties-file-creator-name-value"),this.$fileTypeDateSeprator=this.$(".shared-rhp-properties-file-type-date-seprator"),this.$fileMenu=this.$(".rhp-properties-file-menu"),this.$folderMenu=this.$(".rhp-properties-folder-menu"),this.$folderName=this.$(".rhp-properties-folder-name-value"),this.$folderType=this.$(".rhp-properties-folder-type-value"),this.$totalFiles=this.$(".rhp-properties-total-files-value"),this.$propertiesMainDiv=this.$(".rhp-properties-menu"),this.$contextBoardMenu=this.$("#context-board-menu"),this.cbViewModel=this.options.cbViewModel},_updateFields:function(){function b(e){return _.template(n.DATE_AND_TIME)({dateStr:i.formatDateOnly(e),timeStr:i.formatTimeOnly(e)})}function w(e){return _.reduce(e,function(e,t,r){return r===0?"/"+n.HOME:e+"/"+t.name},"")}var e=this.options,t=e.searchUiModel,r=e.rhpPreviewUiModel,s=this.cbViewModel.getSingleSelectedItemModel(),o,u,l,c,h,p=this.$fileMenu,d=this.$folderMenu,v=this.$propertiesMainDiv,m=!1,g=!1,y=!1,E=this.cbViewModel.getNumSelectedItems();if(s){v.show(),this.options.isUnaccepted||s.getWorkflowType()==f.SIGN?o=s.getSingleFileName():o=s.getSingleFileName_noext(),h=s.get("modify_date");var S="";this.options.appApi.options.usersMeModel.get("identity")&&(S=this.options.appApi.options.usersMeModel.get("identity").email);var x="";if(s.getInfo()&&s.getInfo().user_role!=""){if(s.getInfo().user_role=="receiver"||s.getInfo().user_role=="shared_with_me"||s.getInfo().user_role=="participant")x=s.getWorkflowType()==f.REVIEW?f.PARTICPANT:"receiver";else if(s.getInfo().user_role=="sender"||s.getInfo().user_role=="owned"||s.getInfo().user_role=="creator")x=s.getWorkflowType()==f.REVIEW?f.REVIEW_CREATOR:"sender"}else{var T=this.options.appApi.usersMeApi.options.usersMeIdentityModel,N=s.getPartcipantDetails(T);N&&(x=N.role)}this.userRole=x;if(x!=="sender"&&x!=="creator"){var C=s.getInfo();C&&(h=C.shared_date),h||(h=s.get("create_date"))}var k=i.isGreaterThanCutoffDate(h,this.options.isInSearchResultsView),L=this.options.isInSearchResultsView?undefined:"YYMMDDHHmmssZ",A=!1;this.options.isUnaccepted&&(h=s.get("timestamp"),L=undefined,A=!0);if(h){var O,M=this.options.appApi.localeApi.getLocale();M=="fr-fr"?O=i.formatDateWithFormat(h,L,!0,!1):O=i.formatDateWithFormat(h,L,!0);var D;this.$fileTypeDateSeprator.text("●");if(s.getWorkflowType()==f.REVIEW||s.getWorkflowType()==f.SEND_TRACK||s.getWorkflowType()==f.CREATIVE_CLOUD)D=n.MODIFIED,x!=="sender"&&x!=="creator"&&(D=n.RECEIVED);else if(s.getWorkflowType()==f.SIGN){if(s.getWorkflowStatus()===f.DRAFT)D=n.CREATED;else if(this.options.appApi.options.usersMeModel.get("identity")){var P=this.options.appApi.options.usersMeModel.get("identity").email;P==s.getSenderEmail()?D=n.SENT:D=n.RECEIVED}}else D=n.CREATED;this.$fileModifiedDate.text(_.template(n.DATETYPE_AND_TIME)({dateType:D,date:O})),y=!0}else this.$fileModifiedDate.text(""),this.$fileTypeDateSeprator.text(""),y=!1;var H,B=!1,j=s.getSenderInfo();if(j){var F=j.creatorName&&j.creatorName.length>0?j.creatorName:j.creatorEmail;F&&F.length>0&&s.getInfo()&&s.getInfo().isReceivedFile&&(H=n.SHARED_BY_SBO_CB+F,B=!0)}d.hide(),p.show();if(s.getWorkflowType()==f.SEND_TRACK){this.options.isDocView&&(q=n.SHARED),!this.options.isUnaccepted&&k&&(o=s.get("aep_workflow_info").intro_subject),s.get("resources")&&s.get("resources").length>1&&this.options.isDocView&&(o=this.options.fileName);if(o===""||o===undefined)o=s.attributes.name}else s.getWorkflowType()==f.SIGN?q=n.AGREEMENT.toLocaleUpperCase():s.getWorkflowType()==f.REVIEW&&(s.get("aep_workflow_info")&&s.get("aep_workflow_info").intro_subject&&(o=s.get("aep_workflow_info").intro_subject),this.options.isDocView&&(q=n.SHARED));var I,q,R=o.lastIndexOf(".");R>0?I=o.substr(0,R):I=o,q=a.getExtensionFromMimeType(s.getSingleFileMimeType()),q||(R>0?q=o.substr(R+1):q=""),q?(this.$fileType.text(" "+q.toUpperCase()),g=!0):(this.$fileType.text(" "),g=!1),I?(this.$fileName.text(I),this.$fileName.attr("title",I),m=!0):(this.$fileName.text(""),this.$fileName.removeAttr("title"),m=!1),x!=="sender"&&x!=="creator"&&B&&H!=""?(this.$creatorName.text(H),this.$creatorName.attr("title",H),B=!0,this.$creatorName.show()):(this.$creatorName.text(""),this.$creatorName.removeAttr("title"),B=!1,this.$creatorName.hide()),B?this.$dateTypeValue.attr("title",this.$fileType.text()+" "+this.$fileTypeDateSeprator.text()+" "+this.$creatorName.text()+" "+this.$fileTypeDateSeprator.text()+" "+this.$fileModifiedDate.text()):this.$dateTypeValue.attr("title",this.$fileType.text()+" "+this.$fileTypeDateSeprator.text()+" "+this.$fileModifiedDate.text()),s.getWorkflowType()==f.REVIEW&&this.$contextBoardMenu.attr("aria-label",this.$fileName.attr("title")+this.$dateTypeValue.attr("title")),!m&&!g&&!y&&v.hide()}else v.hide()},_expandMenu:function(e){var t=this.$menuBtn,n=this.$menu;this.options.rhpPreviewUiModel.set("properties_expanded",e),e?(t.addClass("expanded"),n.addClass("expanded")):(t.removeClass("expanded"),n.removeClass("expanded"))},_onPropertiesClick:function(){var e=this.options.rhpPreviewUiModel;e.get("properties_expanded")||e.expandProperties()},_onFileLocationClick:function(){var e=this.options,t;if(!e.searchUiModel.isSearching())return;t=e.rhpPreviewUiModel.get("item_model"),t&&e.appApi.routerApi.navigate("folder/"+encodeURIComponent(t.get("parent_id")),{trigger:!0})},_onSearchStatusChange:function(){this.render()},_onPropertiesExpandedChange:function(){this.render()},_onConnectorHelperChange:function(){this.render()}}),e.SharedRhpPropertiesView}),define("core/dev/templates/rhp/original-shared-primary-actions-template",[],function(){return'<div class = "sent-rhp-primary-actions rhp-option-item"><div class="shared-rhp-action rhp-actions-item with-margins copy cb-active-text-theme" tabindex="-1"  title="<%= copylink_tooltip %>" aria-label="<%= copylink_aria %>"><div class="shared-rhp-action-icon copy"></div><div class="shared-rhp-action-name"><%= copylink %></div><div id="copy-review-link-coachmark" class="ui-theme theme-tooltip us-coachmark-text"><span class="ui-theme theme-tooltip-text"><%= copy_review_link_coachmark %></span></div></div><div class="shared-rhp-action rhp-actions-item with-margins unshare cb-active-text-theme" id="unshareTooltip" tabindex="-1"  title="<%= unshare_tooltip %>" aria-label="<%= unshare_aria %>"><div class="shared-rhp-action-icon unshare"></div><div class="shared-rhp-action-name"><%= unshare %></div></div><div id = "rhp-menu-separator-id" class="rhp-menu-separator theme-border"></div></div><div class = "sent-rhp-primary-actions rhp-option-item"><div class="shared-rhp-action rhp-actions-item with-margins rename cb-active-text-theme" tabindex="-1"  title="<%= rename_tooltip %>" aria-label="<%= rename_aria %>"><div class="shared-rhp-action-icon rename"></div><div class="shared-rhp-action-name"><%= rename %></div></div><div class="shared-rhp-action rhp-actions-item with-margins move cb-active-text-theme" tabindex="-1"  title="<%= move_tooltip %>" aria-label="<%= move_aria %>"><div class="shared-rhp-action-icon move"></div><div class="shared-rhp-action-name"><%= move %></div></div><div class="shared-rhp-action rhp-actions-item with-margins delete cb-active-text-theme" tabindex="-1"  title="<%= delete_parcel_tooltip %>" aria-label="<%= delete_parcel_aria %>"><div class="shared-rhp-action-icon delete"></div><div class="shared-rhp-action-name"><%= delete_parcel %></div></div></div>'}),define("core/dev/templates/rhp-action-item-template",[],function(){return'<div class="plugin-selector rhp-menu-item rhp-action rhp-actions-item cb-active-text-theme" tabindex = "-1">    <div class="plugin-selector-icon rhp-action-icon"></div>    <div class="rhp-action-label"><%= label %></div></div>'}),define("core/dev/views/rhp-actions-plugins-view",["core/ac-core","core/templates/rhp-action-item-template","core/utils/sc-analytics","core/views/plugins-selector-view"],function(e,t,n){return e.RhpActionsPluginsView=e.PluginsSelectorView.extend({initialize:function(){e.PluginsSelectorView.prototype.initialize.call(this),this.options=_.extend({},this.options,{pluginsUiModel:this.options.selectionActionsPluginsUiModel})},render:function(){this.options.pluginsUiModel.get("plugins").each(function(e){var t=e.get("selector_elem");e.set("enable_plugin",!t||!t.hasClass("disabled"))}),e.PluginsSelectorView.prototype.render.call(this),this._updateButtons()},_highlightSelection:function(){},_getSelectorTemplate:function(){return t},_getSelectorViewEvent:function(){return e.ViewEvents.SELECTION_ACTION_ITEM_CLICK},_onPluginSelectorClick:function(t){var r=this.options,i=r.appApi;i.pluginsApi.callPluginMethodForEachIfEnabled(r.selectionActionsPluginsUiModel.getAllIds(),"deselectPlugin",undefined,undefined,!0),_.delay(_.bind(function(){e.PluginsSelectorView.prototype._onPluginSelectorClick.call(this,t)},this),r.selectionActionsPluginsUiModel.get("deselect_delay"));var s=$(t.target),o,u;s.is(".plugin-selector")||(s=$(t.currentTarget)),o=s.data("id"),o.toLowerCase().startsWith("selection_action_epdf")?u=n.EXPORT_PDF:o.toLowerCase().startsWith("selection_action_cpdf")?u=n.CREATE_PDF:o.toLowerCase().startsWith("selection_action_ccpdf")&&(u=n.COMBINE_CONVERT_PDF),i.siteCatalystApi.logVirgoCTAEvent(this.options.appApi.siteCatalystApi._getLogRHPSubCategory(this.options.pluginId),u)},_onKeyDown:function(){return!1},_updateButtons:function(){var e=this.options,t=e.appApi;t.pluginsApi.callSelectorMethodForEach(e.selectionActionsPluginsUiModel.getAllIds(),"updateSelector",e,undefined,!0)}}),e.RhpActionsPluginsView}),define("core/dev/views/rhp/original-shared-primary-actions-view",["core/ac-core","core/templates/rhp/original-shared-primary-actions-template","i18n!core/nls/ui-strings","core/models/workflow-status-strings","core/utils/util","core/utils/action-ids","core/utils/view-util","core/utils/sc-analytics","core/views/rhp-actions-plugins-view","core/views/selection-action-send-menu-view","core/views/view"],function(e,t,n,r,i,s,o,u){return e.OriginalSharedRhpPrimaryActionsView=e.View.extend({events:{"click    .shared-rhp-action.unshare":"_onUnshareClick","click    .shared-rhp-action.copy":"_onCopySharedLinkClick","click    .shared-rhp-action.delete":"_onDeleteClick","click    .shared-rhp-action.move":"_onMoveClick","click    .shared-rhp-action.rename":"_onRenameClick"},initialize:function(){e.View.prototype.initialize.call(this),this._addKeyEventListener(),this._addFocusEventListener(),this._addUiModelEventListeners()},render:function(){var r=this.options,i=this.$el,s=this.$send,o=this.options.appApi,u=!1;return u=o.isAppUsingAV2UI(),e.View.prototype.render.call(this),i.children().length===0&&(i.html(_.template(t)({unshare:u?n.AV2_UNSHARE_REVIEW:n.UNSHARE_FILE,unshare_aria:n.UNSHARE_FILE+", "+n.BUTTON,unshare_tooltip:n.UNSHARE_FILE_TOOLTIP,copylink:u?n.AV2_COPY_REVIEW_LINK:n.COPYLINK,copylink_aria:n.COPYLINK+", "+n.BUTTON,copylink_tooltip:n.COPY_SHARED_FILE_TOOLTIP,copy_review_link_coachmark:n.COPY_REVIEW_LINK_COACHMARK,delete_parcel:n.DELETE,delete_parcel_aria:n.DELETE+", "+n.BUTTON,delete_parcel_tooltip:n.DELETE_FILE_VIRGO_TOOLTIP,move:n.MOVE,move_aria:n.MOVE+", "+n.BUTTON,move_tooltip:n.MOVE_TOOL_TIP,rename:n.RENAME,rename_aria:n.RENAME+", "+n.BUTTON,rename_tooltip:n.RENAME_TOOL_TIP})),this._initWrappers()),this._updateFields(),this},_initWrappers:function(){this.$primaryActionsView=this.$(".sent-rhp-primary-actions"),this.$copy=this.$(".shared-rhp-action.copy"),this.$delete=this.$(".shared-rhp-action.delete"),this.$copyReviewLinkCoachmark=this.$("#copy-review-link-coachmark"),this.$move=this.$(".shared-rhp-action.move"),this.$unshare=this.$(".shared-rhp-action.unshare")},_addUiModelEventListeners:function(){this.options.selectionUiModel.on("enableUnshareReviewAction",this._updateActionItemsIfOffline)},_updateActionItemsIfOffline:function(){var e=this.options.appApi.networkConnectivityApi.isOnline();e?(this.$primaryActionsView.removeClass("disabled"),this.$copy.removeClass("disabled"),this.$delete.removeClass("disabled"),this.$move.removeClass("disabled"),this.$unshare.removeClass("disabled")):(this.$primaryActionsView.addClass("disabled"),this.$copy.addClass("disabled"),this.$delete.addClass("disabled"),this.$move.addClass("disabled"),this.$unshare.addClass("disabled"))},_updateFields:function(){var e=this.options.selectionUiModel.getSingleSelectedItemModel();this._updateActionItemsIfOffline(),this.$primaryActionsView.show(),this.$copy.hide(),this.$delete.hide(),this.$move.hide(),e?(this.$copy.show(),this.$delete.show(),this.$move.show(),this.$unshare.show()):this.$primaryActionsView.hide()},_logCTAEvent:function(e){this.options.appApi.siteCatalystApi.logVirgoCTAEvent(u.VIRGO_SENDTRACK_CB,e,!0,this.options.isDocView)},_onGenerateClick:function(t){if(!t)return;var r=t.getParcelId(),i=[];i.push("PARCEL_PUBLIC_SHARING");if(i.length>0){r=t.getParcelId();if(r)var s=e.opFactory.create("ReviewAddParticipantOp",_.extend(this.options)).run({parcelID:r,emails:i});s.then(_.bind(function(e){this.response=e;var t=this.options,r=e.invitations[0].preview_url,i=n.COPIED_STRING;_.isUndefined(this.options.appApi.rnaApiObj._clipboardAPI)||(this.options.appApi.rnaApiObj._clipboardAPI.invoke("writeClipboardData",{text:r,shouldIgnore:!1}),this.options.rootView._showToast(i),this.options.appApi.rnaApi.done(function(e){e.logPerformance("CopySharedLink","end")}),this.options.rootView._sendDataModelRefreshCommand("addParticipant",""))},this),_.bind(function(e){var t=n.COPY_SHARED_LINK_FAILED_GENERIC;e&&e.errorCode&&e.errorCode==="SharingRestrictions"&&(t=n.COPY_SHARED_LINK_FAILED_SHARING_RESTRICTION),this.options.rootView._showCustomizeToast({argsString:t,hideIcon:!0,fadeTimeout:5e3}),this.options.appApi.rnaApi.done(function(e){e.logPerformance("CopySharedLink","end")})},this))}},_copySharedLinkForView:function(){if(this.options.appApi.networkConnectivityApi.isOnline()){var t=this.options.selectionUiModel.getSingleSelectedItemModel(),r=!1;t.get("bootstrap").privileges.owner||(r=!0);if(r){var i=t.get("bootstrap").parcel_data.preview_url;_.isUndefined(this.options.appApi.rnaApiObj._clipboardAPI)||this.options.appApi.rnaApiObj._clipboardAPI.invoke("writeClipboardData",{text:i,shouldIgnore:!1}),this.options.rootView._showToast(n.COPIED_STRING)}else{var t=this.options.selectionUiModel.getSingleSelectedItemModel(),s=!1,o;if(t&&t.attributes&&t.attributes.collaboration_metadata)for(var a=0;s!=1&&a!=t.attributes.collaboration_metadata.length;a++)t.attributes.collaboration_metadata[a].collaboratorId===""&&(s=!0,o=t.getParcelId());if(s){var i=e.getDocumentCloudBaseUrl()+"link/track?uri="+o;_.isUndefined(this.options.appApi.rnaApiObj._clipboardAPI)||this.options.appApi.rnaApiObj._clipboardAPI.invoke("writeClipboardData",{text:i,shouldIgnore:!1}),this.options.rootView._showToast(n.COPIED_STRING),this.options.appApi.rnaApi.done(function(e){e.logPerformance("CopySharedLink","end")})}else this._onGenerateClick(t)}var f="",l=t.get("bootstrap").is_original_shared;!_.isUndefined(l)&&l&&(f=u.VIRGO_ORIGINAL_SHARE),this._logCTAEvent(u.VIRGO_CTA_SHARE_LINK+f)}},_createCopyReviewUrlFromInvitationUrn:function(t){var n="";return n=e.getDocumentCloudBaseUrl()+"link/review?uri="+encodeURIComponent(t),n},_generatePublicReviewLink:function(t){if(!t)return;var n=t.getParcelId(),r=[];return r.push("PARCEL_PUBLIC_SHARING"),e.opFactory.create("ReviewAddParticipantOp",_.extend(this.options)).run({parcelID:n,emails:r})},_copyReviewAndShowToast:function(e){_.isUndefined(this.options.appApi.rnaApiObj._clipboardAPI)||this.options.appApi.rnaApiObj._clipboardAPI.invoke("writeClipboardData",{text:e,shouldIgnore:!1}),this.options.rootView._showToast(n.COPIED_STRING);var t="";if(!_.isUndefined(this.options.selectionUiModel)){var r=this.options.selectionUiModel.getSingleSelectedItemModel();if(!_.isUndefined(r)){var i=r.get("bootstrap").is_original_shared;!_.isUndefined(i)&&i&&(t=u.VIRGO_ORIGINAL_SHARE)}}this._logCTAEvent(u.VIRGO_CTA_SHARE_LINK+t)},_copySharedLinkForReview:function(){var e=this.options.selectionUiModel.getSingleSelectedItemModel(),t=e.getInvitationId(),i=e.getParcelId(),s=t;this.$copyReviewLinkCoachmark.css("visibility","hidden");try{var o="";e.get("bootstrap").privileges.owner?o=r.REVIEW_CREATOR:o=r.PARTICIPANT,this.options.appApi.rnaApiObj._reviewAPI.invoke("logEurekaEventAndDataGroup",["Eureka:Manage","Use","Copy review link","EurekaActions",i,o])}catch(u){}var a=$.Deferred();o===r.PARTICIPANT?(reviewUrl=e.get("bootstrap").parcel_data.preview_url,reviewUrl===undefined&&(reviewUrl=this._createCopyReviewUrlFromInvitationUrn(s)),a.resolve(reviewUrl)):this._generatePublicReviewLink(e).then(_.bind(function(e){var t=e.invitations[0].preview_url;a.resolve(t)},this),_.bind(function(e){a.reject(e)},this)),a.done(_.bind(function(e){this._copyReviewAndShowToast(e),this.options.appApi.rnaApi.done(function(e){e.logPerformance("CopySharedLink","end")})},this)).fail(_.bind(function(e){var t=n.COPY_SHARED_LINK_FAILED_GENERIC;e&&e.errorCode&&e.errorCode==="SharingRestrictions"&&(t=n.COPY_SHARED_LINK_FAILED_SHARING_RESTRICTION),this.options.rootView._showCustomizeToast({argsString:t,hideIcon:!0,fadeTimeout:5e3}),this.options.appApi.rnaApi.done(function(e){e.logPerformance("CopySharedLink","end")})},this))},_onCopySharedLinkClick:function(){var e=this.options.selectionUiModel.getSingleSelectedItemModel();this.options.appApi.rnaApi.done(function(e){e.logPerformance("CopySharedLink","start")}),e.isReviewFile()?this._copySharedLinkForReview():this._copySharedLinkForView()},_onUnshareClick:function(){this.options.appApi.rnaApi.done(function(e){e.logPerformance("UnshareFile","start")});if(this.options.appApi.networkConnectivityApi.isOnline()){var t=this.options.selectionUiModel.getSingleSelectedItemModel();t.isReviewFile()?(this.$unshare.addClass("disabled"),this._triggerViewEvent(e.ViewEvents.UNSHAREREVIEW,{parentView:this})):this._triggerViewEvent(e.ViewEvents.UNSHARE,{parentView:this});var n="";if(!_.isUndefined(this.options.selectionUiModel)&&!_.isUndefined(t)){var r=t.get("bootstrap").is_original_shared;!_.isUndefined(r)&&r&&(n=u.VIRGO_ORIGINAL_SHARE)}this._logCTAEvent(u.VIRGO_CTA_UNSHARE+n)}},_deleteReview:function(){var e=this.options.selectionUiModel.getSingleSelectedItemModel();this.options.args={},this.options.args.ParcelId=e.getParcelId(),this.options.args.InvitationId=e.getInvitationId(),this.options.args.isOriginalShared=!1,this.options.args.workflowType=e.attributes?e.attributes.WorkflowType:"",e.get("bootstrap")!==undefined&&e.get("bootstrap").is_original_shared!==undefined&&(this.options.args.isOriginalShared=e.get("bootstrap").is_original_shared),this.options.args.role="",e.attributes.bootstrap.privileges.owner?this.options.args.role=r.REVIEW_CREATOR:this.options.args.role=r.PARTICIPANT,this.options.appApi.pluginsApi.callPluginMethod(this.options.pluginId,"_onDeleteReviewAsset",this.options.args,this._getResolvedPromise(),!0)},_deleteView:function(){this.options.rootView._onDeleteViewAsset()},_onDeleteClick:function(){if(this.options.appApi.networkConnectivityApi.isOnline()){var e=this.options.selectionUiModel.getSingleSelectedItemModel();e.isReviewFile()?this._deleteReview():this._deleteView();var t="",n=e.get("bootstrap").is_original_shared;!_.isUndefined(n)&&n&&(t=u.VIRGO_ORIGINAL_SHARE),this._logCTAEvent(u.VIRGO_CTA_DELETE+t)}},_logNumSelectedItems:function(){var e=this.options,t=e.appApi.siteCatalystApi,n=e.selectionUiModel,r=n.getNumSelectedFiles(),i=n.getNumSelectedFolders(),s=this._getParentScContext();r>0&&t.logScEvent([s,u.NUM_FILES_CHECKED,u.getCountCode(r)]),i>0&&t.logScEvent([s,u.NUM_FOLDERS_CHECKED,u.getCountCode(i)])},_onMoveClick:function(){if($(event.currentTarget).hasClass("disabled"))return;this._logNumSelectedItems(),this._logSiteCatalystEvent([u.MOVE,u.CLICKED]),this._logCTAEvent(u.MOVE),this._triggerViewEvent(e.ViewEvents.MOVE,{parentView:this,scContext:this._getFullScContext()})},_onRenameClick:function(){var t=this.options,n,r=t.selectionUiModel.getSingleSelectedItemModel();if(!r||$(event.currentTarget).hasClass("disabled"))return;n=r.get("name"),this._logNumSelectedItems();var i="",s=r.get("bootstrap").is_original_shared;!_.isUndefined(s)&&s&&(i=u.VIRGO_ORIGINAL_SHARE),this._logSiteCatalystEvent([u.RENAME+i,u.CLICKED]),this._logCTAEvent(u.RENAME+i),this._triggerViewEvent(e.ViewEvents.RENAME,{id:r.get("id"),object_type:r.get("object_type"),name:n,existingName:n,parentView:this,scContext:this._getFullScContext()}),this.render()},_onFocusIn:function(e){var t=$(e.target);t.attr("tabindex",0)},_onFocusOut:function(e){var t=$(e.target);t.attr("tabindex",-1)},_onKeyDown:function(e){var t=$(e.target),n=e.which,r=!1,i=$.Event("click");if(!t.hasClass("shared-rhp-action"))return r;var s=e.shiftKey,u=$(".shared-files-rhp"),a;u.length==0&&(u=$(".context-board-rhp"));switch(n){case 13:case 32:r=t.trigger(i),r=!0;break;case 9:case 38:case 40:a=o.getNextFocusableDescendant(u,s,!0,":not('.review-participant-detail'):not('.snt-rhp-activity-info')")}return a&&a.length>0&&(r=!0,a.focus()),r}}),e.OriginalSharedRhpPrimaryActionsView}),define("core/dev/templates/rhp/shared-rhp-preview-hud-template",[],function(){return'<button type="button" tabindex="0"        class="rhp-preview-nav-btn rhp-preview-hud-prev"        id="rhp-preview-hud-prev"></button><button type="button" tabindex="0"        class="rhp-preview-nav-btn rhp-preview-hud-next"        id="rhp-preview-hud-next"></button>'}),define("core/dev/views/rhp/shared-rhp-preview-hud-view",["core/ac-core","core/templates/rhp/shared-rhp-preview-hud-template","core/utils/view-util","core/utils/sc-analytics","core/views/view"],function(e,t,n,r){return e.SharedRhpPreviewHudView=e.View.extend({events:{"click .rhp-preview-hud-prev":"_onPrevPageClick","click .rhp-preview-hud-next":"_onNextPageClick",focusin:"_onHudFocusIn",focusout:"_onHudFocusOut"},initialize:function(){e.View.prototype.initialize.call(this),this._addUiModelEventListeners()},render:function(){var n;return e.View.prototype.render.call(this),n=this.$el,n.children().length===0&&(n.html(_.template(t)),this._initWrappers()),this._updatePageNavButtons(),this},_initWrappers:function(){this.$hudPrev=this.$(".rhp-preview-hud-prev"),this.$hudNext=this.$(".rhp-preview-hud-next")},_updatePageNavButtons:function(){function l(){return s=document.activeElement,{focusPrev:a.is(s),focusNext:f.is(s)}}var e,t,r,i,s,o,u,a=this.$hudPrev,f=this.$hudNext;e=this.options.rhpPreviewUiModel,t=e.get("current_page"),r=e.get("page_count"),i=_.isUndefined(r),i||r===1?(a.addClass("hidden"),f.addClass("hidden")):(a.removeClass("hidden"),f.removeClass("hidden"));if(i)return;o=l(),n.enableInput(a,t>0),n.enableInput(f,t<r-1),_.delay(function(){u=l(),o.focusPrev&&!u.focusPrev?f.focus():o.focusNext&&!u.focusNext&&a.focus()},e.get("focus_delay"))},_onPrevPageClick:function(e){this._onPageNavClick(e,!1)},_onNextPageClick:function(e){this._onPageNavClick(e,!0)},_onPageNavClick:function(e,t){var n=this.options,i=n.rhpPreviewUiModel,s,o,u;e&&e.stopPropagation();if(e&&$(e.currentTarget).hasClass("disabled"))return;n.appApi.siteCatalystApi.logScEvent([r.FILE_LIST,r.SMALL_PREVIEW,t?r.NEXT_PAGE:r.PREV_PAGE]),s=o=i.get("current_page"),u=i.get("page_count"),t?o=Math.min(s+1,u-1):o=Math.max(s-1,0),i.set("current_page",o),this._updatePageNavButtons()},_onHudFocusIn:function(){this.options.appApi.keyApi.pushKeyHandler(this)},_onHudFocusOut:function(){this.options.appApi.keyApi.popKeyHandler(this)},_onKeyUp:function(e){var t=e.which,n=!0;switch(t){case 37:this._onPrevPageClick();break;case 39:this._onNextPageClick();break;default:n=!1}return n},_addUiModelEventListeners:function(){var e=this.options.rhpPreviewUiModel;this.listenTo(e,"change:item_model",this._onItemModelChange).listenTo(e,"change:page_count",this._onPageCountChange)},_onItemModelChange:function(){this.render()},_onPageCountChange:function(e,t){t&&e.get("item_model")&&this.render()}}),e.SharedRhpPreviewHudView}),define("core/dev/templates/rhp/review/us-chicklet-edit-template",[],function(){return' <div class="review-add-participant-address-input-container">    <div id="review-add-participant-search-email-img"/>    <input type="text" class="us-share-address-input ui-theme theme-container theme-text"           placeholder = "<%= ENTER_EMAIL_ADDR %>"           id="us-share-address-input"           aria-autocomplete="list"           aria-label="<%= ENTER_EMAIL_ADDR %>"           aria-owns="us-share-auto-c-list" autocomplete="false" />   <div class="us-share-address-book" role="button" aria-label ="<%= ADDRESS_BOOK %>" title="<%= ADDRESS_BOOK %>" id="review-add-participant-address-book-img" tabindex="-1"/></div> '}),define("core/dev/views/rhp/sentfiles/us-chicklet-edit-control",["core/ac-core","core/utils/view-util","core/templates/rhp/review/us-chicklet-edit-template","core/views/input-placeholder-view","core/views/view","core/views/view-events"],function(e,t,n){return e.ChickletEditControl=e.View.extend({events:{"focus .us-share-address-input":"_onInputFocus","blur .us-share-address-input":"_onInputBlur","click .us-share-address-book":"_onAddressBookClick"},initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(n)},render:function(){e.View.prototype.render.call(this),alert("DEBUG"),this.$el.children().length===0&&(this.$el.html(this._template({SHARE_ADDRESS_PROMPT:"",SHARE_INDIVIDUAL_HELP:"",ADDRESS_BOOK:"",ENTER_EMAIL_ADDR:""})),this._initWrappers()),this._initWrappers(),this._renderChildViews()},val:function(){return this.$input.val()||""},hasText:function(){return this._input.hasText()},setValue:function(e){this.$input.val(e)},enable:function(e){e?(this.$input.removeAttr("disabled"),this.$inputMask.hide()):(this.$input.attr({disabled:"disabled"}),this.$inputMask.show())},focus:function(e){var n=this.$input.is(":disabled");n&&(e=!1),t.descendantHasFocus(".share-individual:checked,.share-email-chicklet,.us-share-address-input,.share-address-help-msg-close")||(e=!1),this._isFocus=e},clear:function(){this.$input.val("")},processRecipients:function(e){var t;this.markChickletsToRemove(t),this.removeMarkedChicklets(t),this.focus(!0),this._input.enablePrompt(!0).render(),e.findWhere({valid:!1})},markChickletsToRemove:function(e){_.each(e,_.bind(function(e){e.options.toRemove=!0},this))},removeMarkedChicklets:function(e){_.each(e,_.bind(function(e){e.options.toRemove&&this.removeChildView(e)},this))},_initWrappers:function(){this.$inputContainer=this.$(".review-add-participant-address-input-container"),this.$input=this.$(".us-share-address-input"),this.$inputMask=this.$(".share-address-input-mask")},_renderChildViews:function(){this._renderChildView("_input",e.InputPlaceholderView,this.$input)},_onInputFocus:function(){this.$el.addClass("focus")},_onInputBlur:function(){this.$el.removeClass("focus")}}),e.ChickletEditControl}),define("core/dev/templates/rhp/sentfiles/participants-accodian-template",[],function(){return'<div class = "sent-rhp-participants rhp-option-item"><div class="sent-participants-overall-status rhp-participants-overall-status rhp-accodian rhp-actions-item cb-active-text-theme cb-active-background-theme" tabindex="-1"><div class="sent-participants-status rhp-participants-status rhp-accodian-label-with-avatar"></div><div class="sent-particpants-avatar rhp-particpants-avatar"></div><div class ="rhp-expand-participants rhp-expand-accodian"></div></div><div class="sent-participants-expanded rhp-participants-expanded invisible"><div class="add-participants-info"><div class="rhp-invite-participants" title="<%= ADD_REVIEWERS %>" aria-label="<%= ADD_REVIEWERS %>" tabindex = "-1"><div class="rhp-invite-participants-icon"></div><div class="rhp-invite-participants-label cb-link-text-theme"><%= ADD_REVIEWERS %></div></div><div class = "add-participant-box"></div><div class="us-share-autocomplete-box ui-theme theme-border theme-container theme-text"></div><div class = "theme-container" id="added-members-list-container">    <div class = "share-tool-frame theme-container">       <ul class="share-email-list" role="grid" aria-labelledby="share-heading"></ul>    </div></div><div class="share-files-button-container"><button id = "sendbutton" class="control-button theme-button theme-button-label share-files-button" tabindex="-1" aria-label="<%= SEND_BUTTON %>" title="<%= SEND_BUTTON %>"><%= SEND_BUTTON %></button></div><div id="add-reviewers-coachmark" class="ui-theme theme-tooltip us-add-reviewers-coachmark-text"><span class="ui-theme theme-tooltip-text"><%= ADD_REVIEWER_COACHMARK %></span></div></div><div class="sent-participants-info rhp-participants-info"></div><div id="legal-string-for-share" class="rhp-menu-item theme-list-item-text cb-shaded-text-theme invisible"><%= CREATE_LINK_SECURITY_INFO %></div></div><div class="rhp-menu-separator theme-border"/></div>'}),define("core/dev/templates/rhp/sentfiles/participant-status-template",[],function(){return'<div class="review-participant-detail" role="row"  aria-label="<%= participantName %> <%= participantStatus %>" tabindex="-1"><div class="review-participant-avatar rhp-participant-avatar"><img class="rhp-avatar review-participant-avatar-img" id="review-participant-avatar-img-<%= viewId %>-<%= participantId %>"></img><div class="rhp-avatar review-participant-avatar-icon rhp-avatar-icon-anonymous" id="review-participant-avatar-icon-<%= viewId %>-<%= participantId %>"></div><div class="rhp-avatar review-participant-avatar-icon" id="review-participant-avatar-default-image-<%= viewId %>-<%= participantId %>"></div></div><div class="review-participant-info" id="review-participant-info-<%= viewId %>-<%= participantId %>"><div class="review-participant-name theme-list-item-text" id="review-participant-name-<%= viewId %>-<%= participantId %>" title="<%= participantName %>" > <%= participantName %> </div><span class="theme-list-item-text sent-recipient-status-text" id="review-participant-status-<%= viewId %>-<%= participantId %>" title="<%= participantStatus %>"> <%= participantStatus %></span><span class="theme-list-item-text rhp-properties-file-type-date-seprator"><%= partcipantDateSeparator %></span><span class="theme-list-item-text sent-rhp-last-access-date-value-text"><%= participantLastAccessDate %></span></div></div>'}),define("core/dev/templates/rhp/sentfiles/us-chicklet-edit-template",[],function(){return' <div class="review-add-participant-address-input-container">    <div id="review-add-participant-search-email-img"/>    <input type="text" class="us-share-address-input ui-theme theme-container theme-text"           placeholder = "<%= ENTER_EMAIL_ADDR %>"           id="us-share-address-input"           aria-autocomplete="list"           aria-label="<%= ENTER_EMAIL_ADDR %>"           aria-owns="us-share-auto-c-list" autocomplete="false" />   <div class="us-share-address-book" aria-label ="<%= ADDRESS_BOOK %>" title="<%= ADDRESS_BOOK %>" id="review-add-participant-address-book-img" tabindex="-1"/></div> '}),define("core/dev/templates/rhp/sentfiles/us-email-list-item-template",[],function(){return' <li class="share-email-list-item-container ui-theme theme-container">   <div class="share-email-list-item  theme-hoverable ui-theme theme-container theme-border" title="<%= email %>">       <div class="share-email-list-name theme-text"><%= name %></div>       <div           aria-labelledby="share-email-list-name">           <button class="share-email-list-close core-remove-x"                title="<%= remove %>"                data-asset-id="<%= asset_id %>"                aria-label="<%= ariaRemoveLabel %>"></button>       </div>   </div></li> '}),define("core/dev/templates/rhp/review/us-autocomplete-template",[],function(){return' <div class="us-share-auto-c-list"     role="listbox" id="us-share-auto-c-list"></div><div class="us-ms-graph-get-contacts-banner ui-theme theme-list-item theme-share-container">   <button id="us-get-ms-graph-contacts-message" class= "ui-theme theme-share-add-files" tabindex="0" aria-label ="<%= GET_MS_GRAPH_CONTACTS_MSG %>" title="<%= GET_MS_GRAPH_CONTACTS_MSG %>"><%= GET_MS_GRAPH_CONTACTS_MSG %></button></div>'}),define("core/dev/templates/rhp/review/us-autocomplete-item-template",[],function(){return'<div class="us-share-auto-address <%=specialClass%> ui-theme theme-list-item drop-down-text-theme" title="<%-email %>" name="<%-name%>"><div id="email-list-name" class= "ui-theme" title="<%-email %>" name="<%-name%>"><%-name%></div><div id="email-list-email" class= "ui-theme" title="<%-email %>" name="<%-name%>"><%-email%></div></div>'}),define("core/dev/views/rhp/review/sc-constants",["plugins-common/ac-plugins"],function(e){e.AcUnifiedShare||(e.AcUnifiedShare={});var t=e.AcUnifiedShare;return t.ScConstants={ACTION:"Action",ACTIONS:"Actions",ADD_FILES_TO_SHARE:"AddFilesToShare",ADDRESS_BOOK:"AddressBook",ATTEMPTED_TO_SHARE_FORM:"AttemptedToShareForm",AUTOCOMPLETE:"Autocomplete",AVOIDED:"Avoided",BROWSER_CLOSE:"BrowserClosed",BRANDING:"Branding",CANCEL:"Cancel",CHECKED:"Checked",CHICKLET_ADDED:"ChickletAdded",CLICKED:"Clicked",CLICK_BRANDING:"ClickBranding",CLICK_BRANDING_IN_READER:"ClickBrandingInReader",CLICK_BRANDING_IN_ACROBAT:"ClickBrandingInAcrobat",CLOSE:"Close",COLOR_INPUT:"ColorInput",COLOR_MENU_BUTTON:"ColorMenuButton",COLOR_WELL:"ColorWell",CONTINUE:"Continue",DATE_VIEWED:"DateViewed",DEFAULT:"Default",DIALOG:"Dialog",DISABLED:"Disabled",DISALLOWED:"Disallowed",DISCOVER:"Discover",DOWNLOAD:"Download",DOWNLOAD_ALL:"DownloadAll",DOWNLOAD_ONE:"DownloadOne",DRAG_FILES:"DragFiles",DURATION:"Duration",EDIT_BRANDING_ONLINE:"ContinueOnline",EMAIL:"Email",EMAIL_LINK:"EmailLink",ENABLED:"Enabled",ENTERED:"Entered",EUREKA_SHARE:"Eureka:Share",EVENTUAL_CLICK:"EventualClick",FILE:"File",FILE_LIST:"FileList",FILE_NAME:"FileName",FILES_SHARED_DLG:"FilesSharedDlg",FORWARD:"Forward",FULL_ACTIVITY:"FullActivity",HIDDEN:"Hidden",IMMEDIATE_CLICK:"ImmediateClick",INCLUDE_MESSAGE_TEXT:"IncludeMessageText",INCLUDE_REPLY_TO:"IncludeReplyTo",IPM:"IPM",LATER:"Later",LOGO_BUTTON:"LogoButton",LOGO_CANCEL:"LogoCancel",LOGO_SAVE:"LogoSave",MESSAGE:"Message",MULTI:"Multi",NO_PARCELS:"NoParcels",NOTIFY_WHEN_VIEWED:"NotifyWhenViewed",NUM_FILES_CHECKED:"NumFilesChecked",PERSONAL:"Personal",PERSONAL_AND_PUBLIC:"PersonalANDPublic",PREVIEW:"Preview",PUBLIC:"Public",PUBLIC_LINK:"PublicLink",RECVIEW:"RecView",REPLY:"Reply",REMOVE:"Remove",REPORT_ABUSE:"ReportAbuse",REVIEW_NOT_PERMITTED:"ReviewNotPermitted",RHP:"RHP",SCROLL:"Scroll",SAVE_AS:"SaveAs",SELECT_ALL:"SelectAll",SELECT_FILES:"SelectFiles",SEND_FOR_REVIEW:"Send for Review",SENT_FILES:"SentFiles",SHARE:"Share",SHARE_BUTTON:"ShareButton",SHARE_FILE_BUTTON:"ShareFileButton",SHARE_ICON:"ShareIcon",SHARE_WITH:"ShareWith",SHARED:"Shared",SHOWN:"Shown",SINGLE:"Single",SORT:"Sort",SUBJECT:"Subject",SUCCESS:"Success",SURVEY:"Survey",SURVEY_CANCEL:"SurveyCancel",SURVEY_FIELD_FOCUS:"SurveyFieldFocus",SURVEY_LINK:"SurveyLink",SURVEY_SEND:"SurveySend",TOOLS:"Tools",TRACK:"Track",TRASH:"Trash",TURN_OFF_BRANDING:"TurnOffBranding",TURN_ON_BRANDING:"TurnOnBranding",UNCHECKED:"Unchecked",UNSHARE:"Unshare",UPGRADE:"Upgrade",URL_HIGHLIGHT:"UrlHighlight",URL_KEY_COPY:"UrlKeyCopy",USE:"Use",VIEW:"View",VIEW_ALL_SHARED_FILES:"ViewAllSharedFiles",VIEW_FULL_ACTIVITY:"ViewFullActivity",WARNED_BEFORE_CLOSING:"WarnB4Close",WARNING:"Warning",WITH_REPLY:"wReply",NO_CONNECTIVITY:"NoConnectivity",ERROR_UPLOAD:"ErrorUpload",API_SUBPATH_NEW:"/api/rest/v6",API_SUBPATH_OLD:"/api/rest/v3",API_VERSION_V6:"v6",1:"1","2_TO_5":"2to5","6_TO_10":"6to10","11_OR_MORE":"11orMore","11_TO_20":"11to20","21_TO_40":"21to40","41_TO_120":"41to120","121_OR_MORE":"121orMore",FSS:"FSS",FORM:"Form",OUTPUT:"Output",SAVE_TO_PDF:"SaveToPDF","1_STARTED":"1-Started","2_COMPLETED":"2-Completed",ERROR:"Error",SEND_TAB:"SendTab",COMPLETED:"Completed",SUPPORTED_EXTNS_SIGN:["pdf","doc","docx","rtf","xls","xlsx","ppt","pptx","txt","html","htm","tiff","tif","bmp","gif","jpg","jpeg","png"],BASICMAIL:0,GMAIL:1,CONFIGURED:2},t.ScConstants}),define("core/dev/views/rhp/review/autocomplete-model",["core/ac-core","core/models/model"],function(e){return e.AutocompleteModel=e.Model.extend({idAttribute:"email",initialize:function(t,n){e.Model.prototype.initialize.call(this,t,n),this.rootUrl="",n.collection&&(this.rootUrl=n.collection.rootUrl),n.rootUrl&&(this.rootUrl=n.rootUrl)},url:function(){return this.rootUrl+"a/api/autoc/emails"}}),e.AutocompleteModel}),define("core/dev/views/rhp/review/autocomplete-collection",["core/ac-core","core/utils/http-util","core/views/rhp/review/autocomplete-model"],function(e,t){return e.AutocompleteCollection=Backbone.Collection.extend({model:e.AutocompleteModel,initialize:function(e,t){Backbone.Collection.prototype.initialize.call(this,e,t),this.rootUrl=t.rootUrl,this.set({models:[]})},url:function(){return this.rootUrl+"/a/api/autoc/email"},fetch:function(e){return e=t.customizeOptions("GET",e),Backbone.Collection.prototype.fetch.call(this,e)},fetchNext:function(){var e={};return this.next_context&&(e.data=_.extend({},{context:this.next_context,sofar:this.length},e.data)),e.global=!1,e.remove=!1,this.fetch(e)},fetchAll:function(){this.fetchNext().then(_.bind(this.fetchComplete,this))},fetchComplete:function(){this.next_context&&this.fetchAll()},parse:function(e){var t=[],n=e.emails,r,i;return this.next_context=e.next_context,e.emails},setRUrl:function(e){this.rootUrl=e}}),e.AutocompleteCollection}),define("core/dev/views/rhp/sentfiles/sentfiles-rhp-autocomplete-view",["core/ac-core","core/templates/rhp/review/us-autocomplete-template","core/templates/rhp/review/us-autocomplete-item-template","core/views/rhp/review/sc-constants","i18n!core/nls/ui-strings","core/utils/sc-analytics","core/views/rhp/review/autocomplete-collection","core/views/view","core/views/view-events","core/utils/view-util"],function(e,t,n,r,i,s){return e.AutocompleteView=e.View.extend({events:{"mousedown .us-share-auto-address":"_onAddressClick","mousedown .us-ms-graph-get-contacts-banner":"_onGetMSGraphContactsClick"},initialize:function(){console.log("us-autocomplete-view initialize");var r=this.options,i=this.options.autoCCollection,s;console.log(this.options.autoCCollection),e.View.prototype.initialize.call(this),this._template=_.template(t),this._localAddressTemplate=_.template(n),this._addressTemplate=_.template("<div class='us-share-auto-address <%=specialClass%> ui-theme theme-list-item drop-down-text-theme'title='<%-email %>' name='<%-name%>'><div id='email-list-email-only' class= 'ui-theme' title='<%-email %>' name='<%-name%>'><span title='<%-email %>'><%-email%></span></div></div>"),this._editControl=r.editControl,this.isMSGraphBannerInFocus=!1,s=new Backbone.Collection,this.filteredCollection=s,s.on("all",_.debounce(_.bind(this._onFilteredCChange,this),50)),i.on("all",_.debounce(_.bind(this._onCollectionChange,this),300))},render:function(){return e.View.prototype.render.call(this),this.$autoCList=this.$(".us-share-auto-c-list"),this.$el.children().length===0&&(this.$el.html(this._template({GET_MS_GRAPH_CONTACTS_MSG:i.GET_MS_GRAPH_CONTACTS_MSG_1+"Office"+i.GET_MS_GRAPH_CONTACTS_MSG_2+"Outlook"+i.GET_MS_GRAPH_CONTACTS_MSG_3})),this._initWrappers(),this.$autoCList.on("scroll",this._onAddressScroll),this.$getMSGraphContacts.hide(),e.Util.isCEF()&&this.$autoCList.css("overflow","auto")),this._renderAddressList(),this},setFilter:function(e){e&&(e=$.trim(e.toLowerCase()),e.length<1&&(e=undefined)),e||(this.selectedID=undefined),this.fragment=e,this._updateFilteredCollection()},makeChoice:function(e){console.log("make choice");var t,n,r,i=this.options,s=this.options.sendFilesUiModel;return this.isMSGraphBannerInFocus?this._onGetMSGraphContactsClick():(e?this.selectedID&&(t=this.filteredCollection.get(this.selectedID)):this.selectedID?t=this.filteredCollection.get(this.selectedID):t=this.filteredCollection.at(0),t&&(n=t.get("email"),r=t.get("name"),this._insertEmail(n,r),this._editControl.clear())),t},selectDown:function(){var t=this.filteredCollection,n=this.selectedID,r=this.$autoCList.scrollTop(),i,s,o=$(".us-share-auto-address").height(),u=6,a=6,f;e.Util.isCEF&&(u=t.length),f=this.options.sendFilesUiModel.get("enable_autoc_arrows");if(!f)return;n?(u>t.length&&(u=t.length),s=t.get(n),i=t.indexOf(s),i===-1?n=undefined:(i<u&&(i+=1,u>a&&this._keyboardScrollTo(r+o)),i>=u?(n=undefined,this.$getMSGraphContacts.is(":visible")&&!this.isMSGraphBannerInFocus&&(this.isMSGraphBannerInFocus=!0)):(s=t.at(i),s?n=s.id:n=undefined))):this.isMSGraphBannerInFocus?this.isMSGraphBannerInFocus=!1:(s=t.at(0),s?(n=s.id,this._keyboardScrollTo(0)):n=undefined),this.selectedID=n,this._renderAddressList();return},selectUp:function(){var t=this.filteredCollection,n=this.selectedID,r=0,i,s,o=this.$autoCList.scrollTop(),u=6,a=6,f,l=$(".us-share-auto-address").height();e.Util.isCEF&&(u=t.length),f=this.options.sendFilesUiModel.get("enable_autoc_arrows");if(!f)return;n?(s=t.get(n),i=t.indexOf(s),i===-1?n=undefined:(i>=0&&(i-=1,u>a&&this._keyboardScrollTo(o-l)),i<0?n=undefined:(s=t.at(i),s?n=s.id:n=undefined))):this.$getMSGraphContacts.is(":visible")&&!this.isMSGraphBannerInFocus?(n=undefined,this.isMSGraphBannerInFocus=!0):(this.isMSGraphBannerInFocus=!1,u>t.length&&(u=t.length),u-=1,s=t.at(u),s?(n=s.id,u>=a&&this._keyboardScrollTo(u*l)):n=undefined),this.selectedID=n,this._renderAddressList();return},_keyboardScrollTo:function(t){e.Util.isCEF()&&(this.$autoCList.stop(!0,!0),this.$autoCList.animate({scrollTop:t},"fast"))},_initWrappers:function(){this.$autoCList=this.$(".us-share-auto-c-list"),this.$getMSGraphContacts=this.$(".us-ms-graph-get-contacts-banner")},_renderAddressList:function(){var e=this.filteredCollection,t=this.$autoCList,n,r,i=this.selectedID;n=this._localAddressTemplate,r=this._addressTemplate,e.length&&this.$el.show(),t.empty(),e.each(function(e){var s,o="";e.id===i&&(o="selected"),_.isUndefined(e.get("name"))||e.get("name")===""?s=r({email:e.get("email"),specialClass:o,id:_.uniqueId("us-share-auto-address-"),ariaSelected:o===""?"false":"true"}):s=n({name:e.get("name"),email:e.get("email"),specialClass:o,id:_.uniqueId("us-share-auto-address-"),ariaSelected:o===""?"false":"true"}),t.append(s)}),this._renderGetMSGraphBanner(),e.length||this.$el.hide()},_renderGetMSGraphBanner:function(){this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaMicrosoftGraphAPI.isMicrosoftGraphEnabled().then(_.bind(function(){this.options.appApi.sessionApi.isSignedInReader()&&e.rnaMicrosoftGraphAPI.isSignedInMicrosoftGraph().then(_.bind(function(e){e?this.$getMSGraphContacts.hide():(this.$getMSGraphContacts.show(),this.isMSGraphBannerInFocus?this.$getMSGraphContacts.addClass("selected"):this.$getMSGraphContacts.removeClass("selected"))},this),_.bind(function(){this.$getMSGraphContacts.hide()},this))},this),_.bind(function(){this.$getMSGraphContacts.hide()},this))},this))},_updateFilteredCollection:function(){var e=this.options.autoCCollection,t=this.filteredCollection,n,r=[],i="",s="",o=!1,u=this.options.pgcModel.get("pgcSuggestionsCollection");return u&&e.add(u.toJSON(),{merge:!0}),n=this.fragment,n&&n.length&&(r=e.filter(function(e){return s=e.get("email"),o=s.indexOf(n)===0,o===!1&&(i=e.get("name"),i!==undefined&&(i=i.toLowerCase(),o=i.indexOf(n.toLowerCase())===0)),o})),t.set(r),r},_onFilteredCChange:function(){if(this.filteredCollection.length>0){var e=this.filteredCollection.at(0);this.selectedID=e.id,this.isMSGraphBannerInFocus=!1}this._renderAddressList()},_onCollectionChange:function(){this._renderAddressList()},_onAddressClick:function(e){var t=$(e.target),n,r,i=this.options,s=this.options.sendFilesUiModel;n=t.attr("title"),r=t.attr("name"),this._insertEmail(n,r),this._editControl.clear(),s.get("autocomplete_eventual_click")||(s.set("autocomplete_eventual_click",!0),s.set("autocomplete_avoided",!0)),s.get("autocomplete_immediate_click")||s.set("autocomplete_immediate_click",!0)},_onGetMSGraphContactsClick:function(){this.options.appApi.rnaApi.done(_.bind(function(t){var n=s.VIRGO_CTA_ADD_RECIPIENT,r=s.USE,i="Sign In to MSGraph";this.options.appApi.siteCatalystApi.logScEvent([n,r,i]),t.rnaMicrosoftGraphAPI.loginToMicrosoftGraph().then(_.bind(function(){var t=e.opFactory.create("MicrosoftGraphOutlookContactsOp",this.options),n=s.VIRGO_CTA_ADD_RECIPIENT,r=s.USE,i="Get MSGraph Contacts After Sign In";this.options.appApi.siteCatalystApi.logScEvent([n,r,i]),t.run().then(_.bind(function(e){var t=this.options.autoCCollection;t.add(e.toJSON(),{merge:!0}),this._renderGetMSGraphBanner()},this),_.bind(function(e){},this))},this),_.bind(function(){this.isMSGraphBannerInFocus=!1},this))},this))},_onAddressScroll:function(){var e=this.options,t=this.options.sendFilesUiModel;t.get("autocomplete_scroll")||(t.set("autocomplete_scroll",!0),t.set("autocomplete_immediate_click",!0),t.set("autocomplete_avoided",!0))},_insertEmail:function(e,t){this.options.emailView.abortPGCRequest(),this.options.emailView._setRecipientsFromText(e,t),this.setFilter(undefined),_.delay(_.bind(function(){this._editControl.focus(!0)},this),10)}}),e.AutocompleteView}),define("core/dev/views/rhp/sentfiles/rhp-participants-view",["core/ac-core","core/templates/rhp/sentfiles/participants-accodian-template","i18n!core/nls/ui-strings","core/utils/util","core/utils/date-util","core/utils/view-util","core/utils/truncate","core/utils/css-util","core/models/workflow-status-strings","core/templates/rhp/sentfiles/participant-status-template","core/templates/rhp/sentfiles/us-chicklet-edit-template","core/templates/rhp/sentfiles/us-email-list-item-template","core/views/rhp/sentfiles/us-chicklet-edit-control","core/views/rhp/sentfiles/sentfiles-rhp-autocomplete-view","core/utils/sc-analytics","core/views/view"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d){return e.SharedRhpParticipantsView=e.View.extend({events:{"click    .rhp-participants-overall-status":"_expandParticipantInfo","click    .rhp-invite-participants":"_onInviteClick","input    .us-share-address-input":"_onRecipientsInput","paste    .us-share-address-input":"_onRecipientsPaste","blur     .us-share-address-input":"_onRecipientsBlur","focus    .us-share-address-input":"_initialiseEmailAddFetching","click    .share-email-list-close":"_onEmailListClose","click    .share-files-button":"_onSendButtonClick","click    #review-add-participant-address-book-img":"_onAddressBookClick"},initialize:function(){e.View.prototype.initialize.call(this),this._localAddressTemplate=_.template(c);var t=_.extend({},this.options,{searchString:""});this.PGCOp=e.opFactory.create("GettingPGCSuggestionsOp",t),this._addKeyEventListener(),this._addFocusEventListener(),this.options.autoCCollection=new e.AutocompleteCollection([],{rootUrl:undefined}),this.options.pgcModel=new e.SendFilesUiModel,this._fetchCollaboratorsInProgress=!1},render:function(){var r=this.$el,i=this.options,s=i.selectionUiModel.getSingleSelectedItemModel(),o=$.Deferred(),u=i.appApi.saveAsApi,f=i.appApi.selectionApi,l=this.options.appApi,c=!1;c=l.isAppUsingAV2UI(),e.View.prototype.render.call(this);if(f.isRunningInFileSelection()||u.isRunningInFileSaveAs())return;r.children().length===0&&(r.html(_.template(t)({ADD_REVIEWERS:c?n.AV2_ADD_REVIEWERS:n.ADD_REVIEWERS,SEND_BUTTON:n.ADD,ADD_REVIEWER_COACHMARK:n.ADD_REVIEWER_COACHMARK,CREATE_LINK_SECURITY_INFO:n.CREATE_LINK_SECURITY_INFO})),this._initWrappers()),this.$participantsMainDiv.hide();if(_.isUndefined(s))return;this.options.appApi.rnaApi.done(function(e){e.logPerformance("ViewFilesParticipantsView_"+s.cid,"start")});if(s.getWorkflowStatus()&&s.getWorkflowStatus().toLowerCase()==a.UNSHARED_STRING.toLowerCase())return;if(s&&s.getCollaborators()){this._renderPostCollabFetch();return}if(s.get("bootstrap")&&s.get("bootstrap").asset_id){var h=s.get("bootstrap");h.email_message&&s.setIntroMessage(h.email_message),h.preview_url&&s.setPreviewUrl(h.preview_url),_.isUndefined(h.is_original_shared)||s.setOriginalShared(h.is_original_shared),h.commenting_urn&&s.setCommentingUrn(h.commenting_urn),h.asset_id&&s.setAssetId(h.asset_id),o.resolve(h.asset_id)}if(_.isUndefined(s.getAssetId())){var p=this.options.appApi.pluginsApi.callPluginMethod("sentfiles","_getBootstrapData",this.options,this._getResolvedPromise(),!0);p?p.then(_.bind(function(e){if(e){e.parcel_data&&(this.cbViewModel.getSingleSelectedItemModel().setIntroMessage(e.parcel_data.email_message),e.parcel_data.preview_url&&this.cbViewModel.getSingleSelectedItemModel().setPreviewUrl(e.parcel_data.preview_url));var t=!1;e.is_original_shared!==undefined&&(t=e.is_original_shared),this.cbViewModel.getSingleSelectedItemModel().setOriginalShared(t),e.meta_list&&e.meta_list.length&&e.meta_list[0].commenting_urn&&this.cbViewModel.getSingleSelectedItemModel().setCommentingUrn(e.meta_list[0].commenting_urn),e.meta_list&&e.meta_list.length&&e.meta_list[0].asset_urn&&(this.cbViewModel.getSingleSelectedItemModel().setAssetId(e.meta_list[0].asset_urn),o.resolve(e.meta_list[0].asset_urn))}},this),_.bind(function(e){o.reject()},this)):o.reject()}else o.resolve(s.getAssetId());o.then(_.bind(function(t){if(!this._fetchCollaboratorsInProgress&&t!="dummyId"){this._fetchCollaboratorsInProgress=!0;var n=e.opFactory.create("GettingCollaborationMetadatapOp",_.extend({},this.options,{global:!0}));n.run(t).then(_.bind(function(e){this._fetchCollaboratorsInProgress=!1;var t=this.cbViewModel.getSingleSelectedItemModel();e&&(t.setCollaborators(e),this._renderPostCollabFetch())},this),_.bind(function(e){this._fetchCollaboratorsInProgress=!1},this))}},this))},_renderPostCollabFetch:function(){this._updateFields(),this._updateAvatars(),this.options.sendFilesUiModel=new e.SendFilesUiModel,this._addUiModelEventListeners(),this._addKeyEventListener(),this._renderChildViews(),this._updateEmailFields(),this._processRecipients(!0),(this.options.isDocView||this.cbViewModel.getSingleSelectedItemModel()&&this.cbViewModel.getSingleSelectedItemModel().CTAClicked)&&this._expandParticipantInfoWithoutCollapse()},_escapeId:function(e){if(e.length)return e.replace(/(:|\.|\[|\]|,|=|@|\/)/g,"\\$1")},_initWrappers:function(){this.$participantsOverAllStatus=this.$(".sent-participants-overall-status"),this.$participantsInfoDetailedView=this.$(".sent-participants-expanded"),this.$expandParticipantInfo=this.$(".rhp-expand-participants"),this.$participantsStatus=this.$(".sent-participants-status"),this.$participantsAvatar=this.$(".sent-particpants-avatar"),this.$participantsInfo=this.$(".sent-participants-info"),this.$participantsMainDiv=this.$(".sent-rhp-participants"),this.cbViewModel=this.options.cbViewModel,this.$inviteParticipant=this.$(".rhp-invite-participants"),this.$addParticipantInput=this.$(".add-participant-box"),this.$addParticipantInfo=this.$(".add-participants-info"),this.$autocompleteBox=this.$(".us-share-autocomplete-box"),this.cbViewModel=this.options.cbViewModel,this.$filesList=this.$(".share-email-list"),this.$addedMembers=this.$("#added-members"),this.$addButton=this.$("#sendbutton"),this.$addedMembersListContainer=this.$("#added-members-list-container"),this.$removeButton=this.$(".share-email-list-close"),this.$sendButton=this.$(".share-files-button-container"),this.$addreviewerscoachmark=this.$("#add-reviewers-coachmark"),this.$createLinkSecurityStr=this.$("#legal-string-for-share"),this.options.showParticipants=!0},_expandParticipantInfo:function(){var e=this.cbViewModel.getSingleSelectedItemModel();this.$participantsInfoDetailedView.hasClass("invisible")?(e&&(e.CTAClicked=!0),this.$participantsInfoDetailedView.removeClass("invisible"),this.$expandParticipantInfo.addClass("rotated")):(this.$participantsInfoDetailedView.addClass("invisible"),this.$expandParticipantInfo.removeClass("rotated"),e&&(e.CTAClicked=undefined))},_expandParticipantInfoWithoutCollapse:function(){this.$participantsInfoDetailedView.hasClass("invisible")&&(this.$participantsInfoDetailedView.removeClass("invisible"),this.$expandParticipantInfo.addClass("rotated"))},_collapseParticipantInfo:function(){this.$participantsInfoDetailedView.hasClass("invisible")||(this.$participantsInfoDetailedView.addClass("invisible"),this.$expandParticipantInfo.removeClass("rotated")),this.$participantsAvatar.hasClass("invisible")&&(this.$participantsAvatar.removeClass("invisible"),this.$participantsStatus.addClass("rhp-accodian-label-with-avatar"),this.$participantsStatus.removeClass("review-rhp-accodian-label-no-icon"))},_handleAddPeopleCoachMarkVisibility:function(){var e=this.cbViewModel.getSingleSelectedItemModel(),t=this.options.appApi.usersMeApi.options.usersMeIdentityModel,n="",r=!1;if(!e||!e.attributes)r=!0;else if(!_.isUndefined(e.attributes.creator))e.attributes.creator||(r=!0),n=e.attributes.creator.email;else if(!_.isUndefined(e.attributes.collaborators)){var i=e.attributes.collaborators.length;for(var s=0;s<i;s++)if(!_.isUndefined(e.attributes.collaborators[s].isOwner)&&e.attributes.collaborators[s].isOwner){_.isUndefined(e.attributes.collaborators[s].email)||(n=e.attributes.collaborators[s].email);break}n.length||(r=!0)}else r=!0;r&&this.$addreviewerscoachmark.css("visibility","hidden");var o=!1;n&&t.get("email")&&n.toLowerCase()==t.get("email").toLowerCase()&&(o=!0),o?(this._onInviteClick(),this.$addreviewerscoachmark.css("visibility","hidden"),this.$addreviewerscoachmark.css("visibility","visible"),this.timer!=undefined&&clearTimeout(this.timer),this.timer=_.delay(_.bind(function(){this.$addreviewerscoachmark.css("visibility","hidden"),this.timer=undefined},this),4e3)):this.$addreviewerscoachmark.css("visibility","hidden")},_manageParticipantInfoToggleState:function(){var e=this.cbViewModel.getSingleSelectedItemModel(),t=this.options.appApi.usersMeApi.options.usersMeIdentityModel,n=e.getCollaboratorDetails(t);(!e||!e.attributes||!e.attributes.creator)&&this.$addreviewerscoachmark.css("visibility","hidden"),n&&(n.isOwner?this._expandParticipantInfoWithoutCollapse():this._collapseParticipantInfo())},_updateFields:function(){this._updateActionItemsIfOffline(),this.$createLinkSecurityStr.hide();var e=this.cbViewModel.getSingleSelectedItemModel(),t=this.options.appApi.usersMeApi.options.usersMeIdentityModel,r=!1;if(e){var i=e.getCollaboratorDetails(t);i?!i.isOwner||e.getWorkflowStatus()&&e.getWorkflowStatus().toLowerCase()===a.UNSHARED_STRING.toLowerCase()?this.$inviteParticipant.hide():i.isOwner&&(this.$inviteParticipant.show(),r=!0):this.$inviteParticipant.hide()}this.$addParticipantInput.hide(),this.$sendButton.hide();if(e){var s=e.getCollaborators(),o;s.sort(function(e,t){var n=e.collaboratorId,r=t.collaboratorId;return n>r?1:n<r?-1:0});for(var u=0;s&&u<s.length;u++)if(s[u].isOwner){o=s[u],s.splice(u,1),s.splice(0,0,o);break}var c=e.getInfo(),h=undefined,p=e.attributes.WorkflowType;_.isUndefined(c)||(h=c.user_status),!_.isUndefined(h)&&h.toUpperCase()==a.UNOPENED.toUpperCase()&&(P=n.UNOPENED);var d="",v=!1,m=!1;if(s&&s.length>0){var g=[],y=0,b=0,w=0;for(var u=0;u<s.length;u++){var E=s[u];(r||P!=n.UNOPENED)&&(!E.displayName||E.displayName==="")&&t.get("user_id")&&(E.adobe_id&&E.adobe_id.toLowerCase()==t.get("user_id").toLowerCase()||E.collaboratorId&&E.collaboratorId.toLowerCase()==t.get("user_id").toLowerCase())&&t.get("display_name")&&(E.displayName=t.get("display_name")),E.collaboratorId=="all"?v=!0:E.collaboratorId=="orgEverybody"&&(m=!0);var S=E.displayName;if(!S||S===""){S=E.email;if(!E.email||E.email==""){S=n.ANONYMOUS,w++;continue}}if(E.collaboratorId=="orgEverybody")continue;var x=E.isOwner?n.OWNER_UC:"",T=_.template(f)({viewId:e.getId(),participantId:u,participantName:S,participantStatus:x,partcipantDateSeparator:"",participantLastAccessDate:""});if(!E.isOwner){var N=e.getId()+"-"+u;g.push(N)}y++,d+=T}r&&(this.$createLinkSecurityStr.show(),v?this.$createLinkSecurityStr.html(n.CREATE_LINK_SECURITY_INFO):m?this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaUnifiedSharePopupAPI.getOrgName().then(_.bind(function(e){e&&e.orgName&&e.orgName.length>0&&this.$createLinkSecurityStr.html(_.template(n.CREATE_LINK_ORG_SECURITY_INFO,{ORGNAME:e.orgName}))},this))},this)):e.get("bootstrap")&&!e.get("bootstrap").is_legacy_asset?this.$createLinkSecurityStr.html(n.CREATE_LINK_PRIV_SECURITY_INFO):this.$createLinkSecurityStr.hide()),this.$participantsInfo.html(d);for(var u=0;u<g.length;++u){var C=g[u].replace(/\:/g,"\\:"),k="#review-participant-name-"+C,L="#review-participant-info-"+C,A="#review-participant-status-"+C;this.$participantNameId=this.$(k),this.$participantInfoId=this.$(L),this.$participantStatusId=this.$(A),this.$participantNameId.addClass("review-participant-name-non-owner-alignment"),this.$participantInfoId.addClass("review-participant-info-non-owner-alignment"),this.$participantStatusId.addClass("invisible")}var O=_.template(l)({ENTER_EMAIL_ADDR:n.ENTER_EMAIL_ADDR,ADDRESS_BOOK:n.ADDRESS_BOOK});this.$addParticipantInput.html(O);var M=this.options.appApi,D=!1;D=M.isAppUsingAV2UI();var P=P=_.template(D?n.AV2_N_RECIPIENTS:n.N_RECIPIENTS,{num:y});this.$participantsStatus.html(P),this.$participantsStatus.attr("title",P),this.$participantsOverAllStatus.attr("aria-label",P),this.$participantsMainDiv.show()}else this.$participantsMainDiv.hide()}else this.$participantsMainDiv.hide()},_requiresAddressImport:function(){var e=this.cbViewModel.getSingleSelectedItemModel();if(e){var t=e.getParticipantsInfo();if(t.length===1&&t[0].email.length===0)return!1}return!0},_getUTCDateFromModelDate:function(e){var t=moment.utc(e,"YYMMDDHHmmssZ").toDate();return t=moment(t).format("MMM DD, hh:mm A"),t},_updateAvatars:function(){var t=this.options.selectionUiModel.getSingleSelectedItemModel();if(t&&!t.get("avatarsFetched")){var n=e.opFactory.create("FetchingPublicProfileInfoOp",_.extend({},this.options,{global:!0})),r=[],i=t.getCollaborators();for(var s=0;i&&s<i.length;s++){var o=i[s];(_.isUndefined(o.avatarURL)||o.avatarURL==="")&&o.userId&&r.push(o.userId)}if(r.length&&!t.fetchingPublicProfileInfo){t.fetchingPublicProfileInfo=!0;var u=n.getCachedDataFromNative(r);u.then(_.bind(function(e){for(var r=0;r<i.length;r++){var s=i[r];e.cachedData[s.userId]&&(s.avatarURL=e.cachedData[s.userId].images[138],s.hasDefaultImage=e.cachedData[s.userId].hasDefaultImage)}this._loadAvatars();if(e.nonCooldownGUIDs.length<1){t.fetchingPublicProfileInfo=!1,t.set("avatarsFetched",!0,{silent:!0});return}var o=n.run(e.nonCooldownGUIDs);o.then(_.bind(function(e){var n=t.getCollaborators();for(var r=0;n&&r<n.length;r++){var i=n[r];e[i.userId]&&(i.avatarURL=e[i.userId].images[138],i.hasDefaultImage=e[i.userId].hasDefaultImage)}t.set("avatarsFetched",!0,{silent:!0}),this._loadAvatars(),t.fetchingPublicProfileInfo=!1},this),_.bind(function(e){t.fetchingPublicProfileInfo=!1},this))},this),_.bind(function(e){t.fetchingPublicProfileInfo=!1},this))}}this._loadAvatars()},_loadAvatars:function(){var e=this.cbViewModel.getSingleSelectedItemModel();if(e){var t=e.getCollaborators(),n="",r=0;for(var i=0;t&&i<t.length;i++){var s="",o=t[i];if(o.collaboratorId=="all"||o.collaboratorId=="orgEverybody")continue;var u=this.$("#review-participant-avatar-img-"+this._escapeId(e.getId())+"-"+i),a=this.$("#review-participant-avatar-icon-"+this._escapeId(e.getId())+"-"+i),f=this.$("#review-participant-avatar-default-image-"+this._escapeId(e.getId())+"-"+i);a.hide(),u.hide(),f.hide(),o.hasDefaultImage?(s='<div class="rhp-overall-status-avatar avatar-border-themes rhp-avatar-icon-default-'+r+'"></div>',f.addClass("rhp-avatar-icon-default-"+r),f.show(),r=(r+1)%8):o.avatarURL?(u.attr("src",o.avatarURL),u.show(),s='<img class="rhp-overall-status-avatar avatar-border-themes" src="'+o.avatarURL+'"></img>'):(a.show(),s='<div class="rhp-overall-status-avatar avatar-border-themes rhp-avatar-icon-anonymous"></div>'),i<3&&(n+=s)}this.$participantsAvatar.html(n)}this.options.appApi.rnaApi.done(function(e){this.sharedFileSelectWorkflowEndParticipantLogged==undefined&&(this.sharedFileSelectWorkflowEndParticipantLogged=!0,e.logPerformance("SharedTabFileSelect","end"))}),this.options.appApi.rnaApi.done(function(t){t.logPerformance("ViewFilesParticipantsView_"+e.cid,"end")})},_onFocusIn:function(e){var t=$(e.target);t.attr("tabindex",0),this._consumeEvent(e)},_onFocusOut:function(e){var t=$(e.target);t.attr("tabindex",-1),this._consumeEvent(e)},_addKeyEventListener:function(){this.options.appApi.keyApi.pushKeyHandler(this)},_addUiModelEventListeners:function(){var e=this.options.sendFilesUiModel;e.get("email_addr_collection").on("all",this._onRecipientsChange),e.on("change:enable_autocomplete",this._onEnableAutocompleteChange)},_removeUiModelEventListeners:function(){var e=this.options.sendFilesUiModel;e.get("email_addr_collection").off("all",this._onRecipientsChange),e.off("change:enable_autocomplete",this._onEnableAutocompleteChange)},_onRecipientsChange:function(){this._refreshSendButtonState(),this._onDebouncedRecipientsChange()},_onDebouncedRecipientsChange:function(){this._processRecipients(!0)},_initialiseEmailAddFetching:function(){var t=this.options,n=t.sendFilesUiModel,r=t.limitsModel,i=this._getResolvedPromise();this.$addreviewerscoachmark.css("visibility","hidden"),this._displayIPMToUser=!1,n.set({is_individual:!0}),e.Util.isCEF()&&n.get("autocomplete_local_contacts_imported")===!1&&(i=this._importLocalEmailContacts(),i.then(_.bind(function(){n.set({autocomplete_local_contacts_imported:!0})},this))),e.Util.isCEF()&&n.get("autocomplete_cloud_contacts_imported")===!1&&this.options.appApi.sessionApi.isSignedInReader()&&e.opFactory.create("DesktopFetchingAutocompleteListOp",this.options).run().then(_.bind(function(){n.set({autocomplete_cloud_contacts_imported:!0})},this)),e.Util.isCEF()&&n.get("autocomplete_msgraph_contacts_imported")===!1&&this.options.appApi.rnaApi.done(_.bind(function(t){t.rnaMicrosoftGraphAPI.isMicrosoftGraphEnabled().done(_.bind(function(){t.rnaMicrosoftGraphAPI.isSignedInMicrosoftGraph().done(_.bind(function(t){if(t){var r=e.opFactory.create("MicrosoftGraphOutlookContactsOp",this.options),i=d.VIRGO_CTA_ADD_RECIPIENT,s=d.USE,o="Get MSGraph Contacts for SignedIn User";this.options.appApi.siteCatalystApi.logScEvent([i,s,o]),r.run().then(_.bind(function(e){var t=this.options.autoCCollection;t.add(e.toJSON(),{merge:!0}),n.set({autocomplete_msgraph_contacts_imported:!0})},this),_.bind(function(e){},this))}},this))},this))},this)),this._autocompleteControl.options.autoCCollection=this.options.autoCCollection},_renderChildViews:function(){var t=this.options.sendFilesUiModel,n,r;r=_.extend({},this.options,{emailView:this}),this._renderChildView("_chickletEditControl",h,this.$addParticipantInput,r),t.get("enable_autocomplete")?(n=_.extend({},this.options,{editControl:this._chickletEditControl,emailView:this}),this.$autocompleteBox.show(),this._renderChildView("_autocompleteControl",p,this.$autocompleteBox,n),e.Util.isCEF()&&this.$autocompleteBox.css("z-index","1001")):(this._autocompleteControl&&this.removeChildView(this._autocompleteControl),this.$autocompleteBox.hide())},_importLocalEmailContacts:function(){return this.options.appApi.rnaApi.then(_.bind(function(e){return e.stApi.getOutlookAutoCompleteListAtIdleAPI().then(_.bind(function(e){return e._addEventListener("custom:onOutlookAddressesFetchComplete",_.bind(function(e,t){var n=t.params,r=n.split(";"),i,s="",o="",u,a=-1,f=this.options.autoCCollection;r.pop(),_.each(r,function(e){a=_.lastIndexOf(e,"<"),a===-1?(o=e,s=""):(o=e.substring(a+1),s=e.substring(0,a)),_.last(o)===">"&&(o=o.slice(0,-1)),_.last(s)===" "&&(s=s.slice(0,-1)),f.get(o)&&f.remove(o),f.add({email:o,name:s,isLocalContact:!0})})},this)),$.Deferred().resolve().promise()},this),_.bind(function(e){return $.Deferred().reject().promise()},this))},this),_.bind(function(){return $.Deferred().reject().promise()},this))},_updateActionItemsIfOffline:function(){var e=this.options.appApi.networkConnectivityApi.isOnline();e?this.$inviteParticipant&&this.$inviteParticipant.hasClass("disabled")&&this.$inviteParticipant.removeClass("disabled"):this.$inviteParticipant.addClass("disabled")},_updateEmailFields:function(){var e=this.options.sendFilesUiModel,t=e.get("US_tab_open")==="share";this.$el.removeClass("disabled"),this._chickletEditControl.enable(!0)},_processRecipients:function(e){var t=this.options.sendFilesUiModel.get("email_addr_collection");t.length>0?this._toggleSubjectAndMessageVisibility(!0):this._toggleSubjectAndMessageVisibility(!1),e&&(this._chickletEditControl.processRecipients(t),this._renderEmailList(t))},_toggleSubjectAndMessageVisibility:function(e){e?(this.$addedMembers.show(),this.$addedMembersListContainer.show()):(this.$addedMembers.hide(),this.$addedMembersListContainer.hide())},_renderEmailList:function(t){var r=this.$filesList,i=this.options.sendFilesUiModel,s=i.get("view_mode"),u=this.options,a,f,l,c,h,p=this._computeMaxAvailWidth();e.Util.isCEF()&&r.show(),r.empty(),t.each(_.bind(function(e){f=e.get("name")?e.get("name"):e.get("email"),l=e.get("email"),h=e.get("valid"),c=this._localAddressTemplate({name:f,email:l,remove:n.SHARE_EMAIL_REMOVE,asset_id:e.cid,ariaRemoveLabel:this._getRemoveAriaLabel(f)}),f&&h?r.prepend(c):h||t.remove(e)},this)),_.each(this.$(".share-email-list-name"),function(e){a=$(e);var t={truncateFromRight:!0,truncateFromExt:!1,ellipsis:"...",maxIterations:10};o.truncateElementText(a,p,t)}),this.options.includeInTabOrder||this.$(".share-email-list-close").attr("tabindex","-1"),this._updateAddedMembersText(t.length)},_computeMaxAvailWidth:function(){var e=this.$(".share-tool-frame").width(),t=this.$(".share-email-list").outerWidth(!0)-this.$(".share-email-list").outerWidth();return e-3*t},_getRemoveAriaLabel:function(e){return _.template(n.GENERIC_ARIA_LABEL_STRING,{prefix:e,suffix:n.SHARE_EMAIL_REMOVE+" "+n.BUTTON})},_updateAddedMembersText:function(e){e!=undefined&&e>=0&&this.$addedMembers.html(n.ADDED_RECIPIENT_NO_COUNT+" ("+e+")")},_onInviteClick:function(){if(this.$inviteParticipant.hasClass("disabled"))return;this.$inviteParticipant.hide(),this.$addParticipantInput.show(),this.$(".us-share-address-input").focus(),this.$sendButton.show(),this._refreshSendButtonState();var e="";try{if(!_.isUndefined(this.cbViewModel)){var t=this.cbViewModel.getSingleSelectedItemModel();if(!_.isUndefined(t)){var n=t.getOriginalShared();!_.isUndefined(n)&&n&&(e=d.VIRGO_ORIGINAL_SHARE)}}}catch(r){}this.options.appApi.siteCatalystApi.logVirgoCTAEvent(d.VIRGO_SENDTRACK_CB,d.VIRGO_CTA_ADD_RECIPIENT+e,!0,this.options.isDocView)},_onRecipientsInput:function(){this.$addreviewerscoachmark.css("visibility","hidden");var e=this._chickletEditControl.val();this._setAutocompleteFilterValue(e)},_onRecipientsPaste:function(){this.$addreviewerscoachmark.css("visibility","hidden"),_.delay(_.bind(function(){var e=this._chickletEditControl.val();this._setRecipientModels(undefined,!0),this._setAutocompleteFilterValue(e)},this),100)},_onRecipientsBlur:function(){return this._setRecipientModels(),this._autocompleteControl&&this._autocompleteControl.setFilter(undefined),!0},_onEmailListClose:function(e){var t=$(e.target),n,r,i=this.options.sendFilesUiModel.get("email_addr_collection");n=t.data("asset-id"),n&&(r=i.get(n),i.remove(r)),this._updateAddedMembersText(i.length),this._refreshSendButtonState()},_acceptPGCRecipients:function(t){var n=[];t.map(_.bind(function(t){if(!_.isUndefined(t.get("token")))n.push(t.get("token"));else{var r=_.extend({},this.options,{newContactEmail:t.get("email")});e.opFactory.create("AcceptingNewPGCSuggestionOp",r).run()}},this));var r=_.extend({},this.options,{tokens:n});e.opFactory.create("AcceptingPGCSuggestionsOp",r).run()},_onSendButtonClick:function(t){if(this.options.issendenabled){this.options.appApi.rnaApi.done(function(e){e.logPerformance("AddInviteToSharedFile","start")});var r=this.options.sendFilesUiModel.getRecipientsArray(),i=_.clone(this.options.autoCCollection),s=this.options.autoCCollection.filter(function(e){return _.contains(r,e.get("email"))});i.reset(s),_.each(r,function(e){i.add({email:e})}),this._acceptPGCRecipients(i);var o=this.options.sendFilesUiModel.get("email_addr_collection"),u=o.models,a=this.cbViewModel.getSingleSelectedItemModel(),f,l=a.getCollaborators(),c=_.map(l,function(e){return e.email}),h=[];for(var p=0;p<u.length;p++){var v=u[p].get("email");_.contains(c,v)||h.push(v)}if(h.length>0){var f=a.getParcelId(),m=e.opFactory.create("ReviewAddParticipantOp",_.extend(this.options)).run({parcelID:f,emails:h});m.then(_.bind(function(t){this.response=t;var r=this.options,i=e.opFactory.create("GettingCollaborationMetadatapOp",_.extend({},this.options,{global:!0}));i.run(a.getAssetId()).then(_.bind(function(e){if(e){var t=this.cbViewModel.getSingleSelectedItemModel();l&&_.each(e,_.bind(function(e){var t=_.find(l,_.bind(function(t){return t.collaboratorId===e.collaboratorId},this));t&&(t.avatarURL&&(e.avatarURL=t.avatarURL),e.hasDefaultImage=t.hasDefaultImage)},this)),t.setCollaborators(e),t.set("avatarsFetched",!1,{silent:!0}),this._updateFields(),this._updateAvatars(),this._renderChildViews(),this._expandParticipantInfoWithoutCollapse()}},this),function(e){});var s="";h.length>1?t.errorCode===""?s=n.RECIPIENTS_ADDED_SUCCESSFULLY_TOAST:t.errorCode==="SharingRestrictions"?s=n.PARTIAL_RECIPIENTS_FAILED_SHARING_RESTRICTION_MY_ORG:s=n.PARTIAL_RECIPIENTS_FAILED_GENERIC:s=n.RECIPIENT_ADDED_SUCCESSFULLY_TOAST,this.options.appApi.rnaApi.done(function(e){e.logPerformance("AddInviteToSharedFile","end")}),this.options.appApi.pluginsApi.callPluginMethod("sentfiles","_showToastForCopyShareLink",s,this._getResolvedPromise(),!0)},this),_.bind(function(e){var t=n.RECIPIENT_ADDED_FAILED_TOAST;this.options.appApi.pluginsApi.callPluginMethod("sentfiles","_showToastForCopyShareLink",t,this._getResolvedPromise(),!0)},this))}this.$inviteParticipant.show(),this.$addParticipantInput.hide(),this.$sendButton.hide(),this.$addedMembersListContainer.hide(),this._detachChildViewsAndClear();var g="";try{if(!_.isUndefined(this.cbViewModel)){var a=this.cbViewModel.getSingleSelectedItemModel();if(!_.isUndefined(a)){var y=a.getOriginalShared();!_.isUndefined(y)&&y&&(g=d.VIRGO_ORIGINAL_SHARE)}}}catch(b){}this.options.appApi.siteCatalystApi.logVirgoCTAEvent(d.VIRGO_SENDTRACK_CB,d.VIRGO_CTA_SEND+g,!0,this.options.isDocView)}},_onAddressBookClick:function(){var e=$.Deferred();this.options.appApi.rnaApi.done(_.bind(function(t){t.stApi.resolveAddressBookApi().then(_.bind(function(t){t._addEventListener("custom:onAddressesAdded",_.bind(function(t,n){var r=n.params;r.length?e.resolve(r):e.reject()},this))},this),_.bind(function(){e.reject()},this))},this)),e.then(_.bind(function(e){this._setRecipientsFromText(e)},this),_.bind(function(){},this))},_setAutocompleteFilterValue:function(e){this._autocompleteControl&&(this.options.appApi.sessionApi.isSignedInReader()?e!==""?(this._autocompleteControl.setFilter(e),this.PGCOp.updateSearchString(e),this.PGCOp.run().then(_.bind(function(t){t.length>0&&(this.options.pgcModel.set("pgcSuggestionsCollection",t),this._autocompleteControl.setFilter(e))},this))):(this.abortPGCRequest(),this._autocompleteControl.setFilter(e)):this._autocompleteControl.setFilter(e))},abortPGCRequest:function(){this.options.appApi.sessionApi.isSignedInReader()&&(this.PGCOp.updateSearchString(""),this.PGCOp.run())},_setRecipientModels:function(e,t){var n=this._chickletEditControl.val();!_.isUndefined(e)&&e&&!n.match(/.*@.*/)&&(n+=" "),this._setRecipientsFromText(n,undefined,t)},_refreshSendButtonState:function(){var e=this.options.sendFilesUiModel.get("email_addr_collection");e.models.length>0?this._changeSendButtonState(!0):this._changeSendButtonState(!1)},_changeSendButtonState:function(e){this.options.issendenabled=e,e?($("#sendbutton").removeAttr("disabled"),this.$addButton.css("opacity","1"),$("#sendbutton").attr("aria-label",n.ADD),$("#sendbutton").attr("tabindex","-1")):($("#sendbutton").attr("disabled","true"),this.$addButton.css("opacity","0.5"),$("#sendbutton").attr("aria-label",n.ADD+", "+n.DIMMED),$("#sendbutton").removeAttr("tabindex"))},_setRecipientsFromText:function(t,n,r){var i,s,o=this.options,u=o.sendFilesUiModel;if(e.Util.isCEF()&&t.match(/.+\s$/)&&this._autocompleteControl.filteredCollection.length!==0&&!t.match(/.*@.*|.+\s\s$/)){this._chickletEditControl.setValue(t);return}t=t.replace(/(\r\n|\n|\r)/gm,""),t.match(/(<\S+>)/)?i=t.split(/\s*[,;]+\s*/):i=t.split(/\s*[,;\s]+\s*/),s=u.parseEmailArray(i,n);if(s.length>0&&s[0].get("valid")!=0){if(!r||s.length>1)u.addRecipientsToCollection(s),this._chickletEditControl.clear();u.get("autocomplete_avoided")||u.set("autocomplete_avoided",!0)}},_detachChildViewsAndClear:function(){var e=this.options.sendFilesUiModel.get("email_addr_collection");e.length>0&&e.reset()},_onKeyup:function(e){var t=!1,n=e.which;return this._chickletEditControl._input._hasFocus()?(n===32&&(t=!0,_.defer(_.bind(function(){this._setRecipientModels(!0)},this))),t):t},_onKeyDown:function(e){var t=!1,n=e.which,r=!1,i=this._chickletEditControl.$input,o=$(e.target),n=e.which;if(this._chickletEditControl._input._hasFocus()){n===32?(t=!0,_.defer(_.bind(function(){this._setRecipientModels(!0)},this))):n===13?this._autocompleteControl&&(this._autocompleteControl.makeChoice()||_.defer(_.bind(function(){this._setRecipientModels()},this))):n===9?this._autocompleteControl&&!e.shiftKey&&this._autocompleteControl.makeChoice()&&(t=!0):n===8?this._chickletEditControl.hasText()||(t=!0):n===40?this._autocompleteControl&&(this._autocompleteControl.selectDown(),r=!0,t=!0):n===38?this._autocompleteControl&&(this._autocompleteControl.selectUp(),r=!0,t=!0):n===27&&this._autocompleteControl&&(t=!0),r?i.attr("aria-activedescendant",this._autocompleteControl.$(".selected").attr("id")):i.removeAttr("aria-activedescendant");if(t)return this._consumeEvent(e),t}if(o.closest(".sent-rhp-participants")&&o.closest(".sent-rhp-participants").length>0){var u=e.shiftKey,a=$(".shared-files-rhp"),f=$(".rhp-participants-expanded"),l=s.isElementDisplayed(f),c,h=o.hasClass("review-participant-detail"),p=$(".rhp-participants-info"),d,v=$(".add-participants-info"),m=$(".share-email-list"),g=$(".add-participant-box"),y=o.closest(".share-email-list").length==0?!1:!0,b=s.descendantHasFocus(g);a.length==0&&(a=$(".context-board-rhp")),!s.isElementDisplayed(this.$addParticipantInfo)||this.$addParticipantInfo.hasClass("disabled")?(d=v.find(":focusable").last(),d.length==0&&(d=this.$participantsOverAllStatus)):d=this.$inviteParticipant;switch(n){case 13:case 32:if(o.hasClass("rhp-participants-overall-status"))this._expandParticipantInfo();else if(o.hasClass("rhp-invite-participants"))this._onInviteClick(),c=s.getNextFocusableDescendant(v,u,!1,":not('.review-participant-detail')");else if(o.hasClass("share-files-button"))this._onSendButtonClick(e),c=this.$inviteParticipant;else if(o.hasClass("us-share-address-book"))this._onAddressBookClick();else if(o.hasClass("share-email-list-close")){this._onEmailListClose(e),c=s.getNextFocusableDescendant(m,u,!1,":not('.review-participant-detail')");if(c.attr("tabindex")!=0&&c.attr("tabindex")!=-1||c.length==0)c=s.getNextFocusableDescendant(v,u,!1,":not('.review-participant-detail')")}t=!0;break;case 9:y?u?c=$(".us-share-address-book"):c=$(".share-files-button"):!h||b?c=s.getNextFocusableDescendant(a,u,!0,":not('.review-participant-detail'):not('.share-email-list-close')"):u?c=d:c=s.getFocusableDescendantAfter(a,u,!0,":not('.review-participant-detail'):not('.share-email-list-close')",d);break;case 38:u=!0;case 40:(b||y)&&l?(c=s.getNextFocusableDescendant(m,u,!1,""),c.length==0&&b&&(c=s.getNextFocusableDescendant(p,u,!1,""))):(h||!u)&&l&&(c=s.getNextFocusableDescendant(p,u,!1,""))}return c&&c.length>0&&(t=!0,c.focus()),t&&this._consumeEvent(e),t}return t}}),e.SharedRhpParticipantsView}),define("core/dev/templates/rhp/sentfiles/activity-accodian-template",[],function(){return'<div class="sentfiles-activity-info rhp-option-item"><div class="rhp-activity-info rhp-accodian rhp-actions-item cb-active-text-theme" role="row" tabindex="-1" title="<%= activity_tooltip %>" aria-label="<%= activity %>"><div class="rhp-activity-info-label rhp-accodian-label-no-icon"><%= activity %></div><div class="sent-participants-status rhp-participants-status sent-activity-participant-status"></div><div class ="rhp-expand-activity-info rhp-expand-accodian"></div></div><div id="sent-activity-list" class="rhp-activity-info-expanded invisible"><ul class="snt-rhp-activity-info-list"></ul></div> <div class="rhp-menu-separator theme-border"/></div>'}),define("core/dev/views/rhp/sentfiles/activity-accodian-view",["core/ac-core","core/templates/rhp/sentfiles/activity-accodian-template","i18n!core/nls/ui-strings","core/utils/util","core/utils/date-util","core/utils/view-util","core/utils/truncate","core/utils/css-util","core/models/workflow-status-strings","core/utils/sc-analytics","core/views/view"],function(e,t,n,r,i,s,o,u,a,f){return e.SentFilesRhpActivityAccodianView=e.View.extend({events:{"click    .rhp-activity-info":"_expandActivityInfo"},initialize:function(){e.View.prototype.initialize.call(this),this._addKeyEventListener(),this._addFocusEventListener()},render:function(){var r=this.$el;e.View.prototype.render.call(this),r.children().length===0&&(r.html(_.template(t)({activity:n.ACTIVITY,activity_tooltip:n.ACTIVITY_TOOLTIP})),this._initWrappers());if(this.cbViewModel.getSingleSelectedItemModel().getInfo().user_role!="sender"||this.options.isDocView&&this.cbViewModel.getSingleSelectedItemModel().get("resources").length>1){this.$activityView.hide();return}return this._updateFields(),this},_initWrappers:function(){this.$activityInfo=this.$(".rhp-activity-info-expanded"),this.$expandActivityInfo=this.$(".rhp-expand-activity-info"),this.$activityView=this.$(".sentfiles-activity-info"),this.$participantsStatus=this.$(".sent-participants-status"),this.cbViewModel=this.options.cbViewModel},_expandActivityInfo:function(){var e=this.$el,t,n,r;r=this.cbViewModel.getSingleSelectedItemModel().get("id"),n=e.find(".snt-rhp-activity-info-list");if(this.$activityInfo.hasClass("invisible")){$(".sent-files-rhp,.context-board-view").addClass("cursor-wait");var i;this.options.runningInRHP?i=this.cbViewModel.getSingleSelectedItemModel():i=this.options.selectionUiModel.getSingleSelectedItemModel(),this.options.appApi.pluginsApi.callPluginMethod("sentfiles","_getSentFilesActivityList",i,$.Deferred().reject(),!0).then(_.bind(function(e){this.$activityInfo.removeClass("invisible"),this.$expandActivityInfo.addClass("rotated"),$(".sent-files-rhp,.context-board-view").removeClass("cursor-wait"),n.empty();for(var r=0;r<e.length;r++)t=$("<li>"+e[r]+"</li>"),r==0?t.addClass("cb-highlight-text-theme"):t.addClass("cb-shaded-text-theme"),t.addClass("snt-rhp-activity-info"),t.attr("tabindex",-1),t.attr("aria-label",t.text()),t.attr("title",t.text()),n.append(t)},this),_.bind(function(){$(".sent-files-rhp,.context-board-view").removeClass("cursor-wait")},this)),this.options.appApi.siteCatalystApi.logVirgoCTAEvent(f.VIRGO_SENDTRACK_CB,f.VIRGO_CTA_ACTIVITY,!0,this.options.isDocView)}else this.$activityInfo.addClass("invisible"),n.empty(),this.$expandActivityInfo.removeClass("rotated")},_updateFields:function(){var e=this.cbViewModel.getSingleSelectedItemModel(),t=this.options.appApi.networkConnectivityApi.isOnline();t?this.$activityView.removeClass("disabled"):this.$activityView.addClass("disabled"),this._updateStatusField(),e?this.$activityView.show():this.$activityView.hide(),this.$activityInfo.addClass("invisible");var n=this.$el.find(".snt-rhp-activity-info-list");n.empty(),this.$expandActivityInfo.removeClass("rotated")},_updateStatusField:function(){var e=this.cbViewModel.getSingleSelectedItemModel();if(e){var t=e.getParticipantsInfo();if(t&&t.length>0){var r=0;for(var i=0;i<t.length;i++)t[i].status==a.OPENED&&r++;var s=r+" "+n.OF+" "+t.length+" "+n.VIRGO_RHP_STATUS_VIEWED;this.$participantsStatus.html(s),this.$participantsStatus.attr("title",s)}}},_onFocusIn:function(e){var t=$(e.target);t.attr("tabindex",0)},_onFocusOut:function(e){var t=$(e.target);t.attr("tabindex",-1)},_onKeyDown:function(e){var t=$(e.target),n=e.which,r=!1;if(!(t.closest(".sent-files-activity-accodian")&&t.closest(".sent-files-activity-accodian").length>0))return r;var i=e.shiftKey,o=$(".shared-files-rhp"),u=$(".rhp-activity-info-expanded"),a=$(".rhp-activity-info"),f=!$("#sent-activity-list").hasClass("invisible"),l,c=t.hasClass("snt-rhp-activity-info");o.length==0&&(o=$(".context-board-rhp"));switch(n){case 13:case 32:t.hasClass("rhp-activity-info")&&this._expandActivityInfo(),r=!0;break;case 9:c?i?l=a:l=s.getFocusableDescendantAfter(o,i,!0,":not('.review-participant-detail'):not('.snt-rhp-activity-info')",a):l=s.getNextFocusableDescendant(o,i,!0,":not('.review-participant-detail'):not('.snt-rhp-activity-info')");break;case 38:i=!0;case 40:(c||!i)&&f&&(l=s.getNextFocusableDescendant(u,i,!1,"")),r=!0}return l&&l.length>0&&(r=!0,l.focus()),r}}),e.SentFilesRhpActivityAccodianView}),define("core/dev/templates/rhp/sentfiles/primary-actions-template",[],function(){return'<div class = "sent-rhp-primary-actions rhp-option-item"><div class="shared-rhp-action rhp-actions-item with-margins copy cb-active-text-theme cb-active-background-theme" tabindex="-1"  title="<%= copylink_tooltip %>" aria-label="<%= copylink_aria %>"><div class="shared-rhp-action-icon copy"></div><div class="shared-rhp-action-name"><%= copylink %></div><div id="copy-review-link-coachmark" class="ui-theme theme-tooltip us-coachmark-text"><span class="ui-theme theme-tooltip-text"><%= copy_review_link_coachmark %></span></div></div><div class="shared-rhp-action rhp-actions-item with-margins unshare cb-active-text-theme cb-active-background-theme" id="unshareTooltip" tabindex="-1"  title="<%= unshare_tooltip %>" aria-label="<%= unshare_aria %>"><div class="shared-rhp-action-icon unshare"></div><div class="shared-rhp-action-name"><%= unshare %></div></div><div class="shared-rhp-action rhp-actions-item with-margins download cb-active-text-theme" tabindex="-1"  title="<%= download_parcel_tooltip %>" aria-label="<%= download_parcel_aria %>"><div class="shared-rhp-action-icon download"></div><div class="shared-rhp-action-name"><%= download_parcel %></div></div><div class="shared-rhp-action rhp-actions-item with-margins removeLink cb-active-text-theme cb-active-background-theme" tabindex="-1"  title="<%= remove_link_tooltip %>" aria-label="<%= remove_link_aria %>"><div class="shared-rhp-action-icon removeMe"></div><div class="shared-rhp-action-name"><%= remove_link %></div></div><div id = "rhp-menu-separator-id" class="rhp-menu-separator theme-border"></div><div class="shared-rhp-action rhp-actions-item with-margins save-a-copy cb-active-text-theme cb-active-background-theme" tabindex="-1"  title="<%= save_a_copy_tooltip %>" aria-label="<%= save_a_copy_aria %>"><div class="shared-rhp-action-icon save-a-copy"></div><div class="shared-rhp-action-name"><%= save_a_copy %></div></div><div class="shared-rhp-action rhp-actions-item with-margins delete cb-active-text-theme cb-active-background-theme" tabindex="-1"  title="<%= delete_parcel_tooltip %>" aria-label="<%= delete_parcel_aria %>"><div class="shared-rhp-action-icon delete"></div><div class="shared-rhp-action-name"><%= delete_parcel %></div></div><div class="shared-rhp-action rhp-actions-item with-margins removeFromTracking cb-active-text-theme" tabindex="-1"  title="<%= remove_tracking %>" aria-label="<%= remove_tracking_aria %>"><div class="shared-rhp-action-icon closeParcel"></div><div class="shared-rhp-action-name"><%= remove_tracking %></div></div><div class="shared-rhp-action rhp-actions-item with-margins saveLink cb-active-text-theme" tabindex="-1"  title="<%= save_link_tooltip %>" aria-label="<%= save_link_aria %>"><div class="shared-rhp-action-icon saveLink"></div><div class="shared-rhp-action-name"><%= save_link %></div></div><div class="shared-rhp-action rhp-actions-item with-margins removeUaccepted cb-active-text-theme" tabindex="-1" title="<%= removeUnaccepted %>" aria-label="<%= removeUnaccepted_aria %>"><div class="shared-rhp-action-icon removeUnaccepted"></div><div class="shared-rhp-action-name"><%= removeUnaccepted %></div></div><div class="shared-rhp-action rhp-actions-item with-margins reportAbuse cb-active-text-theme cb-active-background-theme" tabindex="-1"  title="<%= report_abuse_tooltip %>" aria-label="<%= report_abuse_aria %>"><div class="shared-rhp-action-icon reportAbuse"></div><div class="shared-rhp-action-name"><%= report_abuse %></div></div><div class="shared-rhp-action rhp-actions-item with-margins removeFromRecent cb-active-text-theme cb-active-background-theme" tabindex="-1" title="<%= removefromrecent_tooltip %>" aria-label="<%= removefromrecent_aria %>"><div class="shared-rhp-action-icon removeFromRecent"></div><div class="shared-rhp-action-name"><%= removefromrecent %></div></div></div>'}),define("core/dev/views/rhp/sentfiles/primary-actions-view",["core/ac-core","core/templates/rhp/sentfiles/primary-actions-template","i18n!core/nls/ui-strings","core/models/workflow-status-strings","core/utils/util","core/utils/action-ids","core/utils/view-util","core/utils/sc-analytics","core/views/rhp-actions-plugins-view","core/views/selection-action-send-menu-view","core/views/view"],function(e,t,n,r,i,s,o,u){return e.SentFilesRhpPrimaryActionsView=e.View.extend({events:{"click    .shared-rhp-action.share":"_onShareClick","click    .shared-rhp-action.copy":"_onCopySharedLinkClick","click    .shared-rhp-action.unshare":"_onUnshareClick","click    .shared-rhp-action.forward":"_onForwardClick","click    .shared-rhp-action.download":"_onDownloadClick","click    .shared-rhp-action.save-a-copy":"_onDownloadClick","click    .shared-rhp-action.delete":"_onDeleteClick","click    .shared-rhp-action.removeFromTracking":"_onRemoveFromTrackingClick","click    .shared-rhp-action.reportAbuse":"_onReportAbuseClick","click    .shared-rhp-action.saveLink":"_onSaveLinkInDCClick","click    .shared-rhp-action.removeLink":"_onRemoveLinkFromDCClick","click    .shared-rhp-action.removeUaccepted":"_onRemoveUnacceptedClick","click    .shared-rhp-action.removeFromRecent":"_onRemoveFromRecentClick"},initialize:function(){e.View.prototype.initialize.call(this),this._addKeyEventListener(),this._addFocusEventListener()},render:function(){var r=this.options,i=this.$el,s=this.$send,o=this.options.appApi,u=!1;return u=o.isAppUsingAV2UI(),e.View.prototype.render.call(this),i.children().length===0&&(i.html(_.template(t)({share:n.SHARE,copylink:u?n.AV2_COPY_REVIEW_LINK:n.COPYLINK,copylink_aria:n.COPYLINK+", "+n.BUTTON,copylink_tooltip:n.COPY_SHARED_FILE_TOOLTIP,unshare:u?n.AV2_UNSHARE_REVIEW:n.UNSHARE_FILE,unshare_aria:n.UNSHARE_FILE+", "+n.BUTTON,unshare_tooltip:n.UNSHARE_FILE_TOOLTIP,delete_parcel:n.DELETE,delete_parcel_aria:n.DELETE+", "+n.BUTTON,delete_parcel_tooltip:n.DELETE_FILE_VIRGO_TOOLTIP,download_parcel:n.DOWNLOAD,download_parcel_aria:n.DOWNLOAD+", "+n.BUTTON,download_parcel_tooltip:n.DOWNLOAD_FILE_TOOLTIP,save_a_copy:u?n.AV2_SAVE_A_COPY:n.SAVE_A_COPY,save_a_copy_aria:n.SAVE_A_COPY+", "+n.BUTTON,save_a_copy_tooltip:n.SAVE_COPY_TOOLTIP,forward:n.FORWARD,remove_tracking:n.REMOVE,remove_tracking_aria:n.REMOVE+", "+n.BUTTON,report_abuse:u?n.AV2_REPORT_ABUSE:n.REPORT_ABUSE,report_abuse_aria:n.REPORT_ABUSE+", "+n.BUTTON,report_abuse_tooltip:n.REPORT_ABUSE_TOOLTIP,save_link:n.SAVE_LINK_IN_DC,save_link_aria:n.SAVE_LINK_IN_DC+", "+n.BUTTON,save_link_tooltip:n.SAVE_LINK_IN_DC_TOOLTIP,remove_link:u?n.AV2_REMOVE_ME:n.REMOVE_ME,remove_link_aria:n.REMOVE_ME+", "+n.BUTTON,remove_link_tooltip:n.REMOVE_ME_T,removeUnaccepted:n.REMOVE_TODO_CARD,removeUnaccepted_aria:n.REMOVE_TODO_CARD+", "+n.BUTTON,copy_review_link_coachmark:n.COPY_REVIEW_LINK_COACHMARK,removefromrecent:n.REMOVE_FROM_RECENT,removefromrecent_aria:n.REMOVE_FROM_RECENT+", "+n.BUTTON,removefromrecent_tooltip:n.REMOVE_FROM_RECENT_TOOL_TIP})),this._initWrappers()),this._updateAV2Icons(u),this._updateFields(),this},_initWrappers:function(){this.$primaryActionsView=this.$(".sent-rhp-primary-actions"),this.$unshare=this.$(".shared-rhp-action.unshare"),this.$forward=this.$(".shared-rhp-action.forward"),this.$copy=this.$(".shared-rhp-action.copy"),this.$delete=this.$(".shared-rhp-action.delete"),this.$download=this.$(".shared-rhp-action.download"),this.$saveCopy=this.$(".shared-rhp-action.save-a-copy"),this.$removeFromTracking=this.$(".shared-rhp-action.removeFromTracking"),this.$reportAbuse=this.$(".shared-rhp-action.reportAbuse"),this.$saveLink=this.$(".shared-rhp-action.saveLink"),this.$removeLink=this.$(".shared-rhp-action.removeLink"),this.$removeUnaccepted=this.$(".shared-rhp-action.removeUaccepted"),this.$copyReviewLinkCoachmark=this.$("#copy-review-link-coachmark"),this.$menuButtonSeparator=this.$("#rhp-menu-separator-id"),this.$removeFromRecent=this.$(".shared-rhp-action.removeFromRecent"),this.$removeMeIcon=this.$(".shared-rhp-action-icon.removeMe"),this.$reportAbuseIcon=this.$(".shared-rhp-action-icon.reportAbuse"),this.cbViewModel=this.options.cbViewModel,this.options.runningInRHP&&(this.options.selectionUiModel.attributes.selected_item_models=this.cbViewModel.attributes.selected_item_models,this.options.rootView._startListenForViewEvents())},_updateAV2Icons:function(e){e&&(this.$removeMeIcon.removeClass("removeMe"),this.$reportAbuseIcon.removeClass("reportAbuse"),this.$removeMeIcon.addClass("removeMeAV2"),this.$reportAbuseIcon.addClass("reportAbuseAV2"))},_updateActionItemsIfOffline:function(){var e=this.options.appApi.networkConnectivityApi.isOnline();e?(this.$primaryActionsView.removeClass("disabled"),this.$unshare.removeClass("disabled"),this.$forward.removeClass("disabled"),this.$copy.removeClass("disabled"),this.$delete.removeClass("disabled"),this.$download.removeClass("disabled"),this.$saveCopy.removeClass("disabled"),this.$removeFromTracking.removeClass("disabled"),this.$reportAbuse.removeClass("disabled"),this.$saveLink.removeClass("disabled"),this.$removeLink.removeClass("disabled"),this.$removeUnaccepted.removeClass("disabled"),this.$removeFromRecent.removeClass("disabled")):(this.$primaryActionsView.addClass("disabled"),this.$unshare.addClass("disabled"),this.$forward.addClass("disabled"),this.$copy.addClass("disabled"),this.$delete.addClass("disabled"),this.$download.addClass("disabled"),this.$saveCopy.addClass("disabled"),this.$removeFromTracking.addClass("disabled"),this.$reportAbuse.addClass("disabled"),this.$saveLink.addClass("disabled"),this.$removeLink.addClass("disabled"),this.$removeUnaccepted.addClass("disabled"),this.$removeFromRecent.addClass("disabled"))},_updateFields:function(){var e=this.cbViewModel.getSingleSelectedItemModel();this._updateActionItemsIfOffline();if(e){e.get("resources")&&e.get("resources").length>1&&$("#unshareTooltip").attr("title",n.UNSHARE_FILES_TOOLTIP),this.$menuButtonSeparator.hide(),!this.options.isDocView&&(e.getInfo().user_role=="sender"||e.getInfo().user_role=="owned"||e.getInfo().user_role=="creator")&&(this.$menuButtonSeparator.show(),this.$menuButtonSeparator[0]&&this.$menuButtonSeparator[0].style&&(this.$menuButtonSeparator[0].style.marginBottom="8px")),this.$primaryActionsView.show(),this.$unshare.hide(),this.$copy.hide(),this.$delete.hide(),this.$download.hide(),this.$saveCopy.hide(),this.$removeFromTracking.hide(),this.$saveLink.hide(),this.$removeLink.hide(),this.$reportAbuse.hide(),this.$removeUnaccepted.hide(),this.$removeFromRecent.hide();if(this.options.isUnaccepted){this.$removeUnaccepted.show(),this.$reportAbuse.show();return}this.$copy.show(),this.options.isDocView&&this.$saveCopy.show(),e.shouldShowRemoveFromRecent&&this.$removeFromRecent.show();if(e.getInfo().user_role=="sender"||e.getInfo().user_role=="owned"||e.getInfo().user_role=="creator"){if(this.options.isDocView&&e.get("resources")&&e.get("resources").length>1)return;this.options.showRemoveFromTracking?this.$removeFromTracking.show():(this.$unshare.show(),this.options.isDocView||this.$delete.show()),e.getInfo().state==r.UNSHARED_UC&&(this.$copy.hide(),this.$unshare.hide(),this.$menuButtonSeparator.hide())}else{this.$reportAbuse.show();if(this.options.isDocView&&e.get("resources")&&e.get("resources").length>1)return;this.options.showRemoveFromTracking&&this.$removeFromTracking.show();if(e.getInfo().is_consented){var t=this.options.appApi.usersMeApi.options.usersMeIdentityModel;if(e.attributes.aep_workflow_info&&e.attributes.aep_workflow_info.collaborators){var i=e.attributes.aep_workflow_info.collaborators;for(var s=0;i&&s<i.length;s++){var o=i[s];if(t.get("user_id")&&(o.adobe_id&&o.adobe_id.toLowerCase()==t.get("user_id").toLowerCase()||o.collaboratorId&&o.collaboratorId.toLowerCase()==t.get("user_id").toLowerCase()||t.get("email")&&t.get("email").toLowerCase()==o.email.toLowerCase())){this.$removeLink.show();break}}}}else this.$saveLink.show()}}else this.$primaryActionsView.hide()},_logCTAEvent:function(e){this.options.appApi.siteCatalystApi.logVirgoCTAEvent(u.VIRGO_SENDTRACK_CB,e,!0,this.options.isDocView)},_onShareClick:function(){if(this.options.appApi.networkConnectivityApi.isOnline())var e=this.cbViewModel},_onGenerateClick:function(t){if(!t)return;var r=t.attributes.aep_workflow_info,i=r&&r.id?r.id:"",s=i!=""?i:t.attributes.asset_id,o=[];o.push("PARCEL_PUBLIC_SHARING");if(o.length>0){if(s)var u=e.opFactory.create("ReviewAddParticipantOp",_.extend(this.options)).run({parcelID:s,emails:o});u.then(_.bind(function(e){this.response=e;var t=this.options,r=e.invitations[0].preview_url,i=n.COPIED_STRING;_.isUndefined(this.options.appApi.rnaApiObj._clipboardAPI)||(this.options.appApi.rnaApiObj._clipboardAPI.invoke("writeClipboardData",{text:r,shouldIgnore:!1}),this.options.rootView._showToastForCopyShareLink(i),this.options.rootView._sendDataModelRefreshCommand("addParticipant",""),this.options.appApi.rnaApi.done(function(e){e.logPerformance("CopySharedLink","end")}))},this),_.bind(function(e){var t=n.COPY_SHARED_LINK_FAILED_GENERIC;e&&e.errorCode&&e.errorCode==="SharingRestrictions"&&(t=n.COPY_SHARED_LINK_FAILED_SHARING_RESTRICTION),this.options.rootView._showCustomizeToastForCopyShareLink({argsString:t,hideIcon:!0,fadeTimeout:5e3}),this.options.appApi.rnaApi.done(function(e){e.logPerformance("CopySharedLink","end")})},this))}},_handleCopySharedLinkCoachMarkVisibility:function(){var e=this.cbViewModel.getSingleSelectedItemModel(),t=this.options.appApi.usersMeApi.options.usersMeIdentityModel;if(!e||!e.attributes||!e.attributes.creator){this.$copyReviewLinkCoachmark.css("visibility","hidden");return}var n=e.attributes.creator.email,r=!1;n&&t.get("email")&&n.toLowerCase()==t.get("email").toLowerCase()&&(r=!0),r?this.$copyReviewLinkCoachmark.css("visibility","hidden"):(this.$copyReviewLinkCoachmark.css("visibility","hidden"),this.$copyReviewLinkCoachmark.css("visibility","visible"),this.timer!=undefined&&clearTimeout(this.timer),this.timer=_.delay(_.bind(function(){this.$copyReviewLinkCoachmark.css("visibility","hidden"),this.timer=undefined},this),4e3))},_onCopySharedLinkClick:function(){if(this.options.appApi.networkConnectivityApi.isOnline()){this.options.appApi.rnaApi.done(function(e){e.logPerformance("CopySharedLink","start")});var e=this.cbViewModel.getSingleSelectedItemModel(),t=e.attributes.aep_workflow_info.isReceivedFile;if(t){var r=e.getPreviewUrl();_.isUndefined(this.options.appApi.rnaApiObj._clipboardAPI)||this.options.appApi.rnaApiObj._clipboardAPI.invoke("writeClipboardData",{text:r,shouldIgnore:!1}),this.options.rootView._showToastForCopyShareLink(n.COPIED_STRING),this.options.appApi.rnaApi.done(function(e){e.logPerformance("CopySharedLink","end")})}else this._onGenerateClick(e);var i="",s=e.getOriginalShared();!_.isUndefined(s)&&s&&(i=u.VIRGO_ORIGINAL_SHARE),this._logCTAEvent(u.VIRGO_CTA_SHARE_LINK+i)}},_onUnshareClick:function(){this.options.appApi.rnaApi.done(function(e){e.logPerformance("UnshareFile","start")});if(this.options.appApi.networkConnectivityApi.isOnline()){var e=this.cbViewModel;this.options.rootView._onUnshareClickAction();var t="";if(!_.isUndefined(e)){var n=e.getSingleSelectedItemModel().getOriginalShared();!_.isUndefined(n)&&n&&(t=u.VIRGO_ORIGINAL_SHARE)}this._logCTAEvent(u.VIRGO_CTA_UNSHARE+t)}},_onHistoryClick:function(){if(this.options.appApi.networkConnectivityApi.isOnline()){var e=this.cbViewModel;this.options.rootView._onActivityBtnClick(),this._logCTAEvent(u.VIRGO_CTA_ACTIVITY)}},_onForwardClick:function(){if(this.options.appApi.networkConnectivityApi.isOnline())var e=this.cbViewModel},_onDownloadClick:function(){if(this.options.appApi.networkConnectivityApi.isOnline()){var e=this.cbViewModel.getSingleSelectedItemModel();this.options.appApi.rnaApi.done(function(e){e.assetApi({methodName:"saveSNTFile",methodArgs:[]})}),this._logCTAEvent("DownloadFile")}},_onDeleteClick:function(){if(this.options.appApi.networkConnectivityApi.isOnline()){var e=this.cbViewModel;this.options.rootView._onDeleteClickAction();var t="";if(!_.isUndefined(e)){var n=e.getSingleSelectedItemModel().getOriginalShared();!_.isUndefined(n)&&n&&(t=u.VIRGO_ORIGINAL_SHARE)}this._logCTAEvent(u.VIRGO_CTA_DELETE+t)}},_onRemoveFromTrackingClick:function(){if(this.options.appApi.networkConnectivityApi.isOnline()){var e=this.cbViewModel,t=this.cbViewModel.getSingleSelectedItemModel(),n=t.attributes.participants[0].id;this.options.appApi.rnaApi.done(_.bind(function(e){e.fileApi({methodName:"removeTrackingTile",methodArgs:[r.SEND_TRACK,n]}).done(_.bind(function(){},this))},this)),this._logCTAEvent(u.VIRGO_CTA_REMOVE_TRACK)}},_onReportAbuseClick:function(){this.options.appApi.networkConnectivityApi.isOnline()&&(this.options.rootView._onReportAbuseClickAction(),this._logCTAEvent(u.VIRGO_CTA_REPORT_ABUSE))},_onSaveLinkInDCClick:function(){this.options.appApi.networkConnectivityApi.isOnline()&&(this.options.rootView._onSaveLinkToDCClickAction(),this._logCTAEvent(u.VIRGO_CTA_SAVE_DC))},_onRemoveLinkFromDCClick:function(){this.options.appApi.rnaApi.done(function(e){e.logPerformance("RemoveMe","start")}),this.options.appApi.networkConnectivityApi.isOnline()&&(this.options.rootView._onRemoveLinkFromDCClickAction(),this._logCTAEvent(u.VIRGO_CTA_REMOVE_DC))},_onRemoveFromRecentClick:function(){this.options.appApi.networkConnectivityApi.isOnline()&&this.options.rootView.__onRemoveFromRecentClickAction(this.options)},_onRemoveUnacceptedClick:function(){if(this.options.appApi.networkConnectivityApi.isOnline()){var e={},t=this.cbViewModel.getSingleSelectedItemModel();e.notificationId=t.get("notificationId"),e.invitationId=t.getInvitationId(),e.workflowType="snt",this.options.appApi.rnaApi.done(_.bind(function(t){t.stApi.expireNotificationAPI(e)},this))}},_onFocusIn:function(e){var t=$(e.target);t.attr("tabindex",0)},_onFocusOut:function(e){var t=$(e.target);t.attr("tabindex",-1)},_onKeyDown:function(e){var t=$(e.target),n=e.which,r=!1,i=$.Event("click");if(!t.hasClass("shared-rhp-action"))return r;var s=n===38,u=$(".shared-files-rhp"),a;u.length==0&&(u=$(".context-board-rhp"));switch(n){case 13:case 32:r=t.trigger(i),r=!0;break;case 9:case 38:case 40:a=o.getNextFocusableDescendant(u,s,!0,":not('.review-participant-detail'):not('.snt-rhp-activity-info')")}return a&&a.length>0&&(r=!0,a.focus()),r}}),e.SentFilesRhpPrimaryActionsView}),define("core/dev/templates/rhp/sentfiles/secondary-actions-template",[],function(){return'<div class="sent-rhp-secondary-actions rhp-option-item"><div class="shared-rhp-action rhp-actions-item with-margins download"><div class="shared-rhp-action-icon download"></div><div class="shared-rhp-action-name cb-active-text-theme">Download</div></div><div class="shared-rhp-action rhp-actions-item with-margins delete"><div class="shared-rhp-action-icon delete"></div><div class="shared-rhp-action-name cb-active-text-theme">Delete</div></div></div>'}),define("core/dev/views/rhp/sentfiles/secondary-actions-view",["core/ac-core","core/templates/rhp/sentfiles/secondary-actions-template","i18n!core/nls/ui-strings","core/utils/util","core/utils/action-ids","core/utils/view-util","core/utils/sc-analytics","core/views/rhp-actions-plugins-view","core/views/selection-action-send-menu-view","core/views/view"],function(e,t,n,r,i,s,o){return e.SentFilesRhpSecondaryActionsView=e.View.extend({events:{"click    .shared-rhp-action.download":"_onDownloadClick","click    .shared-rhp-action.delete":"_onDeleteClick"},initialize:function(){e.View.prototype.initialize.call(this),this._addKeyEventListener(),this._addFocusEventListener()},render:function(){var n=this.options,r=this.$el,i=this.$send;return e.View.prototype.render.call(this),r.children().length===0&&(r.html(_.template(t)),this._initWrappers()),this},_initWrappers:function(){this.cbViewModel=this.options.cbViewModel,this.options.runningInRHP&&(this.options.selectionUiModel.attributes.selected_item_models=this.cbViewModel.attributes.selected_item_models,this.options.rootView._startListenForViewEvents())},_onDownloadClick:function(){var e=this.cbViewModel;this.options.rootView._onDownloadClickAction(),this.options.appApi.siteCatalystApi.logVirgoCTAEvent(o.VIRGO_SENDTRACK_CB,o.VIRGO_CTA_DOWNLOAD_ALL,!0,this.options.isDocView)},_onDeleteClick:function(){var e=this.cbViewModel;this.options.rootView._onDeleteClickAction(),this.options.appApi.siteCatalystApi.logVirgoCTAEvent(o.VIRGO_SENDTRACK_CB,o.VIRGO_CTA_DELETE,!0,this.options.isDocView)}}),e.SentFilesRhpSecondaryActionsView}),define("core/dev/templates/rhp/signature/cancel-workflow-accodian-template",[],function(){return'<div class="sign-cancel-workflow rhp-option-item theme-list-item-text"><div class="rhp-cancel-workflow rhp-accodian rhp-actions-item cb-active-text-theme" tabindex="-1" title="<%= cancel_label %>" aria-label="<%= cancel_label %>"><div class="rhp-cancel-workflow-label rhp-accodian-label-no-icon"><%= cancel %></div><div class ="rhp-expand-cancel-workflow rhp-expand-accodian"></div></div><div class="rhp-cancel-workflow-expanded invisible"></div><div class="rhp-menu-separator theme-border"/></div>'}),define("core/dev/templates/rhp/signature/cancel-workflow-action-template",[],function(){return'<div class="cancel-workflow-manage" <form name="cancelForm">   <div id="cancel-form">    <div class="clear"></div>    <div class="cancel-note-wrapper">        <textarea id="cancel-note" class="theme-text theme-input-box" placeholder="<%=cancelTextNoteString%>" tabindex="-1"></textarea>    </div>    <div class="notify-cancel" title="<%=notifyCancelParticipants%>">        <div class="cancel-styled-checkbox list-item-checkbox selected" id="styled-checkbox-notify" tabindex="-1" aria-label="<%=notifyCancelParticipants%>"                role="checkbox" aria-checked="true">    </div>            <div class = "cancel-recipients">                    <%=notifyCancelParticipants%></div>    <button class="cancel-button control-button button-grey alert-button" tabindex="-1" aria-label="<%=cancelAgreement%>" title="<%=cancelAgreement%>">        <span id="cancel-agreement"><%=cancelAgreement%><span>    </button>    <button class="open-template-button" tabindex="-1" aria-label="<%=openTemplateAgreement%>" title="<%=openTemplateAgreement%>">        <span id="open-template"><%=openTemplateAgreement%><span>    </button>   </div> </form></div>'}),define("core/dev/views/rhp/signature/cancel-workflow-action-view",["core/ac-core","core/templates/rhp/signature/cancel-workflow-action-template","i18n!core/nls/ui-strings","core/utils/util","core/utils/date-util","core/utils/view-util","core/utils/truncate","core/utils/css-util","core/models/workflow-status-strings","core/utils/sc-analytics","core/views/view"],function(e,t,n,r,i,s,o,u,a,f){return e.SignatureRhpCancelActionView=e.View.extend({events:{"click    .cancel-styled-checkbox":"_onclickCheckbox","click    .cancel-recipients":"_onclickCheckbox","click    .cancel-button":"_onclickCancelWorkflow","click    .open-template-button":"_openSelectedItem"},initialize:function(){e.View.prototype.initialize.call(this),this._addKeyEventListener(),this._addFocusEventListener()},render:function(){var r=this.$el,i=this.options.appApi,s=!1;s=i.isAppUsingAV2UI(),e.View.prototype.render.call(this);var o=this.options.cbViewModel.getSingleSelectedItemModel();this.options.agreementState=o.get("signature_info").state;if(r.children().length===0){var u=n.CANCEL_NOTIFY,f=s?n.AV2_CANCEL_AGREEMENT:n.CANCEL_AGREEMENT;this.options.agreementState==a.DRAFT?f=n.CANCEL:this.options.agreementState==a.LIBRARY_TEMPLATE&&(f=n.AV2_USE_TEMPLATE,u=n.AV2_USE_TEMPLATE),r.html(_.template(t)({cancelTextNoteString:n.CANCEL_AGREEMENT_PLACEHOLDER,cancelAgreement:f,openTemplateAgreement:f,notifyCancelParticipants:u})),this.options.agreementState==a.LIBRARY_TEMPLATE?($(".cancel-button").hide(),$(".open-template-button").show()):($(".cancel-button").show(),$(".open-template-button").hide()),this._initWrappers()}return this._updateFields(),this},_initWrappers:function(){this.$cancelNote=this.$("#cancel-note"),this.$cancelAgreementButton=this.$(".cancel-button"),this.$checkboxNotify=this.$(".cancel-styled-checkbox"),this.$checkboxSelected=!1},_updateFields:function(){this.$checkboxNotify.addClass("selected"),this.$cancelNote.val(""),this.$cancelNote.attr("placeholder",n.CANCEL_AGREEMENT_PLACEHOLDER)},_onclickCheckbox:function(){this.$checkboxNotify.toggleClass("selected"),this.$checkboxNotify.attr("aria-checked")==="true"?this.$checkboxNotify.attr("aria-checked","false"):this.$checkboxNotify.attr("aria-checked","true")},_openSelectedItem:function(){var e=this.options.cbViewModel.getSingleSelectedItemModel(),t=e.get("resources")[0].id;const n=[];n.push("LIBRARY_TEMPLATE"),n.push(t),this.options.appApi.rnaApi.then(_.bind(function(e){e.rnaSignWorkflowServicesAPI.invokeMethod({methodName:"openSignTemplateFile",methodArgs:n})}))},_discardSelectedItem:function(){this.options.appApi.rnaApi.done(_.bind(function(e){var t=this.options.cbViewModel.getSingleSelectedItemModel(),n=t.get("signature_info").wf_rsdraft_filepath,r=t.get("signature_info").wf_rsdraft_filesys;e.rnaSignWorkflowServicesAPI.discardAgreement(r,n).then(_.bind(function(e){$(".signatures-files-header").removeClass("with-rhp"),$(".signatures-files-body").removeClass("with-rhp"),$(".sent-files-rhp").addClass("hidden"),this.options.collectionsUiModel.set("rhpShown",!1);var n="fullItem-"+t.id,r="#"+n;$(r).hide()},this)).fail(_.bind(function(e){},this))},this))},_onclickCancelWorkflow:function(){if(this.options.agreementState===a.DRAFT){this._discardSelectedItem();return}if(this.options.agreementState===a.LIBRARY_TEMPLATE){this._openSelectedItem();return}this.options.argumentsCancel={};var e=this.options.options;this.options.argumentsCancel.agreementID=e.agreementID,this.options.argumentsCancel.notifySigners=!1,this.options.argumentsCancel.notifyText=this.$cancelNote.val(),this.$checkboxNotify.hasClass("selected")&&(this.options.argumentsCancel.notifySigners=!0);var t=[f.SIGN_CANCEL_API_CALLED,f.CLICKED];this.options.appApi.siteCatalystApi.logVirgoCTAEvent(f.VIRGO_SIGN_CB,f.VIRGO_CTA_CANCEL_WORKFLOW,!0,this.options.isDocView),this.options.isCBView&&t.push(f.SIGN_EVENT_FROM_DOC_VIEW),this.options.appApi.siteCatalystApi.logScEvent(t),this.options.argumentsCancel.cancelString=n.CANCEL_SUCCESSFUL,$(".sent-files-rhp,.context-board-view").addClass("cursor-wait"),this.options.appApi.pluginsApi.callPluginMethod(this.options.pluginId,"sendCancelAgreement",this.options.argumentsCancel,this._getResolvedPromise(),!0);var r=this.$el;r.removeClass("cancel-shown"),r.addClass("invisible");var i=r.parent().find(".rhp-expand-accodian");i!=undefined&&i.removeClass("rotated")},_onFocusIn:function(e){var t=$(e.target);t.attr("tabindex",0)},_onFocusOut:function(e){var t=$(e.target);t.attr("tabindex",-1)},_onKeyDown:function(e){var t=$(e.target),n=e.which,r=!1;if(!(t.closest(".rhp-cancel-workflow-accodian")&&t.closest(".rhp-cancel-workflow-accodian").length>0))return r;var i=e.shiftKey,o=$(".sent-files-rhp"),u;o.length==0&&(o=$(".context-board-rhp"));switch(n){case 13:case 32:t.hasClass("cancel-button")?(this._onclickCancelWorkflow(),u=$(".rhp-cancel-workflow"),r=!0):t.hasClass("cancel-styled-checkbox")&&(this._onclickCheckbox(),r=!0);break;case 9:u=s.getNextFocusableDescendant(o,i,!0,":not('.rhp-participant-detail')");break;case 38:case 40:r=!0}return u&&u.length>0&&(r=!0,u.focus(),s.suppressFocusEventHandler(e)),r&&this._consumeEvent(e),r}}),e.SignatureRhpCancelActionView}),define("core/dev/views/rhp/signature/cancel-workflow-accodian-view",["core/ac-core","core/templates/rhp/signature/cancel-workflow-accodian-template","i18n!core/nls/ui-strings","core/utils/util","core/utils/date-util","core/utils/view-util","core/utils/truncate","core/utils/css-util","core/models/workflow-status-strings","core/utils/sc-analytics","core/views/rhp/signature/cancel-workflow-action-view","core/views/view"],function(e,t,n,r,i,s,o,u,a,f){return e.SignatureRhpCancelWorkflowAccodianView=e.View.extend({events:{"click    .rhp-cancel-workflow":"_expandCancelWorkflow"},initialize:function(){e.View.prototype.initialize.call(this),this._addKeyEventListener(),this._addFocusEventListener()},render:function(){var r=this.$el;e.View.prototype.render.call(this);var i=this.options.appApi,s=!1;return s=i.isAppUsingAV2UI(),r.children().length===0&&(r.html(_.template(t)({cancel:s?n.AV2_CANCEL_AGREEMENT:n.CANCEL_AGREEMENT,cancel_label:n.RHP_CANCEL_TOOLTIP})),this._initWrappers()),this._updateFields(),this},_initWrappers:function(){this.$cancelWorkflowSubView=this.$(".rhp-cancel-workflow-expanded"),this.$expandCancelWorkflow=this.$(".rhp-expand-cancel-workflow"),this.$cancelWFView=this.$(".sign-cancel-workflow"),this.cbViewModel=this.options.cbViewModel},_expandCancelWorkflow:function(){if(this.$cancelWorkflowSubView.hasClass("invisible")){this.$cancelWorkflowSubView.removeClass("invisible"),this.$expandCancelWorkflow.addClass("rotated");var t=this.cbViewModel.getSingleSelectedItemModel();t&&(this.$agreementID=t.getSignAgreementID());if(this.$agreementID!=undefined){var n=[f.SIGN_CANCEL_TAB_OPENED,f.CLICKED];this.options.appApi.siteCatalystApi.logVirgoCTAEvent(f.VIRGO_SIGN_CB,f.VIRGO_CTA_CANCEL_WORKFLOW_EXPAND,!0,this.options.isDocView),this.options.isCBView&&n.push(f.SIGN_EVENT_FROM_DOC_VIEW),this.options.appApi.siteCatalystApi.logScEvent(n),this.$cancelWorkflowSubView.toggleClass("cancel-shown"),this.options.agreementID=this.$agreementID,this._renderChildView("_cancelView",e.SignatureRhpCancelActionView,this.$cancelWorkflowSubView,{options:this.options})}}else this.$cancelWorkflowSubView.addClass("invisible"),this.$cancelWorkflowSubView.toggleClass("cancel-shown"),this.$expandCancelWorkflow.removeClass("rotated")},_updateFields:function(){this.$cancelWorkflowSubView.addClass("invisible"),this.$cancelWorkflowSubView.toggleClass("cancel-shown"),this.$expandCancelWorkflow.removeClass("rotated");var e=this.cbViewModel.getSingleSelectedItemModel(),t=this.cbViewModel.getNumSelectedItems();if(e){var n=e.get("signature_info").state;if(n==a.SIGNED||n==a.APPROVED||n==a.DELIVERED||n==a.ACCEPTED||n==a.FORM_FILLED||n==a.WAITING_FOR_AUTHORING||n==a.COMPLETED||n==a.CANCELLED||n==a.EXPIRED||n==a.ARCHIVED){this.$cancelWFView.hide();return}if(n==a.DRAFT||n==a.LIBRARY_TEMPLATE){this.$cancelWFView.show(),this._expandCancelWorkflow(),$(".rhp-cancel-workflow").hide(),$(".cancel-note-wrapper").hide(),$(".cancel-recipients").hide(),$(".cancel-styled-checkbox").hide();return}this.$cancelWFView.show();var r=this.options.appApi.usersMeApi.options.usersMeIdentityModel;e.getSenderEmail()==r.get("email")?this.$cancelWFView.show():this.$cancelWFView.hide()}else this.$cancelWFView.hide()},_onFocusIn:function(e){var t=$(e.target);t.attr("tabindex",0)},_onFocusOut:function(e){var t=$(e.target);t.attr("tabindex",-1)},_onKeyDown:function(e){var t=$(e.target),n=e.which,r=!1;if(!(t.closest(".rhp-cancel-workflow-accodian")&&t.closest(".rhp-cancel-workflow-accodian").length>0))return r;var i=e.shiftKey,o=$(".sent-files-rhp"),u;o.length==0&&(o=$(".context-board-rhp"));switch(n){case 13:case 32:t.hasClass("rhp-cancel-workflow")&&(this._expandCancelWorkflow(),r=!0);break;case 9:u=s.getNextFocusableDescendant(o,i,!0,":not('.rhp-participant-detail'):not('.sign-rhp-activity-info')");break;case 38:case 40:r=!0}return u&&u.length>0&&(r=!0,u.focus()),r}}),e.SignatureRhpCancelWorkflowAccodianView}),define("core/dev/templates/rhp/signature/reminders-accodian-template",[],function(){return'<div class="sign-reminders-info rhp-option-item"><div class="rhp-reminders-info rhp-accodian rhp-actions-item cb-active-text-theme" role="row" tabindex="-1" title="<%= reminders_label %>" aria-label="<%= reminders_label %>"><div class="rhp-reminders-info-label rhp-accodian-label-no-icon"><%= reminders %></div><div class ="rhp-expand-reminders-info rhp-expand-accodian"></div></div><div class="rhp-reminders-info-expanded invisible"><div class ="remind-participants-action"></div></div> <div class="rhp-menu-separator theme-border"/></div>'}),define("core/dev/templates/rhp/signature/remind-participants-action-template",[],function(){return'<div class="remind-participants-manage theme-list-item-text" id="remind" <form name="remindForm" id="reminder-form" action="#">   <div id="remind-form">    <div class="clear"></div>    <div class="reminder-caption">        <%=remindCaptionString%></br>    </div>    <div id="remind-participants">    <div class="remind-options"></div>    </div>    <div class="reminder-note-wrapper">        <textarea id="reminder-note" class="theme-text theme-input-box" placeholder="<%=remindTextNoteStringInitial%>" tabindex="-1"></textarea>    </div>    <button class="send-reminder control-button button-grey theme-text"  tabindex="-1" aria-label="<%=remindSend%>" title="<%=remindSend%>">        <span id="create-reminder"><%=remindSend%><span>    </button>   </div> </form></div>'}),define("core/dev/views/rhp/signature/remind-participants-action-view",["core/ac-core","core/templates/rhp/signature/remind-participants-action-template","i18n!core/nls/ui-strings","core/utils/util","core/utils/date-util","core/utils/view-util","core/utils/truncate","core/models/workflow-status-strings","core/utils/sc-analytics","core/utils/css-util","core/ops/op","core/views/view"],function(e,t,n,r,i,s,o,u,a){return e.RemindParticipants=e.View.extend({events:{"click .send-reminder":"_onSendReminder"},_initWrappers:function(){this.$remindForm=this.$(".remindForm"),this.$reminderNote=this.$("#reminder-note"),this.$sendReminderButton=this.$(".send-reminder"),this.$participantSelected=this.$("#remind-participants"),this.cbViewModel=this.options.cbViewModel},_updateTooltips:function(){},initialize:function(){e.View.prototype.initialize.call(this),this._addKeyEventListener(),this._addFocusEventListener()},render:function(){var r=this.options.options,i=this.$el;e.View.prototype.render.call(this),this.nextParticipantSets=r.participantsResponse.nextParticipantSets;var s="",o=!0;this.nextParticipantSets.length===1?s=n.REMIND_CAPTION_NEXT:(s=n.REMIND_CAPTION_ALL,o=!1);var u="",a=r.model;a&&(this.options.agreementID=a.getSignAgreementID(),u=a.getSingleFileName()),i.html(_.template(t)({remindCaptionString:s,remindTextNoteStringInitial:n.REMIND_PLACEHOLDER_NOTE_GENERIC,remindSend:n.SEND}));if(o&&this.nextParticipantSets[0]!=undefined&&this.nextParticipantSets[0].memberInfos[0]!=undefined){var f=this.nextParticipantSets[0].memberInfos[0].email;if(f!=undefined){var l=i.find("#remind-participants"),c;c=$("<div class='remind-participant-list'>"+f+"</div>"),l.append(c)}}return this._initWrappers(),this},_onSendReminder:function(){var e=[a.SIGN_REMIND_API_CALLED,a.CLICKED];this.options.isCBView&&e.push(a.SIGN_EVENT_FROM_DOC_VIEW),this.options.appApi.siteCatalystApi.logScEvent(e),this.options.appApi.siteCatalystApi.logVirgoCTAEvent(a.VIRGO_SIGN_CB,a.VIRGO_CTA_SEND_REMINDER,!0,this.options.isDocView),$(".sent-files-rhp,.context-board-view").addClass("cursor-wait"),this.options.appApi.rnaApi.done(_.bind(function(e){if(e.rnaSignWorkflowServicesAPI.isSignV10Enabled()){var t={},r;t.agreementID=this.options.agreementID,t.reminderNote=$(this.$reminderNote).val();var i=_.map(this.nextParticipantSets,function(e){return _.map(e.memberInfos,function(e){return e.id})});t.participantIDs=Array.prototype.concat.apply([],i),r=this.options.appApi.pluginsApi.callPluginMethod("signatures","sendReminder",t,this._getResolvedPromise(),!0),r.then(_.bind(function(){$(".sent-files-rhp,.context-board-view").removeClass("cursor-wait");var e=n.REMINDER_SENT_SUCCESSFUL;this.options.appApi.pluginsApi.callPluginMethod("signatures","showToastForAction",e,this._getResolvedPromise(),!0)},this),_.bind(function(e){this.options.postReminderResponseFetchHttpCode=e.httpRespCode,this.options.postReminderResponseFetchRespBody=e.httpRespBody,$(".sent-files-rhp,.context-board-view").removeClass("cursor-wait")},this))}else{var s=[];for(var o=0;o<this.$nextParticipantSetLen;o++){var u={};u.agreementID=this.options.agreementID,u.reminderNote=$(this.$reminderNote).val(),u.participantID=this.$nextParticipantInfo[o].id,s[o]=this.options.appApi.pluginsApi.callPluginMethod("signatures","sendReminder",u,this._getResolvedPromise(),!0)}Promise.all(s).then(_.bind(function(){$(".sent-files-rhp,.context-board-view").removeClass("cursor-wait");var e=n.REMINDER_SENT_SUCCESSFUL;this.options.appApi.pluginsApi.callPluginMethod("signatures","showToastForAction",e,this._getResolvedPromise(),!0)},this),_.bind(function(e){this.options.postReminderResponseFetchHttpCode=e.httpRespCode,this.options.postReminderResponseFetchRespBody=e.httpRespBody,$(".sent-files-rhp,.context-board-view").removeClass("cursor-wait")},this))}},this));var t=this.$el;t.removeClass("reminders-shown");var r=t.parent();t.parent().removeClass("visible"),t.parent().addClass("invisible");var i=r.parent();if(i!=undefined){var s=i.find(".rhp-expand-accodian");s&&s.toggleClass("rotated")}},_onFocusIn:function(e){var t=$(e.target);t.attr("tabindex",0)},_onFocusOut:function(e){var t=$(e.target);t.attr("tabindex",-1)},_onKeyDown:function(e){var t=$(e.target),n=e.which,r=!1;if(!(t.closest(".rhp-reminders-info-expanded")&&t.closest(".rhp-reminders-info-expanded").length>0))return r;var i=e.shiftKey,o=$(".sent-files-rhp"),u;o.length==0&&(o=$(".context-board-rhp"));switch(n){case 13:case 32:t.hasClass("send-reminder")&&(this._onSendReminder(),u=$(".rhp-reminders-info"),r=!0);break;case 9:u=s.getNextFocusableDescendant(o,i,!0,":not('.rhp-participant-detail'):not('.sign-rhp-activity-info')");break;case 38:case 40:r=!0}return u&&u.length>0&&(r=!0,u.focus(),s.suppressFocusEventHandler(e)),r&&this._consumeEvent(e),r}}),e.RemindParticipants}),define("core/dev/views/rhp/signature/reminders-accodian-view",["core/ac-core","core/templates/rhp/signature/reminders-accodian-template","i18n!core/nls/ui-strings","core/utils/util","core/utils/date-util","core/utils/view-util","core/utils/truncate","core/utils/css-util","core/models/workflow-status-strings","core/utils/sc-analytics","core/views/rhp/signature/remind-participants-action-view","core/views/view"],function(e,t,n,r,i,s,o,u,a,f){return e.SignatureRhpRemindersAccodianView=e.View.extend({events:{"click    .rhp-reminders-info":"_expandRemindersInfo"},initialize:function(){e.View.prototype.initialize.call(this),this._addKeyEventListener(),this._addFocusEventListener()},render:function(){var r=this.$el;return e.View.prototype.render.call(this),r.children().length===0&&(r.html(_.template(t)({reminders:n.REMINDERS,reminders_label:n.RHP_REMINDER_TOOLTIP})),this._initWrappers()),this._updateFields(),this},_initWrappers:function(){this.$remindersInfo=this.$(".rhp-reminders-info-expanded"),this.$expandReminderInfo=this.$(".rhp-expand-reminders-info"),this.$reminderCTA=this.$(".remind-participants-action"),this.$reminderView=this.$(".sign-reminders-info"),this.cbViewModel=this.options.cbViewModel},_expandRemindersInfo:function(){if(this.$remindersInfo.hasClass("invisible")){var t=this.cbViewModel.getSingleSelectedItemModel(),n=this.cbViewModel.getNumSelectedItems();t&&(this.$agreementID=t.getSignAgreementID(),this.$documentName=t.getSingleFileName()),$(".sent-files-rhp,.context-board-view").addClass("cursor-wait");var r=[f.SIGN_REMIND_TAB_OPENED,f.CLICKED];this.options.isCBView&&r.push(f.SIGN_EVENT_FROM_DOC_VIEW),this.options.appApi.siteCatalystApi.logScEvent(r),this.options.appApi.pluginsApi.callPluginMethod("signatures","getNextParticipantSetList",this.$agreementID,this._getResolvedPromise(),!0).then(_.bind(function(n){this.options.participantsResponse=n,this.options.model=t,this.$reminderCTA.addClass("reminders-shown"),this.$remindersInfo.removeClass("invisible"),this.$expandReminderInfo.addClass("rotated"),this.$remindersInfo.addClass("visible"),$(".sent-files-rhp,.context-board-view").removeClass("cursor-wait"),this._renderChildView("_remindView",e.RemindParticipants,this.$reminderCTA,{options:this.options})},this),_.bind(function(e){this.options.getParticipantListResponseFetchHttpCode=e.httpRespCode,this.options.getParticipantListResponseFetchRespBody=e.httpRespBody,$(".sent-files-rhp,.context-board-view").removeClass("cursor-wait"),console.log("failure")},this))}else this.$reminderCTA.removeClass("reminders-shown"),this.$remindersInfo.removeClass("visible"),this.$remindersInfo.addClass("invisible"),this.$expandReminderInfo.removeClass("rotated")},_updateFields:function(){var e=this.cbViewModel.getSingleSelectedItemModel(),t=this.cbViewModel.getNumSelectedItems();if(e){var n=e.get("signature_info").state;if(n==a.SIGNED||n==a.APPROVED||n==a.DELIVERED||n==a.ACCEPTED||n==a.FORM_FILLED||n==a.WAITING_FOR_AUTHORING||n==a.COMPLETED||n==a.CANCELLED||n==a.EXPIRED||n==a.DRAFT||n==a.ARCHIVED){this.$reminderView.hide();return}this.$reminderView.show();var r=this.options.appApi.usersMeApi.options.usersMeIdentityModel;e.getSenderEmail()==r.get("email")?this.$reminderView.show():this.$reminderView.hide(),this.$reminderCTA.removeClass("reminders-shown"),this.$remindersInfo.removeClass("visible"),this.$remindersInfo.addClass("invisible"),this.$expandReminderInfo.removeClass("rotated")}else this.$reminderView.hide()},_onFocusIn:function(e){var t=$(e.target);t.attr("tabindex",0)},_onFocusOut:function(e){var t=$(e.target);t.attr("tabindex",-1)},_onKeyDown:function(e){var t=$(e.target),n=e.which,r=!1;if(!(t.closest(".rhp-reminders-accodian")&&t.closest(".rhp-reminders-accodian").length>0))return r;var i=e.shiftKey,o=$(".sent-files-rhp"),u;o.length==0&&(o=$(".context-board-rhp"));switch(n){case 13:case 32:t.hasClass("rhp-reminders-info")&&(this._expandRemindersInfo(),r=!0);break;case 9:u=s.getNextFocusableDescendant(o,i,!0,":not('.rhp-participant-detail')");break;case 38:case 40:r=!0}return u&&u.length>0&&(r=!0,u.focus()),r}}),e.SignatureRhpRemindersAccodianView}),define("core/dev/templates/rhp/signature/participants-accodian-template",[],function(){return'<div class="sign-participants-view rhp-option-item"><div class="rhp-participants-overall-status rhp-accodian rhp-actions-item cb-active-text-theme" tabindex="-1"><div class="rhp-participants-status rhp-accodian-label-with-avatar" title="<%= status_label %>"></div><div class ="rhp-expand-participants rhp-expand-accodian"></div></div><div class="rhp-participants-expanded invisible"><div class="rhp-invite-participants invisible"><div class="rhp-invite-participants-icon">+</div><div class="rhp-invite-participants-label theme-list-item-text">Invite</div></div><div class="rhp-participants-info"></div></div> <div class="rhp-menu-separator theme-border"/></div>'}),define("core/dev/templates/rhp/signature/participant-status-template",[],function(){return'<div class="rhp-participant-detail" role="row" aria-label="<%= participantName %> <%= participantStatus %>" tabindex="-1"><div class="rhp-participant-avatar"><div class="rhp-avatar rhp-participant-avatar-icon rhp-avatar-icon-anonymous" id="rhp-participant-avatar-icon-<%= viewId %>-<%= participantId %>"></div></div><div class="rhp-participant-info" id="rhp-participant-info-<%= viewId %>-<%= participantId %>"><div class="rhp-participant-name theme-list-item-text" id="rhp-participant-name-<%= viewId %>-<%= participantId %>" title="<%= participantName %>" > <%= participantName %> </div><div class="rhp-participant-status theme-list-item-text" id="rhp-participant-status-<%= viewId %>-<%= participantId %>" title="<%= participantStatus %>"> <%= participantStatus %> </div></div></div>'}),define("core/dev/views/rhp/signature/participants-accodian-view",["core/ac-core","core/templates/rhp/signature/participants-accodian-template","i18n!core/nls/ui-strings","core/utils/util","core/utils/date-util","core/utils/view-util","core/utils/truncate","core/utils/css-util","core/models/workflow-status-strings","core/templates/rhp/signature/participant-status-template","core/utils/sc-analytics","core/views/view"],function(e,t,n,r,i,s,o,u,a,f){return e.SignatureRhpParticipantsView=e.View.extend({events:{"click    .rhp-participants-overall-status":"_expandParticipantInfo","click    .rhp-replace-participant":"_onReplaceParticipantClick"},initialize:function(){e.View.prototype.initialize.call(this),this._addKeyEventListener(),this._addFocusEventListener()},render:function(){var r=this.$el;return e.View.prototype.render.call(this),r.children().length===0&&(r.html(_.template(t)({status_label:n.RHP_STATUS_TOOLTIP})),this._initWrappers()),this._updateFields(),this.options.showParticipants&&this._expandParticipantInfo(),this},_initWrappers:function(){this.participantsInfoDetailedView=this.$(".rhp-participants-expanded"),this.$expandParticipantInfo=this.$(".rhp-expand-participants"),this.$participantsStatus=this.$(".rhp-participants-status"),this.$participantsInfo=this.$(".rhp-participants-info"),this.$participantsView=this.$(".sign-participants-view"),this.$participantsOverAllStatus=this.$(".rhp-participants-overall-status"),this.$inviteParticipant=this.$(".rhp-invite-participants"),this.cbViewModel=this.options.cbViewModel},_expandParticipantInfo:function(){this.participantsInfoDetailedView.hasClass("invisible")?(this.participantsInfoDetailedView.removeClass("invisible"),this.$expandParticipantInfo.addClass("rotated")):(this.participantsInfoDetailedView.addClass("invisible"),this.$expandParticipantInfo.removeClass("rotated"))},_onReplaceParticipantClick:function(e){var t=0},_updateFields:function(){this.participantsInfoDetailedView.addClass("invisible"),this.$expandParticipantInfo.removeClass("rotated");var e=this.cbViewModel.getSingleSelectedItemModel();if(e){var t=e.getParticipantsInfo(),r=e.getWorkflowStatus();if(t.length>0&&r!="DRAFT"&&r!="LIBRARY_TEMPLATE"){var i=0,s=0,o="";r==a.ARCHIVED&&(i=t.length,s=t.length);for(var u=0;u<t.length;u++){var l=t[u],c=this.getParticipantStatus(l.role,l.status,r),h=l.name;h==""&&(h=l.email),l.role!="SHARE"&&i++,($.inArray(l.status,[a.WAITING_FOR_OTHERS,a.SIGNED,a.COMPLETED,a.APPROVED,a.DELIVERED,a.ACCEPTED,a.FORM_FILLED])!=-1||l.status.startsWith("OUT_FOR_"))&&l.role!="SHARE"&&s++;var p=_.template(f)({viewId:e.id,participantId:u,participantName:h,participantStatus:c});o+=p}this.$participantsInfo.html(o);var d=s+" "+n.OF+" "+i+" "+n.COMPLETED.toLowerCase();this.$participantsStatus.html(d),this.$participantsView.show()}else this.$participantsView.hide()}else this.$participantsView.hide()},getParticipantStatus:function(e,t,r){if(e&&t){var i=!1;return r==a.CANCELLED||r==a.ARCHIVED?"":($.inArray(t,[a.WAITING_FOR_OTHERS,a.SIGNED,a.COMPLETED,a.APPROVED,a.DELIVERED,a.ACCEPTED,a.FORM_FILLED])!=-1||t.startsWith("OUT_FOR_")?i=!0:i=!1,e==a.SIGNER?i?n.SIGNED:n.NOT_SIGNED_S:e==a.APPROVER?i?n.APPROVED:n.NOT_APPROVED:e==a.CERTIFIED_RECIPIENT?i?n.ACKNOWLEDGED:n.NOT_ACKNOWLEDGED:e==a.ACCEPTOR?i?n.ACCEPTED:n.NOT_ACCEPTED:e==a.FORM_FILLER?i?n.FORM_FILLED:n.NOT_FORM_FILLED:$.inArray(e,[a.DELEGATOR_TO_SIGNER,a.DELEGATOR_TO_APPROVER,a.DELEGATOR_TO_ACCEPTOR,a.DELEGATOR_TO_CERTIFIED_RECIPIENT,a.DELEGATOR_TO_FORM_FILLER])!=-1?i?n.DELEGATED:n.NOT_DELEGATED:e==a.SHARE?n.CC:"")}return""},_onFocusIn:function(e){var t=$(e.target);t.attr("tabindex",0),this._consumeEvent(e)},_onFocusOut:function(e){var t=$(e.target);t.attr("tabindex",-1),this._consumeEvent(e)},_onKeyDown:function(e){var t=!1,n=$(e.target),r=e.which;if(n.closest(".sign-participants-view")&&n.closest(".sign-participants-view").length>0){var i=e.shiftKey,o=$(".sent-files-rhp"),u=$(".rhp-participants-expanded"),a=s.isElementDisplayed(u),f,l=n.hasClass("rhp-participant-detail"),c=!s.isElementDisplayed(this.$inviteParticipant)||this.$inviteParticipant.hasClass("disabled")?this.$participantsOverAllStatus:this.$inviteParticipant;o.length==0&&(o=$(".context-board-rhp"));switch(r){case 13:case 32:n.hasClass("rhp-participants-overall-status")&&this._expandParticipantInfo(),t=!0;break;case 9:l?i?f=c:f=s.getFocusableDescendantAfter(o,i,!0,":not('.rhp-participant-detail'):not('.sign-rhp-activity-info')",c):f=s.getNextFocusableDescendant(o,i,!1,":not('.rhp-participant-detail'):not('.sign-rhp-activity-info')");break;case 38:i=!0;case 40:(l||!i)&&a&&(f=s.getNextFocusableDescendant(u,i,!1,"")),t=!0}return f&&f.length>0&&(t=!0,f.focus()),t}return t}}),e.SignatureRhpParticipantsView}),define("core/dev/templates/rhp/signature/activity-accodian-template",[],function(){return'<div class="sign-activity-info rhp-option-item"><div class="rhp-activity-info rhp-accodian rhp-actions-item cb-active-text-theme" role="row" tabindex="-1" title="<%= activity_label %>" aria-label="<%= activity %>"><div class="rhp-activity-info-label rhp-accodian-label-no-icon"><%= activity %></div><div class ="rhp-expand-activity-info rhp-expand-accodian"></div></div><div id="sign-activity-list" class="rhp-activity-info-expanded invisible"><ul class="rhp-activity-info-list theme-list-item-text"></ul></div> <div class="rhp-menu-separator theme-border"/></div>'}),define("core/dev/views/rhp/signature/activity-accodian-view",["core/ac-core","core/templates/rhp/signature/activity-accodian-template","i18n!core/nls/ui-strings","core/utils/util","core/utils/date-util","core/utils/view-util","core/utils/truncate","core/utils/css-util","core/models/workflow-status-strings","core/utils/sc-analytics","core/views/view"],function(e,t,n,r,i,s,o,u,a,f){return e.SignatureRhpActivityAccodianView=e.View.extend({events:{"click    .rhp-activity-info":"_expandActivityInfo"},initialize:function(){e.View.prototype.initialize.call(this),this._addKeyEventListener(),this._addFocusEventListener()},render:function(){var r=this.$el;return e.View.prototype.render.call(this),r.children().length===0&&(r.html(_.template(t)({activity:n.ACTIVITY,activity_label:n.RHP_ACTIVITY_TOOLTIP})),this._initWrappers()),this._updateFields(),this},_initWrappers:function(){this.$activityInfo=this.$(".rhp-activity-info-expanded"),this.$expandActivityInfo=this.$(".rhp-expand-activity-info"),this.$activityView=this.$(".sign-activity-info"),this.cbViewModel=this.options.cbViewModel},_expandActivityInfo:function(){var e=this.$el,t,n,r;r=this.cbViewModel.getSingleSelectedItemModel().get("id"),n=e.find(".rhp-activity-info-list");if(this.$activityInfo.hasClass("invisible")){var i=[f.SIGN_ACTIVITY_CLICK,f.CLICKED];this.options.isCBView&&i.push(f.SIGN_EVENT_FROM_DOC_VIEW),this.options.appApi.siteCatalystApi.logScEvent(i),this.options.appApi.siteCatalystApi.logVirgoCTAEvent(f.VIRGO_SIGN_CB,f.VIRGO_CTA_ACTIVITY,!0,this.options.isDocView),$(".sent-files-rhp,.context-board-view").addClass("cursor-wait"),this.options.appApi.pluginsApi.callPluginMethod("signatures","getSignaturesActivityList",r,$.Deferred().reject(),!0).then(_.bind(function(e){this.$activityInfo.removeClass("invisible"),this.$expandActivityInfo.addClass("rotated"),$(".sent-files-rhp,.context-board-view").removeClass("cursor-wait"),n.empty();for(var r=0;r<e.length;r++)t=$("<li>"+e[r]+"</li>"),r==0?t.addClass("cb-highlight-text-theme"):t.addClass("cb-shaded-text-theme"),t.addClass("sign-rhp-activity-info"),t.attr("tabindex",-1),t.attr("aria-label",t.text()),t.attr("title",t.text()),n.append(t)},this),_.bind(function(){$(".sent-files-rhp,.context-board-view").removeClass("cursor-wait"),console.log("failure to get activity list")},this))}else this.$activityInfo.addClass("invisible"),n.empty(),this.$expandActivityInfo.removeClass("rotated")},_updateFields:function(){var e=this.cbViewModel.getSingleSelectedItemModel(),t=this.cbViewModel.getNumSelectedItems(),n=e.get("signature_info").state;e&&n!=a.DRAFT&&n!=a.LIBRARY_TEMPLATE?this.$activityView.show():this.$activityView.hide(),this.$activityInfo.addClass("invisible");var r=this.$el.find(".rhp-activity-info-list");r.empty(),this.$expandActivityInfo.removeClass("rotated")},_onFocusIn:function(e){var t=$(e.target);t.attr("tabindex",0)},_onFocusOut:function(e){var t=$(e.target);t.attr("tabindex",-1)},_onKeyDown:function(e){var t=$(e.target),n=e.which,r=!1;if(!(t.closest(".sign-activity-accodian")&&t.closest(".sign-activity-accodian").length>0))return r;var i=e.shiftKey,o=$(".shared-files-rhp"),u=$(".rhp-activity-info-expanded"),a=$(".rhp-activity-info"),f=!$("#sign-activity-list").hasClass("invisible"),l,c=t.hasClass("sign-rhp-activity-info");o.length==0&&(o=$(".context-board-rhp"));switch(n){case 13:case 32:t.hasClass("rhp-activity-info")&&this._expandActivityInfo(),r=!0;break;case 9:c?i?l=a:l=s.getFocusableDescendantAfter(o,i,!0,":not('.rhp-participant-detail'):not('.sign-rhp-activity-info')",a):l=s.getNextFocusableDescendant(o,i,!0,":not('.rhp-participant-detail'):not('.sign-rhp-activity-info')");break;case 38:i=!0;case 40:(c||!i)&&f&&(l=s.getNextFocusableDescendant(u,i,!1,"")),r=!0}return l&&l.length>0&&(r=!0,l.focus()),r}}),e.SignatureRhpActivityAccodianView}),define("core/dev/templates/rhp/signature/es-signin-template",[],function(){return'<div class="es-signin-header theme-text"><%= PROTECTED_DATA %></div><div class="rhp-menu-separator theme-border"></div><div class="es-signin-prompt theme-text"><%= ES_SIGN_IN_PROMPT %></div><div class="sign-in-btn control-button theme-button theme-button-label"role="button" aria-label="<%= NEXT_BUTTON %>" tabindex = "0"><%= NEXT_BUTTON %></div><div class="cancel-btn control-button button-grey theme-text"role="button" aria-label="<%= CANCEL_BUTTON %>" tabindex = "0"><%= CANCEL_BUTTON %></div>'}),define("core/dev/views/rhp/signature/es-signin-view",["core/ac-core","core/templates/rhp/signature/es-signin-template","i18n!core/nls/ui-strings","core/utils/util","core/utils/view-util","core/models/workflow-status-strings","core/utils/sc-analytics","core/views/view"],function(e,t,n,r,i,s,o){return e.SignaturesRhpESSignInView=e.View.extend({events:{"click  .sign-in-btn":"_onSignInButtonClick","click .cancel-btn":"_onCancelButtonClick"},initialize:function(){e.View.prototype.initialize.call(this),this._addKeyEventListener(),this._addFocusEventListener()},render:function(){var r=this.options,i=this.$el;return e.View.prototype.render.call(this),i.children().length===0&&(i.html(_.template(t)({PROTECTED_DATA:n.PROTECTED_DATA,ES_SIGN_IN_PROMPT:n.ES_SESSION_SIGNIN_PROMPT,CANCEL_BUTTON:n.CANCEL,NEXT_BUTTON:n.NEXT})),this._initWrappers()),this},_initWrappers:function(){this.cbViewModel=this.options.cbViewModel},_onSignInButtonClick:function(){this.options.appApi.rnaApi.done(_.bind(function(e){e.signServiceAuthAPI.ensureValidSignSession()},this))},_onCancelButtonClick:function(){this.options.agent==="recent"||this.options.agent==="Tracking"||this.options.agent==="Document"?this.options.appApi.rnaApi.done(_.bind(function(e){e.fileApi({methodName:"closeContextBoard",methodArgs:{workflowId:this.cbViewModel.getSingleSelectedItemModel().id,agent:this.options.agent}}).done(_.bind(function(){},this))},this)):$(".signature-list-item .selected").click()}}),e.SignaturesRhpESSignInView}),define("core/dev/templates/rhp/signature/primary-actions-template",[],function(){return'<div><div class="rhp-create-template rhp-option-item"><div class="shared-rhp-action rhp-actions-item with-margins create-template cb-active-text-theme" title="<%= template_label %>" aria-label="<%= audit_aria %>" tabindex="-1"><div class="shared-rhp-action-name" ><%= template %></div></div><div class="rhp-menu-separator theme-border"/></div></div><div class="rhp-audit-report rhp-option-item"><div class="shared-rhp-action rhp-actions-item with-margins audit-report  cb-active-text-theme" title="<%= audit_label %>" aria-label="<%= audit_aria %>" tabindex="-1"><div class="shared-rhp-action-icon audit-report"></div><div class="shared-rhp-action-name" ><%= audit %></div></div><div class="shared-rhp-action rhp-actions-item with-margins removeFromTracking cb-active-text-theme" tabindex="-1" title="<%= remove_tracking %>" aria-label="<%= remove_tracking_aria %>" tabindex="-1"><div class="shared-rhp-action-icon removeUnaccepted"></div><div class="shared-rhp-action-name"><%= remove_tracking %></div></div></div></div>'}),define("core/dev/views/rhp/signature/primary-actions-view",["core/ac-core","core/templates/rhp/signature/primary-actions-template","i18n!core/nls/ui-strings","core/utils/util","core/utils/action-ids","core/utils/view-util","core/models/workflow-status-strings","core/utils/sc-analytics","core/views/view"],function(e,t,n,r,i,s,o,u){return e.SignaturesRhpPrimaryActionsView=e.View.extend({events:{"click    .shared-rhp-action.audit-report":"_onAuditReportClick","click    .shared-rhp-action.removeFromTracking":"_onRemoveUnacceptedClick","click    .shared-rhp-action.create-template":"_onCreateTemplateClick"},initialize:function(){e.View.prototype.initialize.call(this),this._addKeyEventListener(),this._addFocusEventListener()},render:function(){var r=this.options,i=this.$el,s=this.$send,u=this.options.appApi,a=!1,f=!1,l=this.options.cbViewModel;a=u.isAppUsingAV2UI(),this.options.appApi.rnaApi.done(_.bind(function(e){f=e.rnaSignWorkflowServicesAPI.isNativeRSEnabled()})),e.View.prototype.render.call(this);if(i.children().length===0){i.html(_.template(t)({template:n.AV2_CREATE_TEMPLATE,template_label:n.AV2_CREATE_TEMPLATE,audit:a?n.AV2_AUDIT_REPORT:n.AUDIT_REPORT,audit_label:n.RHP_AUDIT_REPORT_TOOLTIP,remove_tracking:n.REMOVE_TODO_CARD,audit_aria:n.AUDIT_REPORT+", "+n.BUTTON,remove_tracking_aria:n.REMOVE_TODO_CARD+", "+n.BUTTON}));if(f==0)this.$(".rhp-create-template").hide();else if(l){var c=this.options.cbViewModel.getSingleSelectedItemModel();if(c){var h=c.attributes.signature_info.state;h!=o.OUT_FOR_SIGNATURE&&h!=o.OUT_FOR_APPROVAL&&h!=o.OUT_FOR_DELIVERY&&h!=o.OUT_FOR_ACCEPTANCE&&h!=o.OUT_FOR_FORM_FILLING&&this.$(".rhp-create-template").hide()}}this._initWrappers()}return this._updateFields(),this},_initWrappers:function(){this.$auditReport=this.$(".rhp-audit-report"),this.$removeFromTracking=this.$(".shared-rhp-action.removeFromTracking"),this.cbViewModel=this.options.cbViewModel},_updateFields:function(){var e=this.cbViewModel.getSingleSelectedItemModel();e&&e.attributes.signature_info.state!="DRAFT"&&e.attributes.signature_info.state!="LIBRARY_TEMPLATE"?(this.$auditReport.show(),this.options.showRemoveFromTracking?this.$removeFromTracking.show():this.$removeFromTracking.hide()):(this.$auditReport.hide(),this.$removeFromTracking.hide())},_onAuditReportClick:function(){var e=[u.SIGN_AUDIT_TRAIL,u.CLICKED];this.options.isCBView&&e.push(u.SIGN_EVENT_FROM_DOC_VIEW),this.options.appApi.siteCatalystApi.logScEvent(e),this.options.appApi.pluginsApi.callPluginMethod("signatures","getSignaturesAuditTrail",this.cbViewModel.getSingleSelectedItemModel(),$.Deferred().reject(),!0),this.options.appApi.siteCatalystApi.logVirgoCTAEvent(u.VIRGO_SIGN_CB,u.VIRGO_CTA_AUDIT_REPORT,!0,this.options.isDocView)},_onCreateTemplateClick:function(){var e=this.cbViewModel,t=null,n=null;if(e){var r=this.cbViewModel.getSingleSelectedItemModel();t=r.attributes.resources[0].name,n=r.get("id")}this.options.appApi.rnaApi.done(_.bind(function(e){const r=[];r.push(n),r.push(t),e.rnaSignWorkflowServicesAPI.createTemplateFromAgreement(r)}))},_onRemoveFromTrackingClick:function(){var e=this.cbViewModel,t=null;if(e){var n=this.cbViewModel.getSingleSelectedItemModel();t=n.get("id")}this.options.appApi.rnaApi.done(_.bind(function(e){e.fileApi({methodName:"removeTrackingTile",methodArgs:[o.SIGN,t]}).done(_.bind(function(){},this))},this))},_onRemoveUnacceptedClick:function(){var e={},t=this.cbViewModel.getSingleSelectedItemModel();e.notificationId=this.options.notificationID,e.invitationId=t.attributes.resources[0].id,e.workflowType="signature",this.options.appApi.rnaApi.done(_.bind(function(t){t.stApi.expireNotificationAPI(e)},this))},_onFocusIn:function(e){var t=$(e.target);t.attr("tabindex",0)},_onFocusOut:function(e){var t=$(e.target);t.attr("tabindex",-1)},_onKeyDown:function(e){var t=$(e.target),n=e.which,r=!1;if(!t.hasClass("shared-rhp-action"))return r;var i=e.shiftKey,o=$(".sent-files-rhp"),u;o.length==0&&(o=$(".context-board-rhp"));switch(n){case 13:case 32:t.hasClass("audit-report")?(this._onAuditReportClick(),r=!0):t.hasClass("removeFromTracking")&&(this._onRemoveUnacceptedClick(),r=!0);break;case 9:u=s.getNextFocusableDescendant(o,i,!0,":not('.rhp-participant-detail'):not('.sign-rhp-activity-info')");break;case 38:case 40:r=!0}return u&&u.length>0&&(r=!0,u.focus()),r}}),e.SignaturesRhpPrimaryActionsView}),define("core/dev/templates/rhp/shared-rhp-error-template",[],function(){return'<div class="shared-rhp-error-message cb-text-theme"> <%=ERR_MSG%> </div><div class="shared-rhp-error-icon"> </div>'}),define("core/dev/views/rhp/shared-rhp-error-view",["core/ac-core","core/templates/rhp/shared-rhp-error-template","i18n!core/nls/ui-strings","core/utils/truncate","core/utils/css-util","core/models/workflow-status-strings","core/utils/date-util","core/utils/view-util","core/utils/sc-analytics","core/views/view"],function(e,t,n,r,i,s,o,u){return e.SharedRHPErrorView=e.View.extend({initialize:function(){this._addKeyEventListener(),this._addFocusEventListener(),e.View.prototype.initialize.call(this)},render:function(){var r=this.$el;return e.View.prototype.render.call(this),r.children().length===0&&r.html(_.template(t)({ERR_MSG:n.BOOTSTRAP_FAIL_MSG})),this}}),e.SharedRHPErrorView}),define("core/dev/views/rhp/review/review-rhp-autocomplete-view",["core/ac-core","core/templates/rhp/review/us-autocomplete-template","core/templates/rhp/review/us-autocomplete-item-template","core/views/rhp/review/sc-constants","i18n!core/nls/ui-strings","core/utils/sc-analytics","core/views/rhp/review/autocomplete-collection","core/views/view","core/views/view-events","core/utils/view-util"],function(e,t,n,r,i,s){return e.AutocompleteView=e.View.extend({events:{"mousedown .us-share-auto-address":"_onAddressClick","mousedown .us-ms-graph-get-contacts-banner":"_onGetMSGraphContactsClick"},initialize:function(){var r=this.options,i=this.options.autoCCollection,s;e.View.prototype.initialize.call(this),this._template=_.template(t),this._localAddressTemplate=_.template(n),this._addressTemplate=_.template("<div class='us-share-auto-address <%=specialClass%> ui-theme theme-list-item drop-down-text-theme'title='<%-email %>' name='<%-name%>'><div id='email-list-email-only' class= 'ui-theme' title='<%-email %>' name='<%-name%>'><span title='<%-email %>'><%-email%></span></div></div>"),this._editControl=r.editControl,this.isMSGraphBannerInFocus=!1,s=new Backbone.Collection,this.filteredCollection=s,s.on("all",_.debounce(_.bind(this._onFilteredCChange,this),50)),i.on("all",_.debounce(_.bind(this._onCollectionChange,this),300))},render:function(){return e.View.prototype.render.call(this),this.$autoCList=this.$(".us-share-auto-c-list"),this.$el.children().length===0&&(this.$el.html(this._template({GET_MS_GRAPH_CONTACTS_MSG:i.GET_MS_GRAPH_CONTACTS_MSG_1+"Office"+i.GET_MS_GRAPH_CONTACTS_MSG_2+"Outlook"+i.GET_MS_GRAPH_CONTACTS_MSG_3})),this._initWrappers(),this.$autoCList.on("scroll",this._onAddressScroll),this.$getMSGraphContacts.hide(),e.Util.isCEF()&&this.$autoCList.css("overflow","auto")),this._renderAddressList(),this},setFilter:function(e){e&&(e=$.trim(e.toLowerCase()),e.length<1&&(e=undefined)),e||(this.selectedID=undefined),this.fragment=e,this._updateFilteredCollection()},makeChoice:function(e){var t,n,r,i=this.options,s=this.options.sendFilesUiModel;return this.isMSGraphBannerInFocus?this._onGetMSGraphContactsClick():(e?this.selectedID&&(t=this.filteredCollection.get(this.selectedID)):this.selectedID?t=this.filteredCollection.get(this.selectedID):t=this.filteredCollection.at(0),t&&(n=t.get("email"),r=t.get("name"),this._insertEmail(n,r),this._editControl.clear())),t},selectDown:function(){var t=this.filteredCollection,n=this.selectedID,r=this.$autoCList.scrollTop(),i,s,o=$(".us-share-auto-address").height(),u=6,a=6,f;e.Util.isCEF&&(u=t.length),f=this.options.sendFilesUiModel.get("enable_autoc_arrows");if(!f)return;n?(u>t.length&&(u=t.length),s=t.get(n),i=t.indexOf(s),i===-1?n=undefined:(i<u&&(i+=1,u>a&&this._keyboardScrollTo(r+o)),i>=u?(n=undefined,this.$getMSGraphContacts.is(":visible")&&!this.isMSGraphBannerInFocus&&(this.isMSGraphBannerInFocus=!0)):(s=t.at(i),s?n=s.id:n=undefined))):this.isMSGraphBannerInFocus?this.isMSGraphBannerInFocus=!1:(s=t.at(0),s?(n=s.id,this._keyboardScrollTo(0)):n=undefined),this.selectedID=n,this._renderAddressList();return},selectUp:function(){var t=this.filteredCollection,n=this.selectedID,r=0,i,s,o=this.$autoCList.scrollTop(),u=6,a=6,f,l=$(".us-share-auto-address").height();e.Util.isCEF&&(u=t.length),f=this.options.sendFilesUiModel.get("enable_autoc_arrows");if(!f)return;n?(s=t.get(n),i=t.indexOf(s),i===-1?n=undefined:(i>=0&&(i-=1,u>a&&this._keyboardScrollTo(o-l)),i<0?n=undefined:(s=t.at(i),s?n=s.id:n=undefined))):this.$getMSGraphContacts.is(":visible")&&!this.isMSGraphBannerInFocus?(n=undefined,this.isMSGraphBannerInFocus=!0):(this.isMSGraphBannerInFocus=!1,u>t.length&&(u=t.length),u-=1,s=t.at(u),s?(n=s.id,u>=a&&this._keyboardScrollTo(u*l)):n=undefined),this.selectedID=n,this._renderAddressList();return},_keyboardScrollTo:function(t){e.Util.isCEF()&&(this.$autoCList.stop(!0,!0),this.$autoCList.animate({scrollTop:t},"fast"))},_initWrappers:function(){this.$autoCList=this.$(".us-share-auto-c-list"),this.$getMSGraphContacts=this.$(".us-ms-graph-get-contacts-banner")},_renderAddressList:function(){var e=this.filteredCollection,t=this.$autoCList,n,r,i=this.selectedID;n=this._localAddressTemplate,r=this._addressTemplate,e.length&&this.$el.show(),t.empty(),e.each(function(e){var s,o="";e.id===i&&(o="selected"),_.isUndefined(e.get("name"))||e.get("name")===""?s=r({email:e.get("email"),specialClass:o,id:_.uniqueId("us-share-auto-address-"),ariaSelected:o===""?"false":"true"}):s=n({name:e.get("name"),email:e.get("email"),specialClass:o,id:_.uniqueId("us-share-auto-address-"),ariaSelected:o===""?"false":"true"}),t.append(s)}),this._renderGetMSGraphBanner(),e.length||this.$el.hide()},_renderGetMSGraphBanner:function(){this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaMicrosoftGraphAPI.isMicrosoftGraphEnabled().then(_.bind(function(){this.options.appApi.sessionApi.isSignedInReader()&&e.rnaMicrosoftGraphAPI.isSignedInMicrosoftGraph().then(_.bind(function(e){e?this.$getMSGraphContacts.hide():(this.$getMSGraphContacts.show(),this.isMSGraphBannerInFocus?this.$getMSGraphContacts.addClass("selected"):this.$getMSGraphContacts.removeClass("selected"))},this),_.bind(function(){this.$getMSGraphContacts.hide()},this))},this),_.bind(function(){this.$getMSGraphContacts.hide()},this))},this))},_updateFilteredCollection:function(){var e=this.options.autoCCollection,t=this.filteredCollection,n,r=[],i="",s="",o=!1,u=this.options.pgcModel.get("pgcSuggestionsCollection");return u&&e.add(u.toJSON(),{merge:!0}),n=this.fragment,n&&n.length&&(r=e.filter(function(e){return s=e.get("email"),o=s.indexOf(n)===0,o===!1&&(i=e.get("name"),i!==undefined&&(i=i.toLowerCase(),o=i.indexOf(n.toLowerCase())===0)),o})),t.set(r),r},_onFilteredCChange:function(){if(this.filteredCollection.length>0){var e=this.filteredCollection.at(0);this.selectedID=e.id,this.isMSGraphBannerInFocus=!1}this._renderAddressList()},_onCollectionChange:function(){this._renderAddressList()},_onAddressClick:function(e){var t=$(e.target),n,r,i=this.options,s=this.options.sendFilesUiModel;n=t.attr("title"),r=t.attr("name"),this._insertEmail(n,r),this._editControl.clear(),s.get("autocomplete_eventual_click")||(s.set("autocomplete_eventual_click",!0),s.set("autocomplete_avoided",!0)),s.get("autocomplete_immediate_click")||s.set("autocomplete_immediate_click",!0)},_onGetMSGraphContactsClick:function(){this.options.appApi.rnaApi.done(_.bind(function(t){var n=s.VIRGO_CTA_ADD_REVIEWER,r=s.USE,i="Sign In to MSGraph";this.options.appApi.siteCatalystApi.logScEvent([n,r,i]),t.rnaMicrosoftGraphAPI.loginToMicrosoftGraph().then(_.bind(function(){var t=e.opFactory.create("MicrosoftGraphOutlookContactsOp",this.options),n=s.VIRGO_CTA_ADD_REVIEWER,r=s.USE,i="Get MSGraph Contacts After Sign In";this.options.appApi.siteCatalystApi.logScEvent([n,r,i]),t.run().then(_.bind(function(e){var t=this.options.autoCCollection;t.add(e.toJSON(),{merge:!0}),this._renderGetMSGraphBanner()},this),_.bind(function(e){},this))},this),_.bind(function(){this.isMSGraphBannerInFocus=!1},this))},this))},_onAddressScroll:function(){var e=this.options,t=this.options.sendFilesUiModel;t.get("autocomplete_scroll")||(t.set("autocomplete_scroll",!0),t.set("autocomplete_immediate_click",!0),t.set("autocomplete_avoided",!0))},_insertEmail:function(e,t){this.options.emailView.abortPGCRequest(),this.options.emailView._setRecipientsFromText(e,t),this.setFilter(undefined),_.delay(_.bind(function(){this._editControl.focus(!0)},this),10)}}),e.AutocompleteView}),define("core/dev/views/rhp/review/us-chicklet-edit-control",["core/ac-core","core/utils/view-util","core/templates/rhp/review/us-chicklet-edit-template","core/views/input-placeholder-view","core/views/view","core/views/view-events"],function(e,t,n){return e.ChickletEditControl=e.View.extend({events:{"focus .us-share-address-input":"_onInputFocus","blur .us-share-address-input":"_onInputBlur","click .us-share-address-book":"_onAddressBookClick"},initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(n)},render:function(){e.View.prototype.render.call(this),alert("DEBUG"),this.$el.children().length===0&&(this.$el.html(this._template({ENTER_EMAIL_ADDR:"",ADDRESS_BOOK:""})),this._initWrappers()),this._initWrappers(),this._renderChildViews()},val:function(){return this.$input.val()||""},hasText:function(){return this._input.hasText()},setValue:function(e){this.$input.val(e)},enable:function(e){e?(this.$input.removeAttr("disabled"),this.$inputMask.hide()):(this.$input.attr({disabled:"disabled"}),this.$inputMask.show())},focus:function(e){var n=this.$input.is(":disabled");n&&(e=!1),t.descendantHasFocus(".share-individual:checked,.share-email-chicklet,.us-share-address-input,.share-address-help-msg-close")||(e=!1),this._isFocus=e},clear:function(){this.$input.val("")},processRecipients:function(e){var t;this.markChickletsToRemove(t),this.removeMarkedChicklets(t),this.focus(!0),this._input.enablePrompt(!0).render(),e.findWhere({valid:!1})},markChickletsToRemove:function(e){_.each(e,_.bind(function(e){e.options.toRemove=!0},this))},removeMarkedChicklets:function(e){_.each(e,_.bind(function(e){e.options.toRemove&&this.removeChildView(e)},this))},_initWrappers:function(){this.$inputContainer=this.$(".review-add-participant-address-input-container"),this.$input=this.$(".us-share-address-input"),this.$inputMask=this.$(".share-address-input-mask")},_renderChildViews:function(){this._renderChildView("_input",e.InputPlaceholderView,this.$input)},_onInputFocus:function(){this.$el.addClass("focus")},_onInputBlur:function(){this.$el.removeClass("focus")}}),e.ChickletEditControl}),define("core/dev/templates/rhp/review/participants-accodian-template",[],function(){return'<div class = "review-rhp-participants rhp-option-item"><div class="review-participants-overall-status rhp-participants-overall-status rhp-accodian rhp-actions-item cb-active-text-theme cb-active-background-theme" tabindex="-1"><div class="review-participants-status rhp-participants-status rhp-accodian-label-with-avatar"></div><div class="review-particpants-avatar rhp-particpants-avatar" aria-hidden="true"></div><div class ="rhp-expand-participants rhp-expand-accodian"></div></div><div class="review-participants-expanded rhp-participants-expanded invisible"><div class="add-participants-info"><div class="rhp-invite-participants" title="<%= ADD_REVIEWERS %>" aria-label="<%= ADD_REVIEWERS %>" tabindex = "-1"><div class="rhp-invite-participants-icon"></div><div class="rhp-invite-participants-label cb-link-text-theme"><%= ADD_REVIEWERS %></div></div><div class = "add-participant-box"></div><div class="us-share-autocomplete-box ui-theme theme-border theme-container theme-text"></div><div class = "theme-container" id="added-members-list-container">    <div class = "share-tool-frame theme-container">       <ul class="share-email-list" role="grid" aria-labelledby="share-heading"></ul>    </div></div><div class="share-files-button-container"><button id = "sendReviewButton" class="control-button theme-button theme-button-label share-files-button" tabindex="-1" aria-label="<%= SEND_BUTTON %>" title="<%= SEND_BUTTON %>"><%= SEND_BUTTON %></button></div><div id="add-reviewers-coachmark" class="ui-theme theme-tooltip us-add-reviewers-coachmark-text"><span class="ui-theme theme-tooltip-text"><%= ADD_REVIEWER_COACHMARK %></span></div></div><div class="review-participants-info rhp-participants-info"></div><div id="legal-string-for-share" class="rhp-menu-item theme-list-item-text cb-shaded-text-theme invisible"><%= CREATE_LINK_SECURITY_INFO %></div></div><div class="rhp-menu-separator theme-border"/></div>'}),define("core/dev/templates/rhp/review/participant-status-template",[],function(){return'<div class="review-participant-detail" role="row"  aria-label="<%= participantName %> <%= participantStatus %>" tabindex="-1"><div class="review-participant-avatar rhp-participant-avatar"><img class="rhp-avatar review-participant-avatar-img" id="review-participant-avatar-img-<%= viewId %>-<%= participantId %>"></img><div class="rhp-avatar review-participant-avatar-icon rhp-avatar-icon-anonymous" id="review-participant-avatar-icon-<%= viewId %>-<%= participantId %>"></div><div class="rhp-avatar review-participant-avatar-icon" id="review-participant-avatar-default-image-<%= viewId %>-<%= participantId %>"></div></div><div class="review-participant-info" id="review-participant-info-<%= viewId %>-<%= participantId %>"><div class="review-participant-name theme-list-item-text" id="review-participant-name-<%= viewId %>-<%= participantId %>" title="<%= participantName %>" > <%= participantName %> </div><div class="review-participant-status theme-list-item-text" id="review-participant-status-<%= viewId %>-<%= participantId %>" title="<%= participantStatus %>"> <%= participantStatus %> </div></div></div>'}),define("core/dev/templates/rhp/review/us-email-list-item-template",[],function(){return' <li class="share-email-list-item-container ui-theme theme-container">   <div class="share-email-list-item  theme-hoverable ui-theme theme-container theme-border" title="<%= email %>">       <div class="share-email-list-name theme-text"><%= name %></div>       <div           aria-labelledby="share-email-list-name">           <button class="share-email-list-close core-remove-x"                title="<%= remove %>"                data-asset-id="<%= asset_id %>"                aria-label="<%= ariaRemoveLabel %>"></button>       </div>   </div></li> '}),define("core/dev/views/rhp/review/disallowed-file-model",["core/ac-core","core/models/model"],function(e){e.DisallowedFileModel=e.Model.extend({})}),define("core/dev/views/rhp/review/file-metadata-model",["core/ac-core","core/models/model"],function(e){e.FileMetadataModel=e.Model.extend({url:function(){return Ac.baseFilesUrisModel.getApiUri()+"assets/"+encodeURIComponent(this.get("id"))+"/metadata"}})}),define("core/dev/views/rhp/review/file-metadata-collection",["core/ac-core","core/views/rhp/review/file-metadata-model"],function(e){e.FileMetadataCollection=Backbone.Collection.extend({model:e.FileMetadataModel})}),define("core/dev/views/rhp/review/email-addr-model",["core/ac-core","core/models/model"],function(e){e.EmailAddrModel=e.Model.extend({})}),define("core/dev/views/rhp/review/email-addr-collection",["core/ac-core","core/views/rhp/review/email-addr-model"],function(e){return e.EmailAddrCollection=Backbone.Collection.extend({model:e.EmailAddrModel}),e.EmailAddrCollection}),define("core/dev/views/rhp/review/send-files-ui-model",["core/ac-core","core/utils/action-ids","core/models/ui/ui-model","core/views/rhp/review/disallowed-file-model","core/views/rhp/review/file-metadata-collection","core/views/rhp/review/email-addr-collection"],function(e,t){e.SendFilesUiModel=e.UiModel.extend({closeTheBrowserUrl:"https://acrobatoauth.adobe.com/?acro_reader=acro_close",audioVideoMimetypes:["application/mxf","application/ogg","application/vnd.rn-realmedia"],audioVideoExtensions:["aac","aic","aif","aiff","asf","asx","au","avi","avs","dif","dv","lsf","lsx","m3u","m4a","m4p","m4v","mov","movie","mp2","mp3","mp4","mpe","mpeg","mpg","mpga","mxu","ogg","qt","ra","ram","rm","snd","wav","wma","wmv"],recognized:{active:{type:"boolean",optional:!1},active_view:{type:"string",optional:!1,choices:["welcome","workflow","success"]},disallowed_files:{type:"array",optional:!0},display_individual_ipm:{type:"boolean",optional:!0},display_individual_help:{type:"boolean",optional:!0},email_addr_collection:{type:"object",optional:!0},local_file_objects:{type:"array",optional:!0},connector_file_objects:{type:"array",optional:!0},metadata_collection:{type:"object",optional:!0},share_collection:{type:"object",optional:!0},parcel:{type:"object",optional:!0},is_public:{type:"boolean",optional:!1},is_individual:{type:"boolean",optional:!1},US_tab_open:{type:"string",optional:!1,choices:["share","createLink","attachToEmail"]},allow_comments_enabled:{type:"boolean",optional:!0},allow_comments:{type:"boolean",optional:!0},customize_recipient_page_enabled:{type:"boolean",optional:!1},customize_recipient_page:{type:"boolean",optional:!0},enable_add_files:{type:"boolean",optional:!0},enable_autocomplete:{type:"boolean",optional:!1},enable_autoc_arrows:{type:"boolean",optional:!1},enable_sender_survey:{type:"boolean",optional:!0},initial_subject:{type:"string",optional:!0},initial_message:{type:"string",optional:!0},limits_model:{type:"object",optional:!1},view_mode:{type:"string",optional:!1,choices:["web","jts","cef"]},user_action_id:{type:"string",optional:!0},user_action_name:{type:"string",optional:!0},local_branding_file:{type:"array",optional:!0},enable_form_send:{type:"boolean",optional:!1},direct_to_workflow:{type:"string",optional:!1},respond_back_options_enabled:{type:"boolean",optional:!1},reader_mailto_enabled:{type:"boolean",optional:!1},include_message:{type:"boolean",optional:!0},respond_back:{type:"boolean",optional:!0},show_mailto_in_jts:{type:"boolean",optional:!1},connectors_api:{type:"object",optional:!1},show_address_book:{type:"boolean",optional:!1},autocomplete_scroll:{type:"boolean",optional:!1},autocomplete_eventual_click:{type:"boolean",optional:!1},autocomplete_immediate_click:{type:"boolean",optional:!1},autocomplete_avoided:{type:"boolean",optional:!1},autocomplete_local_contacts_imported:{type:"boolean",optional:!1},autocomplete_cloud_contacts_imported:{type:"boolean",optional:!1},autocomplete_msgraph_contacts_imported:{type:"boolean",optional:!1},us_share_state:{type:"string",optional:!0},us_mode:{type:"string",optional:!0},us_subject_text:{type:"string",optional:!0},us_message_text:{type:"string",optional:!0},cl_subject_text:{type:"string",optional:!0},cl_message_text:{type:"string",optional:!0},is_subject_user_input:{type:"boolean",optional:!0},is_message_user_input:{type:"boolean",optional:!0},sign_default_sub:{type:"string",optional:!0},share_loader_text:{type:"string",optional:!0},set_deadline:{type:"boolean",optional:!0},set_reminder:{type:"boolean",optional:!0},deadline:{type:"string",optional:!0},reminder:{type:"string",optional:!0}},defaults:{active_view:"welcome",active:!1,disallowed_files:[],enable_add_files:!0,enable_autocomplete:!0,enable_autoc_arrows:!0,local_file_objects:[],connector_file_objects:[],is_public:!0,is_individual:!1,US_tab_open:"share",view_mode:"web",allow_comments_enabled:!0,allow_comments:!1,customize_recipient_page_enabled:!1,enable_form_send:!0,direct_to_workflow:"original",respond_back_options_enabled:!1,include_message:!1,respond_back:!1,reader_mailto_enabled:!1,show_mailto_in_jts:!1,show_address_book:!1,autocomplete_scroll:!1,autocomplete_eventual_click:!1,autocomplete_immediate_click:!1,autocomplete_avoided:!1,autocomplete_local_contacts_imported:!1,autocomplete_cloud_contacts_imported:!1,autocomplete_msgraph_contacts_imported:!1,us_share_state:"preShare",us_mode:"#send-mode",us_message_text:"",is_subject_user_input:!1,is_message_user_input:!1,sign_default_sub:"",share_loader_text:"",set_deadline:!1,set_reminder:!1,deadline:"",reminder:""},initialize:function(){var t,n,r;e.UiModel.prototype.initialize.call(this),t=new e.FileMetadataCollection,r=new e.FileMetadataCollection,n=new e.EmailAddrCollection,this.set({metadata_collection:t,email_addr_collection:n,share_collection:r})},initializeFromCohorts:function(e){e&&(e["ts-direct-to-workflow-view"]&&this.set({direct_to_workflow:e["ts-direct-to-workflow-view"]}),e["ts-respond-back-1"]&&this.set({respond_back_options_enabled:e["ts-respond-back-1"]==="enabled"}),e["ts-reader-mailto"]&&this.set({reader_mailto_enabled:e["ts-reader-mailto"]==="enabled"}),e["ts-a12-ui"]&&e["ts-a12-ui"]==="enabled"&&this.set({view_mode:"cef"}),e["ts-address-book"]&&this.set({show_address_book:e["ts-address-book"]==="enabled"}),e["ts-autocomplete"]&&this.set({enable_autocomplete:e["ts-autocomplete"]==="enabled"}),e["ts-autoc-arrows"]&&this.set({enable_autoc_arrows:e["ts-autoc-arrows"]==="enabled"}))},resetTodefaults:function(){this._resetModelElementsToDefaults(),this.resetEmailCollection(),this.resetFileListModel(),this.resetAutocomplete()},resetFileListModel:function(){this._resetModelElementsToDefaults(),this.get("metadata_collection").reset(),this.get("share_collection").reset(),this.set("disallowed_files",[],{silent:!0}),this.set("local_file_objects",[],{silent:!0}),this.set("connector_file_objects",[],{silent:!0})},resetEmailCollection:function(){this.get("email_addr_collection").reset()},_resetModelElementsToDefaults:function(){this.set({active:!0,active_view:"welcome",is_public:!0,is_individual:!1,US_tab_open:"share",enable_add_files:!0,allow_comments_enabled:!1,customize_recipient_page_enabled:!1,success_dlg_version:"original",url_to_clipboard:"original",direct_to_workflow:"original",respond_back_options_enabled:!1,reader_mailto_enabled:!1,enable_form_send:!0,show_address_book:!1,autocomplete_local_contacts_imported:!1,autocomplete_cloud_contacts_imported:!1,autocomplete_msgraph_contacts_imported:!1,us_share_state:"preShare",us_mode:"#send-mode",us_message_text:"",sign_default_sub:"",share_loader_text:"",set_deadline:!1,set_reminder:!1,deadline:"",reminder:""})},resetAutocomplete:function(){this.set({autocomplete_avoided:!1,autocomplete_scroll:!1,autocomplete_immediate_click:!1,autocomplete_eventual_click:!1})},resetClSubAndMsg:function(){this.set({})},close:function(){this.set({active:!0,active_view:"welcome",is_public:!0,is_individual:!1,US_tab_open:"share"}),this.get("metadata_collection").reset(),this.get("share_collection").reset(),this.get("email_addr_collection").reset(),this.set("disallowed_files",[],{silent:!0}),this.set("local_file_objects",[],{silent:!0}),this.set("connector_file_objects",[],{silent:!0})},setShareState:function(e){this.set("us_share_state",e)},setUSMode:function(e){this.set("us_mode",e)},setSubjectText:function(e){this.set("us_subject_text",e)},setMessageText:function(e){this.set("us_message_text",e)},addFilesToCollection:function(n,r,i,s,o){var u,a,f,l=i?i:this.get("metadata_collection"),c=[],h=this.get("limits_model"),p=h.get("can_send_av"),d=this.get("local_file_objects").length+l.length,v=h.get("max_files"),m=[],g=this.get("enable_form_send");return!o&&n.length+d>v?(f=v-d,u=n.slice(0,f),a=n.slice(f,n.length),_.each(a,function(t){var n=new e.DisallowedFileModel({name:t,reason:"over-limit"});m.push(n)})):u=n,_.each(u,function(n){var i=r?r[n]:undefined,s=new e.FileMetadataModel({id:n,fileAttr:i,global:!1}),o,u=this.get("connectors_api");o=s.fetch({global:!1}),l.add(s),o.then(_.bind(function(n){var r,i;!g&&this.isFormType(n.get("content_type"))?i="form":!p&&this.isAudioVideoType(n.get("content_type"))?i="audio-video":u.isActionRestrictedOnItems(n,t.SEND)&&(i="non-native"),i&&(l.remove(n),r=new e.DisallowedFileModel({name:n.get("name"),source:n.get("source"),reason:i}),m.push(r))},this,s)),o.fail(_.bind(function(e,t,n){n.status===404&&e.remove(t)},this,l,s)),c.push(o)},this),$.when.apply(null,c).done(_.bind(function(){m=m.concat(this.get("disallowed_files")),this.set("disallowed_files",m,{silent:s})},this)),c},addFileObjects:function(e){var t=this.get("local_file_objects"),n=t.concat(e);this.set("local_file_objects",n),this.trigger("change:local_file_objects")},addConnectorFileObjects:function(e){var t=this.get("connector_file_objects"),n=t.concat(e);this.set("connector_file_objects",n)},setBrandingFileObjects:function(e){this.set("local_branding_file",e)},removeFileObjects:function(e,t){var n=t,r=[],i,s,o,u,a,f,l,c;for(a=0,f=n.length;a<f;a+=1){i=n[a],u=!1;for(l=0,c=e.length;l<c;l+=1){s=e[l],o=Object.prototype.toString.call(s);if(o==="[object File]"){if(i.name===s.name){u=!0;break}}else if(i.cid===s.cid){u=!0;break}}u||r.push(i)}return r},removeLocalFile:function(e){var t=this.get("local_file_objects"),n=[],r,i,s,o,u,a,f,l;for(u=0,a=t.length;u<a;u+=1){r=t[u],o=!1;for(f=0,l=e.length;f<l;f+=1){i=e[f],s=Object.prototype.toString.call(i);if(r&&r===i){o=!0;break}}o||n.push(r)}this.set("local_file_objects",n),this.trigger("change:local_file_objects")},isMultipleFilesSelected:function(){var e=this.get("local_file_objects"),t=this.get("metadata_collection");return e.length+t.length>1},isAudioVideoType:function(e){return e&&(e.substring(0,6)==="audio/"||e.substring(0,6)==="video/"||_.contains(this.audioVideoMimetypes,e))},isFormType:function(e){return e&&e==="application/vnd.adobe.form.fillsign"},hasAudioVideoExt:function(e){var t=e.split(".").pop();return _.contains(this.audioVideoExtensions,t)},parseEmailArray:function(t,n){var r=/^\S+@\S+\.\S+$/,i=/[\]\)\"\'\}]$/,s=_.reduce(t,function(t,s){var o,u=s,a,f=s.match(/\s*<(\S+)>/),l,c=n?n:"";return s=$.trim(s),s?(f?(u=f[1],a=s.substring(0,f.index),a=a.replace(/^\s+/,"")):u=$.trim(u),l=u.match(r)?!0:!1,l&&(l=u.match(i)?!1:!0),o=new e.EmailAddrModel({email:u,friendly:a,valid:l,name:c}),t.push(o),t):t},[]);return s},addRecipientsToCollection:function(e){var t=this.get("email_addr_collection");t.add(e,{silent:!0}),t.trigger("set",{})},setRecipientsCollection:function(e,t){var n=this.get("email_addr_collection");n.set(e,{silent:!0}),n.trigger("set",t)},getRecipientsArray:function(){var e=this.get("email_addr_collection"),t=e.map(function(e){return e.get("friendly")?e.get("friendly")+" <"+e.get("email")+">":e.get("email")});return t},isSenderOnlyRecipient:function(e){var t=this.getRecipientsArray();for(var n=0;n<t.length;++n)if(t[n]!==e)return!1;return!0}})}),define("core/dev/views/rhp/review/rhp-participants-view",["core/ac-core","core/templates/rhp/review/participants-accodian-template","i18n!core/nls/ui-strings","core/utils/util","core/utils/date-util","core/utils/view-util","core/utils/truncate","core/utils/css-util","core/models/workflow-status-strings","core/templates/rhp/review/participant-status-template","core/templates/rhp/review/us-chicklet-edit-template","core/templates/rhp/review/us-email-list-item-template","core/views/rhp/review/us-chicklet-edit-control","core/views/rhp/review/review-rhp-autocomplete-view","core/utils/sc-analytics","core/views/view","core/views/rhp/review/send-files-ui-model"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d){return e.ReviewRhpParticipantsView=e.View.extend({events:{"click    .rhp-participants-overall-status":"_toggleParticipantInfo","click    .rhp-invite-participants":"_onInviteClick","input    .us-share-address-input":"_onRecipientsInput","paste    .us-share-address-input":"_onRecipientsPaste","blur     .us-share-address-input":"_onRecipientsBlur","click    .share-email-list-close":"_onEmailListClose","click    .share-files-button":"_onSendButtonClick","click    #review-add-participant-address-book-img":"_onAddressBookClick","focus     .us-share-address-input":"_initialiseEmailAddFetching"},initialize:function(){e.View.prototype.initialize.call(this),this._localAddressTemplate=_.template(c);var t=_.extend({},this.options,{searchString:""});this.PGCOp=e.opFactory.create("GettingPGCSuggestionsOp",t),this._addKeyEventListener(),this._addFocusEventListener(),this.options.autoCCollection=new e.AutocompleteCollection([],{rootUrl:undefined}),this.options.pgcModel=new e.SendFilesUiModel,this.timer=undefined,this._fetchCollaboratorsInProgress=!1},render:function(){var r=this.$el,i=this.options,s=i.selectionUiModel.getSingleSelectedItemModel(),o=$.Deferred(),u=i.appApi.saveAsApi,f=i.appApi.selectionApi,l=this.options.appApi,c=!1;c=l.isAppUsingAV2UI(),e.View.prototype.render.call(this);if(f.isRunningInFileSelection()||u.isRunningInFileSaveAs())return;r.children().length===0&&(r.html(_.template(t)({ADD_REVIEWERS:c?n.AV2_ADD_REVIEWERS:n.ADD_REVIEWERS,SEND_BUTTON:n.ADD,ADD_REVIEWER_COACHMARK:n.ADD_REVIEWER_COACHMARK,CREATE_LINK_SECURITY_INFO:n.CREATE_LINK_SECURITY_INFO})),this._initWrappers()),this.$participantsMainDiv.hide(),(!this.cbViewModel.getSingleSelectedItemModel()||!this.cbViewModel.getSingleSelectedItemModel().CTAClicked)&&this._collapseParticipantInfo();if(_.isUndefined(s))return;this.options.appApi.rnaApi.done(function(e){e.logPerformance("ReviewFilesParticipantsReview_"+s.cid,"start")});if(s.getWorkflowStatus()&&s.getWorkflowStatus().toLowerCase()==a.UNSHARED_STRING.toLowerCase())return;if(s&&s.getCollaborators()){this._renderPostCollabFetch();return}if(s.get("bootstrap")&&s.get("bootstrap").asset_id){var h=s.get("bootstrap");h.email_message&&s.setIntroMessage(h.email_message),h.preview_url&&s.setPreviewUrl(h.preview_url),_.isUndefined(h.is_original_shared)||s.setOriginalShared(h.is_original_shared),h.commenting_urn&&s.setCommentingUrn(h.commenting_urn),h.asset_id&&s.setAssetId(h.asset_id),o.resolve(h.asset_id)}if(_.isUndefined(s.getAssetId())){var p=s.getSingleFileInfo(),d=p?p.id:undefined;if(d&&d!="dummyId"){var v=this.options.appApi.pluginsApi.callPluginMethod("sentfiles","getReviewIntroMessage",d,this._getResolvedPromise(),!0);v&&v.then(_.bind(function(e){e&&(e.email_message&&s.setIntroMessage(e.email_message),e.preview_url&&s.setPreviewUrl(e.preview_url),_.isUndefined(e.is_original_shared)||s.setOriginalShared(e.is_original_shared),e.commenting_urn&&s.setCommentingUrn(e.commenting_urn),e.asset_id&&s.setAssetId(e.asset_id),o.resolve(e.asset_id))},this),_.bind(function(){o.reject()},this))}else o.reject()}else o.resolve(s.getAssetId());o.then(_.bind(function(t){if(!this._fetchCollaboratorsInProgress&&t!="dummyId"){this._fetchCollaboratorsInProgress=!0;var n=e.opFactory.create("GettingCollaborationMetadatapOp",_.extend({},this.options,{global:!0}));n.run(t).then(_.bind(function(e){this._fetchCollaboratorsInProgress=!1;var t=this.options.selectionUiModel.getSingleSelectedItemModel();e&&(t.setCollaborators(e),this._renderPostCollabFetch())},this),_.bind(function(e){this._fetchCollaboratorsInProgress=!1},this))}},this))},_renderPostCollabFetch:function(){this._updateFields(),this._updateAvatars(),this.options.sendFilesUiModel=new e.SendFilesUiModel,this._addUiModelEventListeners(),this._addKeyEventListener(),this._renderChildViews(),this._updateEmailFields(),this._processRecipients(!0),this.options.isDocView||this.cbViewModel.getSingleSelectedItemModel()&&this.cbViewModel.getSingleSelectedItemModel().CTAClicked?this._manageParticipantInfoToggleState():this._collapseParticipantInfo(),this._handleAddReviewerCoachMarkVisibility()},_initWrappers:function(){this.participantsInfoDetailedView=this.$(".review-participants-expanded"),this.$expandParticipantInfo=this.$(".rhp-expand-participants"),this.$participantsOverAllStatus=this.$(".rhp-participants-overall-status"),this.$participantsStatus=this.$(".review-participants-status"),this.$participantsAvatar=this.$(".review-particpants-avatar"),this.$participantsInfo=this.$(".review-participants-info"),this.$participantsMainDiv=this.$(".review-rhp-participants"),this.$inviteParticipant=this.$(".rhp-invite-participants"),this.$addParticipantInput=this.$(".add-participant-box"),this.$autocompleteBox=this.$(".us-share-autocomplete-box"),this.cbViewModel=this.options.cbViewModel,this.$filesList=this.$(".share-email-list"),this.$addedMembers=this.$("#added-members"),this.$addedMembersListContainer=this.$("#added-members-list-container"),this.$removeButton=this.$(".share-email-list-close"),this.$sendButton=this.$(".share-files-button-container"),this.$addreviewerscoachmark=this.$("#add-reviewers-coachmark"),this.$sendReviewButton=this.$("#sendReviewButton"),this.$createLinkSecurityStr=this.$("#legal-string-for-share"),this.cbViewModel=this.options.cbViewModel,this.options.showParticipants=!0},_renderChildViews:function(){var t=this.options.sendFilesUiModel,n,r;r=_.extend({},this.options,{emailView:this}),this._renderChildView("_chickletEditControl",h,this.$addParticipantInput,r),t.get("enable_autocomplete")?(n=_.extend({},this.options,{editControl:this._chickletEditControl,emailView:this}),this.$autocompleteBox.show(),this._renderChildView("_autocompleteControl",p,this.$autocompleteBox,n),e.Util.isCEF()&&this.$autocompleteBox.css("z-index","1001")):(this._autocompleteControl&&this.removeChildView(this._autocompleteControl),this.$autocompleteBox.hide())},_toggleParticipantInfo:function(){var e=this.cbViewModel.getSingleSelectedItemModel();this.participantsInfoDetailedView.hasClass("invisible")?(this.participantsInfoDetailedView.removeClass("invisible"),this.$expandParticipantInfo.addClass("rotated"),e&&(e.CTAClicked=!0)):(this.participantsInfoDetailedView.addClass("invisible"),this.$expandParticipantInfo.removeClass("rotated"),e&&(e.CTAClicked=undefined)),this.$participantsAvatar.hasClass("invisible")?(this.$participantsAvatar.removeClass("invisible"),this.$participantsStatus.addClass("rhp-accodian-label-with-avatar"),this.$participantsStatus.removeClass("review-rhp-accodian-label-no-icon")):(this.$participantsAvatar.addClass("invisible"),this.$participantsStatus.removeClass("rhp-accodian-label-with-avatar"),this.$participantsStatus.addClass("review-rhp-accodian-label-no-icon"))},_expandParticipantInfo:function(){this.participantsInfoDetailedView.hasClass("invisible")&&(this.participantsInfoDetailedView.removeClass("invisible"),this.$expandParticipantInfo.addClass("rotated")),this.$participantsAvatar.hasClass("invisible")||(this.$participantsAvatar.addClass("invisible"),this.$participantsStatus.removeClass("rhp-accodian-label-with-avatar"),this.$participantsStatus.addClass("review-rhp-accodian-label-no-icon"))},_collapseParticipantInfo:function(){this.participantsInfoDetailedView.hasClass("invisible")||(this.participantsInfoDetailedView.addClass("invisible"),this.$expandParticipantInfo.removeClass("rotated")),this.$participantsAvatar.hasClass("invisible")&&(this.$participantsAvatar.removeClass("invisible"),this.$participantsStatus.addClass("rhp-accodian-label-with-avatar"),this.$participantsStatus.removeClass("review-rhp-accodian-label-no-icon"))},_handleAddReviewerCoachMarkVisibility:function(e){var t=this.cbViewModel.getSingleSelectedItemModel(),n=this.options.appApi.usersMeApi.options.usersMeIdentityModel,r=t.getCollaboratorDetails(n);if(r)if(r.isOwner){var i=!1;this.options.appApi.rnaApi.done(_.bind(function(t){t._reviewAPI.invoke("ShareContextBoard",{}).done(_.bind(function(t){i=t,i==1?(this._onInviteClick(e),this.$addreviewerscoachmark.css("visibility","hidden"),this.$addreviewerscoachmark.css("visibility","visible"),this.options.appApi.rnaApi.done(function(e){e.isFeatRunning()&&e.isASTestAllowInstantiation()&&e.invokeMethod({methodName:"logASTestReportAPI",methodArgs:["PrimayActionsReviewContextBoard","AddReviewersCoachmarkShownToInitiator","True"]})}),document.getElementById("context-board-menu").scrollIntoView(),this.timer!=undefined&&clearTimeout(this.timer),this.timer=_.delay(_.bind(function(){this.$addreviewerscoachmark.css("visibility","hidden"),this.timer=undefined,this.options.appApi.rnaApi.done(_.bind(function(e){e._reviewAPI.invoke("DisableShareContextBoard",{}).done(_.bind(function(e){},this))},this))},this),4e3)):this.$addreviewerscoachmark.css("visibility","hidden")},this))},this))}else this.$addreviewerscoachmark.css("visibility","hidden")},_onFocusIn:function(e){var t=$(e.target);t.attr("tabindex",0),this._consumeEvent(e)},_onFocusOut:function(e){var t=$(e.target);t.attr("tabindex",-1),this._consumeEvent(e)},_onInviteClick:function(e){this.options.appApi.rnaApi.done(_.bind(function(t){t._reviewAPI.invoke("AddReviewerInFaux",{}).done(_.bind(function(t){if(t===!1){if(this.$inviteParticipant.hasClass("disabled"))return;this.$inviteParticipant.hide(),this.$addParticipantInput.show(),!_.isUndefined(e)&&e!==!1&&this.$(".us-share-address-input").focus(),this.$sendButton.show(),this._refreshSendButtonState();var n="";try{if(!_.isUndefined(this.cbViewModel)){var r=this.cbViewModel.getSingleSelectedItemModel();if(!_.isUndefined(r)){var i=r.getOriginalShared();!_.isUndefined(i)&&i?n=d.VIRGO_ORIGINAL_SHARE:!_.isUndefined(r.attributes)&&!_.isUndefined(r.attributes.is_original_shared)&&r.attributes.is_original_shared&&(n=d.VIRGO_ORIGINAL_SHARE)}}}catch(s){}this.options.appApi.siteCatalystApi.logVirgoCTAEvent(d.VIRGO_REVIEW_CB,d.VIRGO_CTA_ADD_REVIEWER+n,!0,this.options.isDocView)}},this))},this))},_updateFields:function(){var e=this.cbViewModel.getSingleSelectedItemModel(),t=this.options.appApi.usersMeApi.options.usersMeIdentityModel;this._updateActionItemsIfOffline(),this.$createLinkSecurityStr.hide();var r=!1;if(e){var i=e.getCollaboratorDetails(t);i?!i.isOwner||e.getWorkflowStatus()&&e.getWorkflowStatus().toLowerCase()===a.UNSHARED_STRING.toLowerCase()?this.$inviteParticipant.hide():i.isOwner&&(this.$inviteParticipant.show(),r=!0):this.$inviteParticipant.hide()}this.$addParticipantInput.hide(),this.$sendButton.hide();if(e){var s=e.getCollaborators(),o="",u=!1,c=!1;if(s&&s.length>0){var h=0,p=[];s.sort(function(e,t){var n=e.collaboratorId,r=t.collaboratorId;return n>r?1:n<r?-1:0});for(var d=0;d<s.length;d++){var v=s[d];if(v.isOwner){s.splice(d,1),s.splice(0,0,v);break}}var m=e.getInfo(),g=undefined,y=e.attributes.WorkflowType;_.isUndefined(m)||(g=m.user_status),!_.isUndefined(g)&&g.toUpperCase()==a.UNOPENED.toUpperCase()&&(A=n.UNOPENED);for(var d=0;d<s.length;d++){var v=s[d];(r||A!=n.UNOPENED)&&(!v.displayName||v.displayName==="")&&t.get("user_id")&&(v.adobe_id&&v.adobe_id.toLowerCase()==t.get("user_id").toLowerCase()||v.collaboratorId&&v.collaboratorId.toLowerCase()==t.get("user_id").toLowerCase())&&t.get("display_name")&&(v.displayName=t.get("display_name")),v.collaboratorId=="all"?u=!0:v.collaboratorId=="orgEverybody"&&(c=!0);var b=v.displayName;if(!b||b==""){b=v.email;if(!v.email||v.email==""){b=n.ANONYMOUS;continue}}if(v.collaboratorId=="orgEverybody")continue;var w=v.isOwner?n.OWNER_UC:"",E=_.template(f)({viewId:e.getId(),participantId:d,participantName:b,participantStatus:w,participantDateSeparator:"",participantLastAccessDate:""});if(!v.isOwner){var S=e.getId()+"-"+d;p.push(S)}o+=E,h++}r&&(this.$createLinkSecurityStr.show(),u?this.$createLinkSecurityStr.html(n.CREATE_LINK_SECURITY_INFO):c?this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaUnifiedSharePopupAPI.getOrgName().then(_.bind(function(e){e&&e.orgName&&e.orgName.length>0&&this.$createLinkSecurityStr.html(_.template(n.CREATE_LINK_ORG_SECURITY_INFO,{ORGNAME:e.orgName}))},this))},this)):e.get("bootstrap")&&!e.get("bootstrap").is_legacy_asset?this.$createLinkSecurityStr.html(n.CREATE_LINK_PRIV_SECURITY_INFO):this.$createLinkSecurityStr.hide()),this.$participantsInfo.html(o);for(var d=0;d<p.length;++d){var x=p[d].replace(/\:/g,"\\:"),T="#review-participant-name-"+x,N="#review-participant-info-"+x,C="#review-participant-status-"+x;this.$participantNameId=this.$(T),this.$participantInfoId=this.$(N),this.$participantStatusId=this.$(C),this.$participantNameId.addClass("review-participant-name-non-owner-alignment"),this.$participantInfoId.addClass("review-participant-info-non-owner-alignment"),this.$participantStatusId.addClass("invisible")}var k=_.template(l)({ENTER_EMAIL_ADDR:n.ENTER_EMAIL_ADDR,ADDRESS_BOOK:n.ADDRESS_BOOK});this.$addParticipantInput.html(k);var L=this.options.appApi,A=A=_.template(L.isAppUsingAV2UI()?n.AV2_N_RECIPIENTS:n.N_RECIPIENTS,{num:h});this.$participantsStatus.html(A),this.$participantsStatus.attr("title",A),this.$participantsOverAllStatus.attr("aria-label",A),this.$participantsMainDiv.show()}else this.$participantsMainDiv.hide()}else this.$participantsMainDiv.hide()},_manageParticipantInfoToggleState:function(){var e=this.cbViewModel.getSingleSelectedItemModel(),t=this.options.appApi.usersMeApi.options.usersMeIdentityModel,n=e.getCollaboratorDetails(t);if(n)if(!n.isOwner){var r=!1;this.options.appApi.rnaApi.done(_.bind(function(e){e._reviewAPI.invoke("ShareContextBoard",{}).done(_.bind(function(e){r=e,r!=1?this._expandParticipantInfo():this._collapseParticipantInfo()},this))},this))}else this._expandParticipantInfo()},_updateAvatars:function(){var t=this.options.selectionUiModel.getSingleSelectedItemModel();if(t&&!t.get("avatarsFetched")){var n=e.opFactory.create("FetchingPublicProfileInfoOp",_.extend({},this.options,{global:!0})),r=[],i=t.getCollaborators();for(var s=0;i&&s<i.length;s++){var o=i[s];(_.isUndefined(o.avatarURL)||o.avatarURL==="")&&o.userId&&r.push(o.userId)}if(r.length&&!t.fetchingPublicProfileInfo){t.fetchingPublicProfileInfo=!0;var u=n.getCachedDataFromNative(r);u.then(_.bind(function(e){for(var r=0;r<i.length;r++){var s=i[r];e.cachedData[s.userId]&&(s.avatarURL=e.cachedData[s.userId].images[138],s.hasDefaultImage=e.cachedData[s.userId].hasDefaultImage)}this._loadAvatars();if(e.nonCooldownGUIDs.length<1){t.fetchingPublicProfileInfo=!1,t.set("avatarsFetched",!0,{silent:!0});return}var o=n.run(e.nonCooldownGUIDs);o.then(_.bind(function(e){var n=t.getCollaborators();for(var r=0;n&&r<n.length;r++){var i=n[r];e[i.userId]&&(i.avatarURL=e[i.userId].images[138],i.hasDefaultImage=e[i.userId].hasDefaultImage)}t.set("avatarsFetched",!0,{silent:!0}),this._loadAvatars(),t.fetchingPublicProfileInfo=!1},this),_.bind(function(e){t.fetchingPublicProfileInfo=!1},this))},this),_.bind(function(e){t.fetchingPublicProfileInfo=!1},this))}}this._loadAvatars()},_escapeId:function(e){if(e.length)return e.replace(/(:|\.|\[|\]|,|=|@|\/)/g,"\\$1")},_loadAvatars:function(){var e=this.cbViewModel.getSingleSelectedItemModel();if(e){var t=e.getCollaborators(),n="",r=3,i=0;for(var s=0;t&&s<t.length;s++){var o=t[s],u=this.$("#review-participant-avatar-img-"+this._escapeId(e.getId())+"-"+s),a=this.$("#review-participant-avatar-icon-"+this._escapeId(e.getId())+"-"+s),f=this.$("#review-participant-avatar-default-image-"+this._escapeId(e.getId())+"-"+s),l="",c=this.options.rootView._getParticipantAvatar(o.adobe_id,o.email);a.hide(),u.hide(),f.hide();if(o.collaboratorId=="all"||o.collaboratorId=="orgEverybody")continue;!o.avatarURL&&c!=""&&(o.avatarURL=c),o.hasDefaultImage?(l='<div class="rhp-overall-status-avatar avatar-border-themes rhp-avatar-icon-default-'+i+'"></div>',f.addClass("rhp-avatar-icon-default-"+i),f.show(),i=(i+1)%8):o.avatarURL?(u[0].onerror=function(){u.hide(),a.show()},u.attr("src",o.avatarURL),u.show(),l='<img class="rhp-overall-status-avatar avatar-border-themes" src="'+o.avatarURL+'"></img>'):(a.show(),l='<div class="rhp-overall-status-avatar avatar-border-themes rhp-avatar-icon-anonymous"></div>'),r-->0&&(n+=l)}this.$participantsAvatar.html(n)}this.options.appApi.rnaApi.done(function(t){this.sharedFileSelectWorkflowEndParticipantLogged==undefined&&(this.sharedFileSelectWorkflowEndParticipantLogged=!0,t.logPerformance("SharedTabFileSelect","end")),t.logPerformance("ReviewFilesParticipantsReview_"+e.cid,"end")})},changeDateCaseForTodayYesterday:function(e){return e.includes(n.TODAY)?e=e.replace(n.TODAY,n.TODAY.toLowerCase()):e.includes(n.DATE_YESTERDAY)&&(e=e.replace(n.DATE_YESTERDAY,n.DATE_YESTERDAY.toLowerCase())),e},getParticipantStatus:function(e){var t="",r="",s="";if(e.role&&e.status){if(e.role==a.REVIEW_CREATOR)t=n.INITIATOR;else if(!e.email||e.email==""||e.is_guest)t=n.GUEST;if(e.status.toUpperCase()==a.FINISHED.toUpperCase()&&e.role!=a.REVIEW_CREATOR)r=n.FINISHED_REVIEWING;else if(e.participant_last_commented_date&&e.participant_last_commented_date!=""){var o=e.participant_last_commented_date,u=this.options.isInSearchResultsView?undefined:"YYMMDDHHmmssZ",f=i.formatDateWithFormat(o,u,!0);f.includes(n.TODAY)||f.includes(n.DATE_YESTERDAY)?r=n.LAST_COMMENTED+" "+this.changeDateCaseForTodayYesterday(f):r=n.LAST_COMMENTED+" "+f}else if(e.participant_last_access_date&&e.participant_last_access_date!=""){var o=e.participant_last_access_date,u=this.options.isInSearchResultsView?undefined:"YYMMDDHHmmssZ",f=i.formatDateWithFormat(o,u,!0);f.includes(n.TODAY)||f.includes(n.DATE_YESTERDAY)?r=n.LAST_ACCESSED+" "+this.changeDateCaseForTodayYesterday(f):r=n.LAST_ACCESSED+" "+f}else e.status.toUpperCase()==a.NOT_OPENED.toUpperCase()?r=n.NOT_OPENED:r="";!e.email||e.email==""||e.is_guest?s=t:t!=""&&r!=""?s=t+"  ●  "+r:s=t?t:r}return s},_updateActionItemsIfOffline:function(){var e=this.options.appApi.networkConnectivityApi.isOnline();e?this.$inviteParticipant.removeClass("disabled"):this.$inviteParticipant.addClass("disabled")},_detachChildViewsAndClear:function(){var e=this.options.sendFilesUiModel.get("email_addr_collection");e.length>0&&e.reset()},_updateEmailFields:function(){var e=this.options.sendFilesUiModel,t=e.get("US_tab_open")==="share";this.$el.removeClass("disabled"),this._chickletEditControl.enable(!0)},_onEmailListClose:function(e){var t=$(e.target),n,r,i=this.options.sendFilesUiModel.get("email_addr_collection");n=t.data("asset-id"),n&&(r=i.get(n),i.remove(r)),this._updateAddedMembersText(i.length),this._refreshSendButtonState()},_acceptPGCRecipients:function(t){var n=[];t.map(_.bind(function(t){if(!_.isUndefined(t.get("token")))n.push(t.get("token"));else{var r=_.extend({},this.options,{newContactEmail:t.get("email")});e.opFactory.create("AcceptingNewPGCSuggestionOp",r).run()}},this));var r=_.extend({},this.options,{tokens:n});e.opFactory.create("AcceptingPGCSuggestionsOp",r).run()},_onSendButtonClick:function(t){if(this.options.issendenabled){this.options.appApi.rnaApi.done(function(e){e.logPerformance("AddInviteToSharedFile","start")});var r=this.options.sendFilesUiModel.getRecipientsArray(),i=_.clone(this.options.autoCCollection),s=this.options.autoCCollection.filter(function(e){return _.contains(r,e.get("email"))});i.reset(s),_.each(r,function(e){i.add({email:e})}),this._acceptPGCRecipients(i);var o=this.options.sendFilesUiModel.get("email_addr_collection"),u=o.models,f=this.cbViewModel.getSingleSelectedItemModel(),l=f.getCollaborators(),c=_.map(l,function(e){return e.email}),h=[];for(var p=0;p<u.length;p++){var v=u[p].get("email");_.contains(c,v)||h.push(v)}if(h.length>0){var m=f.getParcelId(),g=e.opFactory.create("ReviewAddParticipantOp",_.extend(this.options)).run({parcelID:m,emails:h});g.then(_.bind(function(t){this.response=t;var r=this.options,i=e.opFactory.create("GettingCollaborationMetadatapOp",_.extend({},this.options,{global:!0}));i.run(f.getAssetId()).then(_.bind(function(e){if(e){var t=this.cbViewModel.getSingleSelectedItemModel();l&&_.each(e,_.bind(function(e){var t=_.find(l,_.bind(function(t){return t.collaboratorId===e.collaboratorId},this));t&&(t.avatarURL&&(e.avatarURL=t.avatarURL),e.hasDefaultImage=t.hasDefaultImage)},this)),t.setCollaborators(e),t.set("avatarsFetched",!1,{silent:!0}),this._updateFields(),this._updateAvatars(),this._renderChildViews(),this._expandParticipantInfo()}},this),function(e){});var s="";h.length>1?t.errorCode===""?s=n.REVIEWERS_ADDED_SUCCESSFULLY_TOAST:t.errorCode==="SharingRestrictions"?s=n.PARTIAL_RECIPIENTS_FAILED_SHARING_RESTRICTION_MY_ORG:s=n.PARTIAL_RECIPIENTS_FAILED_GENERIC:s=n.REVIEWER_ADDED_SUCCESSFULLY_TOAST,this.options.appApi.rnaApi.done(function(e){e.logPerformance("AddInviteToSharedFile","end")}),this.options.appApi.pluginsApi.callPluginMethod(this.options.pluginId,"showToastForReviewAction",s,this._getResolvedPromise(),!0),r.appApi.rnaApi.done(_.bind(function(e){try{e._reviewAPI.invoke("logEurekaEventAndDataGroup",["Eureka:Manage","Use","Add participant","EurekaActions",m,a.REVIEW_CREATOR])}catch(t){}e._reviewAPI.invoke("addParticipant",[m,h])},this))},this),_.bind(function(e){console.log("error while adding participant:"+e);var t=n.REVIEWER_ADDED_FAILED_TOAST;this.options.appApi.pluginsApi.callPluginMethod(this.options.pluginId,"showToastForReviewActionNoIcon",{argsString:t},this._getResolvedPromise(),!0)},this))}this.$inviteParticipant.show(),this.$addParticipantInput.hide(),this.$sendButton.hide(),this.$addedMembersListContainer.hide(),this._detachChildViewsAndClear();var y="";try{if(!_.isUndefined(f)){var b=f.getOriginalShared();!_.isUndefined(b)&&b?y=d.VIRGO_ORIGINAL_SHARE:!_.isUndefined(f.attributes)&&!_.isUndefined(f.attributes.is_original_shared)&&f.attributes.is_original_shared&&(y=d.VIRGO_ORIGINAL_SHARE)}}catch(w){}this.options.appApi.siteCatalystApi.logVirgoCTAEvent(d.VIRGO_REVIEW_CB,d.VIRGO_CTA_SEND+y,!0,this.options.isDocView)}},_changeSendButtonState:function(e){this.options.issendenabled=e,e?($("#sendReviewButton").removeAttr("disabled"),this.$sendReviewButton.css("opacity","1"),$("#sendReviewButton").attr("aria-label",n.ADD),$("#sendReviewButton").attr("tabindex","-1")):($("#sendReviewButton").attr("disabled","true"),this.$sendReviewButton.css("opacity","0.5"),$("#sendReviewButton").attr("aria-label",n.ADD+", "+n.DIMMED),$("#sendReviewButton").removeAttr("tabindex"))},_refreshSendButtonState:function(){var e=this.options.sendFilesUiModel.get("email_addr_collection");e.models.length>0?this._changeSendButtonState(!0):this._changeSendButtonState(!1)},_processRecipients:function(e){var t=this.options.sendFilesUiModel.get("email_addr_collection");t.length>0?this._toggleSubjectAndMessageVisibility(!0):this._toggleSubjectAndMessageVisibility(!1),e&&(this._chickletEditControl.processRecipients(t),this._renderEmailList(t))},_renderEmailList:function(t){var r=this.$filesList,i=this.options.sendFilesUiModel,s=i.get("view_mode"),u=this.options,a,f,l,c,h,p=this._computeMaxAvailWidth();e.Util.isCEF()&&r.show(),r.empty(),t.each(_.bind(function(e){f=e.get("name")?e.get("name"):e.get("email"),l=e.get("email"),h=e.get("valid"),c=this._localAddressTemplate({name:f,email:l,remove:n.SHARE_EMAIL_REMOVE,asset_id:e.cid,ariaRemoveLabel:this._getRemoveAriaLabel(f)}),f&&h?r.prepend(c):h||t.remove(e)},this)),_.each(this.$(".share-email-list-name"),function(e){a=$(e);var t={truncateFromRight:!0,truncateFromExt:!1,ellipsis:"...",maxIterations:10};o.truncateElementText(a,p,t)}),this.options.includeInTabOrder||this.$(".share-email-list-close").attr("tabindex","-1"),this._updateAddedMembersText(t.length)},_updateAddedMembersText:function(e){e!=undefined&&e>=0&&this.$addedMembers.html(n.ADDED_RECIPIENT_NO_COUNT+" ("+e+")")},_getRemoveAriaLabel:function(e){return _.template(n.GENERIC_ARIA_LABEL_STRING,{prefix:e,suffix:n.SHARE_EMAIL_REMOVE+" "+n.BUTTON})},_initialiseEmailAddFetching:function(){var t=this.options,n=t.sendFilesUiModel,r=t.limitsModel,i=this._getResolvedPromise();this.$addreviewerscoachmark.css("visibility","hidden"),this._displayIPMToUser=!1,n.set({is_individual:!0}),e.Util.isCEF()&&n.get("autocomplete_local_contacts_imported")===!1&&(i=this._importLocalEmailContacts(),i.then(_.bind(function(){n.set({autocomplete_local_contacts_imported:!0})},this))),e.Util.isCEF()&&n.get("autocomplete_cloud_contacts_imported")===!1&&e.opFactory.create("DesktopFetchingAutocompleteListOp",this.options).run().then(_.bind(function(){n.set({autocomplete_cloud_contacts_imported:!0})},this)),e.Util.isCEF()&&n.get("autocomplete_msgraph_contacts_imported")===!1&&this.options.appApi.rnaApi.done(_.bind(function(t){t.rnaMicrosoftGraphAPI.isMicrosoftGraphEnabled().done(_.bind(function(){t.rnaMicrosoftGraphAPI.isSignedInMicrosoftGraph().done(_.bind(function(t){if(t){var r=e.opFactory.create("MicrosoftGraphOutlookContactsOp",this.options),i=d.VIRGO_CTA_ADD_REVIEWER,s=d.USE,o="Get MSGraph Contacts for SignedIn User";this.options.appApi.siteCatalystApi.logScEvent([i,s,o]),r.run().then(_.bind(function(e){var t=this.options.autoCCollection;t.add(e.toJSON(),{merge:!0}),n.set({autocomplete_msgraph_contacts_imported:!0})},this),_.bind(function(e){},this))}},this))},this))},this)),console.log("_initialiseEmailAddFetching"),console.log(this.options.autoCCollection),this._autocompleteControl.options.autoCCollection=this.options.autoCCollection},_toggleSubjectAndMessageVisibility:function(e){e?(this.$addedMembers.show(),this.$addedMembersListContainer.show()):(this.$addedMembers.hide(),this.$addedMembersListContainer.hide())},_importLocalEmailContacts:function(){return this.options.appApi.rnaApi.then(_.bind(function(e){return e.stApi.getOutlookAutoCompleteListAtIdleAPI().then(_.bind(function(e){return e._addEventListener("custom:onOutlookAddressesFetchComplete",_.bind(function(e,t){var n=t.params,r=n.split(";"),i,s="",o="",u,a=-1,f=this.options.autoCCollection;r.pop(),_.each(r,function(e){a=_.lastIndexOf(e,"<"),a===-1?(o=e,s=""):(o=e.substring(a+1),s=e.substring(0,a)),_.last(o)===">"&&(o=o.slice(0,-1)),_.last(s)===" "&&(s=s.slice(0,-1)),f.get(o)&&f.remove(o),f.add({email:o,name:s,isLocalContact:!0})})},this)),$.Deferred().resolve().promise()},this),_.bind(function(e){return $.Deferred().reject().promise()},this))},this),_.bind(function(){return $.Deferred().reject().promise()},this))},_addUiModelEventListeners:function(){var e=this.options.sendFilesUiModel;e.get("email_addr_collection").on("all",this._onRecipientsChange),e.on("change:enable_autocomplete",this._onEnableAutocompleteChange)},_removeUiModelEventListeners:function(){var e=this.options.sendFilesUiModel;e.get("email_addr_collection").off("all",this._onRecipientsChange),e.off("change:enable_autocomplete",this._onEnableAutocompleteChange)},_onViewEvent:function(t,n){t==="CHICKLET_REMOVED"&&this._onChickletRemoved(),e.View.prototype._onViewEvent.call(this,t,n)},_onRecipientsChange:function(){this._refreshSendButtonState(),this._onDebouncedRecipientsChange()},_onDebouncedRecipientsChange:function(){this._processRecipients(!0)},_getSubjectInitialAriaLabel:function(){return""},_getMessageInitialAriaLabel:function(){return""},_getAriaLabelForDesktop:function(e,t){return _.template(n.GENERIC_ARIA_LABEL_STRING,{prefix:e,suffix:t})},_onEnableAutocompleteChange:function(){this._renderChildViews()},_addKeyEventListener:function(){this.options.appApi.keyApi.pushKeyHandler(this)},_removeKeyEventListener:function(){this.options.appApi.keyApi.popKeyHandler(this)},_onKeyDown:function(e){var t=!1,n=e.which,r=!1;if(_.isUndefined(this._chickletEditControl))return t;var i=this._chickletEditControl.$input,o=$(e.target),n=e.which;if(this._chickletEditControl._input._hasFocus()){n===32?(t=!0,_.defer(_.bind(function(){this._setRecipientModels(!0)},this))):n===13?this._autocompleteControl&&(this._autocompleteControl.makeChoice()||_.defer(_.bind(function(){this.abortPGCRequest(),this._setRecipientModels()},this))):n===9?this._autocompleteControl&&!e.shiftKey&&this._autocompleteControl.makeChoice()&&(t=!0):n===8?this._chickletEditControl.hasText()||(t=!0):n===40?this._autocompleteControl&&(this._autocompleteControl.selectDown(),r=!0,t=!0):n===38?this._autocompleteControl&&(this._autocompleteControl.selectUp(),r=!0,t=!0):n===27&&this._autocompleteControl&&(t=!0),r?i.attr("aria-activedescendant",this._autocompleteControl.$(".selected").attr("id")):i.removeAttr("aria-activedescendant");if(t)return this._consumeEvent(e),t}if(o.closest(".review-rhp-participants")&&o.closest(".review-rhp-participants").length>0){var u=e.shiftKey,a="",f,l=$(".review-sent-files-rhp"),c=$(".rhp-participants-expanded"),h=s.isElementDisplayed(c),p,d=o.hasClass("review-participant-detail"),v=$(".rhp-participants-info, .add-participants-info"),m=$(".add-participants-info"),g=$(".share-email-list"),y=$(".add-participant-box"),b=o.closest(".share-email-list").length==0?!1:!0,w=s.descendantHasFocus(y);l.length==0&&(l=$(".context-board-rhp")),!s.isElementDisplayed(this.$inviteParticipant)||this.$inviteParticipant.hasClass("disabled")?(f=$(".review-participant-detail:first"),a=":not(.review-participant-detail:gt(0))"):(f=this.$inviteParticipant,a=":not(.review-participant-detail)");switch(n){case 13:case 32:if(o.hasClass("rhp-participants-overall-status"))this._toggleParticipantInfo();else if(o.hasClass("rhp-invite-participants"))this._onInviteClick(),p=s.getNextFocusableDescendant(m,u,!1,":not('.review-participant-detail')");else if(o.hasClass("share-files-button"))this._onSendButtonClick(e),p=this.$inviteParticipant;else if(o.hasClass("us-share-address-book"))this._onAddressBookClick();else if(o.hasClass("share-email-list-close")){this._onEmailListClose(e),p=s.getNextFocusableDescendant(g,u,!1,":not('.review-participant-detail')");if(p.attr("tabindex")!=0&&p.attr("tabindex")!=-1||p.length==0)p=s.getNextFocusableDescendant(m,u,!1,":not('.review-participant-detail')")}t=!0;break;case 9:b?u?p=$(".us-share-address-book"):p=$(".share-files-button"):!d||w?p=s.getNextFocusableDescendant(l,u,!0,a+":not('.share-email-list-close')"):p=s.getFocusableDescendantAfter(l,u,!0,a+":not('.share-email-list-close')",f);break;case 38:u=!0;case 40:(w||b)&&h?(p=s.getNextFocusableDescendant(g,u,!1,""),p.length==0&&w&&(p=s.getNextFocusableDescendant(v,u,!1,""))):(d||!u)&&h&&(p=s.getNextFocusableDescendant(v,u,!1,""))}return p&&p.length>0&&(t=!0,p.focus()),t&&(s.suppressFocusEventHandler(e),this._consumeEvent(e)),t}return t},_onKeyup:function(e){var t=!1,n=e.which;return this._chickletEditControl._input._hasFocus()?(n===32&&(t=!0,_.defer(_.bind(function(){this._setRecipientModels(!0)},this))),t):t},_setAutocompleteFilterValue:function(e){this._autocompleteControl&&(this.options.appApi.sessionApi.isSignedInReader()?e!==""?(this._autocompleteControl.setFilter(e),this.PGCOp.updateSearchString(e),this.PGCOp.run().then(_.bind(function(t){t.length>0&&(this.options.pgcModel.set("pgcSuggestionsCollection",t),this._autocompleteControl.setFilter(e))},this))):(this.abortPGCRequest(),this._autocompleteControl.setFilter(e)):this._autocompleteControl.setFilter(e))},abortPGCRequest:function(){this.options.appApi.sessionApi.isSignedInReader()&&(this.PGCOp.updateSearchString(""),this.PGCOp.run())},_onRecipientsInput:function(){this.$addreviewerscoachmark.css("visibility","hidden");var e=this._chickletEditControl.val();this._setAutocompleteFilterValue(e)},_onRecipientsPaste:function(){this.$addreviewerscoachmark.css("visibility","hidden"),_.delay(_.bind(function(){var e=this._chickletEditControl.val();this._setRecipientModels(undefined,!0),this._setAutocompleteFilterValue(e)},this),100)},_onRecipientsBlur:function(){return this._setRecipientModels(),this._autocompleteControl&&this._autocompleteControl.setFilter(undefined),!0},_setRecipientModels:function(e,t){var n=this._chickletEditControl.val();!_.isUndefined(e)&&e&&!n.match(/.*@.*/)&&(n+=" "),this._setRecipientsFromText(n,undefined,t)},_setRecipientsFromText:function(t,n,r){var i,s,o=this.options,u=o.sendFilesUiModel;if(e.Util.isCEF()&&t.match(/.+\s$/)&&this._autocompleteControl.filteredCollection.length!==0&&!t.match(/.*@.*|.+\s\s$/)){this._chickletEditControl.setValue(t);return}t=t.replace(/(\r\n|\n|\r)/gm,""),t.match(/(<\S+>)/)?i=t.split(/\s*[,;]+\s*/):i=t.split(/\s*[,;\s]+\s*/),s=u.parseEmailArray(i,n);if(s.length>0&&s[0].get("valid")!=0){if(!r||s.length>1)u.addRecipientsToCollection(s),this._chickletEditControl.clear();u.get("autocomplete_avoided")||u.set("autocomplete_avoided",!0)}},_onSubjectInputOnce:function(){var e=ScConstants.SHARE,t=ScConstants.USE,n="Add subject";this.options.sendFilesUiModel.set("is_subject_user_input",!0)},_onMessageInputOnce:function(){var e=ScConstants.SHARE,t=ScConstants.USE,n="Add message";this.options.sendFilesUiModel.set("is_message_user_input",!0)},_getSubjectText:function(){var e;return e.toString()},setSubject:function(e){},_getMessageText:function(){var e;return e},setMessage:function(e){},_onShareAddrHelp:function(){var e=this.options.sendFilesUiModel;e.set({display_individual_help:!0})},_onShareAddrMsgClose:function(){var e=this.options.sendFilesUiModel;e.set({display_individual_help:!1}),this._chickletEditControl.focus(!0)},_onShareAddressClick:function(){this._chickletEditControl.focus(!0)},_onChickletRemoved:function(){this._chickletEditControl.focus(!0)},_computeMaxAvailWidth:function(){var e=this.$(".share-tool-frame").width(),t=this.$(".share-email-list").outerWidth(!0)-this.$(".share-email-list").outerWidth();return e-3*t},_onAddressBookClick:function(){this.$addreviewerscoachmark.css("visibility","hidden");var e=$.Deferred();this.options.appApi.rnaApi.done(_.bind(function(t){t.stApi.resolveAddressBookApi().then(_.bind(function(t){t._addEventListener("custom:onAddressesAdded",_.bind(function(t,n){var r=n.params;r.length?e.resolve(r):e.reject()},this))},this),_.bind(function(){e.reject()},this))},this)),e.then(_.bind(function(e){this._setRecipientsFromText(e)},this),_.bind(function(){},this))}}),e.ReviewRhpParticipantsView}),define("core/dev/templates/rhp/review/primary-actions-template",[],function(){return'<div class = "review-rhp-primary-actions rhp-option-item"><div class="shared-rhp-action rhp-actions-item with-margins copyReviewLink cb-active-text-theme cb-active-background-theme" tabindex="-1" title="<%= copy_review_link_t %>" aria-label="<%= copy_review_link_aria %>"><div class="shared-rhp-action-icon copyReviewLink"></div><div class="shared-rhp-action-name"><%= copy_review_link %><div id="copy-review-link-coachmark" class="ui-theme theme-tooltip us-coachmark-text">       <span class="ui-theme theme-tooltip-text"><%= copy_review_link_coachmark %></span></div></div></div><div class="shared-rhp-action rhp-actions-item with-margins unshareReview cb-active-text-theme cb-active-background-theme" tabindex="-1" title="<%= unshare_review_t %>" aria-label="<%= unshare_review_aria %>"><div class="shared-rhp-action-icon unshareReview"></div><div class="shared-rhp-action-name"><%= unshare_review %></div></div><div id = "rhp-menu-separator-id" class="rhp-menu-separator theme-border"></div><div class="shared-rhp-action rhp-actions-item with-margins removeMe cb-active-text-theme cb-active-background-theme" tabindex="-1" title="<%= remove_me_t %>" aria-label="<%= remove_me_aria %>"><div class="shared-rhp-action-icon removeMe"></div><div class="shared-rhp-action-name"><%= remove_me %></div></div><div class="shared-rhp-action rhp-actions-item with-margins downloadACopy cb-active-text-theme cb-active-background-theme" tabindex="-1" title="<%= download_a_copy_t %>" aria-label="<%= download_a_copy_aria %>"><div class="shared-rhp-action-icon downloadACopy"></div><div class="shared-rhp-action-name" ><%= download_a_copy %></div></div><div class="shared-rhp-action rhp-actions-item with-margins closeReview cb-active-text-theme" tabindex="-1" title="<%= close_review_t %>" aria-label="<%= close_review_aria %>"><div class="shared-rhp-action-icon closeReview"></div><div class="shared-rhp-action-name"><%= close_review %></div></div><div class="shared-rhp-action rhp-actions-item with-margins deleteReview cb-active-text-theme cb-active-background-theme" tabindex="-1" title="<%= delete_review_t %>" aria-label="<%= delete_review_aria %>"><div class="shared-rhp-action-icon deleteReview"></div><div class="shared-rhp-action-name"><%= delete_review %></div></div><div class="shared-rhp-action rhp-actions-item with-margins removeUaccepted cb-active-text-theme" tabindex="-1" title="<%= removeUnaccepted %>" aria-label="<%= removeUnaccepted_aria %>"><div class="shared-rhp-action-icon removeUnaccepted"></div><div class="shared-rhp-action-name"><%= removeUnaccepted %></div></div><div class="shared-rhp-action rhp-actions-item with-margins reportAbuse cb-active-text-theme cb-active-background-theme" tabindex="-1" title="<%= report_abuse_t %>" aria-label="<%= report_abuse_aria %>"><div class="shared-rhp-action-icon reportAbuse"></div><div class="shared-rhp-action-name"><%= report_abuse %></div></div><div class="shared-rhp-action rhp-actions-item with-margins removeFromTracking cb-active-text-theme" tabindex="-1" title="<%= remove_tracking %>" aria-label="<%= remove_tracking_aria %>"><div class="shared-rhp-action-icon closeReview"></div><div class="shared-rhp-action-name"><%= remove_tracking %></div></div><div class="shared-rhp-action rhp-actions-item with-margins removeFromRecent cb-active-text-theme cb-active-background-theme" tabindex="-1" title="<%= removefromrecent_t %>" aria-label="<%= removefromrecent_aria %>"><div class="shared-rhp-action-icon removeFromRecent"></div><div class="shared-rhp-action-name"><%= removefromrecent %></div></div></div>'}),define("core/dev/views/rhp/review/primary-actions-view",["core/ac-core","core/templates/rhp/review/primary-actions-template","i18n!core/nls/ui-strings","core/utils/util","core/utils/action-ids","core/utils/view-util","core/utils/sc-analytics","core/models/workflow-status-strings","core/views/rhp-actions-plugins-view","core/views/selection-action-send-menu-view","core/views/view"],function(e,t,n,r,i,s,o,u){return e.RhpReviewPrimaryActionsView=e.View.extend({events:{"click    .shared-rhp-action.copyReviewLink":"_onCopyReviewLinkClick","click    .shared-rhp-action.downloadACopy":"_onDownloadACopyClick","click    .shared-rhp-action.closeReview":"_onCloseReviewClick","click    .shared-rhp-action.unshareReview":"_onUnshareReviewClick","click    .shared-rhp-action.removeMe":"_onRemoveMeClick","click    .shared-rhp-action.reportAbuse":"_onReportAbuseClick","click    .shared-rhp-action.deleteReview":"_onDeleteReviewClick","click    .shared-rhp-action.removeFromTracking":"_onRemoveFromTrackingClick","click    .shared-rhp-action.removeUaccepted":"_onRemoveUnacceptedClick","click    .shared-rhp-action.removeFromRecent":"_onRemoveFromRecentClick"},initialize:function(){e.View.prototype.initialize.call(this),this._addKeyEventListener(),this._addFocusEventListener(),this._addUiModelEventListeners(),this._throttleDeleteClick=_.throttle(this._throttleDeleteClick,1500),this._throttleUnshareClick=_.throttle(this._throttleUnshareClick,1500),this._throttleRemoveMeClick=_.throttle(this._throttleRemoveMeClick,1500),this._throttleReportAbuseClick=_.throttle(this._throttleReportAbuseClick,1500),this._throttleRemoveFromRecentClick=_.throttle(this._throttleRemoveFromRecentClick,1500),this.timer=undefined,this.userRole=undefined},render:function(){var r=this.options,i=this.$el,s=this.$send,o=this.options.appApi,u=!1;return u=o.isAppUsingAV2UI(),e.View.prototype.render.call(this),i.children().length===0&&i.html(_.template(t)({copy_review_link:u?n.AV2_COPY_REVIEW_LINK:n.COPY_REVIEW_LINK,download_a_copy:u?n.AV2_SAVE_A_COPY:n.SAVE_A_COPY,close_review:u?n.AV2_CLOSE_REVIEW:n.CLOSE_REVIEW,unshare_review:u?n.AV2_UNSHARE_REVIEW:n.UNSHARE_REVIEW,delete_review:n.DELETE,remove_me:u?n.AV2_REMOVE_ME:n.REMOVE_ME,report_abuse:u?n.AV2_REPORT_ABUSE:n.REPORT_ABUSE,remove_tracking:n.REMOVE,removeUnaccepted:n.REMOVE_TODO_CARD,removefromrecent:n.REMOVE_FROM_RECENT,copy_review_link_aria:n.COPY_REVIEW_LINK+", "+n.BUTTON,download_a_copy_aria:n.SAVE_A_COPY+", "+n.BUTTON,close_review_aria:n.CLOSE_REVIEW+", "+n.BUTTON,unshare_review_aria:n.UNSHARE_REVIEW+", "+n.BUTTON,delete_review_aria:n.DELETE+", "+n.BUTTON,remove_me_aria:n.REMOVE_ME+", "+n.BUTTON,report_abuse_aria:n.REPORT_ABUSE+", "+n.BUTTON,remove_tracking_aria:n.REMOVE+", "+n.BUTTON,removeUnaccepted_aria:n.REMOVE_TODO_CARD+", "+n.BUTTON,removefromrecent_aria:n.REMOVE_FROM_RECENT+", "+n.BUTTON,copy_review_link_t:n.COPY_REVIEW_LINK_T,download_a_copy_t:n.SAVE_COPY_TOOLTIP,close_review_t:n.CLOSE_REVIEW_T,unshare_review_t:n.UNSHARE_REVIEW_T,delete_review_t:n.DELETE_FILE_VIRGO_TOOLTIP,remove_me_t:n.REMOVE_ME_T,report_abuse_t:n.REPORT_ABUSE_T,copy_review_link_coachmark:n.COPY_REVIEW_LINK_COACHMARK,removefromrecent_t:n.REMOVE_FROM_RECENT_TOOL_TIP})),this._initWrappers(),this._updateAV2Icons(u),this._handleCopyReviewLinkCoachMarkVisibility(),this._updateFields(),_.delay(_.bind(function(){var e=document.getElementById("rhp-content");e&&(e.style.opacity=1),this.options.appApi.displayApi.showSpinner(!1)},this),500),this},_initWrappers:function(){this.$primaryActionsView=this.$(".review-rhp-primary-actions"),this.$removeMeIcon=this.$(".shared-rhp-action-icon.removeMe"),this.$reportAbuseIcon=this.$(".shared-rhp-action-icon.reportAbuse"),this.$copyLink=this.$(".shared-rhp-action.copyReviewLink"),this.$downloadCopy=this.$(".shared-rhp-action.downloadACopy"),this.$closeReview=this.$(".shared-rhp-action.closeReview"),this.$unshareReview=this.$(".shared-rhp-action.unshareReview"),this.$removeMe=this.$(".shared-rhp-action.removeMe"),this.$reportAbuse=this.$(".shared-rhp-action.reportAbuse"),this.$deleteReview=this.$(".shared-rhp-action.deleteReview"),this.$removeFromTracking=this.$(".shared-rhp-action.removeFromTracking"),this.$removeUnaccepted=this.$(".shared-rhp-action.removeUaccepted"),this.$copyReviewLinkCoachmark=this.$("#copy-review-link-coachmark"),this.$inviteParticipant=this.$(".rhp-invite-participants"),this.$menuButtonSeparator=this.$("#rhp-menu-separator-id"),this.cbViewModel=this.options.cbViewModel,this.$removeFromRecent=this.$(".shared-rhp-action.removeFromRecent")},_addUiModelEventListeners:function(){this.options.selectionUiModel.on("enableUnshareReviewAction",this._updateActionItemsIfOffline)},_updateAV2Icons:function(e){e&&(this.$removeMeIcon.removeClass("removeMe"),this.$reportAbuseIcon.removeClass("reportAbuse"),this.$removeMeIcon.addClass("removeMeAV2"),this.$reportAbuseIcon.addClass("reportAbuseAV2"))},_updateActionItemsIfOffline:function(){var e=this.options.appApi.networkConnectivityApi.isOnline(),t=this.cbViewModel.getSingleSelectedItemModel(),n=undefined,r=undefined,i=t.attributes.aep_workflow_info,s=i&&i.invitationUrn?i.invitationUrn:"",o=i&&i.id?i.id:"";r=o!=""?o:t.attributes.asset_id,n=s!=""?s:t.attributes.asset_id,e?(this.$closeReview.removeClass("disabled"),this.$downloadCopy.removeClass("disabled"),this.$unshareReview.removeClass("disabled"),this.$deleteReview.removeClass("disabled"),this.$removeMe.removeClass("disabled"),this.$reportAbuse.removeClass("disabled"),this.$removeFromTracking.removeClass("disabled"),this.$removeUnaccepted.removeClass("disabled"),this.$removeFromRecent.removeClass("disabled"),this.$copyLink.removeClass("disabled")):(this.$closeReview.addClass("disabled"),this.$downloadCopy.addClass("disabled"),this.$unshareReview.addClass("disabled"),this.$deleteReview.addClass("disabled"),this.$removeMe.addClass("disabled"),this.$reportAbuse.addClass("disabled"),this.$removeFromTracking.addClass("disabled"),this.$removeUnaccepted.addClass("disabled"),this.$removeFromRecent.addClass("disabled"),n==r&&this.$copyLink.addClass("disabled"))},isActionActive:function(e){return!e.hasClass("disabled")},_updateFields:function(){var e=this.cbViewModel.getSingleSelectedItemModel();this._updateActionItemsIfOffline();if(e){this.$primaryActionsView.show(),this.$closeReview.hide(),this.$menuButtonSeparator.hide(),this.options.isDocView||(this.$downloadCopy.hide(),e.getInfo().user_role=="sender"&&(this.$menuButtonSeparator.show(),this.$menuButtonSeparator[0]&&this.$menuButtonSeparator[0].style&&(this.$menuButtonSeparator[0].style.marginBottom="8px"))),this.$unshareReview.hide(),this.$deleteReview.hide(),this.$removeMe.hide(),this.$reportAbuse.hide(),this.$copyLink.hide(),this.$removeFromTracking.hide(),this.$removeUnaccepted.hide(),this.$removeFromRecent.hide();if(this.options.isUnaccepted){this.$removeUnaccepted.show(),this.$reportAbuse.show();return}e.shouldShowRemoveFromRecent&&this.$removeFromRecent.show();var t=this.options.appApi.usersMeApi.options.usersMeIdentityModel,n=e.getPartcipantDetails(t),r=undefined,i=undefined,s=e.attributes.aep_workflow_info,o=s&&s.invitationUrn?s.invitationUrn:"",a=s&&s.id?s.id:"";i=a!=""?a:e.attributes.asset_id,r=o!=""?o:e.attributes.asset_id;var f="",l=!1;if(e.get("aep_workflow_info")&&e.get("aep_workflow_info").user_role!=""){if(e.getInfo().user_role=="owned"||e.getInfo().user_role=="sender"||e.getInfo().user_role=="creator")f=u.REVIEW_CREATOR;else if(e.getInfo().user_role=="shared_with_me"||e.getInfo().user_role=="receiver"||e.getInfo().user_role=="participant")f=u.PARTICIPANT}else n?f=n.role:e.get("aep_workflow_info")&&(f=e.get("aep_workflow_info").isReceivedFile?u.PARTICIPANT:u.REVIEW_CREATOR);var t=this.options.appApi.usersMeApi.options.usersMeIdentityModel;if(e.attributes.aep_workflow_info&&e.attributes.aep_workflow_info.collaborators){var c=e.attributes.aep_workflow_info.collaborators;for(var h=0;c&&h<c.length;h++){var p=c[h];if(t.get("user_id")&&(p.adobe_id&&p.adobe_id.toLowerCase()==t.get("user_id").toLowerCase()||p.collaboratorId&&p.collaboratorId.toLowerCase()==t.get("user_id").toLowerCase()||t.get("email")&&p.email&&t.get("email").toLowerCase()==p.email.toLowerCase())){l=!0;break}}}this.userRole=f,f!=""?f==u.PARTICIPANT?(this.$deleteReview.hide(),this.$reportAbuse.show(),l&&this.$removeMe.show()):f==u.REVIEW_CREATOR&&((!e.getWorkflowStatus()||e.getWorkflowStatus().toLowerCase()!==u.UNSHARED_STRING.toLowerCase())&&this.$unshareReview.show(),this.options.isDocView||this.$deleteReview.show(),this.$removeMe.hide(),this.$reportAbuse.hide()):this.$primaryActionsView.hide();if(e.getWorkflowStatus()&&e.getWorkflowStatus().toLowerCase()===u.UNSHARED_STRING.toLowerCase())this.$copyLink.hide(),this.$menuButtonSeparator.hide();else{var d=e.attributes.asset_id;d!=="dummyId"&&this.$copyLink.show()}this.options.showRemoveFromTracking?this.$removeFromTracking.show():this.$removeFromTracking.hide()}else this.$primaryActionsView.hide()},_logCTAEvent:function(e){this.options.appApi.siteCatalystApi.logVirgoCTAEvent(o.VIRGO_REVIEW_CB,e,!0,this.options.isDocView)},_validateURNString:function(e){if(e.length==0){var t=this.cbViewModel.getSingleSelectedItemModel();e=t.attributes.resources[0].id}return e},_createCopyReviewUrlFromInvitationUrn:function(t,n){var r="",i=n?"id/":"link/review?uri=";return r=e.getDocumentCloudBaseUrl()+i+encodeURIComponent(t),r},_copyReviewAndShowToast:function(e){_.isUndefined(this.options.appApi.rnaApiObj._clipboardAPI)||this.options.appApi.rnaApiObj._clipboardAPI.invoke("writeClipboardData",{text:e,shouldIgnore:!1}),this.options.appApi.pluginsApi.callPluginMethod(this.options.pluginId,"showToastForReviewAction",n.COPIED_STRING,this._getResolvedPromise(),!0);var t="";if(!_.isUndefined(this.cbViewModel)){var r=this.cbViewModel.getSingleSelectedItemModel();if(!_.isUndefined(r)){var i=r.getOriginalShared();!_.isUndefined(i)&&i&&(t=o.VIRGO_ORIGINAL_SHARE)}}this._logCTAEvent(o.VIRGO_CTA_SHARE_LINK+t)},_generatePublicReviewLink:function(t){if(!t)return;var n=t.attributes.aep_workflow_info,r=n&&n.id?n.id:"",i=r!=""?r:t.attributes.asset_id,s=[];return s.push("PARCEL_PUBLIC_SHARING"),e.opFactory.create("ReviewAddParticipantOp",_.extend(this.options)).run({parcelID:i,emails:s})},_handleCopyReviewLinkCoachMarkVisibility:function(){var e=this.cbViewModel.getSingleSelectedItemModel(),t=this.options.appApi.usersMeApi.options.usersMeIdentityModel,n=e.getPartcipantDetails(t);if(n)if(n.role!=u.REVIEW_CREATOR){var r=!1;this.options.appApi.rnaApi.done(_.bind(function(e){e._reviewAPI.invoke("ShareContextBoard",{}).done(_.bind(function(e){r=e,r==1?(this.$copyReviewLinkCoachmark.css("visibility","hidden"),this.$copyReviewLinkCoachmark.css("visibility","visible"),this.options.appApi.rnaApi.done(function(e){e.isFeatRunning()&&e.isASTestAllowInstantiation()&&e.invokeMethod({methodName:"logASTestReportAPI",methodArgs:["PrimayActionsReviewContextBoard","CopyReviewLinkCoachmarkShownToReviewer","True"]})}),this.timer!=undefined&&clearTimeout(this.timer),this.timer=_.delay(_.bind(function(){this.$copyReviewLinkCoachmark.css("visibility","hidden"),this.timer=undefined,this.options.appApi.rnaApi.done(_.bind(function(e){e._reviewAPI.invoke("DisableShareContextBoard",{}).done(_.bind(function(e){},this))},this))},this),4e3)):this.$copyReviewLinkCoachmark.css("visibility","hidden")},this))},this))}else this.$copyReviewLinkCoachmark.css("visibility","hidden")},_onCopyReviewLinkClick:function(){this.options.appApi.rnaApi.done(function(e){e.logPerformance("CopySharedLink","start")});var e=this.cbViewModel.getSingleSelectedItemModel(),t="",r="",i=e.attributes.aep_workflow_info,s=i&&i.invitationUrn?i.invitationUrn:"",o=i&&i.id?i.id:"";r=o!=""?o:e.attributes.asset_id,s=s!=""?s:e.attributes.asset_id;var a=e.attributes.aep_workflow_info?e.attributes.aep_workflow_info.isReceivedFile:!1;this.$copyReviewLinkCoachmark.css("visibility","hidden");try{var f=this.options.appApi.usersMeApi.options.usersMeIdentityModel,l=e.getCollaboratorDetails(f),c="";l?(a=!l.isOwner,a&&(c="viewer")):a=!0,this.options.appApi.rnaApiObj._reviewAPI.invoke("logEurekaEventAndDataGroup",["Eureka:Manage","Use","Copy review link","EurekaActions",r,c])}catch(h){}var p=e.getCopyLink(),d=$.Deferred();if(p)d.resolve(p);else if(a||c==="viewer"||c===u.PARTICIPANT)p=e.getPreviewUrl(),p===undefined&&(p=this._createCopyReviewUrlFromInvitationUrn(s,isACPFile)),d.resolve(p);else{var v=!1;v||this._generatePublicReviewLink(e).then(_.bind(function(e){var t=e.invitations[0].preview_url;d.resolve(t)},this),_.bind(function(e){d.reject(e)},this))}d.done(_.bind(function(e){this._copyReviewAndShowToast(e);var t=this.cbViewModel.getSingleSelectedItemModel();t.setCopyLink(e),this.options.appApi.rnaApi.done(function(e){e.logPerformance("CopySharedLink","end")})},this)).fail(_.bind(function(e){var t=n.COPY_SHARED_LINK_FAILED_GENERIC;e&&e.errorCode&&e.errorCode==="SharingRestrictions"&&(t=n.COPY_SHARED_LINK_FAILED_SHARING_RESTRICTION),this.options.appApi.pluginsApi.callPluginMethod(this.options.pluginId,"showToastForReviewActionNoIcon",{argsString:t,fadeTimeout:5e3},this._getResolvedPromise(),!0),this.options.appApi.rnaApi.done(function(e){e.logPerformance("CopySharedLink","end")})},this))},_onDownloadACopyClick:function(){this.isActionActive(this.$downloadCopy)&&this.options.appApi.networkConnectivityApi.isOnline()&&this.options.isDocView&&(this.options.appApi.rnaApi.done(function(e){e.assetApi({methodName:"saveSNTFile",methodArgs:[]})}),this._logCTAEvent(o.VIRGO_CTA_DOWNLOAD_FILE))},_onCloseReviewClick:function(){if(!this.isActionActive(this.$closeReview))return;this._logCTAEvent(o.VIRGO_CTA_CLOSE_REVIEW)},_throttleUnshareClick:function(){this.$unshareReview.addClass("disabled");var e=this.cbViewModel.getSingleSelectedItemModel();this.options.args={};var t=e.attributes.aep_workflow_info,n=t&&t.invitationUrn?t.invitationUrn:"",r=t&&t.id?t.id:"";this.options.args.ParcelId=r!=""?r:e.attributes.asset_id,this.options.args.InvitationId=n!=""?n:e.attributes.asset_id,this.options.args.ReviewId=e.attributes.asset_id,this.options.args.commentingUrn=e.getCommentingUrn(),this.options.args.isOriginalShared=e.getOriginalShared(),this.options.args.AssetId=e.attributes.asset_id,this.options.args.workflowType=e.attributes.WorkflowType;var i=this.options.appApi.usersMeApi.options.usersMeIdentityModel,s=e.getPartcipantDetails(i);this.options.args.role="",s&&(this.options.args.role=s.role),this.options.appApi.pluginsApi.callPluginMethod(this.options.pluginId,"_ClickUnshareButton",this.options.args,this._getResolvedPromise(),!0)},_throttleRemoveMeClick:function(){var e=this.cbViewModel.getSingleSelectedItemModel();this.options.args={};var t=e.attributes.aep_workflow_info,n=t&&t.invitationUrn?t.invitationUrn:"",r=t&&t.id?t.id:"";this.options.args.ParcelId=r!=""?r:e.attributes.asset_id,this.options.args.InvitationId=n!=""?n:e.attributes.asset_id,this.options.args.workflowType=e.attributes.WorkflowType;var i=this.options.appApi.usersMeApi.options.usersMeIdentityModel,s=e.getPartcipantDetails(i);this.options.args.role="",s&&(this.options.args.role=s.role),this.options.appApi.pluginsApi.callPluginMethod(this.options.pluginId,"_ClickRemoveMeButton",this.options.args,this._getResolvedPromise(),!0)},_throttleRemoveFromRecentClick:function(){var e=this.cbViewModel.getSingleSelectedItemModel(),t={};e.attributes&&e.attributes.asset_id&&(t.assetId=e.attributes.asset_id),this.options.appApi.rnaApi.done(_.bind(function(e){e._recentFilesAPI.invoke("removeFileFromRecent",t)},this))},_throttleReportAbuseClick:function(){var e=this.cbViewModel.getSingleSelectedItemModel();this.options.args={};try{var t=e.attributes.aep_workflow_info,n=t&&t.id?t.id:"";this.options.args.ParcelId=n!=""?n:e.attributes.asset_id;var r=this.options.appApi.usersMeApi.options.usersMeIdentityModel,i=e.getPartcipantDetails(r),s="";i&&(s=i.role),this.options.appApi.rnaApiObj._reviewAPI.invoke("logEurekaEventAndDataGroup",["Eureka:Participate","Use","Report comment abuse","EurekaActions",ParcelId,s])}catch(o){}if(this.options.isInSearchResultsView)this.options.args.InvitationUrn=this._validateURNString(e.attributes.resources[0].id);else{var u=t&&t.invitationUrn?t.invitationUrn:"";this.options.args.InvitationUrn=u&&u!=""?this._validateURNString(u):this._validateURNString(e.attributes.asset_id)}this.options.appApi.pluginsApi.callPluginMethod(this.options.pluginId,"_ClickReportAbuseButton",this.options.args,this._getResolvedPromise(),!0)},_onUnshareReviewClick:function(){this.options.appApi.rnaApi.done(function(e){e.logPerformance("UnshareFile","start")});if(!this.isActionActive(this.$unshareReview))return;this._throttleUnshareClick();var e="";if(!_.isUndefined(this.cbViewModel)){var t=this.cbViewModel.getSingleSelectedItemModel();if(!_.isUndefined(t)){var n=t.getOriginalShared();!_.isUndefined(n)&&n&&(e=o.VIRGO_ORIGINAL_SHARE)}}else _.isUndefined(this.options.args)||!_.isUndefined(this.options.args.isOriginalShare)&&this.options.args.isOriginalShare&&(e=o.VIRGO_ORIGINAL_SHARE);this._logCTAEvent(o.VIRGO_CTA_UNSHARE+e)},_onRemoveMeClick:function(){this.options.appApi.rnaApi.done(function(e){e.logPerformance("RemoveMe","start")});if(!this.isActionActive(this.$removeMe))return;this._throttleRemoveMeClick(),this._logCTAEvent(o.VIRGO_CTA_REMOVE_ME)},_onRemoveFromRecentClick:function(){if(!this.isActionActive(this.$removeFromRecent))return;this._throttleRemoveFromRecentClick()},_onReportAbuseClick:function(){if(!this.isActionActive(this.$reportAbuse))return;this._throttleReportAbuseClick(),this._logCTAEvent(o.VIRGO_CTA_REPORT_ABUSE)},_throttleDeleteClick:function(){var e=this.cbViewModel.getSingleSelectedItemModel();this.options.args={};var t=e.attributes.aep_workflow_info,n=t&&t.invitationUrn?t.invitationUrn:"",r=t&&t.id?t.id:"";this.options.args.ParcelId=r!=""?r:e.attributes.asset_id,this.options.args.InvitationId=n!=""?n:e.attributes.asset_id;var i=e.getOriginalShared();!_.isUndefined(i)&&i?this.options.args.isOriginalShared=i:this.options.args.isOriginalShared=!1,this.options.args.status=e.getWorkflowStatus(),this.options.args.filename=e.getSingleFileInfo()&&e.getSingleFileInfo().name,this.options.args.workflowType=e.attributes?e.attributes.WorkflowType:"";var s=this.options.appApi.usersMeApi.options.usersMeIdentityModel,o=e.getPartcipantDetails(s);this.options.args.role="",o&&(this.options.args.role=o.role),this.options.appApi.pluginsApi.callPluginMethod(this.options.pluginId,"_ClickDeleteButton",this.options.args,this._getResolvedPromise(),!0)},_onDeleteReviewClick:function(){if(!this.isActionActive(this.$deleteReview))return;this._throttleDeleteClick();var e="";if(!_.isUndefined(this.cbViewModel)){var t=this.cbViewModel.getSingleSelectedItemModel();if(!_.isUndefined(t)){var n=t.getOriginalShared();!_.isUndefined(n)&&n&&(e=o.VIRGO_ORIGINAL_SHARE)}}this._logCTAEvent(o.VIRGO_CTA_DELETE+e)},_onRemoveFromTrackingClick:function(){if(!this.isActionActive(this.$removeFromTracking))return;var e=this.cbViewModel,t=null;if(e){var n=this.cbViewModel.getSingleSelectedItemModel();t=n.get("id")}this.options.appApi.rnaApi.done(_.bind(function(e){e.fileApi({methodName:"removeTrackingTile",methodArgs:[u.REVIEW,t]}).done(_.bind(function(){},this))},this)),this._logCTAEvent(o.VIRGO_CTA_REMOVE_TRACK)},_onRemoveUnacceptedClick:function(){var e={},t=this.cbViewModel.getSingleSelectedItemModel();e.notificationId=t.get("notificationId"),e.invitationId=t.attributes.resources[0].id,e.workflowType="review",this.options.appApi.rnaApi.done(_.bind(function(t){t.stApi.expireNotificationAPI(e)},this))},_onFocusIn:function(e){var t=$(e.target);t.attr("tabindex",0)},_onFocusOut:function(e){var t=$(e.target);t.attr("tabindex",-1)},_onKeyDown:function(e){var t=$(e.target),n=e.which,r=!1,i=$.Event("click"),o="";if(!t.hasClass("shared-rhp-action"))return r;var a=n===38,f=$(".shared-files-rhp"),l;f.length==0&&(f=$(".context-board-rhp")),this.userRole==u.REVIEW_CREATOR?o=":not(.review-participant-detail)":o=":not(.review-participant-detail:gt(0))";switch(n){case 13:case 32:r=t.trigger(i),r=!0;break;case 9:case 38:case 40:l=s.getNextFocusableDescendant(f,a,!0,o)}return l&&l.length>0&&(r=!0,l.focus()),r}}),e.RhpReviewPrimaryActionsView}),define("core/dev/views/rhp/original-shared-rhp-participants-view",["core/ac-core","core/templates/rhp/sentfiles/participants-accodian-template","i18n!core/nls/ui-strings","core/utils/util","core/utils/date-util","core/utils/view-util","core/utils/truncate","core/utils/css-util","core/models/workflow-status-strings","core/templates/rhp/sentfiles/participant-status-template","core/templates/rhp/sentfiles/us-chicklet-edit-template","core/templates/rhp/sentfiles/us-email-list-item-template","core/views/rhp/sentfiles/us-chicklet-edit-control","core/views/rhp/sentfiles/sentfiles-rhp-autocomplete-view","core/utils/sc-analytics","core/views/view"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d){return e.OriginalSharedRhpParticipantsView=e.View.extend({events:{"click    .rhp-participants-overall-status":"_expandParticipantInfo","click    .rhp-invite-participants":"_onInviteClick","input    .us-share-address-input":"_onRecipientsInput","paste    .us-share-address-input":"_onRecipientsPaste","blur     .us-share-address-input":"_onRecipientsBlur","focus    .us-share-address-input":"_initialiseEmailAddFetching","click    .share-email-list-close":"_onEmailListClose","click    .share-files-button":"_onSendButtonClick","click    #review-add-participant-address-book-img":"_onAddressBookClick"},initialize:function(){e.View.prototype.initialize.call(this),this._localAddressTemplate=_.template(c);var t=_.extend({},this.options,{searchString:""});this.PGCOp=e.opFactory.create("GettingPGCSuggestionsOp",t),this._addKeyEventListener(),this._addFocusEventListener(),this.options.autoCCollection=new e.AutocompleteCollection([],{rootUrl:undefined}),this.options.pgcModel=new e.SendFilesUiModel,this._fetchCollaboratorsInProgress=!1},render:function(){var r=this.$el,i=this.options,s=i.selectionUiModel.getSingleSelectedItemModel(),o=i.appApi.saveAsApi,u=i.appApi.selectionApi;e.View.prototype.render.call(this);if(u.isRunningInFileSelection()||o.isRunningInFileSaveAs())return;r.children().length===0&&(r.html(_.template(t)({ADD_REVIEWERS:n.ADD_REVIEWERS,SEND_BUTTON:n.ADD,ADD_REVIEWER_COACHMARK:n.ADD_REVIEWER_COACHMARK,CREATE_LINK_SECURITY_INFO:n.CREATE_LINK_SECURITY_INFO})),this._initWrappers()),this.$participantsMainDiv.hide(),!this.options.isDocView&&(!s||!s.CTAClicked)&&this._collapseParticipantInfo();if(!s)return;if(s&&s.get("collaboration_metadata")){this._renderPostCollabFetch();return}if(!this._fetchCollaboratorsInProgress){this._fetchCollaboratorsInProgress=!0;var a=e.opFactory.create("GettingCollaborationMetadatapOp",_.extend({},this.options,{global:!0}));a.run(s.id).then(_.bind(function(e){e&&(s.set("collaboration_metadata",e),this._renderPostCollabFetch()),this._fetchCollaboratorsInProgress=!1},this),_.bind(function(e){this._fetchCollaboratorsInProgress=!1},this))}},_renderPostCollabFetch:function(){this._updateFields(),this._updateAvatars(),this.options.sendFilesUiModel=new e.SendFilesUiModel,this._addUiModelEventListeners(),this._addKeyEventListener(),this._renderChildViews(),this._updateEmailFields(),this._processRecipients(!0)},_escapeId:function(e){if(e.length)return e.replace(/(:|\.|\[|\]|,|=|@|\/)/g,"\\$1")},_initWrappers:function(){this.$participantsOverAllStatus=this.$(".sent-participants-overall-status"),this.$participantsInfoDetailedView=this.$(".sent-participants-expanded"),this.$expandParticipantInfo=this.$(".rhp-expand-participants"),this.$participantsStatus=this.$(".sent-participants-status"),this.$participantsAvatar=this.$(".sent-particpants-avatar"),this.$participantsInfo=this.$(".sent-participants-info"),this.$participantsMainDiv=this.$(".sent-rhp-participants"),this.$inviteParticipant=this.$(".rhp-invite-participants"),this.$addParticipantInput=this.$(".add-participant-box"),this.$addParticipantInfo=this.$(".add-participants-info"),this.$autocompleteBox=this.$(".us-share-autocomplete-box"),this.$filesList=this.$(".share-email-list"),this.$addedMembers=this.$("#added-members"),this.$addButton=this.$("#sendbutton"),this.$addedMembersListContainer=this.$("#added-members-list-container"),this.$removeButton=this.$(".share-email-list-close"),this.$sendButton=this.$(".share-files-button-container"),this.$addreviewerscoachmark=this.$("#add-reviewers-coachmark"),this.$createLinkSecurityStr=this.$("#legal-string-for-share"),this.options.showParticipants=!0},_expandParticipantInfo:function(){var e=this.options.selectionUiModel.getSingleSelectedItemModel();this.$participantsInfoDetailedView.hasClass("invisible")?(this.$participantsInfoDetailedView.removeClass("invisible"),this.$expandParticipantInfo.addClass("rotated"),this.$addParticipantInput.hide(),this.$sendButton.hide(),this.$inviteParticipant.show(),e&&(e.CTAClicked=!0)):(this.$participantsInfoDetailedView.addClass("invisible"),this.$expandParticipantInfo.removeClass("rotated"),e&&(e.CTAClicked=undefined))},_expandParticipantInfoWithoutCollapse:function(){this.$participantsInfoDetailedView.hasClass("invisible")&&(this.$participantsInfoDetailedView.removeClass("invisible"),this.$expandParticipantInfo.addClass("rotated")),this.$addParticipantInput.hide(),this.$sendButton.hide(),this.$inviteParticipant.show()},_collapseParticipantInfo:function(){this.$participantsInfoDetailedView.hasClass("invisible")||(this.$participantsInfoDetailedView.addClass("invisible"),this.$expandParticipantInfo.removeClass("rotated")),this.$participantsAvatar.hasClass("invisible")&&(this.$participantsAvatar.removeClass("invisible"),this.$participantsStatus.addClass("rhp-accodian-label-with-avatar"),this.$participantsStatus.removeClass("review-rhp-accodian-label-no-icon"))},_updateFields:function(){this._updateActionItemsIfOffline(),this.$createLinkSecurityStr.hide();var e=this.options.selectionUiModel.getSingleSelectedItemModel();if(e){var t=e.get("collaboration_metadata"),r="",s=!1,o=!1;if(t&&t.length>0){var u=0,a=this.options.appApi.usersMeApi.options.usersMeIdentityModel,c=[];t.sort(function(e,t){var n=e.collaboratorId,r=t.collaboratorId;return n>r?1:n<r?-1:0});for(var h=0;h<t.length;h++){var p=t[h];if(p.isOwner){t.splice(h,1),t.splice(0,0,p);break}}for(var h=0;h<t.length;h++){var p=t[h];p.collaboratorId=="all"?s=!0:p.collaboratorId=="orgEverybody"&&(o=!0);var d=p.displayName;d=p.isOwner&&a.attributes.display_name?a.attributes.display_name:p.displayName;if(!d||d==""){d=p.email;if(!p.email||p.email==""){d=n.ANONYMOUS;continue}}if(p.collaboratorId=="orgEverybody")continue;var v=p.isOwner?n.OWNER_UC:"",m=!1,g,y=this.options.isInSearchResultsView?undefined:"YYMMDDHHmmssZ",b=i.formatDateWithFormat(p.participant_last_access_date,y,!0);g=_.template(f)({viewId:e.getParcelId(),participantId:h,participantName:d,participantStatus:v,partcipantDateSeparator:"",participantLastAccessDate:""});if(!p.isOwner){var w=e.getParcelId()+"-"+h;c.push(w)}u++,r+=g}this.$createLinkSecurityStr.show(),s?this.$createLinkSecurityStr.html(n.CREATE_LINK_SECURITY_INFO):o?this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaUnifiedSharePopupAPI.getOrgName().then(_.bind(function(e){e&&e.orgName&&e.orgName.length>0&&this.$createLinkSecurityStr.html(_.template(n.CREATE_LINK_ORG_SECURITY_INFO,{ORGNAME:e.orgName}))},this))},this)):e.get("bootstrap")&&!e.get("bootstrap").is_legacy_asset?this.$createLinkSecurityStr.html(n.CREATE_LINK_PRIV_SECURITY_INFO):this.$createLinkSecurityStr.hide(),this.$participantsInfo.html(r);for(var h=0;h<c.length;++h){var E=c[h].replace(/\:/g,"\\:"),S="#review-participant-name-"+E,x="#review-participant-info-"+E,T="#review-participant-status-"+E;this.$participantNameId=this.$(S),this.$participantInfoId=this.$(x),this.$participantStatusId=this.$(T),this.$participantNameId.addClass("review-participant-name-non-owner-alignment"),this.$participantInfoId.addClass("review-participant-info-non-owner-alignment"),this.$participantStatusId.addClass("invisible")}var N=_.template(l)({ENTER_EMAIL_ADDR:n.ENTER_EMAIL_ADDR,ADDRESS_BOOK:n.ADDRESS_BOOK});this.$addParticipantInput.html(N);var C=C=_.template(n.N_RECIPIENTS,{num:u});this.$participantsStatus.html(C),this.$participantsStatus.attr("title",C),this.$participantsOverAllStatus.attr("aria-label",C),this.$participantsMainDiv.show(),this.$addParticipantInfo.show()}else this.$participantsMainDiv.hide()}else this.$participantsMainDiv.hide()},_requiresAddressImport:function(){var e=this.options.selectionUiModel.getSingleSelectedItemModel();if(e){var t=e.get("collaboration_metadata");if(t.length===1&&t[0].email.length===0)return!1}return!0},_getUTCDateFromModelDate:function(e){var t=moment.utc(e,"YYMMDDHHmmssZ").toDate();return t=moment(t).format("MMM DD, hh:mm A"),t},_updateAvatars:function(){var t=this.options.selectionUiModel.getSingleSelectedItemModel();if(t&&!t.get("avatarsFetched")){var n=e.opFactory.create("FetchingPublicProfileInfoOp",_.extend({},this.options,{global:!0})),r=[],i=t.get("collaboration_metadata");for(var s=0;i&&s<i.length;s++){var o=i[s];(_.isUndefined(o.avatarURL)||o.avatarURL==="")&&o.userId&&r.push(o.userId)}if(r.length&&!t.fetchingPublicProfileInfo){t.fetchingPublicProfileInfo=!0;var u=n.getCachedDataFromNative(r);u.then(_.bind(function(e){for(var r=0;r<i.length;r++){var s=i[r];e.cachedData[s.userId]&&(s.avatarURL=e.cachedData[s.userId].images[138],s.hasDefaultImage=e.cachedData[s.userId].hasDefaultImage)}this._loadAvatars();if(e.nonCooldownGUIDs.length<1){t.fetchingPublicProfileInfo=!1,t.set("avatarsFetched",!0);return}var o=n.run(e.nonCooldownGUIDs);o.then(_.bind(function(e){var n=t.get("collaboration_metadata");for(var r=0;n&&r<n.length;r++){var i=n[r];e[i.userId]&&(i.avatarURL=e[i.userId].images[138],i.hasDefaultImage=e[i.userId].hasDefaultImage)}t.set("avatarsFetched",!0),this._loadAvatars(),t.fetchingPublicProfileInfo=!1},this),_.bind(function(e){t.fetchingPublicProfileInfo=!1},this))},this),_.bind(function(e){t.fetchingPublicProfileInfo=!1},this))}}this._loadAvatars()},_loadAvatars:function(){var e=this.options.selectionUiModel.getSingleSelectedItemModel();if(e){var t=e.attributes.collaboration_metadata;if(!t)return;var n="",r=0;for(var i=0;i<t.length;i++){var s="",o=t[i];if(o.collaboratorId=="all"||o.collaboratorId=="orgEverybody")continue;var u=this.$("#review-participant-avatar-img-"+this._escapeId(e.getParcelId())+"-"+i),a=this.$("#review-participant-avatar-icon-"+this._escapeId(e.getParcelId())+"-"+i),f=this.$("#review-participant-avatar-default-image-"+this._escapeId(e.getParcelId())+"-"+i);a.hide(),u.hide(),f.hide(),o.hasDefaultImage?(s='<div class="rhp-overall-status-avatar avatar-border-themes rhp-avatar-icon-default-'+r+'"></div>',f.addClass("rhp-avatar-icon-default-"+r),f.show(),r=(r+1)%8):o.avatarURL?(u.attr("src",o.avatarURL),u.show(),s='<img class="rhp-overall-status-avatar avatar-border-themes" src="'+o.avatarURL+'"></img>'):(a.show(),s='<div class="rhp-overall-status-avatar avatar-border-themes rhp-avatar-icon-anonymous"></div>'),i<4&&(n+=s)}this.$participantsAvatar.html(n)}},_onFocusIn:function(e){var t=$(e.target);t.attr("tabindex",0),this._consumeEvent(e)},_onFocusOut:function(e){var t=$(e.target);t.attr("tabindex",-1),this._consumeEvent(e)},_addKeyEventListener:function(){this.options.appApi.keyApi.pushKeyHandler(this)},_addUiModelEventListeners:function(){var e=this.options.sendFilesUiModel;e.get("email_addr_collection").on("all",this._onRecipientsChange),e.on("change:enable_autocomplete",this._onEnableAutocompleteChange)},_removeUiModelEventListeners:function(){var e=this.options.sendFilesUiModel;e.get("email_addr_collection").off("all",this._onRecipientsChange),e.off("change:enable_autocomplete",this._onEnableAutocompleteChange)},_onRecipientsChange:function(){this._refreshSendButtonState(),this._onDebouncedRecipientsChange()},_onDebouncedRecipientsChange:function(){this._processRecipients(!0)},_initialiseEmailAddFetching:function(){var t=this.options,n=t.sendFilesUiModel,r=t.limitsModel,i=this._getResolvedPromise();this._displayIPMToUser=!1,n.set({is_individual:!0}),e.Util.isCEF()&&n.get("autocomplete_local_contacts_imported")===!1&&(i=this._importLocalEmailContacts(),i.then(_.bind(function(){n.set({autocomplete_local_contacts_imported:!0})},this))),e.Util.isCEF()&&n.get("autocomplete_cloud_contacts_imported")===!1&&this.options.appApi.sessionApi.isSignedInReader()&&e.opFactory.create("DesktopFetchingAutocompleteListOp",this.options).run().then(_.bind(function(){n.set({autocomplete_cloud_contacts_imported:!0})},this)),e.Util.isCEF()&&n.get("autocomplete_msgraph_contacts_imported")===!1&&this.options.appApi.rnaApi.done(_.bind(function(t){t.rnaMicrosoftGraphAPI.isMicrosoftGraphEnabled().done(_.bind(function(){t.rnaMicrosoftGraphAPI.isSignedInMicrosoftGraph().done(_.bind(function(t){if(t){var r=e.opFactory.create("MicrosoftGraphOutlookContactsOp",this.options),i=d.VIRGO_CTA_ADD_RECIPIENT,s=d.USE,o="Get MSGraph Contacts for SignedIn User";this.options.appApi.siteCatalystApi.logScEvent([i,s,o]),r.run().then(_.bind(function(e){var t=this.options.autoCCollection;t.add(e.toJSON(),{merge:!0}),n.set({autocomplete_msgraph_contacts_imported:!0})},this),_.bind(function(e){},this))}},this))},this))},this)),this._autocompleteControl.options.autoCCollection=this.options.autoCCollection},_renderChildViews:function(){var t=this.options.sendFilesUiModel,n,r;r=_.extend({},this.options,{emailView:this}),this._renderChildView("_chickletEditControl",h,this.$addParticipantInput,r),t.get("enable_autocomplete")?(n=_.extend({},this.options,{editControl:this._chickletEditControl,emailView:this}),this.$autocompleteBox.show(),this._renderChildView("_autocompleteControl",p,this.$autocompleteBox,n),e.Util.isCEF()&&this.$autocompleteBox.css("z-index","1001")):(this._autocompleteControl&&this.removeChildView(this._autocompleteControl),this.$autocompleteBox.hide())},_importLocalEmailContacts:function(){return this.options.appApi.rnaApi.then(_.bind(function(e){return e.stApi.getOutlookAutoCompleteListAtIdleAPI().then(_.bind(function(e){return e._addEventListener("custom:onOutlookAddressesFetchComplete",_.bind(function(e,t){var n=t.params,r=n.split(";"),i,s="",o="",u,a=-1,f=this.options.autoCCollection;r.pop(),_.each(r,function(e){a=_.lastIndexOf(e,"<"),a===-1?(o=e,s=""):(o=e.substring(a+1),s=e.substring(0,a)),_.last(o)===">"&&(o=o.slice(0,-1)),_.last(s)===" "&&(s=s.slice(0,-1)),f.get(o)&&f.remove(o),f.add({email:o,name:s,isLocalContact:!0})})},this)),$.Deferred().resolve().promise()},this),_.bind(function(e){return $.Deferred().reject().promise()},this))},this),_.bind(function(){return $.Deferred().reject().promise()},this))},_updateActionItemsIfOffline:function(){var e=this.options.appApi.networkConnectivityApi.isOnline();e?this.$inviteParticipant&&this.$inviteParticipant.hasClass("disabled")&&this.$inviteParticipant.removeClass("disabled"):this.$inviteParticipant.addClass("disabled")},_updateEmailFields:function(){var e=this.options.sendFilesUiModel,t=e.get("US_tab_open")==="share";this.$el.removeClass("disabled"),this._chickletEditControl.enable(!0)},_processRecipients:function(e){var t=this.options.sendFilesUiModel.get("email_addr_collection");t.length>0?this._toggleSubjectAndMessageVisibility(!0):this._toggleSubjectAndMessageVisibility(!1),e&&(this._chickletEditControl.processRecipients(t),this._renderEmailList(t))},_toggleSubjectAndMessageVisibility:function(e){e?(this.$addedMembers.show(),this.$addedMembersListContainer.show()):(this.$addedMembers.hide(),this.$addedMembersListContainer.hide())},_renderEmailList:function(t){var r=this.$filesList,i=this.options.sendFilesUiModel,s=i.get("view_mode"),u=this.options,a,f,l,c,h,p=this._computeMaxAvailWidth();e.Util.isCEF()&&r.show(),r.empty(),t.each(_.bind(function(e){f=e.get("name")?e.get("name"):e.get("email"),l=e.get("email"),h=e.get("valid"),c=this._localAddressTemplate({name:f,email:l,remove:n.SHARE_EMAIL_REMOVE,asset_id:e.cid,ariaRemoveLabel:this._getRemoveAriaLabel(f)}),f&&h?r.prepend(c):h||t.remove(e)},this)),_.each(this.$(".share-email-list-name"),function(e){a=$(e);var t={truncateFromRight:!0,truncateFromExt:!1,ellipsis:"...",maxIterations:10};o.truncateElementText(a,p,t)}),this.options.includeInTabOrder||this.$(".share-email-list-close").attr("tabindex","-1"),this._updateAddedMembersText(t.length)},_computeMaxAvailWidth:function(){var e=this.$(".share-tool-frame").width(),t=this.$(".share-email-list").outerWidth(!0)-this.$(".share-email-list").outerWidth();return e-3*t},_getRemoveAriaLabel:function(e){return _.template(n.GENERIC_ARIA_LABEL_STRING,{prefix:e,suffix:n.SHARE_EMAIL_REMOVE+" "+n.BUTTON})},_updateAddedMembersText:function(e){e!=undefined&&e>=0&&this.$addedMembers.html(n.ADDED_RECIPIENT_NO_COUNT+" ("+e+")")},_onInviteClick:function(){if(this.$inviteParticipant.hasClass("disabled"))return;this.$inviteParticipant.hide(),this.$addParticipantInput.show(),this.$(".us-share-address-input").focus(),this.$sendButton.show(),this._refreshSendButtonState();var e="";try{if(!_.isUndefined(this.options.selectionUiModel)){var t=this.options.selectionUiModel.getSingleSelectedItemModel();if(!_.isUndefined(t)){var n=t.get("bootstrap").is_original_shared;!_.isUndefined(n)&&n&&(e=d.VIRGO_ORIGINAL_SHARE)}}}catch(r){}this.options.appApi.siteCatalystApi.logVirgoCTAEvent(d.VIRGO_SENDTRACK_CB,d.VIRGO_CTA_ADD_RECIPIENT+e,!0,this.options.isDocView)},_onRecipientsInput:function(){var e=this._chickletEditControl.val();this._setAutocompleteFilterValue(e)},_onRecipientsPaste:function(){_.delay(_.bind(function(){var e=this._chickletEditControl.val();this._setRecipientModels(),this._setAutocompleteFilterValue(e)},this),100)},_onRecipientsBlur:function(){return this._setRecipientModels(),this._autocompleteControl&&this._autocompleteControl.setFilter(undefined),!0},_onEmailListClose:function(e){var t=$(e.target),n,r,i=this.options.sendFilesUiModel.get("email_addr_collection");n=t.data("asset-id"),n&&(r=i.get(n),i.remove(r)),this._updateAddedMembersText(i.length),this._refreshSendButtonState()},_acceptPGCRecipients:function(t){var n=[];t.map(_.bind(function(t){if(!_.isUndefined(t.get("token")))n.push(t.get("token"));else{var r=_.extend({},this.options,{newContactEmail:t.get("email")});e.opFactory.create("AcceptingNewPGCSuggestionOp",r).run()}},this));var r=_.extend({},this.options,{tokens:n});e.opFactory.create("AcceptingPGCSuggestionsOp",r).run()},_onSendButtonClick:function(t){if(!this.options.issendenabled)return;this.options.appApi.rnaApi.done(function(e){e.logPerformance("AddInviteToSharedFile","start")});var r=this.options.selectionUiModel.getSingleSelectedItemModel(),i=r.isReviewFile(),s=this.options.sendFilesUiModel.getRecipientsArray(),o=_.clone(this.options.autoCCollection),u=this.options.autoCCollection.filter(function(e){return _.contains(s,e.get("email"))});o.reset(u),_.each(s,function(e){o.add({email:e})}),this._acceptPGCRecipients(o);var f=this.options.sendFilesUiModel.get("email_addr_collection"),l=f.models,c,h=r.get("collaboration_metadata"),p=_.map(h,function(e){return e.email}),v=[];for(var m=0;m<l.length;m++){var g=l[m].get("email");_.contains(p,g)||v.push(g)}if(v.length>0){c=r.getParcelId();var y=e.opFactory.create("ReviewAddParticipantOp",_.extend(this.options)).run({parcelID:c,emails:v});y.then(_.bind(function(t){this.response=t;var s=this.options,o="";r.attributes.collaboration_metadata=undefined;var u=e.opFactory.create("GettingCollaborationMetadatapOp",_.extend({},this.options,{global:!0}));u.run(r.id).then(_.bind(function(e){e&&(h&&_.each(e,_.bind(function(e){var t=_.find(h,_.bind(function(t){return t.collaboratorId===e.collaboratorId},this));t&&(t.avatarURL&&(e.avatarURL=t.avatarURL),e.hasDefaultImage=t.hasDefaultImage)},this)),r.set("collaboration_metadata",e),r.set("avatarsFetched",!1),this._updateFields(),this._updateAvatars(),this._renderChildViews())},this),function(e){}),v.length>1?t.errorCode===""?o=i?n.REVIEWERS_ADDED_SUCCESSFULLY_TOAST:n.RECIPIENTS_ADDED_SUCCESSFULLY_TOAST:t.errorCode==="SharingRestrictions"?o=n.PARTIAL_RECIPIENTS_FAILED_SHARING_RESTRICTION_MY_ORG:o=n.PARTIAL_RECIPIENTS_FAILED_GENERIC:o=i?n.REVIEWER_ADDED_SUCCESSFULLY_TOAST:n.RECIPIENT_ADDED_SUCCESSFULLY_TOAST;if(i)s.appApi.rnaApi.done(_.bind(function(e){try{e._reviewAPI.invoke("logEurekaEventAndDataGroup",["Eureka:Manage","Use","Add participant","EurekaActions",c,a.REVIEW_CREATOR])}catch(t){}e._reviewAPI.invoke("addParticipant",[c,v])},this));else{var f={};f.op="addParticipant",f.workflowID=c,f.emails=v,this.options.appApi.rnaApi.done(_.bind(function(e){e.stApi.updateInAppDMStateAPI(f)},this))}this.options.appApi.rnaApi.done(function(e){e.logPerformance("AddInviteToSharedFile","end")}),this.options.appApi.pluginsApi.callPluginMethod(this.options.pluginId,"_showToast",o,this._getResolvedPromise(),!0)},this),_.bind(function(e){var t=n.RECIPIENT_ADDED_FAILED_TOAST;this.options.appApi.pluginsApi.callPluginMethod(this.options.pluginId,"_showToast",t,this._getResolvedPromise(),!0)},this))}this.$inviteParticipant.show(),this.$addParticipantInput.hide(),this.$sendButton.hide(),this.$addedMembersListContainer.hide(),this._detachChildViewsAndClear();var b="";try{if(!_.isUndefined(r.attributes.bootstrap)){var w=r.attributes.bootstrap.is_original_shared;!_.isUndefined(w)&&w&&(b=d.VIRGO_ORIGINAL_SHARE)}}catch(E){}this.options.appApi.siteCatalystApi.logVirgoCTAEvent(i?d.VIRGO_REVIEW_CB:d.VIRGO_SENDTRACK_CB,d.VIRGO_CTA_SEND+b,!0,this.options.isDocView)},_onAddressBookClick:function(){var e=$.Deferred();this.options.appApi.rnaApi.done(_.bind(function(t){t.stApi.resolveAddressBookApi().then(_.bind(function(t){t._addEventListener("custom:onAddressesAdded",_.bind(function(t,n){var r=n.params;r.length?e.resolve(r):e.reject()},this))},this),_.bind(function(){e.reject()},this))},this)),e.then(_.bind(function(e){this._setRecipientsFromText(e)},this),_.bind(function(){},this))},_setAutocompleteFilterValue:function(e){this._autocompleteControl&&(this.options.appApi.sessionApi.isSignedInReader()?e!==""?(this._autocompleteControl.setFilter(e),this.PGCOp.updateSearchString(e),this.PGCOp.run().then(_.bind(function(t){t.length>0&&(this.options.pgcModel.set("pgcSuggestionsCollection",t),this._autocompleteControl.setFilter(e))},this))):(this.abortPGCRequest(),this._autocompleteControl.setFilter(e)):this._autocompleteControl.setFilter(e))},abortPGCRequest:function(){this.options.appApi.sessionApi.isSignedInReader()&&(this.PGCOp.updateSearchString(""),this.PGCOp.run())},_setRecipientModels:function(e){var t=this._chickletEditControl.val();!_.isUndefined(e)&&e&&!t.match(/.*@.*/)&&(t+=" "),this._setRecipientsFromText(t)},_refreshSendButtonState:function(){var e=this.options.sendFilesUiModel.get("email_addr_collection");e.models.length>0?this._changeSendButtonState(!0):this._changeSendButtonState(!1)},_changeSendButtonState:function(e){this.options.issendenabled=e,e?($("#sendbutton").removeAttr("disabled"),this.$addButton.css("opacity","1"),$("#sendbutton").attr("aria-label",n.ADD),$("#sendbutton").attr("tabindex","-1")):($("#sendbutton").attr("disabled","true"),this.$addButton.css("opacity","0.5"),$("#sendbutton").attr("aria-label",n.ADD+", "+n.DIMMED),$("#sendbutton").removeAttr("tabindex"))},_setRecipientsFromText:function(t,n){var r,i,s=this.options,o=s.sendFilesUiModel;if(e.Util.isCEF()&&t.match(/.+\s$/)&&this._autocompleteControl.filteredCollection.length!==0&&!t.match(/.*@.*|.+\s\s$/)){this._chickletEditControl.setValue(t);return}t=t.replace(/(\r\n|\n|\r)/gm,""),t.match(/(<\S+>)/)?r=t.split(/\s*[,;]+\s*/):r=t.split(/\s*[,;\s]+\s*/),i=o.parseEmailArray(r,n),i.length>0&&i[0].get("valid")!=0&&(o.addRecipientsToCollection(i),this._chickletEditControl.clear(),o.get("autocomplete_avoided")||o.set("autocomplete_avoided",!0))},_detachChildViewsAndClear:function(){var e=this.options.sendFilesUiModel.get("email_addr_collection");e.length>0&&e.reset()},_onKeyup:function(e){var t=!1,n=e.which;return this._chickletEditControl._input._hasFocus()?(n===32&&(t=!0,_.defer(_.bind(function(){this._setRecipientModels(!0)},this))),t):t},_onKeyDown:function(e){var t=!1,n=e.which,r=!1,i;this._chickletEditControl&&(i=this._chickletEditControl.$input);var o=$(e.target),n=e.which;if(this._chickletEditControl&&this._chickletEditControl._input._hasFocus()){n===32?(t=!0,_.defer(_.bind(function(){this._setRecipientModels(!0)},this))):n===13?this._autocompleteControl&&(this._autocompleteControl.makeChoice()||_.defer(_.bind(function(){this._setRecipientModels()},this))):n===9?this._autocompleteControl&&!e.shiftKey&&this._autocompleteControl.makeChoice()&&(t=!0):n===8?this._chickletEditControl.hasText()||(t=!0):n===40?this._autocompleteControl&&(this._autocompleteControl.selectDown(),r=!0,t=!0):n===38?this._autocompleteControl&&(this._autocompleteControl.selectUp(),r=!0,t=!0):n===27&&this._autocompleteControl&&(t=!0),r?i.attr("aria-activedescendant",this._autocompleteControl.$(".selected").attr("id")):i.removeAttr("aria-activedescendant");if(t)return this._consumeEvent(e),t}if(o.closest(".sent-rhp-participants")&&o.closest(".sent-rhp-participants").length>0){var u=e.shiftKey,a="",f=$(".original-shared-files-rhp"),l=$(".rhp-participants-expanded"),c=s.isElementDisplayed(l),h,p=o.hasClass("review-participant-detail"),d=$(".rhp-participants-info, .add-participants-info"),v,m=$(".add-participants-info"),g=$(".share-email-list"),y=$(".add-participant-box"),b=o.closest(".share-email-list").length==0?!1:!0,w=s.descendantHasFocus(y);f.length==0&&(f=$(".context-board-rhp")),!s.isElementDisplayed(this.$addParticipantInfo)||this.$addParticipantInfo.hasClass("disabled")?(v=m.find(":focusable").last(),v.length==0&&(v=this.$participantsOverAllStatus)):(v=this.$inviteParticipant,a=":not(.review-participant-detail)");switch(n){case 13:case 32:if(o.hasClass("rhp-participants-overall-status"))this._expandParticipantInfo();else if(o.hasClass("rhp-invite-participants"))this._onInviteClick(),h=s.getNextFocusableDescendant(m,u,!1,":not('.review-participant-detail')");else if(o.hasClass("share-files-button"))this._onSendButtonClick(e),h=this.$inviteParticipant;else if(o.hasClass("us-share-address-book"))this._onAddressBookClick();else if(o.hasClass("share-email-list-close")){this._onEmailListClose(e),h=s.getNextFocusableDescendant(g,u,!1,":not('.review-participant-detail')");if(h.attr("tabindex")!=0&&h.attr("tabindex")!=-1||h.length==0)h=s.getNextFocusableDescendant(m,u,!1,":not('.review-participant-detail')")}t=!0;break;case 9:b?u?h=$(".us-share-address-book"):h=$(".share-files-button"):!p||w?h=s.getNextFocusableDescendant(f,u,!0,":not('.review-participant-detail'):not('.share-email-list-close')"):u?h=v:h=s.getFocusableDescendantAfter(f,u,!0,":not('.review-participant-detail'):not('.share-email-list-close')",v);break;case 38:u=!0;case 40:(w||b)&&c?(h=s.getNextFocusableDescendant(g,u,!1,""),h.length==0&&w&&(h=s.getNextFocusableDescendant(d,u,!1,""))):(p||!u)&&c&&(h=s.getNextFocusableDescendant(d,u,!1,""))}return h&&h.length>0&&(t=!0,h.focus()),t&&this._consumeEvent(e),t}return t}}),e.OriginalSharedRhpParticipantsView}),define("core/dev/templates/rhp/shared-rhp-intro-message-template",[],function(){return'<div class="rhp-intro-message-view rhp-option-item"><div class="rhp-initiator-info"><span class="rhp-initiator-name theme-list-item-text"></span><span class="rhp-initiator-id theme-list-item-text"></span></div><div class="rhp-initiator-intro-message cb-text-theme" tabindex="-1"></div><div class="rhp-intro-message-options"><div class="rhp-intro-msg-see-all rhp-intro-message-option cb-link-text-theme  hidden" aria-label="<%= see_all %>" title="<%= see_all %>" tabindex="-1"><%= see_all %></div><div class="rhp-intro-msg-see-less rhp-intro-message-option cb-link-text-theme hidden" aria-label="<%= see_less %>" title="<%= see_less %>" tabindex="-1"><%= see_less %></div></div><div class="rhp-menu-separator theme-border"/></div>'}),define("core/dev/views/rhp/shared-rhp-intro-message-view",["core/ac-core","core/templates/rhp/shared-rhp-intro-message-template","i18n!core/nls/ui-strings","core/utils/truncate","core/utils/css-util","core/models/workflow-status-strings","core/utils/view-util","core/utils/sc-analytics","core/views/view"],function(e,t,n,r,i,s,o){return e.SharedRhpIntroMsgView=e.View.extend({events:{"click    .rhp-intro-msg-see-all":"_expandIntroMessage","click    .rhp-intro-msg-see-less":"_truncateIntroMessage"},initialize:function(){this._addKeyEventListener(),this._addFocusEventListener(),e.View.prototype.initialize.call(this)},render:function(){var r=this.$el;e.View.prototype.render.call(this),r.children().length===0&&(r.html(_.template(t)({see_all:n.SEE_ALL,see_less:n.SEE_LESS})),this._initWrappers());if(this.options.isDocView&&this.cbViewModel.getSingleSelectedItemModel().get("resources")&&this.cbViewModel.getSingleSelectedItemModel().get("resources").length>1){this.$introMessageMainDiv.hide();return}return this.options.isUnaccepted||this._updateIntroMessage(),this.$introMessageSeeAll.attr("title",n.SEE_ALL),this.$introMessageSeeLess.attr("title",n.SEE_LESS),this._updateFields(),this._updateTruncation(!1),this},_updateTruncation:function(e){var t=this.cbViewModel.getSingleSelectedItemModel();t&&(this._introMessageTruncated(t.getIntroMessage(),this.$introMessage.css("font"),2,e)?this._truncateIntroMessage():(this.$introMessageSeeAll.addClass("hidden"),this.$introMessageSeeLess.addClass("hidden"),this.$messageOptions.addClass("hidden")))},_introMessageTruncated:function(e,t,n,r){this.$introMessage.text(e),this.$introMessage.removeClass("truncated").removeClass("long-single-word");var i=this.$introMessage.height();if(i==0&&this.$introMessage.width()==0&&e!=""&&r==0)return setTimeout(_.bind(function(){this._updateTruncation(!0)},this),20),!1;var s=this.$introMessage.css("line-height");s=parseFloat(s);var o=i/s;if(o>n)return!0;var u=document.createElement("canvas"),a=u.getContext("2d");a.font=t;var f=a.measureText(e).width,l=this.$introMessage.width();return f>l&&o<n?(this.$introMessage.addClass("long-single-word"),!0):!1},_expandIntroMessage:function(){var e=this.cbViewModel.getSingleSelectedItemModel();e&&(this.$introMessage.removeClass("truncated"),this.$introMessageSeeAll.addClass("hidden"),this.$introMessageSeeLess.removeClass("hidden"),this.$messageOptions.removeClass("hidden"))},_editIntroMessage:function(){},_truncateIntroMessage:function(){var e=this.cbViewModel.getSingleSelectedItemModel();e&&(this.$introMessage.addClass("truncated"),this.$introMessageSeeAll.removeClass("hidden"),this.$introMessageSeeLess.addClass("hidden"),this.$messageOptions.removeClass("hidden"))},_initWrappers:function(){this.$initiatorName=this.$(".rhp-initiator-name"),this.$initiatorId=this.$(".rhp-initiator-id"),this.$introMessage=this.$(".rhp-initiator-intro-message"),this.$introMessageSeeAll=this.$(".rhp-intro-msg-see-all"),this.$introMessageSeeLess=this.$(".rhp-intro-msg-see-less"),this.$messageOptions=this.$(".rhp-intro-message-options"),this.$initiatorInfo=this.$(".rhp-initiator-info"),this.$introMessageMainDiv=this.$(".rhp-intro-message-view"),this.cbViewModel=this.options.cbViewModel},_updateIntroMessage:function(){var t=this.cbViewModel.getSingleSelectedItemModel();if(t){var n;if(!t.getIntroMessage()&&t.getWorkflowType()==s.REVIEW)if(t.get("bootstrap")){var r=t.get("bootstrap");r.email_message&&t.setIntroMessage(r.email_message),r.preview_url&&t.setPreviewUrl(r.preview_url),_.isUndefined(r.is_original_shared)||t.setOriginalShared(r.is_original_shared),r.commenting_urn&&t.setCommentingUrn(r.commenting_urn),r.asset_id&&t.setAssetId(r.asset_id),this._updateFields(),this._updateTruncation(!1)}else{n=t.getSingleFileInfo().id;if(n==="dummyId"){this._updateFields();return}var i=this.options.appApi.pluginsApi.callPluginMethod("sentfiles","getReviewIntroMessage",n,this._getResolvedPromise(),!0);i&&i.then(_.bind(function(e){e?(e.email_message&&t.setIntroMessage(e.email_message),e.preview_url&&t.setPreviewUrl(e.preview_url),_.isUndefined(e.is_original_shared)||t.setOriginalShared(e.is_original_shared),e.commenting_urn&&t.setCommentingUrn(e.commenting_urn),e.asset_id&&t.setAssetId(e.asset_id),this._updateFields(),this._updateTruncation(!1)):this._updateFields()},this),_.bind(function(){this._updateFields()},this))}else if(t.getWorkflowType()==s.SEND_TRACK&&!t.get("bootstrap")&&!t.getIntroMessage()){if(this.sendTrackMessageFetchInProgress)return;var i=this.options.appApi.pluginsApi.callPluginMethod("sentfiles","_getBootstrapData",this.options,this._getResolvedPromise(),!0);i&&(this.sendTrackMessageFetchInProgress=!0,i.then(_.bind(function(t){if(t){var n=e.opFactory.create("UpdatingOriginalShareAndAssetURNOp",this.options).run(t);n.done(function(){}),this.cbViewModel.getSingleSelectedItemModel().set("bootstrap",t,{silent:!0}),t.parcel_data&&(this.cbViewModel.getSingleSelectedItemModel().setIntroMessage(t.parcel_data.email_message),t.parcel_data.preview_url&&this.cbViewModel.getSingleSelectedItemModel().setPreviewUrl(t.parcel_data.preview_url));var r=!1;t.is_original_shared!==undefined&&(r=t.is_original_shared),this.cbViewModel.getSingleSelectedItemModel().setOriginalShared(r),t.meta_list&&t.meta_list.length&&t.meta_list[0].commenting_urn&&this.cbViewModel.getSingleSelectedItemModel().setCommentingUrn(t.meta_list[0].commenting_urn),t.meta_list&&t.meta_list.length&&t.meta_list[0].asset_urn&&this.cbViewModel.getSingleSelectedItemModel().setAssetId(t.meta_list[0].asset_urn),this._updateFields(),this._updateTruncation(!1)}else this._updateFields();this.sendTrackMessageFetchInProgress=!1},this),_.bind(function(){this.sendTrackMessageFetchInProgress=!1,this._updateFields()},this)))}else if((t.getWorkflowType()==s.SEND_TRACK||t.getWorkflowType()==s.CREATIVE_CLOUD)&&t.get("bootstrap")){var r=t.get("bootstrap");r.email_message&&t.setIntroMessage(r.email_message),r.preview_url&&t.setPreviewUrl(r.preview_url),_.isUndefined(r.is_original_shared)||t.setOriginalShared(r.is_original_shared),r.commenting_urn&&t.setCommentingUrn(r.commenting_urn),r.asset_id&&t.setAssetId(r.asset_id)}}this._updateFields()},_updateFields:function(){var e=this.cbViewModel.getSingleSelectedItemModel();if(e){this.$introMessageMainDiv.show(),this.$initiatorInfo.hide(),this.initiatorVisible=!1;var t=e.getIntroMessage();t?(this.$introMessage.css("display","-webkit-box"),this.messageVisible=!0):(this.messageVisible=!1,this.$introMessage.hide()),this.$introMessage.text(t),this.$introMessage.attr("title",t),this.$introMessage.attr("aria-label",t),!this.messageVisible&&!this.initiatorVisible&&this.$introMessageMainDiv.hide()}else this.$introMessageMainDiv.hide()},_onFocusIn:function(e){var t=$(e.target);t.attr("tabindex",0)},_onFocusOut:function(e){var t=$(e.target);t.attr("tabindex",-1)},_onKeyDown:function(e){var t=$(e.target),n=e.which,r=!1;if(!t.hasClass("rhp-intro-message-option")&&!t.hasClass("rhp-initiator-intro-message"))return r;var i=e.shiftKey,s=$(".shared-files-rhp"),u=$.Event("click"),a;s.length==0&&(s=$(".context-board-rhp"));switch(n){case 13:case 32:t.hasClass("rhp-intro-message-option")&&(r=t.trigger(u),r&&(t.hasClass("rhp-intro-msg-see-less")?$(".rhp-intro-msg-see-all").focus():$(".rhp-intro-msg-see-less").focus()));break;case 9:a=o.getNextFocusableDescendant(s,i,!0,":not('.review-participant-detail'):not('.snt-rhp-activity-info')");break;case 38:case 40:r=!0}return a&&a.length>0&&(r=!0,a.focus()),r}}),e.SharedRhpIntroMsgView}),define("core/dev/templates/rhp/original-shared-rhp-intro-message-template",[],function(){return'<div class="rhp-intro-message-view rhp-option-item"><div class="rhp-initiator-intro-message cb-text-theme" tabindex="-1"></div><div class="rhp-menu-separator theme-border"/></div><div class="rhp-deadline-view rhp-option-item"><div class="rhp-initiator-deadline cb-text-theme" tabindex="-1"></div><div class="rhp-menu-separator theme-border"/></div>'}),define("core/dev/views/rhp/original-shared-rhp-intro-message-view",["core/ac-core","core/templates/rhp/original-shared-rhp-intro-message-template","i18n!core/nls/ui-strings","core/utils/truncate","core/utils/css-util","core/models/workflow-status-strings","core/utils/date-util","core/utils/view-util","core/utils/sc-analytics","core/views/view"],function(e,t,n,r,i,s,o,u){return e.OriginalSharedRhpIntroMsgDeadlineView=e.View.extend({initialize:function(){this._addKeyEventListener(),this._addFocusEventListener(),e.View.prototype.initialize.call(this)},render:function(){var n=this.$el;return e.View.prototype.render.call(this),n.children().length===0&&(n.html(_.template(t)({})),this._initWrappers()),this._updateFields(),this},_initWrappers:function(){this.$introMessage=this.$(".rhp-initiator-intro-message"),this.$deadline=this.$(".rhp-initiator-deadline"),this.$introMessageMainDiv=this.$(".rhp-intro-message-view"),this.$deadlineMainDiv=this.$(".rhp-deadline-view")},_updateFields:function(){var e=this.options.selectionUiModel.getSingleSelectedItemModel();if(e&&e.getEmailMessage()){this.$introMessageMainDiv.show();var t=e.getEmailMessage();this.$introMessage.css("display","-webkit-box"),this.$introMessage.text(t),this.$introMessage.attr("title",t),this.$introMessage.attr("aria-label",t)}else this.$introMessageMainDiv.hide();if(e&&e.getDeadline()){this.$deadlineMainDiv.show();var r=e.getDeadline(),i=this.options.isInSearchResultsView||this.options.isUnaccepted?undefined:"YYMMDDHHmmssZ",s=o.formatDateWithFormat(r,undefined),u=n.DUE_BY+" "+s;this.$deadline.text(u),this.$deadline.attr("title",u),this.$deadline.attr("aria-label",t)}else this.$deadlineMainDiv.hide()},_onKeyDown:function(e){var t=$(e.target),n=e.which,r=!1;if(!t.hasClass("rhp-intro-message-option")&&!t.hasClass("rhp-initiator-intro-message"))return r;var i=e.shiftKey,s=$(".shared-files-rhp"),o=$.Event("click"),a;s.length==0&&(s=$(".context-board-rhp"));switch(n){case 13:case 32:t.hasClass("rhp-intro-message-option")&&(r=t.trigger(o),r&&(t.hasClass("rhp-intro-msg-see-less")?$(".rhp-intro-msg-see-all").focus():$(".rhp-intro-msg-see-less").focus()));break;case 9:case 38:case 40:a=u.getNextFocusableDescendant(s,i,!0,":not('.review-participant-detail'):not('.snt-rhp-activity-info')")}return a&&a.length>0&&(r=!0,a.focus()),r}}),e.OriginalSharedRhpIntroMsgDeadlineView}),define("core/dev/templates/rhp/shared-rhp-preview-template",[],function(){return'<div class="shared-rhp-preview-image-cn preview-hud-background-theme">    <img class="shared-rhp-preview-image " alt=""/>    <div class="shared-rhp-preview-icon centered-vertically"></div>    <div class="shared-rhp-item-thumb centered-vertically"></div></div>'}),define("core/dev/constants/thumbnail-constants",{ICON:1,THUMBNAIL:2,TILE:3,PREVIEW:4,ICON_SIZE:30,THUMBNAIL_SIZE:120,TILE_SIZE:500,PREVIEW_SIZE:1200,DEFAULT_SIZE:500}),define("core/dev/views/rhp/shared-rhp-preview-view",["core/ac-core","core/templates/rhp/shared-rhp-preview-template","i18n!core/nls/ui-strings","core/dev/utils/css-util","core/utils/image-loader","core/utils/file-types","core/models/workflow-status-strings","core/constants/thumbnail-constants","core/utils/sc-analytics","core/views/view"],function(e,t,n,r,i,s,o,u){return e.SharedRhpPreviewView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this._addUiModelEventListeners(),this._IDToThumbnailURLMap={}},render:function(){var n=this.$el;e.View.prototype.render.call(this),n.children().length===0&&(n.html(_.template(t)),this._initWrappers()),this.options.hidePreview||this._loadThumbnailPreview(this.cbViewModel);var r=this.cbViewModel,i=r.getSingleSelectedItemModel();return this.options.appApi.done(_.bind(function(){this.options.appApi.displayApi.showSpinner(!1)},this)),this},_initWrappers:function(){this.$imageCn=this.$(".shared-rhp-preview-image-cn"),this.$image=this.$(".shared-rhp-preview-image"),this.$icon=this.$(".shared-rhp-preview-icon"),this.$previewThumb=this.$(".shared-rhp-item-thumb"),this.$image.on("error",this._onThumbnailError),this.cbViewModel=this.options.cbViewModel,this.$image.on("error",this._thumbnailError)},_onThumbnailError:function(){var e=this._getIconClass(this.cbViewModel.getSingleSelectedItemModel());this._showPreviewThumb(!0,e)},_loadThumbanilURL:function(e){this.$image.attr("src",e),this._fadePreview(!0,!0)},_preview:function(e){if(this.options.selectionUiModel.isSelectionMasked())return;this._loadPreview(e)},_loadPreview:function(e){var t=this.options,n=this.$image;if(t.selectionUiModel.isSelectionMasked(e.id))return;this._showIcon(!1),this._showPreviewThumb(!1);if(e.getWorkflowType()==o.SEND_TRACK){if(e.get("resources")&&e.get("resources").length>1){var r="file-icon-multifile";this._showPreviewThumb(!0,r);return}if(e.get("send_track_info")&&e.get("send_track_info").state==o.UNSHARED_UC){var r=this._getIconClass(e);this._showPreviewThumb(!0,r);return}}this._isImageLoaded=!1;if(e.getId()in this._IDToThumbnailURLMap)this._loadThumbanilURL(this._IDToThumbnailURLMap[e.getId()]),this._isImageLoaded=!0;else if(e.getWorkflowType()==o.REVIEW||e.isAEPReviewFile()){this.options.appApi.rnaApi.done(function(e){e.logPerformance("ReviewFileRHPPreview","start")}),this.$image.attr("aria-hidden","true");var i=this.options.appApi.pluginsApi.callPluginMethod("reviews","_getThumbnailForReview",{InvitationId:e.getSingleFileInfo().id,ThumbnailType:u.TILE,NeedIDInResponse:!0,ItemID:e.getId()},this._getResolvedPromise(),!0);i.then(_.bind(function(e){if(e){var t=this.cbViewModel,n=t.getSingleSelectedItemModel(),r=n.getId();r.toLowerCase()===e.ItemID.toLowerCase()&&(this._loadThumbanilURL(e.ImageURL),this._isImageLoaded=!0),this.options.appApi.rnaApi.done(function(e){e.logPerformance("ReviewFileRHPPreview","end"),this.sharedFileSelectWorkflowEndPreviewLogged==undefined&&(this.sharedFileSelectWorkflowEndPreviewLogged=!0,e.logPerformance("SharedTabFileSelect","end"))}),this._IDToThumbnailURLMap[e.ItemID]=e.ImageURL}},this),function(){})}else if(e.getWorkflowType()==o.SEND_TRACK||e.isAEPViewFile()){this.options.appApi.rnaApi.done(function(e){e.logPerformance("ViewFileRHPPreview","start")});var s=e.getId(),i=this.options.appApi.pluginsApi.callPluginMethod("sentfiles","getSendTrackThumbnail",{invitationId:s,thumbnailType:u.TILE,NeedIDInResponse:!0,ItemID:e.getId()},this._getResolvedPromise(),!0);i.then(_.bind(function(e){if(e){var t=this.cbViewModel,n=t.getSingleSelectedItemModel(),r=n.getId();r.toLowerCase()===e.ItemID.toLowerCase()&&(this._loadThumbanilURL(e.ImageURL),this._isImageLoaded=!0),this.options.appApi.rnaApi.done(function(e){e.logPerformance("ViewFileRHPPreview","end"),this.sharedFileSelectWorkflowEndPreviewLogged==undefined&&(this.sharedFileSelectWorkflowEndPreviewLogged=!0,e.logPerformance("SharedTabFileSelect","end"))}),this._IDToThumbnailURLMap[e.ItemID]=e.ImageURL}},this),function(){})}if(this._isImageLoaded==0&&(!this.$image.attr("src")||this.$image.attr("src")=="")){var r=this._getIconClass(e);this._showPreviewThumb(!0,r)}},_fadePreview:function(e,t){var n=this.$el,r=this.$image;n.stop(!0,!1),e?(n.show(),r.addClass("populated"),this._showImage(t),n.animate({opacity:1})):r.attr("src")&&n.animate({opacity:0},function(){r.removeAttr("src"),n.hide()})},_getIconClass:function(e){if(e.getWorkflowType()==o.SEND_TRACK){var t=e.getIconClass();if(e.get("resources")&&e.get("resources").length>1)t="file-icon-multifile";else if(t===undefined||t==="")t="shared-file-icon-singlefile";return t}if(e.getWorkflowType()==o.SIGN)return"s_agreementfiletype";if(e.getWorkflowType()==o.REVIEW)return"file-icon-pdf";var t=e.getIconClass();return t},_showImage:function(e){var t=this.options,n=t.rhpPreviewUiModel,r=this.$imageCn,i=this.$image;r.removeClass("no-preview"),e?(this._showIcon(!1),this._showPreviewThumb(!1),i.show().css("opacity",1)):i.hide()},_showIcon:function(e,t){var n=this.$icon;e?(this._showImage(!1,!0),this._showPreviewThumb(!1),n.removeClass("folder multiple"),n.addClass("shown "+t)):n.removeClass("shown")},_showPreviewThumb:function(e,t){var n=this.$previewThumb;e?(this._showImage(!1,!0),this._showIcon(!1),n.removeAttr("class"),this.cbViewModel.getSingleSelectedItemModel().getWorkflowType()==o.SEND_TRACK?(n.removeClass("shared-rhp-item-thumb"),n.addClass("rhp-item-thumb shown "+t)):n.addClass("shared-rhp-item-thumb shown "+t)):n.removeClass("shown")},_thumbnailError:function(){var e=this._getIconClass(this.cbViewModel.getSingleSelectedItemModel());this._showPreviewThumb(!0,e)},_addUiModelEventListeners:function(){var e=this.options;this.listenTo(e.selectionUiModel,"change:selected_item_models",this._onSelectedItemModelsChange).listenTo(e.rhpPreviewUiModel,"change:current_page",this._onCurrentPageChange).listenTo(e.cbViewModel,"change:cb_item_model",this._onCbItemModelChange)},_onCbItemModelChange:function(){this.$image.removeAttr("src").removeClass("populated")},_loadThumbnailPreview:function(e){var t=e.getSelectionCount(),n=this.$el,r,i=this.options.rhpPreviewUiModel;i.init(),t===0?n.hide():(n.show(),t===1?(r=e.getSingleSelectedItemModel(),this._preview(r)):this._showIcon(!0,"multiple"))}}),e.SharedRhpPreviewView}),define("core/dev/templates/rhp/shared-rhp-deadline-template",[],function(){return'<div class="rhp-deadline-main-div rhp-option-item"><div class="rhp-deadline  three-cols theme-file-list-row-header"><div class="rhp-deadline-string cb-text-theme" tabindex="-1"></div><div class="rhp-deadline-edit cb-link-text-theme" title="<%= edit %>" aria-label="<%= edit %>" tabindex="-1"><%= edit %></div><div class="rhp-workflow-action theme-button theme-button-label" tabindex="-1"></div></div> <div class="rhp-menu-separator theme-border"/></div></div>'}),define("core/dev/views/rhp/shared-rhp-deadline-view",["core/ac-core","core/templates/rhp/shared-rhp-deadline-template","i18n!core/nls/ui-strings","core/utils/sc-analytics","core/models/workflow-status-strings","core/utils/date-util","core/utils/view-util","core/views/view"],function(e,t,n,r,i,s,o){return e.SharedRhpDeadlineView=e.View.extend({events:{"click    .rhp-deadline-edit":"_onEditDeadlineClick","click    .rhp-workflow-action":"_onWorkflowActionClick"},initialize:function(){e.View.prototype.initialize.call(this),this._addKeyEventListener(),this._addFocusEventListener()},render:function(){var r=this.options,i=this.$el,s=this.$send;return e.View.prototype.render.call(this),i.children().length===0&&(i.html(_.template(t)({edit:n.EDIT})),this._initWrappers()),this._updateFields(),this},_initWrappers:function(){this.$deadlineString=this.$(".rhp-deadline-string"),this.$workflowAction=this.$(".rhp-workflow-action"),this.$deadlineDiv=this.$(".rhp-deadline-main-div"),this.$deadlineEdit=this.$(".rhp-deadline-edit"),this.cbViewModel=this.options.cbViewModel},_updateFieldsForSignWorkflow:function(e){this.$deadlineEdit.addClass("hidden"),this.$deadlineDiv.removeClass("hidden");var t=this.options.appApi.usersMeApi.options.usersMeIdentityModel;e.getWorkflowStatus()==i.WAITING_FOR_MY_SIGNATURE?(this.$workflowAction.removeClass("hidden"),this.$workflowAction.text(n.SIGN),this.$workflowAction.attr("title",n.VIEW_SIGN_LABEL),this.$workflowAction.attr("aria-label",n.SIGN+" "+n.BUTTON)):e.getWorkflowStatus()==i.WAITING_FOR_MY_APPROVAL?(this.$workflowAction.removeClass("hidden"),this.$workflowAction.text(n.APRROVE),this.$workflowAction.attr("title",n.VIEW_APRROVE_LABEL),this.$workflowAction.attr("aria-label",n.APRROVE+" "+n.BUTTON)):e.getWorkflowStatus()==i.WAITING_FOR_MY_DELEGATION?(this.$workflowAction.removeClass("hidden"),this.$workflowAction.text(n.DELEGATE),this.$workflowAction.attr("title",n.VIEW_DELEGATE_LABEL),this.$workflowAction.attr("aria-label",n.DELEGATE+" "+n.BUTTON)):e.getWorkflowStatus()==i.WAITING_FOR_MY_ACKNOWLEDGEMENT?(this.$workflowAction.removeClass("hidden"),this.$workflowAction.text(n.ACKNOWLEDGE),this.$workflowAction.attr("title",n.VIEW_ACKNOWLEDGE_LABEL),this.$workflowAction.attr("aria-label",n.ACKNOWLEDGE+" "+n.BUTTON)):e.getWorkflowStatus()==i.WAITING_FOR_MY_ACCEPTANCE?(this.$workflowAction.removeClass("hidden"),this.$workflowAction.text(n.ACCEPT),this.$workflowAction.attr("title",n.VIEW_ACCEPT_LABEL),this.$workflowAction.attr("aria-label",n.ACCEPT+" "+n.BUTTON)):e.getWorkflowStatus()==i.WAITING_FOR_MY_FORM_FILLING?(this.$workflowAction.removeClass("hidden"),this.$workflowAction.text(n.FILL_FORM),this.$workflowAction.attr("title",n.VIEW_FILL_FORM_LABEL),this.$workflowAction.attr("aria-label",n.FILL_FORM+" "+n.BUTTON)):this.$workflowAction.addClass("hidden")},_updateFieldsForReviewWorkflow:function(e){this.$workflowAction.addClass("hidden"),this.$deadlineEdit.addClass("hidden")},_updateFieldsForSandTWorkflow:function(e){this.$deadlineDiv.addClass("hidden")},_updateFields:function(){var e=this.cbViewModel.getSingleSelectedItemModel(),t=this.cbViewModel.getNumSelectedItems();t>1&&this.$deadlineDiv.addClass("hidden");if(e){this.$deadlineDiv.removeClass("hidden");var r=e.getDeadline();this.options.isUnaccepted&&(r=e.get("dueDate"));if(r){var o=this.options.isInSearchResultsView||this.options.isUnaccepted?undefined:"YYMMDDHHmmssZ",u=s.formatDateWithFormat(r,o),a=n.DUE_BY+" "+u;this.$deadlineString.text(a),this.$deadlineString.attr("title",a),this.$deadlineString.removeClass("hidden")}else this.$deadlineString.addClass("hidden");e.getWorkflowType()==i.SIGN?this._updateFieldsForSignWorkflow(e):e.getWorkflowType()==i.REVIEW?this._updateFieldsForReviewWorkflow(e):e.getWorkflowType()==i.SEND_TRACK&&this._updateFieldsForSandTWorkflow(e),this.$deadlineString.hasClass("hidden")&&this.$deadlineEdit.addClass("hidden"),this.$deadlineString.hasClass("hidden")&&this.$workflowAction.hasClass("hidden")&&this.$deadlineEdit.hasClass("hidden")&&this.$deadlineDiv.addClass("hidden")}else this.$deadlineDiv.addClass("hidden")},_onWorkflowActionClick:function(){var e=this.cbViewModel.getSingleSelectedItemModel();e&&e.getWorkflowType()==i.SIGN&&(this.options.appApi.siteCatalystApi.logScEvent([r.SIGN_EVENT_CB,r.SIGN_DOC_OPEN_FOR_SIGN,r.CLICKED]),this._onSignButtonClick(e),this.options.appApi.siteCatalystApi.logVirgoCTAEvent(r.VIRGO_SIGN_CB,this._getSignWorkflowActionAnalyticsEvent(),!0,this.options.isDocView))},_getSignWorkflowActionAnalyticsEvent:function(){var e=this.cbViewModel.getSingleSelectedItemModel(),t="";if(e&&e.getWorkflowStatus())switch(e.getWorkflowStatus()){case i.WAITING_FOR_MY_SIGNATURE:t="Sign";break;case i.WAITING_FOR_MY_APPROVAL:t="Approve";break;case i.WAITING_FOR_MY_DELEGATION:t="Delegate";break;case i.WAITING_FOR_MY_ACKNOWLEDGEMENT:t="Acknowledge";break;case i.WAITING_FOR_MY_ACCEPTANCE:t="Accept";break;case i.WAITING_FOR_MY_FORM_FILLING:t="FillForm"}return t},_onEditDeadlineClick:function(){},_onFocusIn:function(e){var t=$(e.target);t.attr("tabindex",0)},_onFocusOut:function(e){var t=$(e.target);t.attr("tabindex",-1)},_onSignButtonClick:function(e){this.options.appApi.pluginsApi.callPluginMethod("signatures","openSignAgreement",e,$.Deferred().reject(),!0)},_onKeyDown:function(e){var t=$(e.target),n=e.which,r=!1;if(!(t.closest(".rhp-workflow-deadline")&&t.closest(".rhp-workflow-deadline").length>0))return r;var i=e.shiftKey,s=$(".shared-files-rhp"),u;s.length==0&&(s=$(".context-board-rhp"));switch(n){case 13:case 32:t.hasClass("rhp-deadline-edit")?(this._onEditDeadlineClick(),r=!0):t.hasClass("rhp-workflow-action")&&(this._onWorkflowActionClick(),r=!0);break;case 9:u=o.getNextFocusableDescendant(s,i,!0,":not('.rhp-participant-detail'):not('.review-participant-detail'):not('.sign-rhp-activity-info')");break;case 38:case 40:r=!0}return u&&u.length>0&&(r=!0,u.focus()),r}}),e.SharedRhpDeadlineView}),define("core/dev/templates/hover-preview-template",[],function(){return'<img class="hover-preview-page3 hover-preview-page" alt=""/><img class="hover-preview-page2 hover-preview-page" alt=""/><div class="hover-preview-page1 hover-preview-page">    <img class="hover-preview-image" alt=""/>    <div class="hover-preview-not-available">        <%= previewNotAvailable %>        <span class="hover-preview-not-available-desc"            ><%= previewNotAvailableDesc %></span>    </div>    <div class="hover-preview-hud"></div></div>'}),define("core/dev/views/hover-preview-view",["core/ac-core","core/templates/hover-preview-template","i18n!core/nls/ui-strings","core/utils/truncate","core/utils/sc-analytics","core/views/view","core/views/hover-preview-hud-view"],function(e,t,n,r,i){e.HoverPreviewView=e.View.extend({events:{click:"_onClick","click .preview-download":"_onDownloadClick","mouseenter .hover-preview-page":"_onPageMouseEnter","mouseleave .hover-preview-page":"_onPageMouseLeave"},initialize:function(){e.View.prototype.initialize.call(this),this._addAppApiCallbacks(),this._addUiModelEventListeners()},render:function(){e.View.prototype.render.call(this),this.$el.children().length===0&&(this.$el.html(_.template(t)({previewNotAvailable:n.PREVIEW_NOT_AVAILABLE,previewNotAvailableDesc:n.PREVIEW_NOT_AVAILABLE_DESC})),this._initWrappers(),this._renderChildViews())},_initWrappers:function(){this.$previewPage1=this.$(".hover-preview-page1"),this.$previewImage=this.$(".hover-preview-image"),this.$noPreview=this.$(".hover-preview-not-available"),this.$previewPage2=this.$(".hover-preview-page2"),this.$previewPage3=this.$(".hover-preview-page3"),this.$previewHud=this.$(".hover-preview-hud")},_renderChildViews:function(){this._renderChildView("_hoverPreviewHudView",e.HoverPreviewHudView,this.$previewHud)},_getItemView:function(){return this.options.hoverPreviewUiModel.get("item_view")},_preview:function(){var t=this.options,n=t.appApi,r=t.hoverPreviewUiModel,i;if(n.previewApi.isActive())return;if(!r.get("enabled"))return;if(!n.sessionApi.isSignedIn())return;i=r.get("item_view");if(!i)return;r.init(),this._loadPreview(),this._triggerViewEvent(e.ViewEvents.GET_HOVER_PREVIEW_METADATA,{id:i.model.get("id"),modal:!1})},_loadPreview:function(){var e=this._getItemView(),t=this.$previewImage;if(!e)return;this._isImageLoaded=undefined,t.off(".hoverPreviewView").on("load.hoverPreviewView",_.bind(function(){this._isImageLoaded=!0,this._fadeInPreview(!0,e,!0),this._logPreviewShown()},this)).on("error.hoverPreviewView",_.bind(function(){this._isImageLoaded=!1,this._fadeInPreview(!0,e,!1)},this)),t.attr("src",e.model.getRenditionUrl("tile",this.options.hoverPreviewUiModel.get("current_page")))},_updatePreview:function(){var e=this._getItemView();if(!e)return;this._isImageLoaded!==undefined&&this._fadeInPreview(!0,e,this._isImageLoaded)},_close:function(){this.$previewImage.off(".hoverPreviewView"),this._fadeInPreview(!1)},_logPreviewShown:function(){this.options.appApi.siteCatalystApi.logScEvent([i.FILE_LIST,i.SMALL_PREVIEW,i.SHOWN])},_fadeInPreview:function(e,t,n){this.$el.stop(!0,!1),e?(this.$el.show(),n?(this._showImagePages(!0),this._sizeImagePages()):(this._showImagePages(!1),this._sizeNoPreview()),this._positionPreview(t),this.$el.animate({opacity:1})):this.$previewImage.attr("src")&&this.$el.animate({opacity:0},_.bind(function(){this.$previewImage.attr("src",undefined),this.$el.hide()},this))},_showImagePages:function(e){var t,n;t=e?"block":"none",n=this.options.hoverPreviewUiModel.get("page_count")||0,this.$noPreview.css("display",e?"none":"block"),this.$previewHud.css("display",e?"block":"none"),this.$previewImage.css("display",t),this.$previewPage2.css("display",n>1?t:"none"),this.$previewPage3.css("display",n>2?t:"none"),e?(this.$previewImage.fadeIn(),this.$previewImage.on("dragstart",function(e){e.preventDefault()})):this.delegateEvents()},_sizeImagePages:function(){var e,t;e=this.$previewImage.width(),t=this.$previewImage.height(),this.$previewPage1.width(e).height(t),this.$previewPage2.width(e).height(t),this.$previewPage3.width(e).height(t),this.options.hoverPreviewUiModel.set("width",e)},_sizeNoPreview:function(){var e=this.$noPreview.width()+"px",t=this.$noPreview.height()+"px";this.$previewPage1.css("width",e).css("height",t);var n=r.getTextSize(this.$noPreview,!0);this.$noPreview.css("margin-top",-n.height/2)},_positionPreview:function(e){var t;this.$el.css("top",this._getPreviewTop(e)),this.options.collectionsUiModel.isListView()?t=this._getListPreviewLeft(e):t=this._getThumbnailPreviewLeft(e),this.$el.css("left",t)},_getListPreviewLeft:function(e){var t,n,r,i,s;return t=e.getViewElement(),n=t.width(),r=n/3,i=4,s=r+this.$previewPage1.width()+this._getPreviewExtraWidth()+i-n,s>0&&(r-=s),r+t.offset().left-this.$el.offsetParent().offset().left},_getThumbnailPreviewLeft:function(e){var t,n,r,i,s,o,u,a;return t=e.getViewElement(),n=this.$previewPage1.width(),r=t.offset().left+(t.width()-n)/2,s=4,o=(this._getPreviewExtraWidth()+s)/2,i=this.$el.offsetParent().offset().left,u=r-i,u<o?r=o:(a=r+n+o-$(window).width(),a>0?r=Math.max(r-a,o):r+=o,r-=i),r},_getPreviewTop:function(e){var t,n,r,i,s,o,u,a;return t=this.$el.offsetParent().offset(),n=e.getViewElement(),r=n.offset(),i=this.$previewPage1.height(),s=r.top-1-(i-n.height())/2-t.top,o=4,u=(this._getPreviewExtraHeight()+o)/2,s<u?s=u:(a=s+t.top+i+u*2-$(window).height(),a>0&&(s=Math.max(s-a,u))),s},_getPreviewExtraSize:function(e){return e*Math.sin(2*Math.PI/180)},_getPreviewExtraWidth:function(){return this._getPreviewExtraSize(this.$previewPage1.height())},_getPreviewExtraHeight:function(){return this._getPreviewExtraSize(this.$previewPage1.width())},_onClick:function(){this._triggerViewEvent(e.ViewEvents.OPEN_COLLECTION_ITEM,{itemView:this._getItemView()})},_onDownloadClick:function(t){var n=this.options.hoverPreviewUiModel,r=n.getItemId();this._consumeEvent(t),n.close(),_.defer(_.bind(function(){this._triggerViewEvent(e.ViewEvents.DOWNLOAD,{id:r})},this))},_onPageMouseEnter:function(){this._stopPageMouseLeaveTimer()},_onPageMouseLeave:function(e){var t=$(e.relatedTarget),n;t.closest(".hover-preview-page").length===0&&(n=this._getItemView(),(!n||t.closest(n.getViewElement()).length===0)&&this._startPageMouseLeaveTimer())},_startPageMouseLeaveTimer:function(){var e=this.options.hoverPreviewUiModel;this._stopPageMouseLeaveTimer(),this._pageMouseLeaveTimerId=setTimeout(_.bind(function(){this._pageMouseLeaveTimerId=undefined,e.close()},this),e.get("preview_leave_delay"))},_stopPageMouseLeaveTimer:function(){var e=this._pageMouseLeaveTimerId;e&&(clearTimeout(e),this._pageMouseLeaveTimerId=undefined)},_addAppApiCallbacks:function(){this.options.appApi.previewApi.addItemModelChangeCallback(this._onItemModelChange)},_addUiModelEventListeners:function(){var e=this.options;e.hoverPreviewUiModel.on("change:item_view",this._onItemViewChange).on("change:page_count",this._onPageCountChange).on("change:current_page",this._onCurrentPageChange),e.dialogsUiModel.on("change:count",this._onDialogsCountChange)},_onItemViewChange:function(e,t){t?this._preview():this._close()},_onPageCountChange:function(){if(!this._getItemView())return;this._updatePreview()},_onCurrentPageChange:function(){if(!this._getItemView())return;this.$previewImage&&this.$previewImage.fadeOut(_.bind(function(){this._loadPreview()},this))},_onItemModelChange:function(){this._close()},_onDialogsCountChange:function(e,t){t>0&&this._close()}})}),define("core/dev/views/toolbar-item-view",["core/ac-core","core/views/plugin-selector-view"],function(e){return e.ToolbarItemView=e.PluginSelectorView.extend({initialize:function(){e.PluginSelectorView.prototype.initialize.call(this),LOG.warn("'core/views/toolbar-item-view' is deprecated. Use 'core/views/plugin-selector-view' instead.")}}),e.ToolbarItemView}),define("core/dev/views/tool-view",["core/ac-core","core/views/plugin-content-view"],function(e){return e.ToolView=e.PluginContentView.extend({initialize:function(){e.PluginContentView.prototype.initialize.call(this),LOG.warn("'core/views/tool-view' is deprecated. Use 'core/views/plugin-selector-view' instead.")}}),e.ToolView}),define("core/dev/templates/search-control-template",[],function(){return'<button class="search-magnifier"         disabled="disabled" aria-hidden="true">    <span class="hidden-accessible"><%= clearSearch %></span></button><div class="query-boxes">    <div class="query-boxes-list"          role="list" aria-live="polite"         aria-relevant="additions text"></div></div>'}),define("core/dev/views/query-boxes-view",["core/ac-core","core/views/view","core/views/query-box-view","core/views/search-field-view"],function(e){return e.QueryBoxesView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this)},render:function(){return e.View.prototype.render.call(this),this._initWrappers(),this._renderChildViews(),this},_initWrappers:function(){this.$queryBoxesList=this.$(".query-boxes-list")},_renderChildViews:function(){var t=this.options.searchUiModel,n=t.get("field_queries"),r;r=this.getChildViews(),_.each(r,_.bind(function(t){t instanceof e.QueryBoxView&&this.removeChildView(t)},this)),n.each(_.bind(function(e){e.get("commit_query_box")&&this._renderQueryBoxView(e)},this)),this.options.inFileSelectionDlg&&this._renderSearchFieldView()},_renderQueryBoxView:function(t){this._renderChildView("_queryBoxView_"+t.id,e.QueryBoxView,this.$queryBoxesList,{searchFieldQuery:t,childViewId:t.id})},_renderSearchFieldView:function(){this._renderChildView("_searchFieldView",e.SearchFieldView,this.$el)}}),e.QueryBoxesView}),define("core/dev/views/search-control-view",["core/ac-core","core/templates/search-control-template","i18n!core/nls/ui-strings","core/utils/css-util","core/utils/view-util","core/utils/sc-analytics","core/views/view","core/views/query-boxes-view","core/views/input-search-view"],function(e,t,n,r,i,s){return e.SearchControlView=e.View.extend({events:{"click .search-magnifier.clear-btn":"_onClearSearchClick"},initialize:function(){e.View.prototype.initialize.call(this),this._addUiModelEventListeners()},render:function(){var s=this.$el,o=this.$queryBoxes,u=this.options.searchUiModel,a,f;return e.View.prototype.render.call(this),s.children().length===0&&(s.html(_.template(t)({clearSearch:n.CLEAR_SEARCH_TITLE})),this._initWrappers(),i.setElementFontByLocale(s,"input")),o=this.$queryBoxes,o.width(Math.floor(s.width()-r.getFullWidth(this.$magnifier))),this._renderChildViews(),this._updateControls(),f=s.height(),_.isNumber(f)&&(a=u.get("search_control_height"),u.set("search_control_height",f,{silent:_.isUndefined(a)})),this},_onViewEvent:function(t,n){if(t===e.ViewEvents.SEARCH_FIELD_CLICKED){this.options.noUrlUpdate?this._logSiteCatalystEvent([s.SEARCH_BAR,s.CLICKED]):this._logSiteCatalystEvent(s.CLICKED);return}this.trigger(t,n)},_getSiteCatalystContext:function(){return this.options.noUrlUpdate?undefined:s.SEARCH_BAR},_initWrappers:function(){this.$magnifier=this.$(".search-magnifier"),this.$queryBoxes=this.$(".query-boxes")},_updateControls:function(){var e=this.options,t=e.appApi.acrobatApi,r=this.$magnifier;e.searchUiModel.getRemovableFieldQueryCount()===0?r.removeClass("clear-btn").removeAttr("title").attr({disabled:"disabled","aria-hidden":!0}):r.addClass("clear-btn").attr({title:n.CLEAR_SEARCH_TITLE,"aria-hidden":!1}).removeAttr("disabled");if(t.isInAcrobat()&&t.isFolderSelectionMode()||e.searchUiModel.get("is_locked"))this.$el.addClass("disabled"),r.attr({disabled:"disabled"}),i.enableInput(this.$("input"),!1);this.options.inFileSelectionDlg||this.$magnifier.hide()},_renderChildViews:function(){this._renderQueryBoxesView()},_renderQueryBoxesView:function(){this._renderChildView("_queryBoxesView",e.QueryBoxesView,this.$queryBoxes)},_onClearSearchClick:function(){this._logSiteCatalystEvent([s.KEYWORDS,s.DISMISSED]),this._triggerViewEvent(e.ViewEvents.REMOVE_REMOVABLE_QUERIES),this.$("input").focus()},_addUiModelEventListeners:function(){var e=this.options.searchUiModel;this.listenTo(e,"change:field_queries",this._onFieldQueriesChange).listenTo(e,"change:focus_in_search_field",this._onFocusInSearchFieldChange)},_onFieldQueriesChange:function(){this._isHidden()||this.render()},_onFocusInSearchFieldChange:function(e,t){t&&this.$("input").focus()}}),e.SearchControlView}),define("core/dev/templates/sectioned-plugins-selector-template",[],function(){return'<div class="home-views-section"        role="group" aria-labelledby="section-label-<%= viewId %>"><div role="heading" aria-level="3">    <div class="home-views-section section-label theme-list-item-text unselectable"         id="section-label-<%= viewId %>">        <%= sectionLabel %></div>        <button class="home-views-section section-status                       unselectable" aria-hidden="true" disabled>        </button>    </div></div>'}),define("core/dev/views/sectioned-plugins-selector-view",["core/ac-core","core/utils/util","core/templates/sectioned-plugins-selector-template","i18n!core/nls/ui-strings","core/utils/truncate","core/utils/css-util","core/utils/view-util","core/views/plugins-selector-view"],function(e,t,n,r,i,s,o){return e.SectionedPluginsSelectorView=e.PluginsSelectorView.extend({events:{"click .plugin-selector":"_onPluginSelectorClick","click .home-view-selector-icon":"_onPluginSelectorDelete"},initialize:function(){e.PluginsSelectorView.prototype.initialize.call(this),this._template=_.template(n)},render:function(){this.$item||(this.$el.append(this._template({sectionLabel:this.options.sectionLabel,viewId:this.options.viewId})),this.$item=this.$el.children().last(),this.setElement(this.$item),this._section=this.options.section,this._selectorTemplate=this.options.selectorTemplate,this._selectorClickEvent=this.options.clickEvent,this._selectorDeleteEvent=this.options.deleteEvent,this._scContext=this.options.scContext,this._enableEditing=this.options.enableEditing&&this._getSectionName()==="STORAGE",this._initWrappers(),this._enableEditing&&(this._addDomEventListeners(),this._addUiModelEventListeners())),e.PluginsSelectorView.prototype.render.call(this),this._updateSectionStatus(),this._updateSectionEditVisibility()},_getSelectorTemplate:function(){return this._selectorTemplate},_getSelectorViewEvent:function(){return this._selectorClickEvent},_getSiteCatalystContext:function(){return this._scAnalyticsEvent},_getSectionName:function(){return this._section},_initWrappers:function(){this.$sectionLabel=this.$(".section-label"),this.$sectionStatus=this.$(".section-status"),e.PluginsSelectorView.prototype._initWrappers.call(this)},_markRemovableItems:function(){var e=this.options,t=e.pluginsUiModel,n=e.appApi.pluginsApi,i,s,o,u;t.get("plugins").each(_.bind(function(e){i=e.get("selector_api"),s=e.get("selector_elem"),o=e.get("config");if(!i||!s)return;if(o.section!==this._getSectionName())return;u=s.children(),n.callPluginApiMethod(i,"isRemovable",undefined,!0,!0)?u.addClass("editing").filter(".home-view-selector-icon").removeAttr("aria-hidden").prop("disabled",!1).attr({title:r.REMOVE_ACCOUNT,"aria-label":r.REMOVE_ACCOUNT+": "+e.get("selector_label")}):u.removeClass("editing").filter(".home-view-selector-icon").attr("aria-hidden",!0).prop("disabled",!0)},this))},_updateSectionStatus:function(){var e=this.options,t=e.appApi.connectorsApi,n=this.$sectionStatus,i=e.leftRailUiModel,s=this.$selectors;if(!this._enableEditing){n.remove(),s.children(".home-view-selector-icon").remove(),this._truncateToFit();return}t.hasAnyRemovableConnectors()?n.removeAttr("aria-hidden").removeAttr("disabled").prop("disabled",!1):n.attr("aria-hidden",!0).prop("disabled",!0),i.get("is_editing")?(n.addClass("shown editing").text(r.DONE).removeAttr("title").removeAttr("aria-label"),this._markRemovableItems()):(n.removeClass("shown editing").text("").attr({title:r.EDIT_ACCOUNTS,"aria-label":r.EDIT_ACCOUNTS}),s.children().removeClass("editing").filter(".home-view-selector-icon").attr("aria-hidden",!0).prop("disabled",!0)),this._truncateToFit()},_updateSectionEditVisibility:function(n){var r=this.options,i=r.appApi,s=i.connectorsApi,o=i.routerApi,u=this.$sectionStatus,a=r.leftRailUiModel,f=this.$selectors,l;if(!this._enableEditing)return;if(!t.isCEF()&&e.Features.isFeatureEnabled("no_collection_item_checkbox")&&o.hasQueryParam("allow_left_rail_editing","1")){this._removeDomEventListeners(),this._addDomEventListeners();return}s.hasAnyRemovableConnectors()?(u.removeAttr("aria-hidden").removeAttr("disabled").prop("disabled",!1),this._removeDomEventListeners(),this._addDomEventListeners()):(u.removeClass("shown editing").text("").attr("aria-hidden",!0).prop("disabled",!0),f.children().removeClass("editing"),this._removeDomEventListeners(),a.set("is_editing",!1,{silent:!0})),n==="remove"&&(this._lastActiveElement&&this._lastActiveElement.is(":focusable")?(l=this._lastActiveElement,this._lastActiveElement=null):this.$sectionStatus.is(":tabbable")?l=this.$sectionStatus:l=this.$el.closest("[role=menubar]").find(".plugin-selector.selected"),l&&l.length&&_.defer(function(){l.is("[id]")&&(l=$("#"+l.attr("id"))),l.focus()}))},_truncateToFit:function(){var e=this.$sectionLabel,t=this.$sectionStatus,n;e.text(this.options.sectionLabel),n=s.getFullWidth(e)-s.getExtraWidth(e)-s.getFullWidth(t)-s.getExtraWidth(t),i.truncateElementText(e,n,{truncateFromRight:!0})},_onSectionEditClick:function(e){var t=this.options.leftRailUiModel,n=t.get("is_editing");t.set("is_editing",!n),this._consumeEvent(e)},_lastActiveElement:null,_onPluginSelectorDelete:function(e){var t=$(e.currentTarget),n=t.parent().data("id");this.$sectionStatus.hasClass("editing")&&(this._lastActiveElement=this.$(document.activeElement),this._triggerViewEvent(this._selectorDeleteEvent,{pluginId:n}),this._consumeEvent(e))},_addDomEventListeners:function(){var e=this.$sectionStatus;this.$sectionLabel.mouseenter(function(){e.addClass("shown")}).mouseleave(function(){e.removeClass("shown")}),e.mouseenter(function(){e.addClass("shown")}).mouseleave(function(){e.removeClass("shown")}),e.click(this._onSectionEditClick)},_removeDomEventListeners:function(){var e=this.$sectionStatus,t=this.$sectionLabel;e.off("mouseenter mouseleave click"),t.off("mouseenter mouseleave")},_addUiModelEventListeners:function(){var e=this.options,t;e.leftRailUiModel.on("change:is_editing",this._updateSectionStatus),e.homeViewsUiModel&&(t=e.homeViewsUiModel.get("plugins"),t&&(t.on("add",function(){this._updateSectionEditVisibility("add")},this),t.on("remove",function(){this._updateSectionEditVisibility("remove")},this)))},_onKeyDown:function(e){var t=$(e.target),n=this.$el,r,i,s=!1,u=t.closest(".plugin-selector"),a;if(!t.closest(n).length||!u.length)return s;r=n.parent(),a=t.is(u);switch(e.which){case 13:case 32:t.trigger("click"),this._consumeEvent(e),s=!0;break;case 37:case 38:a?i=o.getNextFocusableDescendant(r,!0,!0,".plugin-selector"):i=u,s=!0;break;case 39:case 40:a||u.focus(),i=o.getNextFocusableDescendant(r,!1,!0,".plugin-selector"),s=!0}return i&&i.length===1&&(this._consumeEvent(e),i.focus(),i.is("[role='tab']")&&i.trigger("click")),s},_onFocusOut:function(t){var n=$(t.target);n.is(".plugin-selector")&&n.attr("tabindex","-1"),e.PluginsSelectorView.prototype._onFocusOut.call(this,t)}}),e.SectionedPluginsSelectorView}),define("core/dev/templates/rhp-actions-template",[],function(){return'<div class="rhp-menu rhp-actions-menu theme-list-item-text"><div class="rhp-menu first-menu"><div class="rhp-action-send " >    <div class="rhp-menu-item rhp-action  send  cb-active-text-theme rhp-actions-item"            id="rhp-action-send-btn-<%= viewId %>" tabindex = "-1">        <div class="rhp-action-icon share"></div>        <div class="rhp-action-label"> <%= sharefile %> </div>    </div></div><div class="rhp-action-sendforsignature" >    <div class="rhp-menu-item rhp-action  signature  cb-active-text-theme rhp-actions-item"            id="rhp-action-signature-btn-<%= viewId %>" tabindex = "-1">        <div class="rhp-action-icon sendforsignature"></div>        <div class="rhp-action-label"> <%= sendforsignature %> </div>    </div></div></div><div class="rhp-menu-break-one rhp-menu-separator theme-border"/><div class="rhp-menu second-menu"><div class="rhp-action-comment  " >    <div class="rhp-menu-item rhp-action  comment cb-active-text-theme rhp-actions-item "            id="rhp-action-comment-btn-<%= viewId %>" tabindex = "-1">        <div class="rhp-action-icon comment"></div>        <div class="rhp-action-label"><%= comment %> </div>    </div></div><div class="rhp-action-fillsign  " >   <div class="rhp-menu-item rhp-action  fillsign cb-active-text-theme rhp-actions-item"            id="rhp-action-fillsign-btn-<%= viewId %>" tabindex = "-1">        <div class="rhp-action-icon fillandsign"></div>        <div class="rhp-action-label "><%= fillsign %> </div>    </div></div><div class="rhp-action-editpdf " >   <div class="rhp-menu-item rhp-action editpdf cb-active-text-theme rhp-actions-item "            id="rhp-action-organizepages-btn-<%= viewId %>" tabindex = "-1">        <div class="rhp-action-icon editpdf"></div>        <div class="rhp-action-label"> <%= editpdf %> </div>       </div></div><div class="rhp-action-plugins theme-list-item-text"></div><div class="rhp-action-organizepages " >   <div class="rhp-menu-item rhp-action organizepages  cb-active-text-theme  rhp-actions-item "            id="rhp-action-organizepages-btn-<%= viewId %>" tabindex = "-1">        <div class="rhp-action-icon organize"></div>        <div class="rhp-action-label"><%= organize %></div>  </div></div></div><div class="rhp-menu-break-two rhp-menu-separator theme-border"/><div class="rhp-menu third-menu"><div class="rhp-action-download  " ><div class="rhp-menu-item rhp-action download cb-active-text-theme rhp-actions-item"            id="rhp-action-download-btn-<%= viewId %>" tabindex = "-1">        <div class="rhp-action-icon download"></div>        <div class="rhp-action-label"><%= download %></div>    </div></div><div class="rhp-action-rename " >    <div class="rhp-menu-item rhp-action  rename cb-active-text-theme rhp-actions-item"            id="rhp-action-rename-btn-<%= viewId %>" tabindex = "-1">        <div class="rhp-action-icon rename"></div>        <div class="rhp-action-label "><%= rename %></div>    </div></div><div class="rhp-action-move" >    <div class="rhp-menu-item rhp-action move cb-active-text-theme rhp-actions-item "            id="rhp-action-move-btn-<%= viewId %>" tabindex = "-1">        <div class="rhp-action-icon move"></div>        <div class="rhp-action-label "><%= move %></div>    </div></div><div class="rhp-action-delete" >    <div class="rhp-menu-item rhp-action delete cb-active-text-theme rhp-actions-item "            id="rhp-action-delete-btn-<%= viewId %>" tabindex = "-1">        <div class="rhp-action-icon delete"></div>        <div class="rhp-action-label "><%= deleteStr %></div>    </div></div><div class="rhp-action-remove-recent" >    <div class="rhp-menu-item rhp-action  remove-recent cb-active-text-theme rhp-actions-item "            id="rhp-action-remove-recent-btn-<%= viewId %>" tabindex = "-1">        <div class="rhp-action-icon remove-recent"></div>        <div class="rhp-action-label "><%= removeFromRecent %></div>    </div></div></div></div> <div class="selection-action-send-menu menu" role="menu"></div>'}),define("core/dev/templates/rhp-actions-acrobat-template",[],function(){return'<div class="rhp-menu rhp-actions-menu theme-list-item-text"><div class="rhp-menu first-menu"><div class="rhp-action-send" >    <div class="rhp-menu-item rhp-action send  cb-active-text-theme rhp-actions-item"            id="rhp-action-send-btn-<%= viewId %>" tabindex = "-1">        <div class="rhp-action-icon share"></div>        <div class="rhp-action-label"> <%= sharefile %> </div>    </div></div><div class="rhp-action-sendforsignature " >    <div class="rhp-menu-item rhp-actionsignature cb-active-text-theme rhp-actions-item"            id="rhp-action-signature-btn-<%= viewId %>" tabindex = "-1">        <div class="rhp-action-icon sendforsignature"></div>        <div class="rhp-action-label "> <%= sendforsignature %> </div>    </div></div></div><div class="rhp-menu-break-one rhp-menu-separator theme-border"/><div class="rhp-menu second-menu"><div class="rhp-action-editpdf " >   <div class="rhp-menu-item rhp-action editpdf cb-active-text-theme rhp-actions-item"            id="rhp-action-organizepages-btn-<%= viewId %>" tabindex = "-1">        <div class="rhp-action-icon editpdf"></div>        <div class="rhp-action-label "> <%= editpdf %> </div>       </div></div><div class="rhp-action-plugins tabindex = "-1" theme-list-item-text"></div><div class="rhp-action-organizepages" >   <div class="rhp-menu-item rhp-action organizepages  cb-active-text-theme  rhp-actions-item "            id="rhp-action-organizepages-btn-<%= viewId %>" tabindex = "-1">        <div class="rhp-action-icon organize"></div>        <div class="rhp-action-label "><%= organize %></div>  </div></div><div class="rhp-action-comment  " >    <div class="rhp-menu-item rhp-action  comment cb-active-text-theme rhp-actions-item"            id="rhp-action-comment-btn-<%= viewId %>" tabindex = "-1">        <div class="rhp-action-icon comment"></div>        <div class="rhp-action-label "><%= comment %> </div>    </div></div><div class="rhp-action-fillsign   " >   <div class="rhp-menu-item rhp-action fillsign cb-active-text-theme rhp-actions-item "            id="rhp-action-fillsign-btn-<%= viewId %>" tabindex = "-1">        <div class="rhp-action-icon fillandsign"></div>        <div class="rhp-action-label"><%= fillsign %> </div>    </div></div></div><div class="rhp-menu-break-two rhp-menu-separator theme-border"/><div class="rhp-menu third-menu"><div class="rhp-action-download " ><div class="rhp-menu-item rhp-action   download cb-active-text-theme rhp-actions-item"            id="rhp-action-download-btn-<%= viewId %>" tabindex = "-1">        <div class="rhp-action-icon download"></div>        <div class="rhp-action-label "><%= download %></div>    </div></div><div class="rhp-action-rename " >    <div class="rhp-menu-item rhp-action  rename cb-active-text-theme rhp-actions-item"            id="rhp-action-rename-btn-<%= viewId %>" tabindex = "-1">        <div class="rhp-action-icon rename"></div>        <div class="rhp-action-label"><%= rename %></div>    </div></div><div class="rhp-action-move " >    <div class="rhp-menu-item rhp-action  move  cb-active-text-theme rhp-actions-item"            id="rhp-action-move-btn-<%= viewId %>" tabindex = "-1">        <div class="rhp-action-icon move"></div>        <div class="rhp-action-label "><%= move %></div>    </div></div><div class="rhp-action-delete " >    <div class="rhp-menu-item rhp-action delete  cb-active-text-theme rhp-actions-item  "            id="rhp-action-delete-btn-<%= viewId %>" tabindex = "-1">        <div class="rhp-action-icon delete"></div>        <div class="rhp-action-label"><%= deleteStr %></div>    </div></div><div class="rhp-action-remove-recent" >    <div class="rhp-menu-item rhp-action  remove-recent  cb-active-text-theme rhp-actions-item "            id="rhp-action-remove-recent-btn-<%= viewId %>" tabindex = "-1">        <div class="rhp-action-icon remove-recent"></div>        <div class="rhp-action-label "><%= removeFromRecent %></div>    </div></div></div></div> <div class="selection-action-send-menu menu" role="menu"></div>'}),define("core/dev/views/rhp-actions-view",["core/ac-core","core/templates/rhp-actions-template","core/templates/rhp-actions-acrobat-template","i18n!core/nls/ui-strings","core/utils/util","core/utils/action-ids","core/utils/view-util","core/utils/sc-analytics","core/views/rhp-actions-plugins-view","core/views/selection-action-send-menu-view","core/views/view"],function(e,t,n,r,i,s,o,u){return e.RhpActionsView=e.View.extend({events:{"click .rhp-action-send":"_onSendClick","click .rhp-action-sendforreview":"_onReviewClick","click .rhp-action-sendforsignature":"_onSignatureClick","click .rhp-action-organizepages":"_onOrganizePagesClick","click .rhp-action-combine":"_onCombinePagesClick","click .rhp-action-editpdf":"_onEditPDFClick","click .rhp-action-fillsign":"_onFillandSignClick","click .rhp-action-comment":"_onCommentClick","click .rhp-action-download":"_onSaveAsClick","click .rhp-action-move":"_onMoveClick","click .rhp-action-rename":"_onRenameClick","click .rhp-action-delete":"_onDeleteClick","click .rhp-action-attachtoemail":"_onAttachtoEmailClick","click .rhp-action-remove-recent":"_onRemoveFromRecentClick"},initialize:function(){e.View.prototype.initialize.call(this),this._addKeyEventListener(),this._addFocusEventListener(),this._addUiModelEventListeners()},render:function(){var s=this.options,o=this.$el,u=this.$send,a=this.options.appApi,f=!1;a.rnaApi.done(function(e){f=e.isUsingAV2UI()}),e.View.prototype.render.call(this);if(o.children().length===0){var l;e.Util.isReader()==1?l=t:l=n,o.html(_.template(l)({rename:r.RENAME,move:r.MOVE,download:r.DOWNLOAD,send:r.SEND_FILE,sharefile:r.SHARE,attachtoemail:r.ATTACH_TO_EMAIL_PDF,sendforreview:r.SEND_FOR_REVIEW_PDF,sendforsignature:f?r.AV2_SEND_FOR_SIGNATURE_PDF:r.SEND_FOR_SIGNATURE_PDF,editpdf:f?r.AV2_EDIT_PDF:r.EDIT_PDF,comment:f?r.AV2_COMMENT_PDF:r.COMMENT_PDF,organize:f?r.AV2_ORGANIZE_PDF:r.ORGANIZE_PDF,fillsign:r.FILL_SIGN,deleteStr:r.DELETE,removeFromRecent:f?r.AV2_REMOVE_FROM_RECENT:r.REMOVE_FROM_RECENT,viewId:s.viewId})),this._initWrappers()}return this.options.isInSearchResultsView&&this._initWrappers(),i.isCEF()&&s.selectionUiModel.getNumSelectedItems()<=0&&o.hasClass("open")?(o.removeClass("open"),this):(i.isCEF()&&s.appApi.rnaApi.done(_.bind(function(e){var t=this.$send.find(".rhp-action-label");e.stApi.isSendTrackAvailable()&&t.text(r.SHARE)},this)),this._updateTooltips(f),this._updateButtons(),this._updateButtonsVisibility(),this._renderChildViews(),this)},_initWrappers:function(){this.$menu=this.$(".rhp-actions-menu"),this.$send=this.$(".rhp-action-send"),this.$attachtoemail=this.$(".rhp-action-attachtoemail"),this.$review=this.$(".rhp-action-sendforreview"),this.$signature=this.$(".rhp-action-sendforsignature"),this.$organize=this.$(".rhp-action-organizepages"),this.$editpdf=this.$(".rhp-action-editpdf"),this.$fillsign=this.$(".rhp-action-fillsign"),this.$comment=this.$(".rhp-action-comment"),this.$plugins=this.$(".rhp-action-plugins"),this.$delete=this.$(".rhp-action-delete"),this.$rename=this.$(".rhp-action-rename"),this.$move=this.$(".rhp-action-move"),this.$download=this.$(".rhp-action-download"),this.$removeFromRecent=this.$(".rhp-action-remove-recent"),this.$sendMenu=this.$(".selection-action-send-menu"),this.$firstmenu=this.$(".first-menu"),this.$secondmenu=this.$(".second-menu"),this.$thirdmenu=this.$(".third-menu"),this.$rhpmenubreakone=this.$(".rhp-menu-break-one"),this.$rhpmenubreaktwo=this.$(".rhp-menu-break-two")},_updateTooltips:function(e){this.$rename.attr("title",this._getRenameTooltip()),this.$move.attr("title",this._getMoveTooltip()),this.$download.attr("title",this._getDownloadTooltip()),this.$send.attr("title",this._getSendTooltip(e)),this.$delete.attr("title",this._getDeleteTooltip()),this.$attachtoemail.attr("title",this._getAttachToEmailTooltip()),this.$review.attr("title",this._getSendForReviewTooltip()),this.$signature.attr("title",this._getSendForSignatureTooltip(e)),this.$editpdf.attr("title",this._getEditPDFTooltip(e)),this.$comment.attr("title",this._getCommentTooltip(e)),this.$fillsign.attr("title",this._getFillSignTooltip(e)),this.$organize.attr("title",this._getOrganizeTooltip(e)),this.$removeFromRecent.attr("title",this._getRemoveFromRecentTooltip())},_getRenameTooltip:function(){var e,t;return t=this.options.selectionUiModel.getSingleSelectedItemModel(),t?e=t.isFile()?r.RENAME_FILE_VIRGO_TOOLTIP:r.RENAME_FOLDER:e=r.RENAME_FILE_VIRGO_TOOLTIP,e},_getMoveTooltip:function(){var e,t,n,s;return t=this.options.selectionUiModel.getSelectionCountByType(),n=t.numFiles,s=t.numFolders,n===0?s===1?e=r.MOVE_FOLDER:e=r.MOVE_FOLDERS:n===1?s===0?e=r.MOVE_FILE_VIRGO_TOOLTIP:s===1?e=r.MOVE_FILE_AND_FOLDER:e=r.MOVE_FILE_AND_FOLDERS:s===0?e=r.MOVE_FILES_TOOL_TIP:s===1?e=r.MOVE_FILES_AND_FOLDER:e=r.MOVE_FILES_AND_FOLDERS,i.isCEF(),e},_getDownloadTooltip:function(){var e,t,n,i;return t=this.options.selectionUiModel.getSelectionCountByType(),n=t.numFiles,i=t.numFolders,n===0?i===1?e=r.DOWNLOAD_FOLDER:e=r.DOWNLOAD:n===1?i===0?e=r.DOWNLOAD_FILE_VIRGO_TOOLTIP:e=r.DOWNLOAD:i===0?e=r.DOWNLOAD_FILES:e=r.DOWNLOAD,e},_getSendTooltip:function(e){return e?r.AV2_SHARE_VIRGO_TOOLTIP:r.SHARE_FILE_VIRGO_TOOLTIP},_getSendTooltipCommon:function(){var e=this.options.selectionUiModel.getSelectionCountByType();return e.numFiles===1?r.SEND_FILE:r.SEND_FILES},_getDeleteTooltip:function(){var e,t,n,s;return t=this.options.selectionUiModel.getSelectionCountByType(),n=t.numFiles,s=t.numFolders,n===0?s===1?e=r.DELETE_FOLDER_VIRGO_TOOLTIP:e=r.DELETE_FOLDERS_VIRGO_TOOLTIP:n===1?s===0?e=r.DELETE_FILE_VIRGO_TOOLTIP:s===1?e=r.DELETE_FILE_FOLDER_VIRGO_TOOLTIP:e=r.DELETE_FILE_FOLDERS_VIRGO_TOOLTIP:s===0?e=r.DELETE_FILES_VIRGO_TOOLTIP:s===1?e=r.DELETE_FILES_FOLDER_VIRGO_TOOLTIP:e=r.DELETE_FILES_FOLDERS_VIRGO_TOOLTIP,i.isCEF(),e},_getSendForReviewTooltip:function(){return r.SHARE_REVIEW_FILE_VIRGO_TOOLTIP},_getSendForSignatureTooltip:function(e){return e?r.AV2_SEND_FOR_SIGNATURE_VIRGO_TOOLTIP:r.SIGNATURE_FILE_VIRGO_TOOLTIP},_getAttachToEmailTooltip:function(){return r.ATTACH_TO_EMAIL},_getEditPDFTooltip:function(e){return e?r.AV2_EDIT_VIRGO_TOOLTIP:r.EDIT_PDF_TOOL_TIP},_getCommentTooltip:function(e){return e?r.AV2_COMMENT_VIRGO_TOOLTIP:r.COMMENT_FILE_VIRGO_TOOLTIP},_getFillSignTooltip:function(e){return e?r.AV2_FILL_SIGN_FILE_VIRGO_TOOLTIP:r.FILL_SIGN_FILE_VIRGO_TOOLTIP_NEW},_getOrganizeTooltip:function(e){return e?r.AV2_ORGANIZE_VIRGO_TOOLTIP:r.ORGANIZE_FILE_VIRGO_TOOLTIP},_getRemoveFromRecentTooltip:function(){return r.REMOVE_FROM_RECENT_TOOL_TIP},_getSaveAsToolTip:function(){return r.SAVE_AS},_enableButton:function(e,t){_.isUndefined(t)&&(t=!0),o.enableInput(e,t)},_oldupdateButtons:function(){var e=this.options,t=e.selectionUiModel,n=t.getSingleSelectedItemModel(),r=t.getSelectionCountByType(),o,u,a=e.appApi.connectorsApi,f=this.$rename,l=this.$move,c=this.$send,h=this.$review,p=this.$signature,d=this.$download,v=this.$delete;o=r.numFiles,u=r.numFolders,this._enableButton(l),this._enableButton(v),n?(this._enableButton(f),this._enableButton(c,n.isFile()),this._enableButton(d,n.isPDF())):(this._enableButton(f,!1),this._enableButton(c,u<=0),u>0&&o>0||u>1?this._enableButton(d,!1):(o>0||u===1)&&this._enableButton(d,!0)),e.folderDeletionDisabled&&this._enableButton(v,u<=0),this._updateButton(f,s.RENAME),a.isConnectorPlugin(e.pluginId)||this._updateButton(l,s.MOVE_ACROSS_CONNECTORS),i.isCEF()||this._updateButton(c,s.SEND),this._updateButton(d,s.DOWNLOAD),this._updateButton(v,s.DELETE)},_oldupdateButtonsVisibility:function(){var e=this.options,t=e.appApi.connectorsApi,n=e.selectionUiModel,r=n.getSelectionCountByType(),s,o=this.$plugins;s=r.numFiles===0&&r.numFolders>0,i.isCEF()||this._hideButton(this.$send,s||!e.appApi.pluginsApi.isPluginAvailable("send"));if(!t.isConnectorPlugin(e.pluginId))return;this._hideButton(this.$rename,e.noRename),this._hideButton(this.$move,e.noMove),s?o.hide():o.show(),this._hideButton(this.$delete,e.noDelete)},_logCTAEvent:function(e){this.options.appApi.siteCatalystApi.logVirgoCTAEvent(this.options.appApi.siteCatalystApi._getLogRHPSubCategory(this.options.pluginId),e,this.options.selectionUiModel.getNumSelectedItems()===1)},_onAttachtoEmailClick:function(){this._logSiteCatalystEvent([u.ATTACH_TO_EMAIL,u.CLICKED]),this._triggerViewEvent(e.ViewEvents.SELECTION_ACTION_ATTACH_TO_EMAIL),this._logCTAEvent(u.ATTACH_TO_EMAIL)},_onRemoveFromRecentClick:function(){var e=this.options.selectionUiModel.getSingleSelectedItemModel();e&&this.options.appApi.rnaApi.done(_.bind(function(t){t.removeRecentFile(e.get("index")).done(_.bind(function(e){e&&this.options.selectionUiModel.clearSelection()},this))},this)),this._logCTAEvent(u.VIRGO_CTA_REMOVE_TRACK)},_updateButtons:function(){var e=this.options,t=e.selectionUiModel,n=t.getSingleSelectedItemModel(),r=t.getSelectionCountByType(),s,o,u,a,f,l=e.appApi.connectorsApi;s=r.numFiles,o=r.numFolders,u=r.numNonPDFs,a=r.numForms,f=r.numShared,e.isInSearchResultsView||this.$removeFromRecent.hide();var c=this.options.appApi.connectorsApi.getConnectorPluginName(e.pluginId);if(n){if(n.isFile())if(c==="root"||c==="ccloud"||e.pluginId==="scan_files")if(n.isPDF()){this.$firstmenu.show(),this.$secondmenu.show(),this.$thirdmenu.show(),this.$rhpmenubreakone.show(),this.$rhpmenubreaktwo.show(),this.$editpdf.show(),this.$comment.show(),this.$plugins.show(),this.$organize.show(),this.$fillsign.show(),this.$download.show(),this.$rename.show(),this.$move.show(),this.$delete.show(),this.$send.show(),this.$review.hide(),this.$signature.hide();var h=0,p=0,d=0,v=0,m=0,g=0,y=0;this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaServicesAPI.isFillSignPDFEntitled()&&(h=1),e.rnaServicesAPI.isEditPDFEntitled()&&(d=1),e.rnaServicesAPI.isExportPDFEntitled()&&(m=1),e.rnaServicesAPI.isCommentPDFEntitled()&&(v=1),e.rnaServicesAPI.isOrganizePDFEntitled()&&(g=1),e.esApi.isSendForSignEnabled()&&(p=1),e.stApi.isAdobeReviewAvailable()&&(y=1)})),d===0&&this.$editpdf.hide(),m===0&&this.$plugins.hide(),v===0&&this.$comment.hide(),g===0&&this.$organize.hide(),d===0&&m===0&&v===0&&g===0&&h===0&&(this.$secondmenu.hide(),this.$rhpmenubreaktwo.hide()),h===1?this.$fillsign.show():this.$fillsign.hide(),b=1,b===1&&this.$send.show(),y===1&&this.$review.show(),b===0&&y===0&&(this.$firstmenu.hide(),this.$rhpmenubreakone.hide()),c==="ccloud"&&(this.$rhpmenubreakone.hide(),this.$send.hide(),this.$review.hide())}else{this.$firstmenu.show(),this.$secondmenu.show(),this.$thirdmenu.show(),this.$rhpmenubreakone.show(),this.$rhpmenubreaktwo.show(),this.$plugins.show(),this.$editpdf.hide(),this.$comment.hide(),this.$organize.hide(),this.$fillsign.hide(),this.$download.show(),this.$rename.show(),this.$move.show(),this.$delete.show(),this.$send.show(),this.$review.hide(),this.$signature.hide();var p=0,b=0,d=0,v=0,m=0,g=0;this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaServicesAPI.isEditPDFEntitled()&&(d=0),e.rnaServicesAPI.isCreatePDFEntitled()&&(m=1),e.rnaServicesAPI.isCommentPDFEntitled()&&(v=0),e.rnaServicesAPI.isOrganizePDFEntitled()&&(g=0),e.esApi.isSendForSignEnabled()&&(p=1)})),d===0&&this.$editpdf.hide(),m===0&&this.$plugins.hide(),v===0&&this.$comment.hide(),g===0&&this.$organize.hide(),d===0&&m===0&&v===0&&g===0&&(this.$secondmenu.hide(),this.$rhpmenubreaktwo.hide()),this.$review.hide(),c==="ccloud"&&(this.$rhpmenubreakone.hide(),this.$send.hide(),this.$review.hide())}else if(n.isPDF()){this.$firstmenu.show(),this.$secondmenu.show(),this.$thirdmenu.show(),this.$rhpmenubreakone.show(),this.$rhpmenubreaktwo.show(),this.$editpdf.show(),this.$comment.show(),this.$plugins.show(),this.$organize.show(),this.$fillsign.show(),this.$download.show(),this.$rename.hide(),this.$move.hide(),this.$delete.hide(),this.$send.show(),this.$review.hide(),this.$signature.hide();var h=0,p=0,d=0,v=0,m=0,g=0,y=0;this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaServicesAPI.isFillSignPDFEntitled()&&(h=1),e.esApi.isSendForSignEnabled()&&(p=1),e.rnaServicesAPI.isEditPDFEntitled()&&(d=1),e.rnaServicesAPI.isExportPDFEntitled()&&(m=1),e.rnaServicesAPI.isCommentPDFEntitled()&&(v=1),e.rnaServicesAPI.isOrganizePDFEntitled()&&(g=1),e.stApi.isAdobeReviewAvailable()&&(y=1)})),d===0&&this.$editpdf.hide(),m===0&&this.$plugins.hide(),v===0&&this.$comment.hide(),g===0&&this.$organize.hide(),d===0&&m===0&&v===0&&g===0&&h===0&&(this.$secondmenu.hide(),this.$rhpmenubreaktwo.hide()),h===1?this.$fillsign.show():this.$fillsign.hide(),y===1&&this.$review.show()}else{this.$firstmenu.show(),this.$secondmenu.show(),this.$thirdmenu.show(),this.$rhpmenubreakone.show(),this.$rhpmenubreaktwo.show(),this.$editpdf.hide(),this.$comment.hide(),this.$plugins.show(),this.$organize.hide(),this.$fillsign.hide(),this.$download.show(),this.$rename.hide(),this.$move.hide(),this.$delete.hide(),this.$send.show(),this.$review.hide(),this.$signature.hide();var p=0,b=0,d=0,v=0,m=0,g=0;this.options.appApi.rnaApi.done(_.bind(function(e){e.esApi.isSendForSignEnabled()&&(p=1),e.rnaServicesAPI.isEditPDFEntitled()&&(d=0),e.rnaServicesAPI.isCreatePDFEntitled()&&(m=1),e.rnaServicesAPI.isCommentPDFEntitled()&&(v=0),e.rnaServicesAPI.isOrganizePDFEntitled()&&(g=0)})),d===0&&this.$editpdf.hide(),m===0&&this.$plugins.hide(),v===0&&this.$comment.hide(),g===0&&this.$organize.hide(),d===0&&m===0&&v===0&&g===0&&(this.$secondmenu.hide(),this.$rhpmenubreaktwo.hide())}else c==="root"||c==="ccloud"||e.pluginId==="scan_files"?(this.$firstmenu.hide(),this.$secondmenu.hide(),this.$download.hide(),this.$rename.show(),this.$move.show(),this.$delete.show(),this.$rhpmenubreakone.hide(),this.$rhpmenubreaktwo.hide()):(this.$firstmenu.hide(),this.$secondmenu.hide(),this.$thirdmenu.hide(),this.$rhpmenubreakone.hide(),this.$rhpmenubreaktwo.hide());e.isInSearchResultsView&&n.isRecentFileItem?(this.$download.hide(),this.$rename.hide(),this.$move.hide(),this.$delete.hide(),this.$send.show(),this.$review.show(),this.$removeFromRecent.show(),this.options.appApi.rnaApi.done(_.bind(function(e){e.determineSourceOfRecentFile(n.get("index"),!1).then(_.bind(function(e){e==="local"&&this.$signature.show()},this))},this))):this.$removeFromRecent.hide()}else{var w=1;if(c==="root"||c==="ccloud"||e.pluginId==="scan_files")w=0;if(o===0)if(w===0){this.$secondmenu.hide(),this.$thirdmenu.show(),this.$review.hide(),this.$signature.hide(),this.$rhpmenubreaktwo.hide(),f===0?this.$download.show():this.$download.hide(),this.$rename.hide(),this.$move.show(),this.$delete.show();var p=0,b=0,E=0,d=0,v=0,m=0,g=0;this.options.appApi.rnaApi.done(_.bind(function(e){e.esApi.isSendForSignEnabled()&&(p=1)})),this.options.appApi.rnaApi.then(_.bind(function(e){e.stApi.isMultiFileParcelSupported()?E=1:E=0},this)),E==0?(this.$firstmenu.hide(),this.$rhpmenubreakone.hide()):(this.$firstmenu.show(),this.$rhpmenubreakone.show()),c==="ccloud"&&(this.$rhpmenubreakone.hide(),this.$send.hide(),this.$review.hide())}else{this.$secondmenu.hide(),this.$thirdmenu.hide(),this.$review.hide(),this.$signature.hide(),this.$rhpmenubreakone.hide(),this.$rhpmenubreaktwo.hide();var h=0,p=0,b=0,d=0,v=0,m=0,g=0;this.options.appApi.rnaApi.done(_.bind(function(e){e.esApi.isSendForSignEnabled()&&(p=1)})),c==="desktop_sharepoint",this.options.appApi.rnaApi.then(_.bind(function(e){e.stApi.isMultiFileParcelSupported()?this.$firstmenu.show():this.$firstmenu.hide()},this))}else w===0?(this.$firstmenu.hide(),this.$secondmenu.hide(),this.$thirdmenu.show(),this.$rhpmenubreakone.hide(),this.$rhpmenubreaktwo.hide(),this.$download.hide(),this.$rename.hide(),this.$move.show(),this.$delete.show()):(this.$firstmenu.hide(),this.$secondmenu.hide(),this.$thirdmenu.hide(),this.$rhpmenubreakone.hide(),this.$rhpmenubreaktwo.hide());i.isCEF()&&o===0&&s>0&&a===0&&u!==0&&s===u,u>1&&e.mutipleNonPDFsSaveDisabled,o>0&&s>0||o>1||f>0?this.$download.hide():(s>0||o===1)&&this.$download.show(),o>0||s>0}e.folderDeletionDisabled&&(o>0?this.$delete.hide():this.$delete.show())},_updateButtonsVisibility:function(){var e=this.options,t=e.appApi.connectorsApi;i.isCEF()||this._updateButtonVisibility(this.$send,!e.appApi.pluginsApi.isPluginAvailable("send"));if(!t.isConnectorPlugin(e.pluginId)&&e.pluginId!=="scan_files")return;this._updateButtonVisibility(this.$rename,e.noRename),this._updateButtonVisibility(this.$move,e.noMove),this._updateButtonVisibility(this.$delete,e.noDelete)},_updateButton:function(e,t){var n=this.options,r=n.selectionUiModel.getSelectedItemModels(),i=!1,s=n.appApi.connectorsApi;i=s.isActionRestrictedOnItems(r,t),i&&e.hide()},_updateButtonVisibility:function(e,t){if(_.isUndefined(t))return;t?e.hide():e.show()},_oldupdateButton:function(e,t){var n=this.options,r=n.selectionUiModel.getSelectedItemModels(),i=!1,s=n.appApi.connectorsApi;i=s.isActionRestrictedOnItems(r,t),i&&this._enableButton(e,!1)},_hideButton:function(e,t){t?e.hide():e.show()},_logNumSelectedItems:function(){var e=this.options,t=e.appApi.siteCatalystApi,n=e.selectionUiModel,r=n.getNumSelectedFiles(),i=n.getNumSelectedFolders(),s=this._getParentScContext();r>0&&t.logScEvent([s,u.NUM_FILES_CHECKED,u.getCountCode(r)]),i>0&&t.logScEvent([s,u.NUM_FOLDERS_CHECKED,u.getCountCode(i)])},_getSiteCatalystContext:function(){return u.ACTION_BAR},_expandMenu:function(e){var t=this.$menuBtn,n=this.$menu;this.options.rhpPreviewUiModel.set("actions_expanded",e),e?(t.addClass("expanded"),n.addClass("expanded")):(t.removeClass("expanded"),n.removeClass("expanded"))},_renderChildViews:function(){var t=this.options;this._renderChildView("_rhpActionsPluginsView",e.RhpActionsPluginsView,this.$plugins),i.isCEF()&&t.appApi.rnaApi.done(_.bind(function(t){t.stApi.isSendTrackAvailable()&&this._renderChildView("_rhpActionSendMenuView",e.SelectionActionSendMenuView,this.$sendMenu)},this))},_onActionsClick:function(){var e=this.options.rhpPreviewUiModel;e.get("actions_expanded")||e.expandActions()},_onSaveAsClick:function(t){var n=this.options;if($(t.currentTarget).hasClass("disabled"))return;this._logCTAEvent(u.DOWNLOAD),n.selectionUiModel.getNumSelectedItems()>0&&this._triggerViewEvent(e.ViewEvents.SAVEAS_SELECTED_COLLECTION_ITEMS)},_onRenameClick:function(t){var n=this.options,r,i=n.selectionUiModel.getSingleSelectedItemModel();if(!i||$(t.currentTarget).hasClass("disabled"))return;r=i.get("name"),this._logNumSelectedItems(),this._logSiteCatalystEvent([u.RENAME,u.CLICKED]),this._logCTAEvent(u.RENAME),this._triggerViewEvent(e.ViewEvents.RENAME,{id:i.get("id"),object_type:i.get("object_type"),name:r,existingName:r,parentView:this,scContext:this._getFullScContext()}),this.render()},_onReviewClick:function(t){var n=this.options,r=n.appApi,i=0;this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaServicesAPI.isReducedMode()&&(i=1)})),this._logNumSelectedItems(),this._logSiteCatalystEvent([u.REVIEW,u.CLICKED]),this._logCTAEvent(u.REVIEW),n.selectionUiModel.getNumSelectedItems()>0&&this._triggerViewEvent(e.ViewEvents.OPEN_SELECTED_COLLECTION_ITEMS),this.listenTo(this.options.rootView,e.ViewEvents.OPEN_DOC_IN_READER_END,this._onReviewClickFileOpen)},_onReviewClickFileOpen:function(t){this._triggerViewEvent(e.ViewEvents.CONTEXT_BOARD_PRIMARY_TOOLS_CLICK,{toolName:"review"}),this.stopListening(this.options.rootView,e.ViewEvents.OPEN_DOC_IN_READER_END,this._onReviewClickFileOpen)},_onSendClick:function(t){var n=this.options,r=n.appApi,i=0,s,o={},a=[],f=[],l,c,h,p=!1,d=!1;this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaServicesAPI.isReducedMode()&&(i=1)})),this._logNumSelectedItems(),this._logSiteCatalystEvent([u.SHARE,u.CLICKED]),this._logCTAEvent(u.SHARE),h=n.selectionUiModel.getNumSelectedItems();if(h==1){var v=n.selectionUiModel.getSingleSelectedItemModel();v.isPDF()?(p=!0,d=!1):(d=!0,p=!1)}p?(this._triggerViewEvent(e.ViewEvents.OPEN_SELECTED_COLLECTION_ITEMS),this.listenTo(this.options.rootView,e.ViewEvents.OPEN_DOC_IN_READER_END,this._onSendClickFileOpen)):(s=n.selectionUiModel.getSelectedItemModels(),_.each(s,function(e){_.isEmpty(e.id)?f.push(e._proxy):a.push({id:e.id,name:e.get("name")})}),f.length>0&&(c="HomeConnector",l=f),a.length>0&&(c="HomeDC",l=a),this.options.appApi.rnaApi.done(_.bind(function(e){o.launchingApp=c,o.usMode="share",o.selectedfilesModels=l,o.singleNonPDF=d,o.numOfFiles=h,e.stApi.launchUnifiedShareWithLaunchingAppInfo(o)})))},_onSendClickFileOpen:function(t){this._triggerViewEvent(e.ViewEvents.CONTEXT_BOARD_PRIMARY_TOOLS_CLICK,{toolName:"sharefile"}),this.stopListening(this.options.rootView,e.ViewEvents.OPEN_DOC_IN_READER_END,this._onSendClickFileOpen)},_onSignatureClick:function(t){var n=this.options,r=n.appApi,i=0;this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaServicesAPI.isReducedMode()&&(i=1)})),this._logNumSelectedItems(),this._logSiteCatalystEvent([u.SIGNATURE,u.CLICKED]),this._logCTAEvent(u.SIGNATURE),n.selectionUiModel.getNumSelectedItems()>0&&this._triggerViewEvent(e.ViewEvents.OPEN_SELECTED_COLLECTION_ITEMS),this.listenTo(this.options.rootView,e.ViewEvents.OPEN_DOC_IN_READER_END,this._onSignatureClickFileOpen)},_onSignatureClickFileOpen:function(t){this._triggerViewEvent(e.ViewEvents.CONTEXT_BOARD_PRIMARY_TOOLS_CLICK,{toolName:"sendforsign"}),this.stopListening(this.options.rootView,e.ViewEvents.OPEN_DOC_IN_READER_END,this._onSignatureClickFileOpen)},_onOrganizePagesClick:function(t){var n=this.options,r=n.appApi,i=0;this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaServicesAPI.isReducedMode()&&(i=1)})),this._logCTAEvent(u.ORGANIZE),i===1?this._triggerViewEvent(e.ViewEvents.CONTEXT_BOARD_PRIMARY_TOOLS_CLICK_REDUCEDMODE,{toolName:"organizepages"}):(this._logNumSelectedItems(),this._logSiteCatalystEvent([u.ORGANIZE,u.CLICKED]),n.selectionUiModel.getNumSelectedItems()>0&&this._triggerViewEvent(e.ViewEvents.OPEN_SELECTED_COLLECTION_ITEMS),this.listenTo(this.options.rootView,e.ViewEvents.OPEN_DOC_IN_READER_END,this._onOrganizeClickFileOpen))},_onOrganizeClickFileOpen:function(t){this._triggerViewEvent(e.ViewEvents.CONTEXT_BOARD_PRIMARY_TOOLS_CLICK,{toolName:"organizepages"}),this.stopListening(this.options.rootView,e.ViewEvents.OPEN_DOC_IN_READER_END,this._onOrganizeClickFileOpen)},_onCombinePagesClick:function(t){var n=this.options,r=n.appApi,i=0;this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaServicesAPI.isReducedMode()&&(i=1)})),this._logCTAEvent(u.COMBINE),i===1?this._triggerViewEvent(e.ViewEvents.CONTEXT_BOARD_PRIMARY_TOOLS_CLICK_REDUCEDMODE,{toolName:"combinepages"}):(this._logNumSelectedItems(),this._logSiteCatalystEvent([u.COMBINE,u.CLICKED]),this.listenTo(this.options.rootView,e.ViewEvents.OPEN_DOC_IN_READER_END,this._onCombineClickFileOpen))},_onCombineClickFileOpen:function(t){this._triggerViewEvent(e.ViewEvents.CONTEXT_BOARD_PRIMARY_TOOLS_CLICK,{toolName:"combinepages"}),this.stopListening(this.options.rootView,e.ViewEvents.OPEN_DOC_IN_READER_END,this._onCombineClickFileOpen)},_onEditPDFClick:function(t){var n=this.options,r=n.appApi,i=0;this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaServicesAPI.isReducedMode()&&(i=1)})),this._logCTAEvent(u.EDITPDF),i===1||e.Util.isReader()?this._triggerViewEvent(e.ViewEvents.CONTEXT_BOARD_PRIMARY_TOOLS_CLICK_REDUCEDMODE,{toolName:"editpdf"}):(this._logNumSelectedItems(),this._logSiteCatalystEvent([u.EDITPDF,u.CLICKED]),n.selectionUiModel.getNumSelectedItems()>0&&this._triggerViewEvent(e.ViewEvents.OPEN_SELECTED_COLLECTION_ITEMS),this.listenTo(this.options.rootView,e.ViewEvents.OPEN_DOC_IN_READER_END,this._onEditClickFileOpen))},_onEditClickFileOpen:function(t){this._triggerViewEvent(e.ViewEvents.CONTEXT_BOARD_PRIMARY_TOOLS_CLICK,{toolName:"editpdf"}),this.stopListening(this.options.rootView,e.ViewEvents.OPEN_DOC_IN_READER_END,this._onEditClickFileOpen)},_onFillandSignClick:function(t){var n=this.options,r=n.appApi,i=0;this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaServicesAPI.isReducedMode()&&(i=1)})),this._logNumSelectedItems(),this._logSiteCatalystEvent([u.FILLSIGN,u.CLICKED]),this._logCTAEvent(u.FILLSIGN),n.selectionUiModel.getNumSelectedItems()>0&&this._triggerViewEvent(e.ViewEvents.OPEN_SELECTED_COLLECTION_ITEMS),this.listenTo(this.options.rootView,e.ViewEvents.OPEN_DOC_IN_READER_END,this._onFillSignClickFileOpen)},_onFillSignClickFileOpen:function(t){this._triggerViewEvent(e.ViewEvents.CONTEXT_BOARD_PRIMARY_TOOLS_CLICK,{toolName:"fillandsign"}),this.stopListening(this.options.rootView,e.ViewEvents.OPEN_DOC_IN_READER_END,this._onFillSignClickFileOpen)},_onCommentClick:function(t){var n=this.options,r=n.appApi,i=0;this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaServicesAPI.isReducedMode()&&(i=1)})),this._logNumSelectedItems(),this._logSiteCatalystEvent([u.COMMENT,u.CLICKED]),this._logCTAEvent(u.COMMENT),n.selectionUiModel.getNumSelectedItems()>0&&this._triggerViewEvent(e.ViewEvents.OPEN_SELECTED_COLLECTION_ITEMS),this.listenTo(this.options.rootView,e.ViewEvents.OPEN_DOC_IN_READER_END,this._onCommentlickFileOpen)},_onCommentlickFileOpen:function(t){this._triggerViewEvent(e.ViewEvents.CONTEXT_BOARD_PRIMARY_TOOLS_CLICK,{toolName:"comment"}),this.stopListening(this.options.rootView,e.ViewEvents.OPEN_DOC_IN_READER_END,this._onCommentlickFileOpen)},_onMoveClick:function(t){if($(t.currentTarget).hasClass("disabled"))return;this._logNumSelectedItems(),this._logSiteCatalystEvent([u.MOVE,u.CLICKED]),this._logCTAEvent(u.MOVE),this._triggerViewEvent(e.ViewEvents.MOVE,{parentView:this,scContext:this._getFullScContext()})},_onDeleteClick:function(t){this.options.appApi.rnaApi.done(function(e){e.logPerformance("DeleteDCFile","start")});if($(t.currentTarget).hasClass("disabled"))return;this._logNumSelectedItems(),this._logSiteCatalystEvent([u.DELETE,u.CLICKED]),this._logCTAEvent(u.DELETE),this._triggerViewEvent(e.ViewEvents.DELETE,{parentView:this,scContext:this._getFullScContext()})},_onDownloadClick:function(t){var n=this.options,r=n.selectionUiModel,i,s,o;if($(t.currentTarget).hasClass("disabled"))return;this._logNumSelectedItems(),this._logSiteCatalystEvent([u.DOWNLOAD,u.CLICKED]),this._logCTAEvent(u.DOWNLOAD),o=r.getSelectedItemModels(),i=r.getSingleSelectedItemModel(),i||(o=_.filter(o,function(e){return!e.isForm()}),o.length===1&&(i=o[0])),i&&i.isFile()?this._triggerViewEvent(e.ViewEvents.DOWNLOAD,{id:i.id,scContext:this._getFullScContext(),numForms:r.getNumSelectedForms(),itemModel:i}):(s=_.pluck(o,"id").join(";"),this._triggerViewEvent(e.ViewEvents.DOWNLOAD_ZIP,{id_list:s,scContext:this._getFullScContext(),numForms:r.getNumSelectedForms(),itemModel:o}))},_onKeyDown:function(e){var t=this.$el,n,r=e.which,i=r===38,s=!1;if(!o.descendantHasFocus(t))return s;switch(r){case 13:case 32:s=!0,$(e.target).click();break;case 38:case 40:n=o.getNextFocusableDescendant(t,i,!0)}return n&&n.length===1&&(s=!0,n.focus()),s},_onFocusIn:function(e){},_addUiModelEventListeners:function(){var e=this.options;this.listenTo(e.selectionUiModel,"change:selected_item_models",this._onSelectedItemModelsChange).listenTo(e.rhpPreviewUiModel,"change:actions_expanded",this._onActionsExpandedChange)},_onSelectedItemModelsChange:function(e){if(e.isSelectionMasked())return;if(e.getNumSelectedItems()>0){if(this.options.isInSearchResultsView){var t=e.getSingleSelectedItemModel();if(t&&t.workflowType)return}this.render()}},_onActionsExpandedChange:function(){this.render()}}),e.RhpActionsView}),define("core/dev/templates/rhp-actions-toast-template",[],function(){return'<div class="rhp-actions-toast theme-list-item-text" >    <div class="toast-icon"></div>    <div class="toast-message-string"><%=toastMessageString%></div></div>'}),define("core/dev/views/rhp-actions-toast-view",["core/ac-core","core/templates/rhp-actions-toast-template","i18n!core/nls/ui-strings","core/utils/util","core/utils/date-util","core/utils/view-util","core/utils/truncate","core/utils/css-util","core/models/workflow-status-strings","core/utils/sc-analytics","core/ops/op","core/views/view"],function(e,t,n,r,i,s,o,u){var a="";return e.RhpActionsToast=e.View.extend({events:{},_initWrappers:function(){},_updateTooltips:function(){},initialize:function(){e.View.prototype.initialize.call(this),this._addKeyEventListener(),this._addFocusEventListener(),_.bindAll(this,"_toggleToastClassToHide")},render:function(){var n=this.options.options,r=this.$el,i=this.$send;e.View.prototype.render.call(this),r.html(_.template(t)({toastMessageString:n.toastArgumentString})),this.$toastAction=r.find(".rhp-actions-toast"),this.$toastAction.addClass("show");var s=5e3;return _.isUndefined(this.options.FadeOutTime)||(s=this.options.FadeOutTime),this._toastTimeOut=setTimeout(this._toggleToastClassToHide,s),this._initWrappers(),this},_toggleToastClassToHide:function(){this.$toastAction.removeClass("show")}}),e.RhpActionsToast}),define("core/dev/templates/skeleton-view-template",[],function(){return'<div class="skeleton-view"/>'}),define("core/dev/views/skeleton-view",["core/ac-core","core/templates/skeleton-view-template","core/views/plugins-selector-view"],function(e,t){return e.SkeletonView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this.template=_.template(t)},render:function(){var t=this.$el,n=this.options;e.View.prototype.render.call(this)}}),e.SkeletonView}),define("core/dev/templates/duplicate-name-dlg-template",[],function(){return'<fieldset class="duplicate-name-dlg-body theme-text">    <legend class="duplicate-name-dlg-prompt"><%= prompt %></legend>    <div class="duplicate-name-dlg-radio-btns">        <div class="duplicate-name-dlg-radio-btn-container">            <input class="duplicate-name-dlg-delete-existing-btn                          duplicate-name-dlg-radio-btn" type="radio"                   name="duplicate-name-dlg-radiogroup"                   value="delete-existing"                   id="duplicate-name-dlg-delete-existing-btn"                   checked="checked"/>            <label class="duplicate-name-dlg-delete-existing-label                          duplicate-name-dlg-radio-btn-label                          duplicate-name-dlg-label-width-control"                   for="duplicate-name-dlg-delete-existing-btn"                   ><%= deleteExisting %></label>        </div>         <div class="duplicate-name-dlg-radio-btn-container">            <input class="duplicate-name-dlg-rename-added-btn                          duplicate-name-dlg-radio-btn" type="radio"                   name="duplicate-name-dlg-radiogroup"                   value="rename-added"                   id="duplicate-name-dlg-rename-added-btn"                   />            <label class="duplicate-name-dlg-rename-added-label                          duplicate-name-dlg-radio-btn-label                          duplicate-name-dlg-label-width-control"                   for="duplicate-name-dlg-rename-added-btn"                   ><%= renameAdded %></label>        </div>    </div></fieldset> <div class="duplicate-name-dlg-control-btns">    <input class="duplicate-name-dlg-cancel-btn                  duplicate-name-dlg-control-btn                  dialog-control-button                  control-button button-grey ui-theme theme-text" type="button"           id="duplicate-name-dlg-cancel-btn"           aria-label="<%= cancel %>"           value="<%= cancel %>"/>    <input class="duplicate-name-dlg-continue-btn                  duplicate-name-dlg-control-btn                  dialog-control-button                  control-button theme-button theme-button-label" type="button"           id="duplicate-name-dlg-continue-btn"           aria-label="<%= continueLabel %>"           value="<%= continueLabel %>"/></div>'}),define("core/dev/views/duplicate-name-dlg-view",["core/ac-core","core/templates/duplicate-name-dlg-template","i18n!core/nls/ui-strings","core/utils/truncate","core/utils/util","core/utils/view-util","core/utils/sc-analytics","core/views/dialog-view"],function(e,t,n,r,i,s,o){e.DuplicateNameDlgView=e.DialogView.extend({events:function(){return _.extend({},e.DialogView.prototype.events,{"click .duplicate-name-dlg-delete-existing-btn":"_onRadioButtonClick","click .duplicate-name-dlg-rename-added-btn":"_onRadioButtonClick","click .duplicate-name-dlg-continue-btn":"_onContinueClick","click .duplicate-name-dlg-cancel-btn":"_onCancelClick"})},initialize:function(){e.DialogView.prototype.initialize.call(this)},render:function(){var r=this._fetchIfDestinationFileIsShared();return r.then(_.bind(function(r){e.DialogView.prototype.render.call(this),this._appendToDialog(_.template(t)({prompt:this._getPrompt(),deleteExisting:this._getDeleteExistingLabel(),renameAdded:this._getRenameAddedLabel(),continueLabel:n.CONTINUE,cancel:n.CANCEL})),this._setTitle(this._getTitle()),this._initWrappers(),this._updateControls(r),this._initTabLimits(),this._center(),i.isWindows()&&s.swapChildElements(this.$dlgControlBtns),this.$continueBtn.focus(),this._truncateText()},this)),this},open:function(){var t=e.DialogView.prototype.open.call(this);return this._logSiteCatalystEvent(o.SHOWN),t},close:function(t,n){var r=this.options,i=r.appApi.manipulationApi,s=this._getErrorData(),o,u;o=_.bind(function(){e.DialogView.prototype.close.call(this,t,n)},this),t||(u=s.moved_from,u?i.moveToFolderAs(r,s.id,s.object_type,u,s.renamed_details.original_name).always(o):i.deleteItem(r,s.id,s.object_type).always(o))},_initWrappers:function(){e.DialogView.prototype._initWrappers.call(this),this.$radioBtns=this.$(".duplicate-name-dlg-radio-btn"),this.$deleteExistingBtn=this.$(".duplicate-name-dlg-delete-existing-btn"),this.$renameAddedBtn=this.$(".duplicate-name-dlg-rename-added-btn"),this.$deleteExistingLabel=this.$(".duplicate-name-dlg-delete-existing-label"),this.$renameAddedLabel=this.$(".duplicate-name-dlg-rename-added-label"),this.$dlgControlBtns=this.$(".duplicate-name-dlg-control-btns"),this.$continueBtn=this.$(".duplicate-name-dlg-continue-btn"),this.$cancelBtn=this.$(".duplicate-name-dlg-cancel-btn")},_getAddedId:function(){return this.options.duplicate.id},_getAddedType:function(){return this.options.duplicate.object_type},_getAddedName:function(){return this.options.duplicate.renamed_to},_getExistingId:function(){return this.options.duplicate.renamed_details.duplicate_of.id},_getExistingType:function(){return this.options.duplicate.renamed_details.duplicate_of.object_type},_getExistingName:function(){return this.options.duplicate.renamed_details.original_name},_getMovedFrom:function(){return this.options.duplicate.moved_from},_getTitle:function(){return _.template(n.DUPLICATE_NAME_TITLE,{type:this._getExistingType()==="file"?n.FILE_INITIAL_CAP:n.FOLDER_INITIAL_CAP})},_getPrompt:function(){return _.template(n.DUPLICATE_NAME_PROMPT,{type:this._getExistingType()==="file"?n.FILE:n.FOLDER,name:this._getExistingName()})},_getDeleteExistingLabel:function(){return _.template(n.DUPLICATE_NAME_REPLACE_EXISTING,{type:this._getExistingType()==="file"?n.FILE:n.FOLDER})},_getRenameAddedLabel:function(){var t=this.options.duplicate.dupType===e.ErrorUiModel.DUP_TYPE_UPLOAD?n.DUPLICATE_NAME_RENAME_UPLOADED:n.DUPLICATE_NAME_RENAME_MOVED;return _.template(t,{type:this._getAddedType()==="file"?n.FILE:n.FOLDER})},_updateControls:function(e){if(this._getExistingType()==="folder"||e)this.$deleteExistingBtn.prop("checked",!1).attr("tabindex","-1"),this.$deleteExistingBtn.parent().addClass("hidden"),this.$renameAddedBtn.prop("checked",!0).attr("tabindex","0")},_onRadioButtonClick:function(e){var t=$(e.currentTarget);this.$radioBtns.prop("checked",!1).attr("tabindex","-1"),t.prop("checked",!0).attr("tabindex","0")},_onContinueClick:function(e){var t=$(e.currentTarget);if(!s.isInputEnabled(t))return;this._logSiteCatalystEvent(o.CONTINUE),s.isInputChecked(this.$deleteExistingBtn)?this._deleteExisting():s.isInputChecked(this.$renameAddedBtn)&&this._renameAddedItem()},_onCancelClick:function(){this.close(!1)},_getErrorData:function(){return this.options.errorUiModel.get("error").data},_truncateText:function(){r.truncateElementText(this.$deleteExistingLabel),r.truncateElementText(this.$renameAddedLabel),r.truncateButtonLabel(this.$continueBtn),r.truncateButtonLabel(this.$cancelBtn)},_closeAndTrigger:function(e,t){this.closeWithoutResolving(),this.options.parentView._triggerViewEvent(e,t)},_deleteExisting:function(){var t=this._getFullScContext().concat(o.DELETE_EXISTING);this._logSiteCatalystEvent(o.EXISTING),this._closeAndTrigger(e.ViewEvents.DUP_DLG_DELETE_EXISTING,{parentDeferred:this._deferred,existingId:this._getExistingId(),existingType:this._getExistingType(),existingName:this._getExistingName(),addedId:this._getAddedId(),addedType:this._getAddedType(),scContext:t})},_renameAddedItem:function(){var t=this._getFullScContext();this._logSiteCatalystEvent(o.RENAME),this._closeAndTrigger(e.ViewEvents.DUP_DLG_RENAME_ADDED,{parentView:this.options.parentView,parentDeferred:this._deferred,addedId:this._getAddedId(),addedType:this._getAddedType(),addedName:this._getAddedName(),existingName:this._getExistingName(),movedFrom:this._getMovedFrom(),scContext:t})},_getSiteCatalystContext:function(){return o.DUP_FILE_NAME_DLG},_fetchAssetData:function(t){var n=$.Deferred(),r,i=undefined;Ac.discoveryUrisModel&&(r=Ac.discoveryUrisModel.getUSSUrlsAndUserInfo()),r&&(i=r.isACPUser);if(i){var s={};s[t.toLowerCase()]=0;var o=e.opFactory.create("GettingCustomMetadatapOp",this.options);o.run(s).done(_.bind(function(e){if(e&&e.result_sets){var r=e.result_sets[0].items;for(var i=0;i<r.length;i++){var s=r[i];t.toLowerCase()==s.asset_id.toLowerCase()&&!(s.collab_metadata&&s.collab_metadata.shared_by&&s.collab_metadata.shared_by.length>0)?n.resolve(!1):n.resolve(!0)}}},this)).fail(function(e){n.resolve(!0)})}else{var u=e.opFactory.create("GettingAssetMetadataOp",_.extend(this.options)).run(t);u.then(_.bind(function(e){e&&!e.is_shared?n.resolve(!1):n.resolve(!0)},this),_.bind(function(e){n.resolve(!0)},this))}return n.promise()},_fetchIfDestinationFileIsShared:function(){var e=$.Deferred();if(this._getExistingType()==="folder")e.resolve(!1);else{var t=this._getExistingId();this._fetchAssetData(t).then(_.bind(function(t){t?e.resolve(!0):e.resolve(!1)},this),_.bind(function(t){e.resolve(!0)},this))}return e.promise()}})}),define("core/dev/templates/home-views-selector-template",[],function(){return'<div class="home-view-selector plugin-selector  theme-list-item-row-virgo cb-active-text-theme"        role="button"        aria-checked="false" tabindex="0">    <div class="home-view-selector-label unselectable" aria-label= "     <%= label %>     <%= title %>      "><%= label %>    </div>    <button class="home-view-selector-icon                   unselectable" aria-hidden="true" disabled>    </button></div>'}),define("core/dev/views/left-rail-view",["core/ac-core","core/utils/util","core/templates/home-views-selector-template","i18n!core/nls/ui-strings","core/utils/truncate","core/views/view","core/views/sectioned-plugins-selector-view"],function(e,t,n,r,i){return e.LeftRailView=e.View.extend({render:function(){var t,i=this.options,s;e.View.prototype.render.call(this),this.$el.children().length===0&&(t=_.uniq(_.pluck(this.options.pluginsUiModel.get("plugins").pluck("config"),"section")),_.each(t,_.bind(function(t){s=0,_.each(i.pluginsUiModel.get("plugins").models,function(e){e.get("config").section===t&&e.get("show_plugin")&&s++});if(s){var o=new e.SectionedPluginsSelectorView(_.extend({},this.options,{section:t,sectionLabel:r[t],clickEvent:this._getSelectorClickEvent(),deleteEvent:this._getSelectorDeleteEvent(),scContext:this._getSiteCatalystContext(),enableEditing:this._enableEditing(),selectorTemplate:n}));this.addChildView(o)}},this)),this.$el.click(this._onLeftRailClick),this.options.appApi.selectionApi.isRunningInFileSelection()&&this.options.appApi.rnaApi.done(function(e){e.logAnayticsCustomOpenSave("Time_To_Load_Left_Rail")}),this.options.appApi.selectionApi.isSelectingFiles()&&this.options.appApi.rnaApi.done(function(e){e.rnaServicesTestAPI.invokeMethod({methodName:"isViewerInTestMode"}).then(function(t){if(t){var n=window.performance;if(n){var r=n.getEntries();if(r.length>0){var i="",s=0,o,u="resource",a="0.0";for(s=0;s<r.length;s++)o=r[s].toJSON(),o.name&&(u=o.name.toString()),o.duration&&(a=o.duration.toString()),i=i+" Name : "+u+" Duration : "+a/100+"\n";e.logPerformanceEvent(i)}}}})})),this._renderChildViews(),this._truncateText(),this._scrollSelectedItemIntoView()},_renderChildViews:function(){var t=this.getChildViews();_.each(t,function(t){t instanceof e.SectionedPluginsSelectorView&&t.render()},this)},_getSelectorClickEvent:function(){LOG.warning("AcCore.LeftRailView._getSelectorClickEvent must be overridden by subclass")},_getSelectorDeleteEvent:function(){LOG.warning("AcCore.LeftRailView._getSelectorDeleteEvent must be overridden by subclass")},_enableEditing:function(){LOG.warning("AcCore.LeftRailView._enableEditing must be overridden by subclass")},_onLeftRailClick:function(e){var n=this.options,r=n.appApi,i;e.target===this.$el.get(0)&&(i=r.pluginsApi.callPluginMethod(n.pluginsUiModel.get("selected_plugin_id"),"hasCollectionItemCheckbox",undefined,!t.isCEF(),!0),i||r.selectionApi.clearSelection()),n.leftRailUiModel.set("is_editing",!1)},_truncateText:function(){var e=this.$(".home-view-selector-label"),t=this.options,n=t.pluginsUiModel;_.each(e,function(e){i.truncateElementText($(e),undefined,{truncateFromRight:!0})}),n.get("plugins").each(_.bind(function(e){var t=e.get("selector_elem");if(!t)return;var n=$(t).find(".home-view-selector-label").attr("title"),r=e.get("tooltip");_.isUndefined(n)?_.isUndefined(r)||$(t).attr("title",r):($(t).find(".home-view-selector-label").removeAttr("title"),_.isUndefined(r)?$(t).attr("title",n):$(t).attr("title",n+"\n"+r)),e.set("selector_elem",$(t))},this))},_scrollSelectedItemIntoView:function(){var e,t,n,r,i,s,o;e=this.$el,t=$(_.find(e.children().children(),function(e){return $(e).attr("aria-checked")==="true"}));if(_.isUndefined(t)||!t.length)return;n=t.position().top,r=t.height(),i=e.height(),s=e.scrollTop(),n<0||n+r>i?(o=n-(i-r)/2,this.$el.scrollTop(Math.max(s+o,0))):n<s&&(o=n+(i-r)/2,this.$el.scrollTop(Math.max(s-o,0)))}}),e.LeftRailView}),define("core/dev/views/home-view-view",["core/ac-core","core/views/plugin-content-view"],function(e){return e.HomeViewView=e.PluginContentView.extend({initialize:function(){e.PluginContentView.prototype.initialize.call(this),LOG.warn("'core/views/home-view-view' is deprecated. Use 'core/views/plugin-selector-view' instead.")}}),e.HomeViewView}),define("core/dev/views/home-view-selector-view",["core/ac-core","core/views/plugin-selector-view"],function(e){return e.HomeViewSelectorView=e.PluginSelectorView.extend({initialize:function(){e.PluginSelectorView.prototype.initialize.call(this),LOG.warn("'core/views/home-view-selector-view' is deprecated. Use 'core/views/plugin-selector-view' instead.")}}),e.HomeViewSelectorView}),define("core/dev/nls-cef/root/ui-strings",{ACTIONS:"Actions",ADDED:"Added",ADD_ACCOUNT:"Add Account...",BACK:"Back",CLOSE:"Close",CONTINUE:"Continue",EXTENSION:"(.<%- ext %>)",FILES:"Files",MODIFIED:"Modified",NAME:"Name",OR:"or",REMOVE:"Remove",SELECT_FILES:"Select Files",SELECT_FILE:"Select File",SIZE:"Size",N_ITEMS_CLICK_TO_VIEW:"<%= num %> items. Click to view.",CREATED_DATE:"Date Added",MODIFIED_DATE:"Date Modified",VIEWED_DATE:"Date Viewed",DATE_HH_MM_AMPM:"<%= hour %><%= sep %><%= minute %> <%= amPm %>",DATE_YESTERDAY:"Yesterday",DATE_MM_DD_YYYY:"<%= month %>/<%= day %>/<%= year %>",YYYY:"YYYY",AM:"AM",PM:"PM",HH:"H",HH_MM_SEPARATOR:":",MM:"M",DD:"D",ANIMATION:"Animation",AUDIO:"Audio",CALENDAR:"Calendar",CASCADING_STYLE_SHEET:"Cascading Style Sheet",CERTIFICATE:"Certificate",FONT:"Font",IMAGE:"Image",PLAIN_TEXT:"Plain Text",PRESENTATION:"Presentation",RICH_TEXT:"Rich Text",SPREADSHEET:"Spreadsheet",STYLE_SHEET:"Style Sheet",TEXT:"Text",UNKNOWN:"Unknown",VIDEO:"Video",KB:"<%= num %> KB",MB:"<%= num %> MB",GB:"<%= num %> GB",DECIMAL_SEPARATOR:".",THOUSANDS_SEPARATOR:",",FILE_NAME:"File Name contains",FILE_TYPE:"File Type is",FILE_CONTENT:"File contains",DATE_LAST_MODIFIED:"Date Last Modified is",DATE_LAST_VIEWED:"Date Last Viewed is",DATE_ADDED:"Date Added is",FILE_ADDED_BY:"File Added by",MIN_SIZE:"Min Size",MAX_SIZE:"Max Size",FILTER_DISPLAY_VALUE:"<%= field %>: <%= value %>",CREATE_PDF:"Create PDF",EXPORT_PDF:"Export PDF",COMBINE_PDF:"Combine PDF",FILL_SIGN:"Fill & Sign",ADOBE_ACROBAT:"Adobe Acrobat",ADOBE_READER_MOBILE:"Adobe Reader Mobile",ADOBE_READER:"Adobe Reader",TODAY:"Today",YESTERDAY:"Yesterday",WITHIN_LAST_WEEK:"Within Last Week",WITHIN_LAST_MONTH:"Within Last Month",ONE_TO_TWO_MONTHS_AGO:"1-2 Months Ago",TWO_TO_THREE_MONTHS_AGO:"2-3 Months Ago",THREE_TO_FOUR_MONTHS_AGO:"3-4 Months Ago",FOUR_TO_FIVE_MONTHS_AGO:"4-5 Months Ago",FIVE_TO_SIX_MONTHS_AGO:"5-6 Months Ago",SIX_TO_TWELVE_MONTHS_AGO:"6-12 Months Ago",MORE_THAN_ONE_YEAR_AGO:"1+ Year Ago",OK:"OK",CANCEL:"Cancel",CONFIRM_DELETE_TITLE:"Delete",CONFIRM_DELETE_MSG_ONE_ITEM:"Are you sure you want to delete this item?",CONFIRM_DELETE_MSG_N_ITEMS:"Are you sure you want to delete these <%= numItems %> items?",DOWNLOAD:"Download",DOWNLOAD_FILE:"Download File",DOWNLOAD_FILES:"Download Files",DOWNLOAD_FOLDER:"Download Folder",RENAME:"Rename",RENAME_ELLIPSIS:"Rename...",RENAME_FILE:"Rename File",RENAME_FOLDER:"Rename Folder",MOVE_FILE:"Move File",MOVE_FILES:"Move Files",MOVE_FOLDER:"Move Folder",MOVE_FOLDERS:"Move Folders",MOVE_FILE_AND_FOLDER:"Move File and Folder",MOVE_FILES_AND_FOLDER:"Move Files and Folder",MOVE_FILE_AND_FOLDERS:"Move File and Folders",MOVE_FILES_AND_FOLDERS:"Move Files and Folders",SHARE:"Share",SHARE_ELLIPSIS:"Share...",SHARE_FILE:"Share File",SHARE_FILES:"Share Files",SEND:"Send",SEND_FILE:"Send File",SEND_FILES:"Send Files",DELETE:"Delete",HOME:"Home",ENTER_KEYWORD:"Search",SEARCH:"Search",SHARED:"Shared",PREVIEW_NOT_AVAILABLE:"Cannot Preview Filetype",PREVIEW_NOT_AVAILABLE_DESC:"Please <a class='preview-download'>download</a> the file for viewing.",RENAME_NAME_IN_USE:'The <%= existingType %> named "<%= name %>" already exists in this location. Please choose another <%= renamedType %> name.',RENAME_ILLEGAL_NAME:"The name contains illegal characters or has too many characters. Please choose another <%= renamedType %> name.",MOVE:"Move",MOVE_FILE_TO:"Move File To...",MOVE_FILES_TO:"Move Files To...",MOVE_FOLDER_TO:"Move Folder To...",MOVE_FOLDERS_TO:"Move Folders To...",MOVE_FILE_AND_FOLDER_TO:"Move File and Folder To...",MOVE_FILES_AND_FOLDER_TO:"Move Files and Folder To...",MOVE_FILE_AND_FOLDERS_TO:"Move File and Folders To...",MOVE_FILES_AND_FOLDERS_TO:"Move Files and Folders To...",DUPLICATE_NAME_TITLE:"Duplicate <%= type %> Name",DUPLICATE_NAME_PROMPT:'A <%= type %> named "<%- name %>" already exists at this location. What would you like to do?',DUPLICATE_NAME_REPLACE_EXISTING:"Replace the existing <%= type %>",DUPLICATE_NAME_RENAME_UPLOADED:"Rename the uploaded <%= type %>",DUPLICATE_NAME_DELETE_MOVED:"Delete the moved <%= type %>",DUPLICATE_NAME_RENAME_MOVED:"Rename the moved <%= type %>",FILE_INITIAL_CAP:"File",FILE:"file",FOLDER_INITIAL_CAP:"Folder",FOLDER:"folder",REPORT_ABUSE:"Report Abuse",REPORT_ABUSE_TITLE:"Report Abuse",REPORT_ABUSE_CONTENT_LABEL:"Content",REPORT_ABUSE_TITLE_LABEL:"Title",REPORT_ABUSE_DEFAMATION_LABEL:"Defamation",REPORT_ABUSE_OFFENSIVE_LABEL:"Offensive Content",REPORT_ABUSE_EXPLICIT_LABEL:"Sexually Explicit Content",REPORT_ABUSE_TRADEMARK_LABEL:"Trademark Infringement",REPORT_ABUSE_RACIST_LABEL:"Racist or Hate Content",REPORT_ABUSE_OTHER_LABEL:"Other",REPORT_ABUSE_BLURB:"If you feel that this content violates the Adobe <a class='abuse-dialog-link' href='http://www.adobe.com/go/gfooter_terms_of_use' target='_blank'>Terms of Use</a>, you may report this content by filling out this quick form.",REPORT_ABUSE_EMAIL_PROMPT:"Your Email",REPORT_ABUSE_NAME_PROMPT:"Your Name",REPORT_ABUSE_TARGET_TYPE_PROMPT:"What are you reporting?",REPORT_ABUSE_REASON_PROMPT:"Why are you reporting this content?",REPORT_ABUSE_DESCRIPTION_PROMPT:"Please provide a description of your concern.",REPORT_ABUSE_COPYRIGHT_REPORT:"To report a Copyright Violation, please follow Section 17 in the <a class='abuse-dialog-link' href='http://www.adobe.com/go/gfooter_terms_of_use' target='_blank'>Terms of Use</a>.",REPORT_ABUSE_REPORT_BUTTON:"Report Abuse",REPORT_ABUSE_EMAIL_ERROR:"You must enter a valid email address.",LANGUAGE_CHANGE:"<%= lang %> (Change)",CHOOSE_LANGUAGE:"Choose Your Language",QUOTA_WARNING_DLG_TITLE_RUNNING_OUT:"File Storage Running Out",QUOTA_WARNING_DLG_MSG_RUNNING_OUT:"You are currently using <%= using %> of your <%= allotment %> allotment and will soon run out of storage.",QUOTA_WARNING_DLG_TITLE_EXCEEDED:"File Storage Exceeded",QUOTA_WARNING_DLG_MSG_LOGIN_EXCEEDED:"Your total storage of <%= using %> exceeds the maximum <%= allotment %> allowed with your new subscription.",QUOTA_WARNING_DLG_MSG_UPLOAD_EXCEEDED:"The uploaded file could not be saved because it would exceed your quota allotment of <%= allotment %>.",QUOTA_WARNING_DLG_MSG_YOU_MAY_VIEW:"You may view and download all existing files, but to save additional files you must upgrade your account.",QUOTA_WARNING_DLG_MSG_YOU_WILL_NEED:"You will need to delete some files to free up some additional space.",QUOTA_WARNING_DLG_MSG_UPGRADE:"Upgrade your account for more storage and additional features.",LEARN_MORE:"Learn More",UPGRADE:"Upgrade",ERROR:"Error",MISC_ERROR_ACROBAT_FILE_OPEN_MAX_TITLE:"File Open Maximum Exceeded",MISC_ERROR_ACROBAT_FILE_OPEN_MAX_MSG:"You can open at most 50 files at a time.",HTTP_STATUS_DEFAULT_TITLE:"Could not complete your request",HTTP_STATUS_DEFAULT_MSG:"An error occurred while trying to complete your request, and it could not be completed.",HTTP_STATUS_DEFAULT_MSG_CEF:"An error occurred while connecting to the service. Please try again later.",HTTP_STATUS_400_TITLE:"Could not complete your request (400)",HTTP_STATUS_400_TITLE_CEF:"Could not complete your request",HTTP_STATUS_400_MSG:"An error occurred while trying to complete your request, and it could not be completed.",HTTP_STATUS_401_TITLE:"You have been logged out (401)",HTTP_STATUS_401_TITLE_CEF:"You have been logged out",HTTP_STATUS_401_MSG:'Your session has expired and you have been logged out due to inactivity. Click "Sign In" below to log back in.',HTTP_STATUS_401_MSG_CEF:"An error occurred. Please try signing out, and signing in again",HTTP_STATUS_403_QUOTA_TITLE:"Storage Quota Exceeded (403)",HTTP_STATUS_403_QUOTA_TITLE_CEF:"Storage Quota Exceeded",HTTP_STATUS_403_QUOTA_MSG:"Your file could not be uploaded, as it would exceed your storage quota. You may want to delete some existing files to provide more space.",HTTP_STATUS_403_DEL_FOLDER_TITLE:"Cannot Delete Folder With Content (403)",HTTP_STATUS_403_DEL_FOLDER_TITLE_CEF:"Cannot Delete Folder With Content",HTTP_STATUS_403_DEL_FOLDER_MSG:"You may only delete empty folders. Please delete all contents before deleting the folder.",HTTP_STATUS_403_NO_SHARING_TITLE:"Sharing Disallowed (403)",HTTP_STATUS_403_NO_SHARING_TITLE_CEF:"Sharing Disallowed",HTTP_STATUS_403_NO_SHARING_MSG:"Your file could not be shared because it is an audio or video file.",HTTP_STATUS_403_VIRUS_TITLE:"Virus Detected (403)",HTTP_STATUS_403_VIRUS_TITLE_CEF:"Virus Detected",HTTP_STATUS_403_VIRUS_MSG:"Your file could not be uploaded because it contains a virus.",HTTP_STATUS_403_ENCRYPTION_TITLE:"Decryption failed (403)",HTTP_STATUS_403_ENCRYPTION_TITLE_CEF:"Decryption failed",HTTP_STATUS_403_ENCRYPTION_MSG:"There was an error accessing your content. Decryption failed. Contact your IT Administrator.",HTTP_STATUS_403_TITLE:"Forbidden (403)",HTTP_STATUS_403_TITLE_CEF:"Forbidden",HTTP_STATUS_403_MSG:"The operation could not be completed. Please try again later.",HTTP_STATUS_404_TITLE:"File Not Found (404)",HTTP_STATUS_404_TITLE_CEF:"File Not Found",HTTP_STATUS_404_MSG:"The file you are trying to access could not be found. The file may have been deleted or moved in another session.",HTTP_STATUS_405_TITLE:"Method Not Allowed (405)",HTTP_STATUS_405_TITLE_CEF:"Method Not Allowed",HTTP_STATUS_405_MSG:"Your request could not be completed, as the method is not allowed.",HTTP_STATUS_406_TITLE:"Browser Incompatibility",HTTP_STATUS_406_TITLE_CEF:"Type Not Supported",HTTP_STATUS_406_MSG:"Your browser is unable to communicate with this website. Please try a different browser. (Error 406: Type not supported).",HTTP_STATUS_415_TITLE:"Unsupported Media Type (415)",HTTP_STATUS_415_TITLE_CEF:"Unsupported Media Type",HTTP_STATUS_415_MSG:"Your request could not be completed, as the media type specified is not supported.",HTTP_STATUS_500_TITLE:"Internal Server Error (500)",HTTP_STATUS_500_TITLE_CEF:"Internal Server Error",HTTP_STATUS_500_MSG:"Your request could not be completed due to an internal server error.",HTTP_STATUS_501_TITLE:"Request not Implemented (501)",HTTP_STATUS_501_TITLE_CEF:"Request not Implemented",HTTP_STATUS_501_MSG:"The request you are trying to make is not yet implemented in the server.",HTTP_STATUS_503_TITLE:"Server Currently Unavailable (503)",HTTP_STATUS_503_TITLE_CEF:"Server Currently Unavailable",HTTP_STATUS_503_MSG:"The server could not reached, and may be down. Please try again later.",HTTP_CSO_SERVICE_ERROR:"<%= service => features are temporarily unavailable. We're sorry for the inconvenience. Please try again later.",HTTP_CSO_SERVICE_GENERIC_ERROR:"This feature is temporarily unavailable. Please try again later.",DOWNLOAD_FORM_TITLE:"Form File",DOWNLOAD_FORM_MESSAGE:"Your form file must be converted to PDF to be downloaded.",DOWNLOAD_FORMS_EXCLUDED_MESSAGE:"Your selection includes form files, which are not available for download. These files will be excluded. You can download PDF versions by selecting a single form file for download.",DOWNLOAD_FORMS_MESSAGE:"Form files are not available for download. You can download PDF versions by selecting a single form file for download.",SETTINGS:"Settings",DONE:"Done",FILE_LISTS:"File Lists",STORAGE:"Storage",DOCUMENT_CLOUD_FILES:"Document Cloud",ACROBAT_DOT_COM_FILES:"Adobe cloud storage",DOWNLOAD_ALL:"Download All",NOTIFICATION_UPLOADING:"Uploading...",NOTIFICATION_CONVERTING:"Converting...",NOTIFICATION_CONVERSION_FAILURE:"Conversion Failure",NOTIFICATION_DOWNLOAD_FAILURE:"Download Failure",READY:"Ready",NOTIFICATION_WAITING:"Pending...",NOTIFICATION_DOWNLOADING:"Downloading...",NOTIFICATION_PROCESSING:"Processing...",NOTIFICATION_DOWNLOAD_ERROR:"An error occurred while downloading this file",NOTIFICATION_RETRY:"Retry",YES:"Yes",NO:"No",REPLACE_EXISTING_FILE_TITLE:"Replace existing file",REPLACE_EXISTING_FILE_MSG:"A file with this name already exists. Do you want to replace it?",OPEN:"Open",OPEN_FILE:"Open File",OPEN_FILES:"Open Files",OPEN_FOLDER:"Open Folder",SAVE_AS:"Save As",SAVE_AS_FILE:"Save As File",SAVE_AS_FILES:"Save As Zip",SAVED:"Saved",SHOW_IN_FOLDER:"Show in Folder",SEND:"Send",CONVERT_TO_PDF:"Convert to PDF",COMBINE:"Combine",BROWSE_FOLDER:"Browse...",CHOOSE_DIFFERENT_FOLDER:"Choose a Different Folder...",ATTACH_TO_EMAIL:"Attach to Email",SEND_AND_TRACK:"Send & Track",PUBLIC_ICON_TOOLTIP:"File shared with Adobe Send & Track",RNA_VERSION_DIALOG_TITLE:"An error occurred",RNA_VERSION_DIALOG_CONTENT:"Features in this area connect to the Adobe Document Cloud and must be updated to remain compatible with the service. To update to the latest version, choose Check for Updates from the Help menu or click the link below to continue your work in a web browser.",RNA_VERSION_DIALOG_LINK_TITLE:"Go to Document Cloud",EXPORTPDF_RHP_GOURL:"http://www.adobe.com/go/epdfrhprdr6_12_0_0",EXPORTPDF_GOURL:"http://www.adobe.com/go/epdfrdr6_12_0_0",CREATEPDF_RHP_GOURL:"http://www.adobe.com/go/cpdfrhprdr6_12_0_0",CREATEPDF_GOURL:"http://www.adobe.com/go/cpdfrdr2_12_0_0",MY_FILES_GOURL:"http://www.adobe.com/go/doccloudfilesrdr_12_0_0",FILLSIGN_GOURL:"http://www.adobe.com/go/fsrdr1_12_0_0",SEND_GOURL:"http://www.adobe.com/go/sendpluginrdr2_12_0_0",SENTFILES_GOURL:"http://www.adobe.com/go/sendpluginrdr3_12_0_0",MY_FILES_GOURL_ACRO:"http://www.adobe.com/go/doccloudfilesacro_12_0_0",FILLSIGN_GOURL_ACRO:"http://www.adobe.com/go/fsacro1_12_0_0",SEND_GOURL_ACRO:"http://www.adobe.com/go/sendpluginacro2_12_0_0",SENTFILES_GOURL_ACRO:"http://www.adobe.com/go/sendpluginacro3_12_0_0",SERVER_OUTAGE_DIALOG_TITLE:"An error occurred",SERVER_OUTAGE_DIALOG_CONTENT:"The service you are trying to reach is temporarily unavailable.  Please try again later."}),define("core/dev/nls-cef/ui-strings",{root:!0,"ar-ae":!0,"bg-bg":!0,"ca-es":!0,"cs-cz":!0,"da-dk":!0,"de-de":!0,"en-ae":!0,"en-gb":!0,"en-il":!0,"es-es":!0,"eu-es":!0,"fi-fi":!0,"fr-fr":!0,"fr-ma":!0,"he-il":!0,"hr-hr":!0,"hu-hu":!0,"it-it":!0,"ja-jp":!0,"ko-kr":!0,"nb-no":!0,"nl-nl":!0,"pl-pl":!0,"pt-br":!0,"ro-ro":!0,"ru-ru":!0,"sk-sk":!0,"sl-si":!0,"sl-sl":!0,"sv-se":!0,"tr-tr":!0,"uk-ua":!0,"zh-cn":!0,"zh-tw":!0}),define("core/dev/ops/uss/uss-dc-op",["core/ac-core","core/utils/util","core/utils/http-util","core/constants/cef-constants","core/ops/op"],function(e,t,n,r){return e.USSDCFilesOp=e.Op.extend({run:function(t){var n=$.Deferred(),r=this.options,i="POST",s={};s.authorization="Bearer "+r.appApi.sessionApi.getPrimaryToken(),s["x-api-key"]="AdobeAcrobat9",e.Util.isReader()&&(s["x-api-key"]="AdobeReader9"),s["Content-Type"]="application/vnd.adobe.search-request+json",s["x-product"]="acrobat.adobe.com",s["x-product-location"]="document_cloud search input";var o=[];r.isReviewServicesEnabled&&o.push("review"),r.isSntServicesEnabled&&o.push("parcel"),r.shouldFetchDCFileList&&o.push("document_cloud");var u={fetch_fields:{includes:["asset_list","participant_list"]},type:["application/pdf"],scope:o,subscope:["document_cloud"],sort_orderby:"last_access_date",sort_order:"desc",limit:100},a=JSON.stringify(u);return $.ajax({url:r.search_uri,data:a,headers:s,contentType:"application/json",type:"POST",dataType:"json",timeout:8e3,global:!1,success:_.bind(function(e,t,r){var i=JSON.parse(r.responseText);n.resolve(i)},this),error:_.bind(function(e,t,r){n.reject()},this)}),n.promise()}}),e.USSDCFilesOp}),define("core/dev/ops/uss/dc-discovery-api-op",["core/ac-core","core/utils/util","core/utils/http-util","core/constants/cef-constants","core/ops/op"],function(e,t,n,r){return e.DCDiscoveryAPIOp=e.Op.extend({run:function(e){var t=$.Deferred(),n=this.options,r={};r.authorization="Bearer "+n.appApi.sessionApi.getPrimaryToken(),r.accept='application/vnd.adobe.dc+json;profile="https://dc-api.adobe.io/schemas/discovery_v1.json"';var i="";return Ac.config.getBaseUri&&(i=Ac.config.getBaseUri("dc_discovery_uri")),$.ajax({url:i,headers:r,contentType:"application/json",type:"GET",dataType:"json",timeout:8e3,global:!1,success:_.bind(function(e,n,r){var i=r.responseJSON||{};i.status_code=r.status,t.resolve(i)},this),error:_.bind(function(e,n,r){e.status===401&&this.options.appApi.sessionApi.refreshAccessToken();var i=e.responseJSON||{};i.status_code=e.status||400,t.reject(i)},this)}),t.promise()}}),e.DCDiscoveryAPIOp}),define("core/dev/ops/uss/uss-creative-cloud-op",["core/ac-core","core/utils/util","core/utils/http-util","core/constants/cef-constants","core/ops/op"],function(e,t,n,r){return e.USSCCFilesOp=e.Op.extend({run:function(t){const n={ServiceTypeNone:0,Recents_k:1,SharedByOthers_k:2,SharedByYou_k:3,DocumentCloud_k:4,Favorites_k:5,ServiceTypeLast_k:6},r=["api:metadata/peruser#mine$$shell:lastAccessDate","asset_name","sync_updated_date","api:metadata/peruser#mine$$shell:lastAccessDate","sync_created_date","api:metadata/peruser#mine$$shell:lastAccessDate","api:metadata/peruser#mine$$shell:lastAccessDate","shared_date","api:metadata/application$$shell:lastActivity$$date"],i=["desc","asc","desc"];var s=$.Deferred(),o=this.options,u="POST",a=t.search_uri,f={};f.authorization="Bearer "+o.appApi.sessionApi.getPrimaryToken(),f["x-api-key"]="AdobeAcrobat9",e.Util.isReader()&&(f["x-api-key"]="AdobeReader9"),f["Content-Type"]="application/vnd.adobe.search-request+json",f["x-product"]="acrobat.adobe.com",f["x-product-location"]="document_cloud search input";var l=["creative_cloud"];console.log("params"+t.request);var c=JSON.parse(t.request),h=c.ServiceType;console.log("Service Type = "+h);var p=500,d=0,v=!1;n.Favorites_k==h||n.Recents_k==h?p=100:n.SharedByYou_k==h||n.SharedByOthers_k==h?c.pageInfo&&c.pageInfo.from<c.pageInfo.to?(d=c.pageInfo.from,p=c.pageInfo.to-c.pageInfo.from,v=!0):c.pageDataSize&&(p=c.pageDataSize):c.pageDataSize&&(p=c.pageDataSize);if(t.shouldShowAXInRFL)var m={fetch_fields:{includes:["api:metadata/application$$docCloud:documentCustomMetadata","api:metadata/application$$docCloud:sign","api:metadata/application$$shell:lastActivity$$date","api:metadata/peruser#mine$$shell:favorite","api:metadata/peruser#mine$$shell:lastAccessDate","api:metadata/peruser#mine$$docCloud:userCustomMetadata","collab_metadata.collaborators","collab_metadata.shared_by"]},scope:l,sort_orderby:c.sortBy==undefined?"api:metadata/peruser#mine$$shell:lastAccessDate":r[c.sortBy],sort_order:c.sortOrder==undefined?"desc":i[c.sortOrder],limit:p,op_or:[{creative_cloud_asset_type:["asset","collection"]},{type:["application/vnd.adobe.hz.express+dcx"]}],creative_cloud_asset_type:["asset","collection","dcx"],op_none_of:[{"api:metadata/application$$shell:visibility":["hiddenSelf","hiddenRecursive"]},{"app_metadata$$project:directoryType":"team"},{op_field_exists:["app_metadata$$cc:inherited$$cc:team","app_metadata$$review:sourceAsset$$dc:format"]}],creative_cloud_toplevel_collection_name:"cloud-content",asset_id_opacity:!0,hints:{acp_platform_v2:!0}};else var m={fetch_fields:{includes:["api:metadata/application$$docCloud:documentCustomMetadata","api:metadata/application$$docCloud:sign","api:metadata/application$$shell:lastActivity$$date","api:metadata/peruser#mine$$shell:favorite","api:metadata/peruser#mine$$shell:lastAccessDate","api:metadata/peruser#mine$$docCloud:userCustomMetadata","collab_metadata.collaborators","collab_metadata.shared_by"]},scope:l,sort_orderby:c.sortBy==undefined?"api:metadata/peruser#mine$$shell:lastAccessDate":r[c.sortBy],sort_order:c.sortOrder==undefined?"desc":i[c.sortOrder],limit:p,creative_cloud_asset_type:["asset","collection"],op_none_of:[{"api:metadata/application$$shell:visibility":["hiddenSelf","hiddenRecursive"]},{"app_metadata$$project:directoryType":"team"},{op_field_exists:["app_metadata$$cc:inherited$$cc:team","app_metadata$$review:sourceAsset$$dc:format"]}],creative_cloud_toplevel_collection_name:"cloud-content",asset_id_opacity:!0};v==1&&_.extend(m,{start_index:d}),n.SharedByYou_k==h?_.extend(m,{shared_by_me:!0}):n.SharedByOthers_k==h?_.extend(m,{shared_via_invite:!0}):n.Favorites_k==h&&_.extend(m,{"api:metadata/peruser#mine$$shell:favorite":!0}),n.Recents_k==h&&_.extend(m,{op_field_exists:["api:metadata/peruser#mine$$shell:lastAccessDate"]});var g=JSON.stringify(m);return $.ajax({url:a,data:g,headers:f,contentType:"application/json",type:"POST",dataType:"json",timeout:8e3,global:!1,success:_.bind(function(e,t,n){var r=JSON.parse(n.responseText);r.status_code=n.status,s.resolve(r)},this),error:_.bind(function(e,t,n){var r={};if(e){if(e.responsetext)try{r=JSON.parse(e.responseText)}catch(i){}r.status_code=e.status}s.reject(r)},this)}),s.promise()}}),e.USSCCFilesOp}),define("core/dev/ops/uss/uss-favorites-op",["core/ac-core","core/utils/util","core/utils/http-util","core/constants/cef-constants","core/ops/op"],function(e,t,n,r){return e.USSFavoriteFilesOp=e.Op.extend({run:function(t){var n=$.Deferred(),r=this.options,i={};i.authorization="Bearer "+r.appApi.sessionApi.getPrimaryToken(),i["x-api-key"]="AdobeAcrobat9",e.Util.isReader()&&(i["x-api-key"]="AdobeReader9"),i["Content-Type"]="application/vnd.adobe.search-request+json",i["x-product"]="acrobat.adobe.com",i["x-product-location"]="document_cloud search input";var s={fetch_fields:{includes:["asset_list"]},type:["application/pdf"],favorite:!0,scope:["document_cloud"],subscope:"document_cloud",sort_orderby:"last_access_date",sort_order:"desc",limit:100},o=JSON.stringify(s);return $.ajax({url:r.search_uri,data:o,headers:i,contentType:"application/json",type:"POST",dataType:"json",timeout:8e3,global:!1,success:_.bind(function(e,t,r){var i=JSON.parse(r.responseText);n.resolve(i)},this),error:_.bind(function(e,t,r){e.status===401&&this.options.appApi.sessionApi.refreshAccessToken();var i=e.responseJSON||{};i.status_code=e.status||400,n.reject(i)},this)}),n.promise()}}),e.USSFavoriteFilesOp}),define("core/dev/ops/uss/uss-review-op",["core/ac-core","core/utils/util","core/utils/http-util","core/constants/cef-constants","core/ops/op"],function(e,t,n,r){return e.USSReviewOp=e.Op.extend({run:function(e){const t={ServiceTypeNone:0,Recents_k:1,SharedByOthers_k:2,SharedByYou_k:3,DocumentCloud_k:4,Favorites_k:5,ServiceTypeLast_k:6},n=["api:metadata/peruser#mine$$shell:lastAccessDate","name","modify_date","api:metadata/peruser#mine$$shell:lastAccessDate","create_date","api:metadata/peruser#mine$$shell:lastAccessDate","api:metadata/peruser#mine$$shell:lastAccessDate","shared_date","api:metadata/application$$shell:lastActivity$$date"],r=["desc","asc","desc"];var i=$.Deferred(),s=this.options,o="POST",u={};u.authorization="Bearer "+s.appApi.sessionApi.getPrimaryToken(),u["x-api-key"]="AdobeAcrobat9",u["Content-Type"]="application/vnd.adobe.search-request+json",u["x-product"]="acrobat.adobe.com",u["x-product-location"]="review search input";var a=JSON.parse(e);a.sortBy=="shared_date"&&(a.sortBy="create_date"),a.sortBy=="last_activity_date"&&(a.sortBy="modify_date");var f=1e3,l=0,c=!1,h=_.isEmpty(a.sortBy)?"create_date":a.sortBy,p=_.isEmpty(a.sortOrder)?"desc":a.sortOrder;a.pageInfo&&a.pageInfo.from<a.pageInfo.to?(l=a.pageInfo.from,f=a.pageInfo.to-a.pageInfo.from,c=!0,h=_.isUndefined(a.sortBy)?"create_date":n[a.sortBy],p=_.isUndefined(a.sortOrder)?"desc":r[a.sortOrder]):a.pageDataSize&&(f=a.pageDataSize);var d={subscope:["document_cloud"],fetch_fields:{includes:["asset_list","participant_list"]},scope:["review"],sort_orderby:h,sort_order:p,limit:f};c==1&&(_.extend(d,{start_index:l}),t.SharedByYou_k==a.ServiceType?_.extend(d,{ownership_types:"sender"}):t.SharedByOthers_k==a.ServiceType&&_.extend(d,{ownership_types:"receiver"}));var v=JSON.stringify(d),m=this.options.search_uri;return $.ajax({url:m,data:v,headers:u,contentType:"application/json",type:"POST",dataType:"json",timeout:8e3,global:!1,success:_.bind(function(e,t,n){var r=n.responseJSON||{};r.status_code=n.status,i.resolve(r)},this),error:_.bind(function(e,t,n){e.status===401&&this.options.appApi.sessionApi.refreshAccessToken();var r=e.responseJSON||{};r.status_code=e.status||400,i.reject(r)},this)}),i.promise()}}),e.USSReviewOp}),define("core/dev/ops/while-signed-in-op",["core/ac-core","core/ops/op"],function(e){return e.WhileSignedInOp=e.Op.extend({initialize:function(){e.Op.prototype.initialize.call(this),this.options.isDesktopConnectorPlugin||this.options.appApi.sessionApi.addSignedInChangeCallback(this._onSignedInChange)},_onSignedInChange:function(e,t){t||this._disableOperation()},_disableOperation:function(){this.stopListening(),this._isDisabled=!0},_isOperationDisabled:function(){return this._isDisabled}}),e.WhileSignedInOp}),define("core/dev/ops/rna/downloading-zip-file-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){return e.DownloadingZipFileOp=e.Op.extend({run:function(n){var r=this.options,i=$.Deferred(),s,o,u,a,f;return a=new Date,f=a.getTimezoneOffset(),u=r.appApi.baseFilesUrisApi.getDownloadUri()+"archive/zip/"+encodeURIComponent(r.id_list)+"?dlticket="+encodeURIComponent(n)+"&tzo="+encodeURIComponent(f)+"&x-api-client-id="+t.REQUEST_HEADER_CLIENT_ID,o={assetType:r.assetType||"managed",fetchMetadata:!1,urlString:u,fileName:r.fileName||"",fileExtension:e.Util.getExtension(r.fileName)||""},r.appApi.rnaApi.then(_.bind(function(t){s=t.assetApi({methodName:"downloadFile",methodArgs:o}),s.done(function(t){var n;t.errorSet?i.reject():(n={progressObj:t.progressObj,downloadResultPromise:i},e.opFactory.create("ListenForFileDownloadProgressOp",_.extend(r,n)).run())}).fail(function(e){i.reject()})},this)),[i,s]}}),e.DownloadingZipFileOp}),define("core/dev/ops/rna/context-board-primary-tools-click-app-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){return e.ContextBoardPrimaryToolsClickAppOp=e.Op.extend({run:function(){var e={},t=this.options,n=t.toolName;return this.options.appApi.rnaApi.done(_.bind(function(t){return e.toolName=n,t.rnaServicesAPI.launchAppFromContextBoard(e)},this))}}),e.ContextBoardPrimaryToolsClickAppOp}),define("core/dev/ops/rna/selection-action-launch-send-track-app-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){return e.SelectionActionLaunchSendAndTrackAppOp=e.Op.extend({run:function(){var e=this.options.selectionUiModel,t=e.getSelectedItemModels(),n=[],r=[],i={};if(t)return _.each(t,function(e){_.isEmpty(e.id)?r.push(e._proxy):n.push(e.id)}),this.options.appApi.rnaApi.done(_.bind(function(e){return i.selectedParcelId="",i.selectedAssetIds=n,i.selectedModels=r,e.stApi.launchSendTrackApp(i)},this));this._getResolvedPromise()}}),e.SelectionActionLaunchSendAndTrackAppOp}),define("core/dev/ops/rna/context-board-primary-tools-click-reducedmode-app-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){return e.ContextBoardPrimaryToolsClickReducedModeAppOp=e.Op.extend({run:function(){var e={},t=this.options,n=t.toolName;return this.options.appApi.rnaApi.done(_.bind(function(t){return e.toolName=n,t.rnaServicesAPI.launchAppFromContextBoardReducedMode(e)},this))}}),e.ContextBoardPrimaryToolsClickReducedModeAppOp}),define("core/dev/ops/rna/selection-action-attach-to-email-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){return e.SelectionActionAttachToEmailOp=e.Op.extend({run:function(){var e=this.options.selectionUiModel,t=e.getSelectedItemModels(),n=[],r={},i=[];if(t){_.each(t,function(e){e.isFolder()||(_.isEmpty(e.id)?i.push(e._proxy):n.push(e.id))});if(i.length>0)return this.options.appApi.rnaApi.done(_.bind(function(e){return r.selectedItemModels=i,e.stApi.attachToEmail(r)},this));if(n.length>0)return this.options.appApi.rnaApi.done(_.bind(function(e){return r.selectedAssetIds=n,e.stApi.attachToEmail(r)},this))}return this._getRejectedPromise()}}),e.SelectionActionAttachToEmailOp}),define("core/dev/ops/misc/showing-manage-sub-op",["core/ac-core","core/ops/op"],function(e){return e.ShowingManageSubOp=e.Op.extend({run:function(){return window.location=e.Config.MANAGE_SUBSCRIPTION_URI,this._getResolvedPromise()}}),e.ShowingManageSubOp}),define("core/dev/ops/listening/listening-for-parcel-notifications-op",["core/ac-core","core/ops/op"],function(e){return e.ListeningForParcelNotificationsOp=e.Op.extend({run:function(){var e=$.Deferred(),t=this.options.appApi.usersMeApi.getUserCohorts();return(!t||t["ts-use-sharing-metadata"]!=="enabled")&&this._startNotifications(),this._deferred=e,e.promise()},_startNotifications:function(){var t=this.options;e.modelFactory.create("SharingRootModel",t).fetch({global:!1}).done(_.bind(function(e){t.appApi.notificationApi.addFolderNotificationCallback(e.folder,this._onPseudoFolderNotification)},this))},_onPseudoFolderNotification:function(e){var t,n;for(t=0;t<e.length;t+=1)n=e[t],n.object_type==="parcel"&&this._updateSharingIndicator(n.operation,n.files)},_updateSharingIndicator:function(e,t){var n,r,i=this.options.appApi.folderApi.getFilesCollection(),s=e==="created"?!0:!1,o;if(!i)return;for(n=0;n<i.length;n+=1)for(r=0;r<t.length;r+=1){o=i[n];if(t[r]===o.id){o.set("shared",s);break}}}}),e.ListeningForParcelNotificationsOp}),define("core/dev/ops/getting/getting-collaboration-metadata-op",["core/ac-core","core/utils/util","core/utils/http-util","core/ops/op"],function(e,t,n){return e.GettingCollaborationMetadatapOp=e.Op.extend({run:function(e){var t=$.Deferred(),r="GET",i=this.options;if(_.isUndefined(e)||e==="undefined"||e==="")return t.reject({httpRespCode:404,httpRespBody:"The resource is no longer accessible"}),t;var s=this.options.appApi.baseFilesUrisApi.getSendApiUri()+"assets/"+e+"/collaborators",o=n.getRequestHeaders(r);return o.Authorization="Bearer "+this.options.appApi.sessionApi.getPrimaryToken(),i.appApi.networkApi.throttledAjax(s,_.extend({},i,{type:r,headers:o,dataType:"json",global:_.isUndefined(i.global)?!0:i.global,modal:!1,ignoreErrors:_.isUndefined(i.ignoreErrors)?[]:i.ignoreErrors,success:_.bind(function(e,n,r){e===undefined||e.collaborators===undefined?t.reject({httpRespCode:r.status,httpRespBody:r.responseText}):t.resolve(e.collaborators)},this),error:_.bind(function(e,n,r){t.reject({httpRespCode:e.status,httpRespBody:e.responseText},this)})})),t}}),e.GettingCollaborationMetadatapOp}),define("core/dev/ops/getting/getting-sharing-info-op",["core/ac-core","core/ops/op"],function(e){return e.GettingSharingInfoOp=e.Op.extend({run:function(){var e=this.options,t=e.appApi.usersMeApi.getUserCohorts();return(!t||t["ts-use-sharing-metadata"]!=="enabled")&&e.appApi.folderApi.addFilesCollectionCallback(this._onFilesCollectionChange),$.Deferred().promise()},_onFilesCollectionChange:function(){var e=this.options;e.appApi.folderApi.getFilesCollection()&&(e.sharingInfoModel.reset(e.appApi.folderApi.getFilesCollection()),this._doChunk())},_doChunk:function(){var e=this.options,t,n,r=e.sharingInfoModel,i=e.sharingInfoModel.get("models");r.moreChunks()&&r.fetch({global:!1}).done(_.bind(function(e){var s;for(s=r.get("chunk_start");s<=r.get("chunk_end");s+=1)t=i[s],t&&(n=t.id,e[n]&&e[n].length>0&&t.set("shared",!0));this._doChunk()},this))}}),e.GettingSharingInfoOp}),define("core/dev/ops/getting/getting-custom-metadata-op",["core/ac-core","core/utils/util","core/utils/http-util","core/ops/op"],function(e,t,n){return e.GettingCustomMetadatapOp=e.Op.extend({run:function(e){var r=$.Deferred(),i=this.options.appApi,r=$.Deferred();return this.assets=e,i.rnaApi.done(_.bind(function(s){var o=Ac.discoveryUrisModel.getUSSPrimaryUri(),u=[];for(var a in e)u.push(a);var f={fetch_fields:{includes:["collab_metadata.collaborators","collab_metadata.shared_by","api:metadata/peruser#mine$$shell:favorite"]},scope:["creative_cloud"],asset_id:u,limit:u.length,asset_id_opacity:!0,op_none_of:[{"api:metadata/application$$shell:visibility":["hiddenSelf","hiddenRecursive"]},{"app_metadata$$project:directoryType":"team"},{op_field_exists:["app_metadata$$cc:inherited$$cc:team","app_metadata$$review:sourceAsset$$dc:format"]}],creative_cloud_asset_type:["asset","collection"],creative_cloud_toplevel_collection_name:"cloud-content"},l=JSON.stringify(f);l=t.compressQuestionMarks(l);var c="POST",h={op:this};i.networkApi.throttledAjax(o,{type:c,headers:n.getUSSRequestHeaders(),context:h,data:l,dataType:"json",modal:!1,global:!0}).then(_.bind(function(e){r.resolve(e)},this),_.bind(function(e){r.reject()},this))},this)),r}}),e.GettingCustomMetadatapOp}),define("core/dev/ops/getting/getting-snt-profile-info-op",["core/ac-core","core/utils/util","core/utils/http-util","core/ops/op"],function(e,t,n){return e.GettingSNTProfileInfoOp=e.Op.extend({run:function(e,t){var r=this.options,i="GET",s,o,u,a=$.Deferred();if(_.isUndefined(e)||e==="undefined"||e==="")return a.reject({httpRespCode:404,httpRespBody:"The resource is no longer accessible"}),a;u=n.getRequestHeaders(i),u["Content-Type"]="application/json",s=this.options.appApi.baseFilesUrisApi.getSendApiUri()+"assets/"+e+"/collaborators/"+t;var f;return this.options.appApi.sessionApi.getPrimaryToken().length&&(f=this.options.appApi.sessionApi.getPrimaryToken()),u.authorization="Bearer "+f,o=JSON.stringify({value:!1}),$.ajax(s,{type:i,headers:u,dataType:"json",global:r.global?r.global:!1,modal:r.modal?r.modal:!1,success:_.bind(function(e,t,n){e===undefined?a.reject({httpRespCode:n.status,httpRespBody:n.responseText}):(this._cacheDataAtNative(e),a.resolve(e))},this),error:_.bind(function(e){a.reject({httpRespCode:e.status,httpRespBody:e.responseText})},this)}),a},_cacheDataAtNative:function(e){var t=[{users:[{adobeId:e.userId,displayName:e.displayName,email:e.email}]},[e.userId]];this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaServicesAPI.cacheBehanceDataAtNative(t)},this))}}),e.GettingSNTProfileInfoOp}),define("core/dev/ops/getting/getting-public-profile-info-op",["core/ac-core","core/utils/util","core/utils/http-util","core/ops/op"],function(e,t,n){return e.FetchingPublicProfileInfoOp=e.Op.extend({initialize:function(){this.options.appApi.rnaApi.done(_.bind(function(e){var t=e.rnaServicesAPI.fetchBehanceDetailsFromNative();t.then(_.bind(function(e){this.behanceGraphQLEndpoint=e.behanceGraphQLEndpoint,this.behanceGraphQLQueryInit=e.behanceGraphQLQueryInit,this.behanceGraphQLQueryEnd=e.behanceGraphQLQueryEnd},this))},this))},run:function(e){var t=$.Deferred();if(e.length>100||e.length<1)return t.reject(),t.promise();var r=this.behanceGraphQLQueryInit;_.each(e,function(e){r+='\\"',r+=e,r+='\\",'}),r+=this.behanceGraphQLQueryEnd;var i="POST",s=this.options,o=this.behanceGraphQLEndpoint,u=n.getRequestHeaders(i,{excludeAccessToken:!0});return u.Accept="application/json",u["Content-Type"]="application/json",s.appApi.networkApi.throttledAjax(o,_.extend({},s,{type:i,headers:u,data:r,dataType:"json",global:!1,modal:!1,ignoreErrors:_.isUndefined(s.ignoreErrors)?[]:s.ignoreErrors,success:_.bind(function(n,r,i){this._cacheDataAtNative(n,e),t.resolve(this._convertResponseToMap(n.data))},this)})),t.promise()},getCachedDataFromNative:function(e){var t=$.Deferred();return e.length>100||e.length<1?(t.reject(),t.promise()):(this.options.appApi.rnaApi.done(_.bind(function(n){var r=n.rnaServicesAPI.fetchBehanceCachedDataFromNative(e);r.then(_.bind(function(n){var r=n.cachedData?n.cachedData:{},i=n.blockedGuids?new Set(n.blockedGuids):new Set,s=this._getNonCooldownIds(n.cachedData,i,e);t.resolve({cachedData:r,nonCooldownGUIDs:s})},this))},this)),t.promise())},_cacheDataAtNative:function(e,t){var n=[e,t];this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaServicesAPI.cacheBehanceDataAtNative(n)},this))},_getNonCooldownIds:function(e,t,n){var r=[];for(var i=0;i<n.length;++i)(!t||t&&!t.has(n[i]))&&(!e||!e[n[i]]||!e[n[i]].InCooldown)&&r.push(n[i]);return r},_convertResponseToMap:function(e){var t={};for(var n=0;n<e.users.length;++n){var r=e.users[n].adobeId;t[r]={},t[r].adobeId=e.users[n].adobeId,t[r].firstName=e.users[n].firstName,t[r].lastName=e.users[n].lastName,t[r].displayName=e.users[n].displayName,t[r].username=e.users[n].username,t[r].email=e.users[n].email,t[r].hasDefaultImage=e.users[n].hasDefaultImage,t[r].images={},t[r].images[50]=e.users[n].images.size_50?e.users[n].images.size_50.url:"",t[r].images[100]=e.users[n].images.size_100?e.users[n].images.size_100.url:"",t[r].images[115]=e.users[n].images.size_115?e.users[n].images.size_115.url:"",t[r].images[138]=e.users[n].images.size_138?e.users[n].images.size_138.url:"",t[r].images[230]=e.users[n].images.size_230?e.users[n].images.size_230.url:"",t[r].images[276]=e.users[n].images.size_276?e.users[n].images.size_276.url:""}return t}}),e.FetchingPublicProfileInfoOp}),define("core/dev/ops/manipulation/deleting-parcel-if-confirmed-op",["core/ac-core","i18n!core/nls/ui-strings","core/utils/http-util","core/utils/sc-analytics","core/ops/op"],function(e,t,n,r){e.DeletingParcelIfConfirmedOp=e.Op.extend({run:function(){var e=this.options,i,s,o,u,a,f=e.appApi.dialogApi,l=t;i=e.selectionUiModel,s=i.getNumSelectedItems();var c="",h=i.getSingleSelectedItemModel();c=h.getParcelId(),s===1?h.get("bootstrap")!==undefined&&h.get("bootstrap").is_original_shared!==undefined&&h.get("bootstrap").is_original_shared?(u=l.CONFIRM_DELETE_SHARED_FILE_TITLE_NO_COPY_MODEL,o=l.CONFIRM_DELETE_SHARED_FILE_MSG_NO_COPY_MODEL,a=l.CONFIRM_DELETE_SHARED_FILE_BUTTON_NO_COPY_MODEL):(u=l.CONFIRM_DELETE_SHARED_FILE_TITLE_COPY_MODEL,o=l.CONFIRM_DELETE_SHARED_FILE_MSG_COPY_MODEL,a=l.CONFIRM_DELETE_SHARED_FILE_BUTTON_COPY_MODEL):(u=l.CONFIRM_DELETE_N_FILES_TITLE,o=l.CONFIRM_DELETE_N_FILES_MSG,a=l.CONFIRM_DELETE_N_FILES_BUTTON);var p=a+" "+t.DIALOG+" "+o+" "+a+" "+t.BUTTON+" "+t.TO_ACTIVATE_PRESS_SPACE_BAR;return f.displayTextAlert(f.SEVERITY_NEUTRAL,u,o,a,t.CANCEL,this.options,p).then(_.bind(function(e){var t="Delete";try{if(!_.isUndefined(this.options.selectionUiModel)){var s=this.options.selectionUiModel.getSingleSelectedItemModel(),o=this.options.selectionUiModel.getNumSelectedItems();if(o===1)if(s.get("bootstrap")!==undefined&&s.get("bootstrap").is_original_shared!==undefined&&s.get("bootstrap").is_original_shared)t+=r.VIRGO_ORIGINAL_SHARE;else{var u=s.getOriginalShared();!_.isUndefined(u)&&u&&(t+=r.VIRGO_ORIGINAL_SHARE)}}}catch(a){}t+=":Success:SingleFile",this.options.appApi.siteCatalystApi.logVirgoEvent(r.VIRGO_SENDTRACK_CB,t);var e=this.options,f="DELETE",l,p={},d=$.Deferred();l=this.options.appApi.baseFilesUrisApi.getSendApiUri()+"parcels/"+c;var v=n.getRequestHeaders(f);p["Content-Type"]="application/json",p.Accept="application/vnd.adobe.skybox+json;version=1",p.Authorization=v.Authorization,$.ajax(l,{type:f,headers:p,global:!0,dataType:"json",success:_.bind(function(t,n,r){this.options.appApi.rnaApi.done(function(e){e.assetApi({methodName:"closeSNTFile",methodArgs:"closeMultiParcelView"})});var s,o=undefined;Ac.discoveryUrisModel&&(s=Ac.discoveryUrisModel.getUSSUrlsAndUserInfo()),s&&(o=s.isACPUser);var u={};u.op="delete",o&&(u.isReceivedFile=!1,u.requestAgent="allFiles"),u.workflowID=c,e.appApi.rnaApi.done(_.bind(function(e){e.stApi.updateInAppDMStateAPI(u)},this)),e.isInSearchResultsView?o?e.searchUiModel.trigger("refresh_search_category","creative_cloud"):(e.searchUiModel.trigger("refresh_search_category","document_cloud"),e.searchUiModel.trigger("refresh_search_category","parcel")):(i.deselectItem(h.id,!0),e.appApi.folderApi.refreshCurrentFolder(e).then(_.bind(function(){e.selectionUiModel.triggerSelectionChange()},this))),d.resolve(t)},this),error:_.bind(function(e){e&&e.status==423&&this.options.appApi.rnaApi.done(_.bind(function(e){e.invokeMethod({methodName:"triggerMigrationInProgressError",methodArgs:{}})},this)),d.reject({httpRespCode:e.status,httpRespBody:e.responseText})},this)})},this))}})}),define("core/dev/ops/manipulation/deleting-review-op",["core/ac-core","core/utils/http-util","core/ops/op"],function(e,t){return e.DeletingReviewOp=e.Op.extend({run:function(e){var n=this.options,r="DELETE",i,s={},o=$.Deferred();i=this.options.appApi.baseFilesUrisApi.getSendApiUri()+"parcels/"+e;var u=t.getRequestHeaders(r);return s["Content-Type"]="application/json",s.Accept="application/vnd.adobe.skybox+json;version=1",s.Authorization=u.Authorization,s["x-api-client-id"]=u["x-api-client-id"],$.ajax(i,{type:r,headers:s,dataType:"json",global:!0,success:_.bind(function(e,t,n){o.resolve(e)},this),error:_.bind(function(e){e&&e.status==423&&this.options.appApi.rnaApi.done(_.bind(function(e){e.invokeMethod({methodName:"triggerMigrationInProgressError",methodArgs:{}})},this)),o.reject({httpRespCode:e.status,httpRespBody:e.responseText})},this)}),o}}),e.DeletingReviewOp}),define("core/dev/ops/manipulation/unsharing-parcel-if-confirmed-op",["core/ac-core","core/utils/http-util","i18n!core/nls/ui-strings","core/models/workflow-status-strings","core/utils/sc-analytics","core/ops/op"],function(e,t,n,r,i){e.UnsharingParcelIfConfirmedOp=e.Op.extend({run:function(){var e=this.options,r,s,o,u,a,f=e.appApi.dialogApi;r=e.selectionUiModel,s=r.getNumSelectedItems(),u=n.CONFIRM_UNSHARE_TITLE,o=n.CONFIRM_UNSHARE_MSG,a=n.CONFIRM_UNSHARE_BUTTON;var l=r.getSingleSelectedItemModel(),c=l.getParcelId(),h=l.get("asset_id"),p='<div class = "card-content">'+o+"</div>"+'   <label class="card-checkbox-label">'+'       <div role="menuitemcheckbox" aria-checked="true" class="card-checkbox core-checkbox" style="float: left; margin-top: -1px; margin-right: -10px" onkeypress="handleEnter(event)" tabindex="0"></div>'+'       <div class="card-checkbox-text theme-text" style="margin-top: 10px; margin-right: -10px">'+n.DELETE_REVIEW_T+" </div>"+'       <script>function handleEnter(event) { if (event.keyCode === 13) document.getElementsByClassName("card-checkbox")[0].click(); }</script>',d=this.options,v=this.options.rootView&&this.options.rootView._pluginOptions&&this.options.rootView._pluginOptions.requestAgent=="Document",m=a+" "+n.DIALOG+" "+o+" "+a+" "+n.BUTTON+" "+n.TO_ACTIVATE_PRESS_SPACE_BAR;return f.displayHtmlAlert(f.SEVERITY_NEUTRAL,u,p,a,n.CANCEL,this.options,m).then(_.bind(function(){this.options.appApi.rnaApi.done(function(e){e.logPerformance("UnshareFile","start")});var e="Unshare";try{if(!_.isUndefined(this.options.selectionUiModel)){var n=this.options.selectionUiModel.getSingleSelectedItemModel(),r=this.options.selectionUiModel.getNumSelectedItems();if(r===1)if(n.get("bootstrap")!==undefined&&n.get("bootstrap").is_original_shared!==undefined&&n.get("bootstrap").is_original_shared)e+=i.VIRGO_ORIGINAL_SHARE;else{var s=n.getOriginalShared();!_.isUndefined(s)&&s&&(e+=i.VIRGO_ORIGINAL_SHARE)}}}catch(o){}e+=":Success:SingleFile",v?d.appApi.siteCatalystApi.logVirgoViewerEvent(i.VIRGO_SENDTRACK_CB,e):d.appApi.siteCatalystApi.logVirgoEvent(i.VIRGO_SENDTRACK_CB,e);var u=c,a,f,p,m="PUT";return a=d.appApi.baseFilesUrisApi.getSendApiUri()+"parcels/"+u+"/is_active",p=JSON.stringify({value:!1}),f=t.getRequestHeaders(m),f["Content-Type"]="application/json",this.options.appApi.rnaApi.done(function(e){e.logPerformance("NwCall_UnshareParcel","start")}),$.ajax(a,{type:m,headers:f,data:p,global:!0,dataType:"json"}).done(_.bind(function(){this.options.appApi.rnaApi.done(function(e){e.logPerformance("NwCall_UnshareParcel","end")});var e,t=undefined;Ac.discoveryUrisModel&&(e=Ac.discoveryUrisModel.getUSSUrlsAndUserInfo()),e&&(t=e.isACPUser);var r={};l.get("bootstrap")!==undefined&&n.get("bootstrap").is_original_shared!==undefined&&n.get("bootstrap").is_original_shared?r.op="delete":r.op="unshare",t&&(r.isReceivedFile=!1,r.requestAgent="allFiles"),r.workflowID=h,this.options.appApi.rnaApi.done(_.bind(function(e){e.stApi.updateInAppDMStateAPI(r)},this)),d.isInSearchResultsView?t?d.searchUiModel.trigger("refresh_search_category","creative_cloud"):(d.searchUiModel.trigger("refresh_search_category","document_cloud"),d.searchUiModel.trigger("refresh_search_category","parcel")):d.appApi.folderApi.updateFileSharedStatus(d,{asset_id:h,is_shared:!1});var i={};i.InvitationId=c,i.ParcelId=c,i.Unshare=!0,i.assetId=h,i.sharedStatus=!1,this.options.appApi.rnaApi.done(_.bind(function(e){e._reviewAPI.invoke("AVCloseUnsharedDoc",i)},this)),this.options.appApi.rnaApi.done(function(e){e.logPerformance("UnshareFile","end")})},this))},this))}})}),define("core/dev/ops/dialogs/show-custom-range-dlg-op",["core/ac-core","core/ops/op","core/views/custom-range-selector-view"],function(e){e.ShowCustomRangeDialogOp=e.Op.extend({run:function(){var t,n=this.options;return t=new e.CustomRangeSelectorView(_.extend({},n,{title:null})),t.open()}})}),define("core/dev/models/context-board-model",["core/ac-core","core/utils/file-types","core/models/model"],function(e,t){return e.ContextBoardModel=e.Model.extend({recognized:{selected_item_models:{type:"object",optional:!1}},defaults:{selected_item_models:{}},initialize:function(){e.Model.prototype.initialize.call(this),this.clearSelection()},addItem:function(e){var t=e.id,n=this.get("selected_item_models"),r=n[t];r||(n[t]=e)},getSelectedItemModels:function(){return this.get("selected_item_models")},isItemSelected:function(e){var t=this.getSelectedItemModels();return e?!_.isUndefined(t[e]):_.keys(t).length>0},getNumSelectedItems:function(){return _.keys(this.getSelectedItemModels()).length},getNumSelectedItemsByType:function(e){var t=this.getSelectedItemModels();return _.reduce(t,function(t,n){return e?n.isFile()&&(t+=1):n.isFolder()&&(t+=1),t},0)},getNumSelectedFiles:function(){return this.getNumSelectedItemsByType(!0)},getNumSelectedFolders:function(){return this.getNumSelectedItemsByType(!1)},getNumSelectedForms:function(){return this.getSelectionCountByType().numForms},getSingleSelectedItemModel:function(){var e=_.values(this.getSelectedItemModels());return e.length===1?e[0]:undefined},getSelectionCount:function(){return _.keys(this.getSelectedItemModels()).length},getSelectionCountByType:function(){var e=0,t=0,n=0,r=0,i=0;return _.each(this.getSelectedItemModels(),function(s){s.isFile()?(e+=1,s.isForm()?n+=1:s.isPDF()||(i+=1)):s.isFolder()&&(t+=1),s.isNative()||(r+=1)}),{numFiles:e,numFolders:t,numExternal:r,numForms:n,numNonPDFs:i}},clearSelection:function(){return this.set({selected_item_models:{}},{silent:!0})}}),e.ContextBoardModel}),define("core/dev/models/discovery-uris-model",["core/ac-core","core/utils/uri-template-util","core/models/model"],function(e,t){const n="asset_uri",r="folder_uri",i="folders_list_uri",s="folders_list_uri_accept",o="folders_breadcrumbs_uri",u="folders_breadcrumbs_uri_accept",a="folders_metadata_uri",f="folders_create_uri",l="folders_create_uri_accept",c="folders_create_uri_content_type",h="operations_move_uri",p="operations_move_uri_accept",d="operations_move_uri_content_type",v="search_uri",m="search_uri_v2",g="search_uri_v2_uss_v3",y="is_acp_user",b="search_uri_primary",w="search_uri_secondary";return e.DiscoveryUrisModel=e.Model.extend({url:function(){if(Ac.config.getBaseUri)return Ac.config.getBaseUri("dc_discovery_uri")},setDiscoveryResponse:function(e){this._populateModel(e)},_populateModel:function(e){try{var E=JSON.parse(e.resp);E.templates.asset_uri&&this.set(n,E.templates.asset_uri),E.templates.folder_uri&&this.set(r,E.templates.folder_uri),E.resources.folders.list.uri&&this.set(i,E.resources.folders.list.uri),E.resources.folders.list.accept&&this.set(s,E.resources.folders.list.accept),E.resources.folders.breadcrumbs.uri&&this.set(o,E.resources.folders.breadcrumbs.uri),E.resources.folders.breadcrumbs.accept&&this.set(u,E.resources.folders.breadcrumbs.accept),E.resources.folders.get_metadata.uri&&this.set(a,E.resources.folders.get_metadata.uri),E.resources.folders.create.uri&&this.set(f,E.resources.folders.create.uri),E.resources.folders.create.accept&&this.set(l,E.resources.folders.create.accept),E.resources.folders.create.content_type&&this.set(c,E.resources.folders.create.content_type),E.resources.operations.move.uri&&this.set(h,E.resources.operations.move.uri),E.resources.operations.move.accept&&this.set(p,E.resources.operations.move.accept),E.resources.operations.move.content_type&&this.set(d,E.resources.operations.move.content_type),E.templates.search_uri&&this.set(v,E.templates.search_uri),E.templates.search_uri_v2&&this.set(m,E.templates.search_uri_v2),E.templates.search_uri_v2_uss_v3?this.set(g,E.templates.search_uri_v2_uss_v3):E.templates.search_uri_v2&&this.set(g,E.templates.search_uri_v2);if(E.templates.search_uri_primary&&E.templates.search_uri&&E.templates.search_uri_v2){var S=t.getExpandedURIFromURITemplate(E.templates.search_uri_primary,{search_uri:E.templates.search_uri,search_uri_v2:E.templates.search_uri_v2});this.set(b,S)}if(E.templates.search_uri_secondary&&E.templates.search_uri&&E.templates.search_uri_v2){var x=t.getExpandedURIFromURITemplate(E.templates.search_uri_secondary,{search_uri:E.templates.search_uri,search_uri_v2:E.templates.search_uri_v2});this.set(w,x)}this.get(b)&&this.get(v)&&(this.get(b)===this.get(v)?this.set(y,!1):this.set(y,!0));if(E.resources.assets&&E.resources.assets.put_metadata_field){var T=E.resources.assets.put_metadata_field.uri,x=t.getExpandedURIFromURITemplate(T,{asset_uri:E.templates.asset_uri});this.set("put_metadata",x);var N=E.resources.assets.put_metadata_field.content_type["asset_metadata_field_v1.json"];this.set("put_metadata_contentType",N)}}catch(C){console.log(C)}},getUSSUrlsAndUserInfo:function(){var e=this.get(v),t=this.get(m),n=this.get(g),r=this.get(y);return{SCUrl:e,ACPUrl:t,ACPUrlUSS:n,isACPUser:r}},getAssetUriTemplate:function(){return this.get(n)},getFolderUriTemplate:function(){return this.get(r)},getFoldersListUri:function(){return this.get(i)},getPutMetaDataUri:function(){return this.get("put_metadata")},getPutMetaDataContentType:function(){return this.get("put_metadata_contentType")},getFoldersListUriAcceptHeader:function(){var e=this.get(s),t;return $.each(e,function(e,n){t=n}),t},getFolderBreadcrumbsUriAcceptHeader:function(){var e=this.get(u),t;return $.each(e,function(e,n){t=n}),t},getFoldersBreadcrumbsUri:function(){return this.get(o)},getFoldersMetadataUri:function(){return this.get(a)},getFoldersCreateUri:function(){return this.get(f)},getFoldersCreateUriAcceptHeader:function(){var e=this.get(l),t;return $.each(e,function(e,n){t=n}),t},getFoldersCreateUriContentTypeHeader:function(){var e=this.get(c),t;return $.each(e,function(e,n){t=n}),t},getOperationsMoveUri:function(){return this.get(h)},getOperationsSingleMoveUriAcceptHeader:function(){var e=this.get(p),t;return $.each(e,function(e,n){e.includes("multiple")||(t=n)}),t},getOperationsMultiMoveUriAcceptHeader:function(){var e=this.get(p),t;return $.each(e,function(e,n){e.includes("multiple")&&(t=n)}),t},getOperationsMoveUriContentTypeHeader:function(){var e=this.get(d),t;return $.each(e,function(e,n){t=n}),t},getUSSPrimaryUri:function(){return this.get(b)},getUSSSecondaryUri:function(){return this.get(w)}}),e.DiscoveryUrisModel}),define("core/dev/collections/parcel-collection",["core/ac-core","core/models/parcel-model"],function(e){e.ParcelCollection=Backbone.Collection.extend({initialize:function(e,t){Backbone.Collection.prototype.initialize.call(this,e,t),this.workflowType=t.wfType,this.sortAscending=t.sortAscending,this.sortField=this.sortField=t.sortField,this.response="",this._numberOfItems=0,this._numberOfReviews=0,this._numberOfViews=0},model:e.ParcelModel,setSortField:function(e,t){this.sortField=e,this.sortAscending=t},getNumberOfItems:function(){return this._numberOfItems},setNumberOfItems:function(e){this._numberOfItems=e},comparator:function(e,t){var n,r,i,s=e.get(this.sortField),o=t.get(this.sortField);return n=this.sortAscending?s:o,r=this.sortAscending?o:s,n===r?i=0:n<r?i=-1:i=1,i},fetch:function(e){return},pushData:function(e){var t=e.WorkflowData;for(var n=0;n<t.length;n++)this.push(t[n]);this._numberOfItems=e.numberOfEntries,_.isUndefined(e.numberOfViews)||(this._numberOfViews=e.numberOfViews),_.isUndefined(e.numberOfReviews)||(this._numberOfReviews=e.numberOfReviews)},push:function(e){Backbone.Collection.prototype.push.call(this,e)},setData:function(e){return Backbone.Collection.prototype.set.call(this,e,{parse:!0})},parse:function(e){return this.workflowData=e.WorkflowData,e.WorkflowData}})}),define("core/dev/utils/svg-loader",["core/ac-core","core/utils/http-util","core/utils/util"],function(e,t,n){var r=6,i=[],s=[];return e.SvgLoader={loadSvg:function(e,t,n,r){var i=$.Deferred();return this.enqueueSvgRequest(e,t,i,n,r),this.dequeueSvgRequest(),i.promise()},suspendPendingRequests:function(){this._isSuspended=!0},resumePendingRequests:function(){var e;this._isSuspended=!1;for(;;){e=this.dequeueSvgRequest();if(!e)break}},cancelPendingRequests:function(){i=[],s=[]},enqueueSvgRequest:function(e,t,n,r,s){var o={$svg:e,url:t,deferred:n,eventData:r,force:s};i.push(o)},dequeueSvgRequest:function(){var e;return this._isSuspended||i.length===0||s.length>=r?e:(e=i.shift(),s.push(e),this.processSvgRequest(e.$svg,e.url,e.deferred,e.eventData,e.force),e)},processSvgRequest:function(e,r,i,s,o){var u=_.bind(function(e){this.removeActiveSvgRequest(e),this.dequeueSvgRequest()},this);if(!o&&e.data("is_loading")){u(e);return}s=s||{};if(!o&&!e.is(":empty")){u(e),i.resolve(s);return}$.ajax({url:r,type:"GET",headers:t.getRequestHeaders("GET"),global:!1}).then(function(t){var o=t.pages[s.pageNum],a=e.parent().parent(),f;if(e.data("svg_url")&&e.data("svg_url")!==r){e.data("is_loading",!1),u(e),i.reject(s);return}t.results.hasClips&&(n.isAppleWekKit()||n.isFirefox())&&(o=o.replace(/#SVGID/g,window.location.pathname+"#SVGID")),f=a.find("link"),(f.length===0||f.length===1&&f.attr("href").indexOf("font.css")===-1)&&a.prepend(t.results.docLinks),e.data("is_loading",!1),e.html(o),u(e),i.resolve(s)},function(){e.data("is_loading",!1),u(e),i.reject(s)}),e.data("is_loading",!0)},removeActiveSvgRequest:function(e){_.each(s,function(t,n){if(t&&t.$svg===e){s.splice(n,1);return}})}},e.SvgLoader}),function(e){typeof define=="function"&&define.amd?define("jquery.cookie",["jquery"],e):typeof exports=="object"?e(require("jquery")):e(jQuery)}(function(e){function n(e){return u.raw?e:encodeURIComponent(e)}function r(e){return u.raw?e:decodeURIComponent(e)}function i(e){return n(u.json?JSON.stringify(e):String(e))}function s(e){e.indexOf('"')===0&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(t," ")),u.json?JSON.parse(e):e}catch(n){}}function o(t,n){var r=u.raw?t:s(t);return e.isFunction(n)?n(r):r}var t=/\+/g,u=e.cookie=function(t,s,a){if(arguments.length>1&&!e.isFunction(s)){a=e.extend({},u.defaults,a);if(typeof a.expires=="number"){var f=a.expires,l=a.expires=new Date;l.setTime(+l+f*864e5)}return document.cookie=[n(t),"=",i(s),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}var c=t?undefined:{},h=document.cookie?document.cookie.split("; "):[];for(var p=0,d=h.length;p<d;p++){var v=h[p].split("="),m=r(v.shift()),g=v.join("=");if(t&&t===m){c=o(g,s);break}!t&&(g=o(g))!==undefined&&(c[m]=g)}return c};u.defaults={},e.removeCookie=function(t,n){return e.cookie(t)===undefined?!1:(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}}),define("core/dev/utils/cookie-util",["core/ac-core","core/utils/crypto-util","jquery.cookie"],function(e,t){var n;return e.CookieUtil={setCookie:function(e,t){var n;return _.isUndefined($.cookie)?n:($.cookie.raw=!0,n=$.cookie(e,t,this.getCookieOptions()),n)},getCookie:function(e){return _.isFunction($.cookie)?$.cookie(e):""},deleteCookie:function(e){var t=$.removeCookie(e,this.getCookieOptions());return t},getCookieOptions:function(){var t;return n||(t=e.getBaseCloudUrl(),n={domain:e.Config.COOKIE_DOMAIN,path:"/",expires:14,secure:t&&t.indexOf("https")===0}),n},setPersonalCookie:function(e,t,n){var r=this._getPersonalName(e,t),i;return i=this.setCookie(r,n),this.purgePrefsCookies(e,r),i},getPersonalCookie:function(e,t){return this.getCookie(this._getPersonalName(e,t))},deletePersonalCookie:function(e,t){return this.deleteCookie(this._getPersonalName(e,t))},purgePrefsCookies:function(e,t){var n=document.cookie,r=n.split(";"),i,s;_.each(r,_.bind(function(n){i=n.split("="),s=$.trim(i[0]),s.indexOf(e)===0&&s!==t&&this.deleteCookie(s)},this))},_getPersonalName:function(e,n){return e+t.getSha256(n).substr(0,8)}},e.CookieUtil}),define("core/dev/utils/ipm-util",["core/ac-core","plugins-common/ac-plugins","core/utils/cookie-util"],function(e,t,n){var r=e.LANGUAGE_COOKIE,i={bizSource:"History_bizSource",countryCode:"History_countryCode",language:r,marketingContext:"marketingContext",previousLoginDate:"History_previousLoginDate",subscriptionLevel:"History_subscriptionLevel",subscriptionName:"History_subscriptionName",upgradeFromSku:"History_upgradeFromSku"},s={biz_source:"History_bizSource",country_code:"History_countryCode",subscription_level:"History_subscriptionLevel",subscription_name:"History_subscriptionName",user_lang:r},o={acrobatplus:t.ACROBAT,createpdf:t.CREATEPDF,exportpdf:t.EXPORTPDF,formscentral:t.FORMSCENTRAL};return e.IpmUtil={renderIpmContent:function(t,n,r,i,s){function f(){t.css("visibility","visible")}var o,u,a;if(!e.Features.isFeatureEnabled("test_and_target_content"))return;if(!window.mboxDefine||!window.mboxUpdate)return;try{o=r+e.Locale.getIpmLocale(),u="service_name="+i,a=[n,o,u],s&&(a=a.concat(s)),mboxDefine.apply(undefined,a),mboxUpdate(o,u)}catch(l){LOG(0,"mbox error: "+l.toString()),f()}},getIpmParams:function(e){var t=[],r,s,o;return _.each(i,function(e,i){r=n.getCookie(e),r&&t.push(i+"="+r)}),e&&(s=e.email.toLowerCase(),o=s.split("@")[1],o==="adobetest.com"&&t.push("isAdobeTest=true")),t.length>0?t:undefined},setIpmParams:function(e,t){var r,i;r=_.pick(_.extend({},e,t),_.keys(s)),_.each(r,function(e,t){i=s[t],i&&e&&n.setCookie(i,e)}),n.setCookie("History_previousLoginDate",(new Date).getTime().toString())},getMarketingTool:function(){var e=n.getCookie("marketingContext");return e?o[e]:undefined}},e.IpmUtil}),define("core/dev/utils/focus-util",["core/ac-core"],function(e){return e.FocusUtil={nextElem:function(e,t){var n=38,r=40,t,i;if(e.keyCode===n||e.keyCode===r)t||(t=$("*[tabindex = 0]:visible")),i=t.index(e.target);if(_.isUndefined(t))return;e.keyCode===n&&i>0?t.eq(i-1).focus():e.keyCode===r&&i<t.length&&t.eq(i+1).focus()}},e.FocusUtil}),define("core/dev/utils/comment-util",["core/ac-core"],function(e){return e.CommentUtil={isCommentingEnabledPreview:function(t){var n=e.Features,r;if(!document.createElement("canvas").getContext)return!1;if(!n.isFeatureEnabled("review_and_commenting"))return!1;if(n.isFeatureEnabled("review_and_commenting_english_only")){r=t.appApi.localeApi.getLocale();if(r!=="en-us")return!1}return!0},isCommentingEnabled:function(t){var n=e.Features,r=t.appApi.usersMeApi,i=r.getUserIdentity(),s,o,u;if(!e.CommentUtil.isCommentingEnabledPreview(t))return!1;if(!i||!i.email)return!1;if(r.getUserCohorts().rh_rollout==="rh_ui_enabled")return!0;if(!n.isFeatureEnabled("review_and_commenting_external_users")){s=i.email,s=s||"",u=s.lastIndexOf("@");if(u===-1||u===s.length-1)return!1;o=s.substring(u+1);if(o.toUpperCase()!=="ADOBE.COM")return!1}return!0}},e.CommentUtil}),define("core/dev/utils/breadcrumbs",["core/ac-core","i18n!core/nls/ui-strings","core/utils/truncate","core/utils/view-util"],function(e,t,n,r){var i=_.template('<span class="breadcrumb"><span class="breadcrumb-name theme-virgo-header-text"><%- name %></span><span class="breadcrumb-separator theme-virgo-header-text"> </span></span>'),s=_.template('<div class="breadcrumbs-trunc-menu"></div>'),o=_.template('<div class="breadcrumbs-trunc-menu-item"><%- name %></div>'),u=.9;return e.Breadcrumbs={display:function(a,f,l,c,h,p){function k(e){c($(e.currentTarget).data("id"))}function L(e){if(e.which===13||e.which===32)e.preventDefault(),k(e)}function A(){return n.getTextSize(f).width-l}function O(){return A()>0}function M(e){var t=e.find(".breadcrumb-name");e.attr("title",t.text()),t.text("…")}function D(e){e.css("display","none")}function P(){C=$("body"),x=f.find(".breadcrumbs-trunc-menu"),T=f.find(".breadcrumbs-trunc-menu-item")}function H(e){S.push({id:e.data("id"),name:e.data("name")})}function B(){f.append(s()),x=f.find(".breadcrumbs-trunc-menu"),_.each(S,function(e){x.append(o({name:e.name})),N=x.children().last(),N.data("id",e.id)})}function j(){var e=E.position().left-5,t,i;x.width(x.width()+r.getScrollBarWidth()),x.offset({left:e,top:f.height()}),x.css("max-width",l-e+"px").css("max-height",u*($("body").height()-f.offset().top-f.height())+"px"),t=x.width()-parseInt(T.first().css("padding-left"),10)*2,T.each(function(e,r){i=$(r),i.width(t),n.truncateElementText(i)})}function F(){return f.find(".breadcrumbs-trunc-menu").length>0}function I(){T.off("click"),C.off(".breadcrumbs")}function q(){F()&&(P(),I(),x.slideUp("fast",function(){x.remove(),x=undefined}))}function R(e){$(e.target).closest(x).length===0&&q()}function U(e){e.which===27&&q()}function z(e){c($(e.currentTarget).data("id")),q()}function W(){T.on("click",z),C.on("click.breadcrumbs",R),C.on("keydown.breadcrumbs",U)}function X(){F()||(B(),P(),j(),_.defer(W),x.slideDown("fast"))}function V(e){F()?q():X(),e.stopPropagation()}function J(){E.attr("title",_.template(t.N_ITEMS_CLICK_TO_VIEW,{num:S.length}))}function K(){E.off("click").on("click",V)}function Q(){J(),K()}var d,v,m,g,y,b,w,E,S,x,T,N,C;if(!a)return;f.empty();if(a.length===0||l===0)return;v=a.length;for(d=0;d<v;d+=1)m=a[d],g=d===0&&p?p:e.Util.replaceSpaceWithNbsp(m.name),f.append(i({name:g})),y=f.children(".breadcrumb").last(),d===v-1?(y.addClass("current-folder theme-virgo-text"),y.find(".breadcrumb-separator").addClass("hidden"),y.find(".breadcrumb-name").removeClass("theme-virgo-header-text"),y.find(".breadcrumb-name").addClass("theme-virgo-text"),y.attr({role:"heading"})):y.attr({role:"link",tabindex:0}),y.data({id:m.id,name:m.name}),d<v-1&&y.on("click",k).on("keydown",L);b=f.children(".breadcrumb"),w=b.length,e.Util.isWindows()&&h==="ja-jp"&&(l*=.8);if(!O())return;if(w>2){y=b.eq(1),M(y);if(!O())return;E=y}for(d=2;d<w-1;d+=1){y=b.eq(d),S||(S=[],H(E)),H(y),D(y);if(!O()){Q();return}}E&&S&&Q(),n.truncateToFit(b.eq(b.length-1),A),x&&x.length>0&&r.setElementFontByLocale(x,"div")}},e.Breadcrumbs}),define("core/dev/utils/thumbnail-util",["core/constants/thumbnail-constants"],function(e){return ThumbnailUtil={getThumnailRequestParams:function(t,n,r,i,s){url=t+"a/invitation/"+n+"/asset/"+r;var o=e.DEFAULT_SIZE,u=o,a=o;s==e.THUMBNAIL?(url+="/thumbnail",u=e.THUMBNAIL_SIZE,a=e.THUMBNAIL_SIZE):s==e.TILE?(url+="/tile",u=e.TILE_SIZE,a=e.TILE_SIZE):s==e.ICON?(url+="/icon",u=e.ICON_SIZE,a=e.ICON_SIZE):s==e.PREVIEW?(url+="/preview",u=e.PREVIEW_SIZE,a=e.PREVIEW_SIZE):(url+="/tile",u=e.TILE_SIZE,a=e.TILE_SIZE);var f=n+r+s,l={methodName:"getURLImage",methodArgs:[{id:f,url:url,width:u,height:a}]};return l}},ThumbnailUtil}),define("core/dev/templates/rhp/review/add-participant-input-template",[],function(){return' <div class="add-participant-address-input-container">    <input type="text" class="add-participant-address-input ui-theme theme-container theme-text"           placeholder="Enter email"           id="add-participant-address-input"           aria-autocomplete="list"           aria-label="Enter email"           aria-owns="add-participant-auto-c-list" autocomplete="false" /></div> '}),define("core/dev/templates/sign-out-template",[],function(){return'<form id="sign-out-form" action="<%= url %>" method="post">    <input name="csrftoken" type="hidden"           value="<%= csrfToken %>"/></form>'}),define("core/dev/templates/toolbar-item-template",[],function(){return'<button class="toolbar-item plugin-selector"           aria-pressed="false">    <div class="toolbar-item-label"><%= label %></div></button>'}),define("core/dev/templates/account-menu-item-template",[],function(){return'<button class="account-menu-item plugin-selector"     role="menuitem" tabindex="-1">    <%= label %></button>'}),define("core/dev/all-modules",["core-unmapped/dev/ac-core","core-unmapped/dev/ac-core-config","core-unmapped/dev/ac-core-init","core-unmapped/dev/views/search-field-view","core-unmapped/dev/views/plugins-content-view","core-unmapped/dev/views/account-menu-item-view","core-unmapped/dev/views/input-search-view","core-unmapped/dev/views/collection-virgo-header-thumbnail-view","core-unmapped/dev/views/collection-view","core-unmapped/dev/views/collection-item-view","core-unmapped/dev/views/custom-range-selector-view","core-unmapped/dev/views/input-placeholder-view","core-unmapped/dev/views/full-preview-plugin-view","core-unmapped/dev/views/collection-virgo-header-view","core-unmapped/dev/views/collection-header-view","core-unmapped/dev/views/query-box-view","core-unmapped/dev/views/hover-preview-hud-view","core-unmapped/dev/views/collection-items-view","core-unmapped/dev/views/rhp-preview-view","core-unmapped/dev/views/selection-action-send-menu-view","core-unmapped/dev/views/menu-view","core-unmapped/dev/views/view","core-unmapped/dev/views/rename-dlg-view","core-unmapped/dev/views/bar-graph-view","core-unmapped/dev/views/rhp-properties-view","core-unmapped/dev/views/rhp/shared-rhp-properties-view","core-unmapped/dev/views/rhp/original-shared-primary-actions-view","core-unmapped/dev/views/rhp/shared-rhp-preview-hud-view","core-unmapped/dev/views/rhp/sentfiles/us-chicklet-edit-control","core-unmapped/dev/views/rhp/sentfiles/rhp-participants-view","core-unmapped/dev/views/rhp/sentfiles/sentfiles-rhp-autocomplete-view","core-unmapped/dev/views/rhp/sentfiles/activity-accodian-view","core-unmapped/dev/views/rhp/sentfiles/primary-actions-view","core-unmapped/dev/views/rhp/sentfiles/secondary-actions-view","core-unmapped/dev/views/rhp/signature/cancel-workflow-accodian-view","core-unmapped/dev/views/rhp/signature/reminders-accodian-view","core-unmapped/dev/views/rhp/signature/remind-participants-action-view","core-unmapped/dev/views/rhp/signature/participants-accodian-view","core-unmapped/dev/views/rhp/signature/cancel-workflow-action-view","core-unmapped/dev/views/rhp/signature/activity-accodian-view","core-unmapped/dev/views/rhp/signature/es-signin-view","core-unmapped/dev/views/rhp/signature/primary-actions-view","core-unmapped/dev/views/rhp/shared-rhp-error-view","core-unmapped/dev/views/rhp/review/review-rhp-autocomplete-view","core-unmapped/dev/views/rhp/review/us-chicklet-edit-control","core-unmapped/dev/views/rhp/review/autocomplete-collection","core-unmapped/dev/views/rhp/review/rhp-participants-view","core-unmapped/dev/views/rhp/review/email-addr-collection","core-unmapped/dev/views/rhp/review/disallowed-file-model","core-unmapped/dev/views/rhp/review/file-metadata-collection","core-unmapped/dev/views/rhp/review/file-metadata-model","core-unmapped/dev/views/rhp/review/sc-constants","core-unmapped/dev/views/rhp/review/primary-actions-view","core-unmapped/dev/views/rhp/review/send-files-ui-model","core-unmapped/dev/views/rhp/review/email-addr-model","core-unmapped/dev/views/rhp/review/autocomplete-model","core-unmapped/dev/views/rhp/original-shared-rhp-participants-view","core-unmapped/dev/views/rhp/shared-rhp-intro-message-view","core-unmapped/dev/views/rhp/original-shared-rhp-intro-message-view","core-unmapped/dev/views/rhp/shared-rhp-preview-view","core-unmapped/dev/views/rhp/shared-rhp-deadline-view","core-unmapped/dev/views/selection-actions-plugins-view","core-unmapped/dev/views/hover-preview-view","core-unmapped/dev/views/toolbar-item-view","core-unmapped/dev/views/tool-view","core-unmapped/dev/views/move-dlg-view","core-unmapped/dev/views/search-control-view","core-unmapped/dev/views/query-boxes-view","core-unmapped/dev/views/plugin-selector-view","core-unmapped/dev/views/sectioned-plugins-selector-view","core-unmapped/dev/views/plugins-selector-view","core-unmapped/dev/views/rhp-actions-view","core-unmapped/dev/views/folder-tree-view","core-unmapped/dev/views/plugin-view","core-unmapped/dev/views/view-events","core-unmapped/dev/views/rhp-actions-toast-view","core-unmapped/dev/views/collection-virgo-item-view","core-unmapped/dev/views/skeleton-view","core-unmapped/dev/views/rhp-actions-plugins-view","core-unmapped/dev/views/duplicate-name-dlg-view","core-unmapped/dev/views/folder-tree-node-view","core-unmapped/dev/views/alert-dlg-view","core-unmapped/dev/views/plugin-content-view","core-unmapped/dev/views/dialog-view","core-unmapped/dev/views/rhp-preview-hud-view","core-unmapped/dev/views/quota-warning-dlg-view","core-unmapped/dev/views/selection-actions-view","core-unmapped/dev/views/left-rail-view","core-unmapped/dev/views/home-view-view","core-unmapped/dev/views/home-view-selector-view","core-unmapped/dev/nls-cef/root/ui-strings","core-unmapped/dev/nls-cef/ui-strings","core-unmapped/dev/ops/notifications/enabling-folder-notifications-op","core-unmapped/dev/ops/notifications/getting-folder-notifications-op","core-unmapped/dev/ops/notifications/stopping-notifications-op","core-unmapped/dev/ops/notifications/creating-notifications-endpoints-op","core-unmapped/dev/ops/plugins/instantiating-selector-op","core-unmapped/dev/ops/plugins/loading-plugin-list-op","core-unmapped/dev/ops/plugins/instantiating-plugin-op","core-unmapped/dev/ops/plugins/executing-plugins-predownload-op","core-unmapped/dev/ops/plugins/loading-selection-actions-op","core-unmapped/dev/ops/plugins/loading-plugin-op","core-unmapped/dev/ops/plugins/loading-plugins-op","core-unmapped/dev/ops/plugins/selecting-selection-action-item-op","core-unmapped/dev/ops/plugins/selecting-plugin-op","core-unmapped/dev/ops/plugins/loading-module-op","core-unmapped/dev/ops/op-factory","core-unmapped/dev/ops/uss/uss-dc-op","core-unmapped/dev/ops/uss/uss-searching-dc-asset-op","core-unmapped/dev/ops/uss/dc-discovery-api-op","core-unmapped/dev/ops/uss/uss-creative-cloud-op","core-unmapped/dev/ops/uss/uss-favorites-op","core-unmapped/dev/ops/uss/uss-review-op","core-unmapped/dev/ops/microsoftGraph/microsoft-graph-outlook-contacts-op","core-unmapped/dev/ops/connectors/instantiating-connectors-by-cohort-op","core-unmapped/dev/ops/connectors/adding-connector-op","core-unmapped/dev/ops/connectors/removing-connector-plugins-op","core-unmapped/dev/ops/connectors/instantiating-one-connector-op","core-unmapped/dev/ops/connectors/removing-connector-op","core-unmapped/dev/ops/connectors/removing-connector-plugin-op","core-unmapped/dev/ops/connectors/adding-connector-plugin-op","core-unmapped/dev/ops/connectors/instantiating-connectors-op","core-unmapped/dev/ops/while-signed-in-op","core-unmapped/dev/ops/preview/getting-rhp-folder-child-counts-op","core-unmapped/dev/ops/preview/getting-hover-preview-metadata-op","core-unmapped/dev/ops/preview/getting-rhp-preview-metadata-op","core-unmapped/dev/ops/session/rna-refreshing-session-op","core-unmapped/dev/ops/session/refreshing-session-op","core-unmapped/dev/ops/session/refreshing-session-later-op","core-unmapped/dev/ops/session/stopping-session-op","core-unmapped/dev/ops/session/starting-session-op","core-unmapped/dev/ops/session/rna-starting-session-op","core-unmapped/dev/ops/session/refreshing-session-initially-op","core-unmapped/dev/ops/session/starting-susi-session-op","core-unmapped/dev/ops/session/deleting-session-op","core-unmapped/dev/ops/rna/downloading-zip-file-op","core-unmapped/dev/ops/rna/updating-originalshare-asseturn-op","core-unmapped/dev/ops/rna/creating-window-op","core-unmapped/dev/ops/rna/opening-shared-doc-in-reader-op","core-unmapped/dev/ops/rna/downloading-file-op","core-unmapped/dev/ops/rna/opening-doc-in-reader-op","core-unmapped/dev/ops/rna/shared-file-bootstrap-op","core-unmapped/dev/ops/rna/context-board-primary-tools-click-app-op","core-unmapped/dev/ops/rna/listening-for-stop-file-upload-op","core-unmapped/dev/ops/rna/initializing-reader-op","core-unmapped/dev/ops/rna/launch-footer-url-in-browser-op","core-unmapped/dev/ops/rna/f6-key-press-handler-op","core-unmapped/dev/ops/rna/selection-action-launch-send-track-app-op","core-unmapped/dev/ops/rna/apply-ui-theme-icons-op","core-unmapped/dev/ops/rna/listening-for-file-download-progress-op","core-unmapped/dev/ops/rna/uploading-file-op","core-unmapped/dev/ops/rna/context-board-primary-tools-click-reducedmode-app-op","core-unmapped/dev/ops/rna/save-as-file-op","core-unmapped/dev/ops/rna/listening-for-actions-op","core-unmapped/dev/ops/rna/initializing-cef-op","core-unmapped/dev/ops/rna/selection-action-attach-to-email-op","core-unmapped/dev/ops/rna/initializing-pdm-op","core-unmapped/dev/ops/rna/listening-for-file-upload-progress-op","core-unmapped/dev/ops/rna/opening-doc-in-pdm-op","core-unmapped/dev/ops/rna/listening-for-connector-events-op","core-unmapped/dev/ops/eurekaReview/validate-and-upload-review-op","core-unmapped/dev/ops/eurekaReview/initiate-Review-op","core-unmapped/dev/ops/eurekaReview/finding-upload-folder-op","core-unmapped/dev/ops/eurekaReview/eureka-upload-review-op","core-unmapped/dev/ops/creating/creating-folder-op","core-unmapped/dev/ops/misc/checking-storage-quota-on-startup-op","core-unmapped/dev/ops/misc/validating-base-uris-op","core-unmapped/dev/ops/misc/send-chunk-data-to-native-op","core-unmapped/dev/ops/misc/loading-framework-version-op","core-unmapped/dev/ops/misc/handling-collection-render-begin-op","core-unmapped/dev/ops/misc/validating-name-op","core-unmapped/dev/ops/misc/showing-manage-sub-op","core-unmapped/dev/ops/misc/handling-collection-render-end-op","core-unmapped/dev/ops/misc/sending-log-event-op","core-unmapped/dev/ops/listening/listening-for-parcel-notifications-op","core-unmapped/dev/ops/listening/listening-for-key-events-op","core-unmapped/dev/ops/listening/listening-for-focus-events-op","core-unmapped/dev/ops/op","core-unmapped/dev/ops/pgc/accepting-new-pgc-suggestion-op","core-unmapped/dev/ops/pgc/getting-pgc-suggestions-op","core-unmapped/dev/ops/pgc/accepting-pgc-suggestions-op","core-unmapped/dev/ops/downloading/downloading-asset-op","core-unmapped/dev/ops/downloading/downloading-form-op","core-unmapped/dev/ops/downloading/downloading-zip-start-op","core-unmapped/dev/ops/downloading/downloading-asset-if-exists-op","core-unmapped/dev/ops/downloading/downloading-zip-op","core-unmapped/dev/ops/sharing/sharing-item-op","core-unmapped/dev/ops/selection/selecting-collection-item-op","core-unmapped/dev/ops/selection/clearing-selection-op","core-unmapped/dev/ops/getting/getting-folder-path-op","core-unmapped/dev/ops/getting/getting-collaboration-metadata-op","core-unmapped/dev/ops/getting/getting-desktop-fetching-autocomplete-list-op","core-unmapped/dev/ops/getting/getting-sharing-info-op","core-unmapped/dev/ops/getting/getting-custom-metadata-op","core-unmapped/dev/ops/getting/getting-connectors-ui-helpers-op","core-unmapped/dev/ops/getting/getting-storage-quota-op","core-unmapped/dev/ops/getting/getting-folder-items-op","core-unmapped/dev/ops/getting/getting-site-catalyst-base-file-op","core-unmapped/dev/ops/getting/getting-discovery-resp-op","core-unmapped/dev/ops/getting/getting-base-cloud-uris-op","core-unmapped/dev/ops/getting/getting-asset-metadata-op","core-unmapped/dev/ops/getting/getting-download-ticket-op","core-unmapped/dev/ops/getting/getting-root-op","core-unmapped/dev/ops/getting/getting-document-cloud-storage-info-op","core-unmapped/dev/ops/getting/getting-snt-profile-info-op","core-unmapped/dev/ops/getting/getting-sso-uri-op","core-unmapped/dev/ops/getting/getting-common-limits-op","core-unmapped/dev/ops/getting/getting-public-profile-info-op","core-unmapped/dev/ops/getting/getting-folder-op","core-unmapped/dev/ops/getting/getting-folder-metadata-op","core-unmapped/dev/ops/getting/getting-system-folders-op","core-unmapped/dev/ops/getting/getting-users-me-cohorts-op","core-unmapped/dev/ops/getting/getting-base-files-uris-op","core-unmapped/dev/ops/getting/getting-system-folder-metadata-op","core-unmapped/dev/ops/manipulation/deleting-parcel-if-confirmed-op","core-unmapped/dev/ops/manipulation/unshare-review-op","core-unmapped/dev/ops/manipulation/deleting-review-op","core-unmapped/dev/ops/manipulation/deleting-selection-if-confirmed-op","core-unmapped/dev/ops/manipulation/deleting-item-op","core-unmapped/dev/ops/manipulation/renaming-added-dup-op","core-unmapped/dev/ops/manipulation/moving-items-op","core-unmapped/dev/ops/manipulation/deleting-existing-dup-op","core-unmapped/dev/ops/manipulation/renaming-item-op","core-unmapped/dev/ops/manipulation/unsharing-parcel-if-confirmed-op","core-unmapped/dev/ops/manipulation/unsharing-review-parcel-if-confirmed-op","core-unmapped/dev/ops/manipulation/deleting-form-op","core-unmapped/dev/ops/manipulation/add-participant-op","core-unmapped/dev/ops/manipulation/starring-dc-file-op","core-unmapped/dev/ops/manipulation/setting-asset-metadata-op","core-unmapped/dev/ops/manipulation/deleting-selection-op","core-unmapped/dev/ops/manipulation/moving-item-op","core-unmapped/dev/ops/dialogs/showing-move-dlg-op","core-unmapped/dev/ops/dialogs/showing-rename-dlg-op","core-unmapped/dev/ops/dialogs/show-custom-range-dlg-op","core-unmapped/dev/ops/dialogs/renaming-item-from-dlg-op","core-unmapped/dev/ops/dialogs/showing-quota-warning-dlg-op","core-unmapped/dev/models/sharing-root-model","core-unmapped/dev/models/root-model","core-unmapped/dev/models/base-cloud-uris-model","core-unmapped/dev/models/ui/plugins-ui-model","core-unmapped/dev/models/ui/actions-ui-model","core-unmapped/dev/models/ui/hover-preview-ui-model","core-unmapped/dev/models/ui/search-ui-model","core-unmapped/dev/models/ui/dialog-ui-model","core-unmapped/dev/models/ui/file-upload-ui-model","core-unmapped/dev/models/ui/field-query-ui-model","core-unmapped/dev/models/ui/notification-ui-model","core-unmapped/dev/models/ui/folder-tree-ui-model","core-unmapped/dev/models/ui/plugin-groups-ui-model","core-unmapped/dev/models/ui/menus-ui-model","core-unmapped/dev/models/ui/rhp-preview-ui-model","core-unmapped/dev/models/ui/error-ui-model","core-unmapped/dev/models/ui/bar-graph-ui-model","core-unmapped/dev/models/ui/full-preview-ui-model","core-unmapped/dev/models/ui/plugin-ui-model","core-unmapped/dev/models/ui/selection-ui-model","core-unmapped/dev/models/ui/network-ui-model","core-unmapped/dev/models/ui/ui-model","core-unmapped/dev/models/ui/collection-ui-model","core-unmapped/dev/models/ui/folder-ui-model","core-unmapped/dev/models/ui/quota-dlg-ui-model","core-unmapped/dev/models/ui/sort-ui-model","core-unmapped/dev/models/ui/key-ui-model","core-unmapped/dev/models/ui/ui-model-factory","core-unmapped/dev/models/ui/folder-tree-node-ui-model","core-unmapped/dev/models/ui/session-ui-model","core-unmapped/dev/models/ui/collection-item-ui-model","core-unmapped/dev/models/ui/collections-ui-model","core-unmapped/dev/models/ui/inactivity-ui-model","core-unmapped/dev/models/ui/saveas-ui-model","core-unmapped/dev/models/ui/dialogs-ui-model","core-unmapped/dev/models/ui/left-rail-ui-model","core-unmapped/dev/models/connectors-ui-helpers-model","core-unmapped/dev/models/model","core-unmapped/dev/models/notification-model","core-unmapped/dev/models/workflow-status-strings","core-unmapped/dev/models/rna/native-window-model","core-unmapped/dev/models/rna/reader-model","core-unmapped/dev/models/rna/cef-context-model","core-unmapped/dev/models/rna/acrocef-model","core-unmapped/dev/models/rna/rna-model","core-unmapped/dev/models/rna/reader-context-model","core-unmapped/dev/models/rna/rna-model-factory","core-unmapped/dev/models/rna/pdm-context-model","core-unmapped/dev/models/rna/reader-api-model","core-unmapped/dev/models/rna/test-model","core-unmapped/dev/models/rna/pdm-model","core-unmapped/dev/models/rna/pdm-preview-model","core-unmapped/dev/models/rna/rna-notification-model","core-unmapped/dev/models/rna/cef-model","core-unmapped/dev/models/rna/rna-ipm-model","core-unmapped/dev/models/rna/local-item-model","core-unmapped/dev/models/context-board-model","core-unmapped/dev/models/session-model","core-unmapped/dev/models/sharing-info-model","core-unmapped/dev/models/collection-item-model","core-unmapped/dev/models/system-folders-model","core-unmapped/dev/models/asset-model","core-unmapped/dev/models/send-log-event-model","core-unmapped/dev/models/network-connectivity-model","core-unmapped/dev/models/base-uris-model","core-unmapped/dev/models/users-me-cohorts-model","core-unmapped/dev/models/uss-search-model","core-unmapped/dev/models/storage-quota-model","core-unmapped/dev/models/file-upload-model","core-unmapped/dev/models/model-factory","core-unmapped/dev/models/search-model","core-unmapped/dev/models/folder-model","core-unmapped/dev/models/parcel-model","core-unmapped/dev/models/folder-model-dcapi","core-unmapped/dev/models/sign-out-model","core-unmapped/dev/models/discovery-uris-model","core-unmapped/dev/models/common-limits-model","core-unmapped/dev/models/refresh-session-model","core-unmapped/dev/models/base-files-uris-model","core-unmapped/dev/collections/ui/ui-collection","core-unmapped/dev/collections/ui/field-queries-ui-collection","core-unmapped/dev/collections/ui/ui-collection-factory","core-unmapped/dev/collections/ui/plugins-ui-collection","core-unmapped/dev/collections/collection-factory","core-unmapped/dev/collections/rna/local-folder-collection","core-unmapped/dev/collections/rna/rna-collection-factory","core-unmapped/dev/collections/rna/rna-collection","core-unmapped/dev/collections/parcel-collection","core-unmapped/dev/collections/collection","core-unmapped/dev/nls/root/ui-strings","core-unmapped/dev/nls/ui-strings","core-unmapped/dev/utils/ts-utils","core-unmapped/dev/utils/file-types","core-unmapped/dev/utils/uri-template-util","core-unmapped/dev/utils/action-ids","core-unmapped/dev/utils/svg-loader","core-unmapped/dev/utils/ajax-util","core-unmapped/dev/utils/image-loader","core-unmapped/dev/utils/ipm-util","core-unmapped/dev/utils/view-util","core-unmapped/dev/utils/event-util","core-unmapped/dev/utils/sc-analytics","core-unmapped/dev/utils/util","core-unmapped/dev/utils/cookie-util","core-unmapped/dev/utils/http-util","core-unmapped/dev/utils/css-util","core-unmapped/dev/utils/router-util","core-unmapped/dev/utils/num-util","core-unmapped/dev/utils/focus-util","core-unmapped/dev/utils/app-api-mgr","core-unmapped/dev/utils/string-util","core-unmapped/dev/utils/cache-network-call-util","core-unmapped/dev/utils/truncate","core-unmapped/dev/utils/crypto-util","core-unmapped/dev/utils/comment-util","core-unmapped/dev/utils/breadcrumbs","core-unmapped/dev/utils/shared-doc-framework-util","core-unmapped/dev/utils/thumbnail-util","core-unmapped/dev/utils/date-util","core-unmapped/dev/templates/search-field-template","core-unmapped/dev/templates/filter-description-template","core-unmapped/dev/templates/collection-item-template","core-unmapped/dev/templates/alert-dlg-template","core-unmapped/dev/templates/bar-graph-template","core-unmapped/dev/templates/selection-actions-template","core-unmapped/dev/templates/search-control-template","core-unmapped/dev/templates/collection-virgo-item-template","core-unmapped/dev/templates/selection-action-item-template","core-unmapped/dev/templates/rhp-preview-template","core-unmapped/dev/templates/rhp-actions-acrobat-template","core-unmapped/dev/templates/folder-tree-node-template","core-unmapped/dev/templates/rhp/shared-rhp-properties-template","core-unmapped/dev/templates/rhp/shared-rhp-deadline-template","core-unmapped/dev/templates/rhp/original-shared-primary-actions-template","core-unmapped/dev/templates/rhp/sentfiles/secondary-actions-template","core-unmapped/dev/templates/rhp/sentfiles/us-email-list-item-template","core-unmapped/dev/templates/rhp/sentfiles/us-chicklet-edit-template","core-unmapped/dev/templates/rhp/sentfiles/participants-accodian-template","core-unmapped/dev/templates/rhp/sentfiles/participant-status-template","core-unmapped/dev/templates/rhp/sentfiles/primary-actions-template","core-unmapped/dev/templates/rhp/sentfiles/activity-accodian-template","core-unmapped/dev/templates/rhp/signature/cancel-workflow-action-template","core-unmapped/dev/templates/rhp/signature/participants-accodian-template","core-unmapped/dev/templates/rhp/signature/participant-status-template","core-unmapped/dev/templates/rhp/signature/reminders-accodian-template","core-unmapped/dev/templates/rhp/signature/primary-actions-template","core-unmapped/dev/templates/rhp/signature/cancel-workflow-accodian-template","core-unmapped/dev/templates/rhp/signature/remind-participants-action-template","core-unmapped/dev/templates/rhp/signature/activity-accodian-template","core-unmapped/dev/templates/rhp/signature/es-signin-template","core-unmapped/dev/templates/rhp/shared-rhp-preview-template","core-unmapped/dev/templates/rhp/shared-rhp-intro-message-template","core-unmapped/dev/templates/rhp/review/us-email-list-item-template","core-unmapped/dev/templates/rhp/review/us-chicklet-edit-template","core-unmapped/dev/templates/rhp/review/participants-accodian-template","core-unmapped/dev/templates/rhp/review/participant-status-template","core-unmapped/dev/templates/rhp/review/add-participant-input-template","core-unmapped/dev/templates/rhp/review/primary-actions-template","core-unmapped/dev/templates/rhp/review/us-autocomplete-template","core-unmapped/dev/templates/rhp/review/us-autocomplete-item-template","core-unmapped/dev/templates/rhp/shared-rhp-error-template","core-unmapped/dev/templates/rhp/original-shared-rhp-intro-message-template","core-unmapped/dev/templates/rhp/shared-rhp-preview-hud-template","core-unmapped/dev/templates/sign-out-template","core-unmapped/dev/templates/rhp-properties-template","core-unmapped/dev/templates/rhp-action-item-template","core-unmapped/dev/templates/rhp-actions-toast-template","core-unmapped/dev/templates/collection-virgo-header-template","core-unmapped/dev/templates/custom-range-selector-template","core-unmapped/dev/templates/collection-virgo-header-thumbnail-template","core-unmapped/dev/templates/hover-preview-hud-template","core-unmapped/dev/templates/toolbar-item-template","core-unmapped/dev/templates/selection-action-send-menu-template","core-unmapped/dev/templates/collection-template","core-unmapped/dev/templates/query-box-template","core-unmapped/dev/templates/home-views-selector-template","core-unmapped/dev/templates/account-menu-item-template","core-unmapped/dev/templates/rename-dlg-template","core-unmapped/dev/templates/rhp-preview-hud-template","core-unmapped/dev/templates/collection-header-template","core-unmapped/dev/templates/move-dlg-template","core-unmapped/dev/templates/duplicate-name-dlg-template","core-unmapped/dev/templates/dialog-template","core-unmapped/dev/templates/hover-preview-template","core-unmapped/dev/templates/quota-warning-dlg-template","core-unmapped/dev/templates/rhp-actions-template","core-unmapped/dev/templates/skeleton-view-template","core-unmapped/dev/templates/sectioned-plugins-selector-template","core-unmapped/dev/constants/thumbnail-constants","core-unmapped/dev/constants/odm-constants","core-unmapped/dev/constants/cef-constants","core-unmapped/dev/apis/api"],function(){return undefined}),define("files/dev/models/model-factory",["core/ac-core","files/ac-files","core/models/model"],function(e,t){t.ModelFactory=e.Model.extend({create:function(e,n,r){var i=t[e];if(!!i)return new i(n,r);LOG(0,"AcFiles.ModelFactory.create: Unrecognized class: "+e)}})}),define("files/dev/models/ui/files-ui-model",["core/ac-core","files/ac-files","core/models/ui/ui-model"],function(e,t){t.FilesUiModel=e.UiModel.extend({recognized:{show_filter_menu:{type:"boolean",optional:!1},show_sort_menu:{type:"boolean",optional:!1},view:{type:"string",optional:!1,choices:["folder","search_results"]}},defaults:{show_filter_menu:!1,show_sort_menu:!1,view:"folder"},isFolderView:function(){return this.get("view")==="folder"},isSearchResultsView:function(){return this.get("view")==="search_results"}},{VIEW_FOLDER:"folder",VIEW_SEARCH_RESULTS:"search_results"})}),define("files/dev/models/ui/sharing-ui-model",["core/ac-core","files/ac-files","core/models/ui/dialog-ui-model"],function(e,t){t.SharingUiModel=e.DialogUiModel.extend({recognized:{status:{type:"string",optional:!0,choices:["pending","succeeded","failed","closed"]},file_name:{type:"string",optional:!0},show_spinner_delay:{type:"number",optional:!1},http_status:{type:"string",optional:!0},error_code:{type:"string",optional:!0}},defaults:{status:"closed",show_spinner_delay:2e3},enqueueAjaxError:function(e,n){var r={status:t.SharingUiModel.STATUS_FAILED,file_name:e.get("name"),http_status:n.status},i=n.responseText;if(i)try{r.error_code=JSON.parse(i).error.code}catch(s){}this.set(r)}},{STATUS_PENDING:"pending",STATUS_SUCCEEDED:"succeeded",STATUS_FAILED:"failed",STATUS_CLOSED:"closed"})}),define("files/dev/models/ui/ui-model-factory",["core/ac-core","files/ac-files","core/models/model","files/models/ui/files-ui-model","files/models/ui/sharing-ui-model"],function(e,t){t.UiModelFactory=e.Model.extend({create:function(e,n,r){var i=t[e];if(!!i)return new i(n,r);LOG(0,"AcFiles.UiModelFactory.create: Unrecognized class: "+e)}})}),define("files/dev/ops/acrobat/initializing-acrobat-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){t.InitializingAcrobatOp=e.Op.extend({run:function(){var e=this.options,n=e.appApi.acrobatApi,r=e.collectionsUiModel;return n.isInAcrobat()?(r.set({checkbox:!1,folders_only:n.isFolderSelectionMode()}),e.selectionUiModel.set("multiple_selection",n.allowMultipleSelection()),t.opFactory.create("SelectingAcrobatFilterOp",e).run()):this._getResolvedPromise()}})}),define("files/dev/ops/acrobat/selecting-acrobat-filter-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){t.SelectingAcrobatFilterOp=e.Op.extend({run:function(){var e=this.options,t=e.appApi.acrobatApi,n;return n=e.filterIndex,n===undefined?n=t.getSelectedFilterIndex():t.setSelectedFilterIndex(n),e.collectionsUiModel.set("filter_by_extension",t.getFilterFileExtensions(n)),this._getResolvedPromise()}})}),define("files/dev/ops/creating/creating-folder-from-dlg-op",["core/ac-core","files/ac-files","core/utils/sc-analytics","core/utils/uri-template-util","core/ops/op"],function(e,t,n,r){t.CreatingFolderFromDlgOp=e.Op.extend({run:function(){var t,i=this.options,s,o,u=$.Deferred();return o=i.dialogUiModel,i.appApi.discoveryUrisApi.useDCApi()?(t=e.opFactory.create("CreatingFolderOp",_.extend({},i,{id:i.parentFolderId,name:i.name})),t.run().then(_.bind(function(e){if(e&&e.rename_info){var t,s,a,f,l;if(e.rename_info.duplicate_of){t=e.rename_info.duplicate_of.folder_uri;var c=Ac.discoveryUrisModel.getFolderUriTemplate(),h=r.getVarDictFromSubtitutedUriTemplate(c,t);s=h.folder_id,a=e.uri;var p=r.getVarDictFromSubtitutedUriTemplate(c,a);f=p.folder_id,l={id:f,renamed_details:{duplicate_of:{id:s,object_type:"folder"},original_name:e.rename_info.original_name},renamed_to:e.rename_info.name},u.resolve()}else{var c=Ac.discoveryUrisModel.getFolderUriTemplate();a=e.uri;var p=r.getVarDictFromSubtitutedUriTemplate(c,a);f=p.folder_id,l={id:f,renamed_details:{original_name:e.rename_info.original_name},renamed_to:e.rename_info.name},u.reject()}o.set("error",l)}else o.set("close",!0),e&&i.collectionsUiModel.set("scroll_id_into_view",e.id),this._logSiteCatalystEvent(n.SUCCESS),u.resolve();i.appApi.folderApi.refreshCurrentFolder(i),i.searchUiModel.invalidate(),i.searchUiModel.isSearching()&&_.delay(function(){i.selectionUiModel.clearSelection(),i.searchUiModel.triggerFieldQueriesChange(!0)},1e3)},this),function(e){o.set("close",!1),e&&e.status==423&&i.appApi.rnaApi.done(_.bind(function(e){e.invokeMethod({methodName:"triggerMigrationInProgressError",methodArgs:{}})},this)),u.reject()})):(s=e.opFactory.create("ValidatingNameOp",i),t=e.opFactory.create("CreatingFolderOp",_.extend({},i,{id:i.parentFolderId,name:i.name})),s.run().then(_.bind(function(){t.run().then(_.bind(function(e){e&&e.renamed_to?o.set("error",e):(o.set("close",!0),e&&i.collectionsUiModel.set("scroll_id_into_view",e.id),this._logSiteCatalystEvent(n.SUCCESS)),i.appApi.folderApi.refreshCurrentFolder(i),i.searchUiModel.invalidate(),i.searchUiModel.isSearching()&&_.delay(function(){i.selectionUiModel.clearSelection(),i.searchUiModel.triggerFieldQueriesChange(!0)},1e3),u.resolve()},this),function(){o.set("close",!1),u.reject()})},this),function(e){o.set("error",e),u.reject()})),u.promise()}})}),define("files/dev/templates/new-folder-dlg-template",[],function(){return'<div role="alert" class="files-new-folder-dlg-error theme-text"></div> <div class="files-new-folder-dlg-name-container">    <input class="files-new-folder-dlg-name ui-theme theme-container theme-text" type="text"           id="files-new-folder-dlg-name"           placeholder="<%= newFolderNamePlaceholder %>"           title="<%- title %>" /></div> <div class="dialog-buttons">    <input class="files-new-folder-dlg-cancel-btn                  dialog-control-button           control-button button-grey ui-theme theme-text" type="button"           id="files-new-folder-dlg-cancel-btn"           aria-label="<%= cancel %>"           value="<%= cancel %>" />    <input class="files-new-folder-dlg-create-btn                  dialog-control-button           control-button disabled theme-button theme-button-label" type="button"           id="files-new-folder-dlg-create-btn"           aria-label="<%= createFolder %>"           value="<%= createFolder %>"           disabled="disabled" /></div>'}),define("files/dev/views/new-folder-dlg-view",["core/ac-core","files/ac-files","files/templates/new-folder-dlg-template","i18n!core/nls/ui-strings","i18n!files/nls/ui-strings","core/utils/truncate","core/utils/util","core/utils/view-util","core/utils/sc-analytics","core/views/dialog-view","core/views/input-placeholder-view"],function(e,t,n,r,i,s,o,u,a){return t.NewFolderDlgView=e.DialogView.extend({events:function(){return _.extend({},e.DialogView.prototype.events,{"keydown .files-new-folder-dlg-name":"_onNameKeyDown","keyup   .files-new-folder-dlg-name":"_onNameKeyUp","paste   .files-new-folder-dlg-name":"_onNamePaste","click   .files-new-folder-dlg-create-btn":"_onCreateClick","click   .files-new-folder-dlg-cancel-btn":"_onCancelClick"})},initialize:function(){e.DialogView.prototype.initialize.call(this),o.isCEF()&&this.options.appApi.selectionApi.isRunningInFileSelection()&&this.setElement($(".alert-dialog-container")),this._template=_.template(n),this._addUiModelEventListeners()},render:function(){return e.DialogView.prototype.render.call(this),this._appendToDialog(this._template({newFolderNamePlaceholder:i.NEW_FOLDER_NAME_PLACEHOLDER,createFolder:i.CREATE_FOLDER,cancel:r.CANCEL,title:this.options.title})),this._initWrappers(),u.setElementFontByLocale(this.$el,"input"),this._center(),o.isWindows()&&u.swapChildElements(this.$dlgControlBtns),this._truncateText(),this._initTabLimits(),this._renderChildViews(),this._logSiteCatalystEvent(a.SHOWN),this},open:function(){return o.isCEF()&&this.options.appApi.selectionApi.isRunningInFileSelection()&&$("#modal-mask").addClass("alert"),e.DialogView.prototype.open.call(this)},close:function(t,n){var r=this.options,i=r.appApi,s=this._getError(),u;u=_.bind(function(){o.isCEF()&&i.selectionApi.isRunningInFileSelection()&&$("#modal-mask").removeClass("alert"),e.DialogView.prototype.close.call(this,t,n)},this),t?u():s&&s.renamed_details?e.opFactory.create("DeletingItemOp",_.extend({},r,{id:s.id,object_type:"folder",noScEvent:!0})).run().then(function(){i.folderApi.refreshCurrentFolder(r)}).always(u):u()},_initWrappers:function(){e.DialogView.prototype._initWrappers.call(this),this.$error=this.$(".files-new-folder-dlg-error"),this.$name=this.$(".files-new-folder-dlg-name"),this.$dlgControlBtns=this.$(".dialog-buttons"),this.$createBtn=this.$(".files-new-folder-dlg-create-btn"),this.$cancelBtn=this.$(".files-new-folder-dlg-cancel-btn")},_renderChildViews:function(){this._renderFolderNameView()},_renderFolderNameView:function(){this._renderChildView("_newFolderNameView",e.InputPlaceholderView,this.$name)},_onNameKeyDown:function(e){this._showDuplicateNameError(!1),this._showIllegalNameError(!1),e.which===13&&u.isInputEnabled(this.$createBtn)&&(this._maybeCreateFolder(),this._consumeEvent(e))},_onNameKeyUp:function(){this._updateNewFolderNameControls()},_onNamePaste:function(){_.defer(this._updateNewFolderNameControls)},_onCreateClick:function(e){var t=$(e.currentTarget);if(!u.isInputEnabled(t))return;u.enableInput(t,!1),this._maybeCreateFolder()},_onCancelClick:function(){this.close(!1)},_truncateText:function(){s.truncateInputPlaceholder(this.$name),s.truncateButtonLabel(this.$createBtn),s.truncateButtonLabel(this.$cancelBtn)},_getNewFolderName:function(){return $.trim(this.$name.val())},_updateNewFolderNameControls:function(){var e=this._getNewFolderName();u.enableInput(this.$createBtn,e.length>0&&e!==this._originalName&&!this.isCreatingFolder),this._initTabLimits()},_show50XError:function(e,t){if(e){var n=r.HTTP_STATUS_DEFAULT_MSG_CEF;t==500?n=r.HTTP_STATUS_500_MSG:t===501?n=r.HTTP_STATUS_501_MSG:t===503&&(n=r.HTTP_STATUS_503_MSG),this.$error.text(_.template(n,{renamedType:r.FOLDER})),this.$error.slideDown("fast")}else this.$error.slideUp("fast",_.bind(function(){this.$error.hide()},this))},_showDuplicateNameError:function(e,t,n){e?(this.$error.text(_.template(r.RENAME_NAME_IN_USE,{existingType:n?r.FILE:r.FOLDER,name:t,renamedType:r.FOLDER})),this.$error.slideDown("fast")):this.$error.slideUp("fast",_.bind(function(){this.$error.hide()},this))},_showIllegalNameError:function(e){var t=this.$error;e?(t.text(_.template(r.RENAME_ILLEGAL_NAME,{renamedType:r.FOLDER})),t.slideDown("fast")):(t.slideUp("fast",function(){t.hide()}),this._dialogUiModel.set("error",undefined,{silent:!0}))},_maybeCreateFolder:function(){var n,r,i;n=this._getNewFolderName();if(n.length===0)return;r=this._dialogUiModel,i=this._getError(),i?i.renamed_to==n?this.close(!0):this._triggerViewEvent(e.ViewEvents.RENAME_ITEM_FROM_DLG,{id:this._newFolderId,object_type:"folder",name:i.renamed_to,newName:n,dialogUiModel:r,scContext:this._getFullScContext()}):(this.isCreatingFolder=!0,this._triggerViewEvent(t.ViewEvents.NEW_FOLDER_DLG_CREATE,{parentFolderId:this.options.parentFolderId,name:n,dialogUiModel:r,scContext:this._getFullScContext()}))},_getSiteCatalystContext:function(){return a.NEW_FOLDER_DLG},_addUiModelEventListeners:function(){var t=e.uiModelFactory.create("DialogUiModel");this._dialogUiModel=t,this.listenTo(t,"change:close",this._onCloseChange).listenTo(t,"change:error",this._onErrorChange)},_onCloseChange:function(e,t){this.isCreatingFolder=!1,this.close(t)},_getError:function(){return this._dialogUiModel.get("error")||this._error},_onErrorChange:function(t,n){var r=n.renamed_details,i,s=n.id,o;this.isCreatingFolder=!1;if(n.error&&n.error.code&&n.error.code>=500&&n.error.code<=503){this._show50XError(!0,n.error.code);return}if(r)i=r.duplicate_of;else if(n.error&&(n.error.code===e.ErrorUiModel.CODE_ILLEGAL_NAME||n.error.code===e.ErrorUiModel.CODE_INVALID_PARAMETER)){this._showIllegalNameError(!0),this._updateNewFolderNameControls(),this.$name.focus().select();return}if(r&&!i){s&&(this._newFolderId=s),this._showIllegalNameError(!0),this._originalName=o=r.original_name,this.$name.val(n.renamed_to),this._error=n,this.$name.focus().select();return}if(!r||!i){this.close();return}this._logSiteCatalystEvent([a.ERROR,a.FOLDER_EXISTS]),s&&(this._newFolderId=s),this._originalName=o=r.original_name,this._showDuplicateNameError(!0,o,i.object_type==="file"),this.$name.val(n.renamed_to),this._error=n,this._updateNewFolderNameControls(),this.$name.focus().select()}}),t.NewFolderDlgView}),define("files/dev/ops/dialogs/showing-new-folder-dlg-op",["core/ac-core","files/ac-files","i18n!files/nls/ui-strings","core/ops/op","files/views/new-folder-dlg-view"],function(e,t,n){t.ShowingNewFolderDlgOp=e.Op.extend({run:function(){var e,r=this.options;return e=new t.NewFolderDlgView(_.extend({},r,{title:n.NEW_FOLDER_TITLE})),e.open()}})}),define("files/dev/ops/listening/listening-for-current-folder-notifications-op",["core/ac-core","files/ac-files","core/utils/util","core/ops/while-signed-in-op"],function(e,t,n){t.ListeningForCurrentFolderNotificationsOp=e.WhileSignedInOp.extend({initialize:function(){e.WhileSignedInOp.prototype.initialize.call(this),this._addAppApiCallbacks(),this._addModelEventListeners()},run:function(){return this._monitorCurrentFolder(),$.Deferred().promise()},_disableOperation:function(){e.WhileSignedInOp.prototype._disableOperation.call(this),this._removeAppApiCallbacks()},_monitorCurrentFolder:function(){var e=this.options,t=e.folderModel.id;if(!t)return;e.appApi.notificationApi.addFolderNotificationCallback(t,this._mergeUpdates)},_mergeUpdates:function(e){var t=this.options,n,r,i,s=t.folderModel,o;n=s.get("items"),o=this._isNavigateToParentRequired(e);if(o){this._navigateToFolder(o);return}if(this._isRefreshRequired(e)){this._enqueueFolderFetch();return}_.each(e,function(e){i=e.operation;if(i!=="deleted"&&i!=="move-removed")return LOG("AcCore.ListeningForCurrentFolderNotificationsOp._mergeUpdates: "+i+"' update not expected"),!0;r=n.get(e.object_id),r&&n.remove(r)})},_isNavigateToParentRequired:function(e){var t=this.options.folderModel.get("id"),n;return _.each(e,function(e){e.object_id===t&&e.operation==="deleted"&&(n=e.parent_id)}),n},_isRefreshRequired:function(e){var t,n;return _.each(e,function(e){n=e.operation;if(n!=="deleted"&&n!=="move-removed")return t=!0,!1}),t},_navigateToFolder:function(e){t.opFactory.create("NavigatingToFolderOp",this.options).run(e)},_enqueueFolderFetch:function(){var e=this.options.folderModel.get("id");this._fetchingFolderId?this._nextFolderId=e:e&&this._fetchFolder()},_fetchFolder:function(){var e=this.options;this._fetchingFolderId=e.folderModel.id,e.appApi.folderApi.enqueueRefreshCurrentFolder(e).then(_.bind(function(){var e=this._nextFolderId;e?(this._fetchFolder(e),this._nextFolderId=undefined):this._fetchingFolderId=undefined},this),_.bind(function(){LOG("AcCore.ListeningForCurrentFolderNotificationsOp._fetchFolder fail"),this._fetchingFolderId=undefined,this._nextFolderId=undefined},this))},_addAppApiCallbacks:function(){var e=this.options.appApi;e.inactivityApi.addIdleChangeCallback(this._onIsIdleChange),n.isCEF()&&e.networkConnectivityApi.addNetworkConnectivtyChangeCallback(this._onIsConnectivityChange)},_removeAppApiCallbacks:function(){var e=this.options.appApi;e.inactivityApi.removeIdleChangeCallback(this._onIsIdleChange),n.isCEF()&&e.networkConnectivityApi.removeNetworkConnectivtyChangeCallback(this._onIsConnectivityChange)},_onIsIdleChange:function(e,t){!t&&!_.isUndefined(e.previous("is_idle"))&&this._enqueueFolderFetch()},_onIsConnectivityChange:function(e,t){t&&this._enqueueFolderFetch()},_addModelEventListeners:function(){this.listenTo(this.options.folderModel,"change:id",this._onFolderIdChange)},_onFolderIdChange:function(e){var t=this.options,n;n=e.previous("id"),n&&t.appApi.notificationApi.removeFolderNotificationCallback(n,this._mergeUpdates),this._monitorCurrentFolder()}})}),define("files/dev/ops/listening/listening-for-dup-errors-op",["core/ac-core","files/ac-files","core/ops/while-signed-in-op","core/views/duplicate-name-dlg-view"],function(e,t){t.ListeningForDupErrorsOp=e.WhileSignedInOp.extend({run:function(){return this.options.errorUiModel.on("change:error",this._onErrorChange),$.Deferred().promise()},_onErrorChange:function(t,n){var r=this.options,i;if(!n)return;if(n.type!==e.ErrorUiModel.ERROR_TYPE_DUP)return;i=new e.DuplicateNameDlgView(_.extend(_.omit(r,"el"),{duplicate:n.data,parentView:r.rootView})),_.defer(function(){i.open().always(function(){r.errorUiModel.dequeueError()})})}})}),function(e){typeof define=="function"&&define.amd?define("jquery.ui.widget",["jquery"],e):e(jQuery)}(function(e){var t=0,n=Array.prototype.slice;e.cleanData=function(t){return function(n){var r,i,s;for(s=0;(i=n[s])!=null;s++)try{r=e._data(i,"events"),r&&r.remove&&e(i).triggerHandler("remove")}catch(o){}t(n)}}(e.cleanData),e.widget=function(t,n,r){var i,s,o,u,a={},f=t.split(".")[0];return t=t.split(".")[1],i=f+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[f]=e[f]||{},s=e[f][t],o=e[f][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,r){if(!e.isFunction(r)){a[t]=r;return}a[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=i,s=r.apply(this,arguments),this._super=t,this._superApply=n,s}}()}),o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix||t:t},a,{constructor:o,namespace:f,widgetName:t,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){var r=n.call(arguments,1),i=0,s=r.length,o,u;for(;i<s;i++)for(o in r[i])u=r[i][o],r[i].hasOwnProperty(o)&&u!==undefined&&(e.isPlainObject(u)?t[o]=e.isPlainObject(t[o])?e.widget.extend({},t[o],u):e.widget.extend({},u):t[o]=u);return t},e.widget.bridge=function(t,r){var i=r.prototype.widgetFullName||t;e.fn[t]=function(s){var o=typeof s=="string",u=n.call(arguments,1),a=this;return s=!o&&u.length?e.widget.extend.apply(null,[s].concat(u)):s,o?this.each(function(){var n,r=e.data(this,i);if(s==="instance")return a=r,!1;if(!r)return e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+s+"'");if(!e.isFunction(r[s])||s.charAt(0)==="_")return e.error("no such method '"+s+"' for "+t+" widget instance");n=r[s].apply(r,u);if(n!==r&&n!==undefined)return a=n&&n.jquery?a.pushStack(n.get()):n,!1}):this.each(function(){var t=e.data(this,i);t?(t.option(s||{}),t._init&&t._init()):e.data(this,i,new r(s,this))}),a}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var r=t,i,s,o;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof t=="string"){r={},i=t.split("."),t=i.shift();if(i.length){s=r[t]=e.widget.extend({},this.options[t]);for(o=0;o<i.length-1;o++)s[i[o]]=s[i[o]]||{},s=s[i[o]];t=i.pop();if(arguments.length===1)return s[t]===undefined?null:s[t];s[t]=n}else{if(arguments.length===1)return this.options[t]===undefined?null:this.options[t];r[t]=n}}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,r){var i,s=this;typeof t!="boolean"&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){if(!t&&(s.options.disabled===!0||e(this).hasClass("ui-state-disabled")))return;return(typeof o=="string"?s[o]:o).apply(s,arguments)}typeof o!="string"&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^([\w:-]*)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];l?i.delegate(l,f,u):n.bind(f,u)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}});var r=e.widget}),function(e){typeof define=="function"&&define.amd?define("jquery.fileupload",["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(e){function t(t){var n=t==="dragover";return function(r){r.dataTransfer=r.originalEvent&&r.originalEvent.dataTransfer;var i=r.dataTransfer;i&&e.inArray("Files",i.types)!==-1&&this._trigger(t,e.Event(t,{delegatedEvent:r}))!==!1&&(r.preventDefault(),n&&(i.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))")).test(window.navigator.userAgent)&&!e('<input type="file">').prop("disabled"),e.support.xhrFileUpload=!!window.ProgressEvent&&!!window.FileReader,e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:undefined,fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,function(e,n){t=t.replace("{"+e+"}",n)}),t},formData:function(e){return e.serializeArray()},add:function(t,n){if(t.isDefaultPrevented())return!1;(n.autoUpload||n.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var r=e-this.timestamp;if(!this.bitrate||!n||r>n)this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=e;return this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return e.type(t.formData)==="function"?t.formData(t.form):e.isArray(t.formData)?t.formData:e.type(t.formData)==="object"?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,n){if(t.lengthComputable){var r=Date.now?Date.now():(new Date).getTime(),i;if(n._time&&n.progressInterval&&r-n._time<n.progressInterval&&t.loaded!==t.total)return;n._time=r,i=Math.floor(t.loaded/t.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(r,i,n.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),n),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var n=this,r=t.xhr?t.xhr():e.ajaxSettings.xhr();r.upload&&(e(r.upload).bind("progress",function(e){var r=e.originalEvent;e.lengthComputable=r.lengthComputable,e.loaded=r.loaded,e.total=r.total,n._onProgress(e,t)}),t.xhr=function(){return r})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n=this,r,i=t.files[0],s=t.multipart||!e.support.xhrFileUpload,o=e.type(t.paramName)==="array"?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange);if(!s||t.blob||!this._isInstanceOf("File",i))t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"';s?e.support.xhrFormDataFileUpload&&(t.postMessage?(r=this._getFormData(t),t.blob?r.push({name:o,value:t.blob}):e.each(t.files,function(n,i){r.push({name:e.type(t.paramName)==="array"&&t.paramName[n]||o,value:i})})):(n._isInstanceOf("FormData",t.formData)?r=t.formData:(r=new FormData,e.each(this._getFormData(t),function(e,t){r.append(t.name,t.value)})),t.blob?r.append(o,t.blob,i.name):e.each(t.files,function(i,s){(n._isInstanceOf("File",s)||n._isInstanceOf("Blob",s))&&r.append(e.type(t.paramName)==="array"&&t.paramName[i]||o,s,s.uploadName||s.name)})),t.data=r):(t.contentType=i.type||"application/octet-stream",t.data=t.blob||i),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),r=t.paramName;return r?e.isArray(r)||(r=[r]):(r=[],n.each(function(){var t=e(this),n=t.prop("name")||"files[]",i=(t.prop("files")||[1]).length;while(i)r.push(n),i-=1}),r.length||(r=[n.prop("name")||"files[]"])),r},_initFormSettings:function(t){if(!t.form||!t.form.length)t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")));t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||e.type(t.form.prop("method"))==="string"&&t.form.prop("method")||"").toUpperCase(),t.type!=="POST"&&t.type!=="PUT"&&t.type!=="PATCH"&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,r){var i=e.Deferred(),s=i.promise();return n=n||this.options.context||s,t===!0?i.resolveWith(n,r):t===!1&&i.rejectWith(n,r),s.abort=i.promise,this._enhancePromise(s)},_addConvenienceMethods:function(t,n){var r=this,i=function(t){return e.Deferred().resolveWith(r,t).promise()};n.process=function(t,s){if(t||s)n._processQueue=this._processQueue=(this._processQueue||i([this])).pipe(function(){return n.errorThrown?e.Deferred().rejectWith(r,[n]).promise():i(arguments)}).pipe(t,s);return this._processQueue||i([this])},n.submit=function(){return this.state()!=="pending"&&(n.jqXHR=this.jqXHR=r._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)!==!1&&r._onSend(t,this)),this.jqXHR||r._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._trigger("fail",null,this),r._getXHRPromise(!1))},n.state=function(){if(this.jqXHR)return r._getDeferredState(this.jqXHR);if(this._processQueue)return r._getDeferredState(this._processQueue)},n.processing=function(){return!this.jqXHR&&this._processQueue&&r._getDeferredState(this._processQueue)==="pending"},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),r=n&&n.length>1&&parseInt(n[1],10);return r&&r+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var r=this,i=t.files[0],s=i.size,o=t.uploadedBytes,u=t.maxChunkSize||s,a=this._blobSlice,f=e.Deferred(),l=f.promise(),c,h;return!(this._isXHRUpload(t)&&a&&(o||u<s))||t.data?!1:n?!0:o>=s?(i.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",i.error])):(h=function(){var n=e.extend({},t),l=n._progress.loaded;n.blob=a.call(i,o,o+u,i.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+o+"-"+(o+n.chunkSize-1)+"/"+s,r._initXHRData(n),r._initProgressListener(n),c=(r._trigger("chunksend",null,n)!==!1&&e.ajax(n)||r._getXHRPromise(!1,n.context)).done(function(i,u,a){o=r._getUploadedBytes(a)||o+n.chunkSize,l+n.chunkSize-n._progress.loaded&&r._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o-n.uploadedBytes,total:o-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=o,n.result=i,n.textStatus=u,n.jqXHR=a,r._trigger("chunkdone",null,n),r._trigger("chunkalways",null,n),o<s?h():f.resolveWith(n.context,[i,u,a])}).fail(function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,r._trigger("chunkfail",null,n),r._trigger("chunkalways",null,n),f.rejectWith(n.context,[e,t,i])})},this._enhancePromise(l),l.abort=function(){return c.abort()},h(),l)},_beforeSend:function(e,t){this._active===0&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,r,i){var s=i._progress.total,o=i._response;i._progress.loaded<s&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:s,total:s}),i),o.result=i.result=t,o.textStatus=i.textStatus=n,o.jqXHR=i.jqXHR=r,this._trigger("done",null,i)},_onFail:function(e,t,n,r){var i=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total),i.jqXHR=r.jqXHR=e,i.textStatus=r.textStatus=t,i.errorThrown=r.errorThrown=n,this._trigger("fail",null,r)},_onAlways:function(e,t,n,r){this._trigger("always",null,r)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var r=this,i,s,o,u,a=r._getAJAXSettings(n),f=function(){return r._sending+=1,a._bitrateTimer=new r._BitrateTimer,i=i||((s||r._trigger("send",e.Event("send",{delegatedEvent:t}),a)===!1)&&r._getXHRPromise(!1,a.context,s)||r._chunkedUpload(a)||e.ajax(a)).done(function(e,t,n){r._onDone(e,t,n,a)}).fail(function(e,t,n){r._onFail(e,t,n,a)}).always(function(e,t,n){r._onAlways(e,t,n,a),r._sending-=1,r._active-=1;if(a.limitConcurrentUploads&&a.limitConcurrentUploads>r._sending){var i=r._slots.shift();while(i){if(r._getDeferredState(i)==="pending"){i.resolve();break}i=r._slots.shift()}}r._active===0&&r._trigger("stop")}),i};return this._beforeSend(t,a),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),u=o.pipe(f)):(this._sequence=this._sequence.pipe(f,f),u=this._sequence),u.abort=function(){return s=[undefined,"abort","abort"],i?i.abort():(o&&o.rejectWith(a.context,s),f())},this._enhancePromise(u)):f()},_onAdd:function(t,n){var r=this,i=!0,s=e.extend({},this.options,n),o=n.files,u=o.length,a=s.limitMultiFileUploads,f=s.limitMultiFileUploadSize,l=s.limitMultiFileUploadSizeOverhead,c=0,h=this._getParamName(s),p,d,v,m,g=0;f&&(!u||o[0].size===undefined)&&(f=undefined);if(!(s.singleFileUploads||a||f)||!this._isXHRUpload(s))v=[o],p=[h];else if(!s.singleFileUploads&&!f&&a){v=[],p=[];for(m=0;m<u;m+=a)v.push(o.slice(m,m+a)),d=h.slice(m,m+a),d.length||(d=h),p.push(d)}else if(!s.singleFileUploads&&f){v=[],p=[];for(m=0;m<u;m+=1){c+=o[m].size+l;if(m+1===u||c+o[m+1].size+l>f||a&&m+1-g>=a)v.push(o.slice(g,m+1)),d=h.slice(g,m+1),d.length||(d=h),p.push(d),g=m+1,c=0}}else p=h;return n.originalFiles=o,e.each(v||o,function(s,o){var u=e.extend({},n);return u.files=v?o:[o],u.paramName=p[s],r._initResponseObject(u),r._initProgressObject(u),r._addConvenienceMethods(t,u),i=r._trigger("add",e.Event("add",{delegatedEvent:t}),u),i}),i},_replaceFileInput:function(t){var n=t.fileInput,r=n.clone(!0);t.fileInputClone=r,e("<form></form>").append(r)[0].reset(),n.after(r).detach(),e.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===n[0]?r[0]:t}),n[0]===this.element[0]&&(this.element=r)},_handleFileTreeEntry:function(t,n){var r=this,i=e.Deferred(),s=function(e){e&&!e.entry&&(e.entry=t),i.resolve([e])},o=function(e){r._handleFileTreeEntries(e,n+t.name+"/").done(function(e){i.resolve(e)}).fail(s)},u=function(){a.readEntries(function(e){e.length?(f=f.concat(e),u()):o(f)},s)},a,f=[];return n=n||"",t.isFile?t._file?(t._file.relativePath=n,i.resolve(t._file)):t.file(function(e){e.relativePath=n,i.resolve(e)},s):t.isDirectory?(a=t.createReader(),u()):i.resolve([]),i.promise()},_handleFileTreeEntries:function(t,n){var r=this;return e.when.apply(e,e.map(t,function(e){return r._handleFileTreeEntry(e,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n=t.prop("webkitEntries")||t.prop("entries"),r,i;if(n&&n.length)return this._handleFileTreeEntries(n);r=e.makeArray(t.prop("files"));if(!r.length){i=t.prop("value");if(!i)return e.Deferred().resolve([]).promise();r=[{name:i.replace(/^.*\\/,"")}]}else r[0].name===undefined&&r[0].fileName&&e.each(r,function(e,t){t.name=t.fileName,t.size=t.fileSize});return e.Deferred().resolve(r).promise()},_getFileInputFiles:function(t){return t instanceof e&&t.length!==1?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,r={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(r.fileInput).always(function(i){r.files=i,n.options.replaceFileInput&&n._replaceFileInput(r),n._trigger("change",e.Event("change",{delegatedEvent:t}),r)!==!1&&n._onAdd(t,r)})},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,r={files:[]};n&&n.length&&(e.each(n,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&r.files.push(n)}),this._trigger("paste",e.Event("paste",{delegatedEvent:t}),r)!==!1&&this._onAdd(t,r))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,r=t.dataTransfer,i={};r&&r.files&&r.files.length&&(t.preventDefault(),this._getDroppedFiles(r).always(function(r){i.files=r,n._trigger("drop",e.Event("drop",{delegatedEvent:t}),i)!==!1&&n._onAdd(t,i)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var r=e.inArray(t,this._specialOptions)!==-1;r&&this._destroyEventHandlers(),this._super(t,n),r&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;t.fileInput===undefined?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return t!=="url"&&e.type(n)==="string"&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options,r=e(this.element[0].cloneNode(!1));e.each(r.data(),function(e,i){var s="data-"+e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();r.attr(s)&&(t._isRegExpOption(e,i)&&(i=t._getRegExp(i)),n[e]=i)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;if(!t||this.options.disabled)return;t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n=this,r=e.Deferred(),i=r.promise(),s,o;return i.abort=function(){return o=!0,s?s.abort():(r.reject(null,"abort","abort"),i)},this._getFileInputFiles(t.fileInput).always(function(e){if(o)return;if(!e.length){r.reject();return}t.files=e,s=n._onSend(null,t),s.then(function(e,t,n){r.resolve(e,t,n)},function(e,t,n){r.reject(e,t,n)})}),this._enhancePromise(i)}t.files=e.makeArray(t.files);if(t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(e){typeof define=="function"&&define.amd?define("jquery.iframe-transport",["jquery"],e):e(window.jQuery)}(function(e){var t=0;e.ajaxTransport("iframe",function(n){if(n.async){var r=n.initialIframeSrc||"javascript:false;",i,s,o;return{send:function(u,a){i=e('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),o=/\?/.test(n.url)?"&":"?",n.type==="DELETE"?(n.url=n.url+o+"_method=DELETE",n.type="POST"):n.type==="PUT"?(n.url=n.url+o+"_method=PUT",n.type="POST"):n.type==="PATCH"&&(n.url=n.url+o+"_method=PATCH",n.type="POST"),t+=1,s=e('<iframe src="'+r+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,o=e.isArray(n.paramName)?n.paramName:[n.paramName];s.unbind("load").bind("load",function(){var t;try{t=s.contents();if(!t.length||!t[0].firstChild)throw new Error}catch(n){t=undefined}a(200,"success",{iframe:t}),e('<iframe src="'+r+'"></iframe>').appendTo(i),window.setTimeout(function(){i.remove()},0)}),i.prop("target",s.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&n.type==="POST"&&(t=n.fileInput.clone(),n.fileInput.after(function(e){return t[e]}),n.paramName&&n.fileInput.each(function(t){e(this).prop("name",o[t]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),i.submit(),t&&t.length&&n.fileInput.each(function(n,r){var i=e(t[n]);e(r).prop("name",i.prop("name")).attr("form",i.attr("form")),i.replaceWith(r)})}),i.append(s).appendTo(document.body)},abort:function(){s&&s.unbind("load").prop("src",r),i&&i.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var n=t&&t[0];return n&&e.isXMLDoc(n)?n:e.parseXML(n.XMLDocument&&n.XMLDocument.xml||e(n.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),define("files/dev/templates/file-upload-progress-template",[],function(){return'<div class="file-upload">   <div class="file-upload-progress-header"        id="file-upload-progress-header-<%= viewId %>">       <%= uploadHeading %></div>   <div class="file-upload-progress-bar" role="progressbar"        aria-labelledby="file-upload-progress-header-<%= viewId %>                         file-upload-progress-text-<%= viewId %>"        tabindex="-1">       <div class="file-upload-progress-bar-loaded"></div>   </div>   <div class="file-upload-progress-file-name               file-upload-progress-text"        id="file-upload-progress-text-<%= viewId %>">       <%- fileName %></div>   <button class="file-upload-cancel"></button></div>'}),define("files/dev/views/file-upload-progress-view",["core/ac-core","files/ac-files","files/templates/file-upload-progress-template","i18n!files/nls/ui-strings","core/utils/truncate","core/utils/view-util","core/views/view"],function(e,t,n,r,i,s){return t.FileUploadProgressView=e.View.extend({events:{"click .file-upload-cancel":"_onFileUploadCancel"},initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(n),this._numFailures=0},render:function(){e.View.prototype.render.call(this);if(s.isElementHidden(this.$el))return;return this.$progressBar||(this.$el.empty().html(this._template({fileName:this._getFileName(),uploadHeading:this._getStatus(),viewId:this.options.viewId})),this._initWrappers()),Ac.Locale.getLocale()==="ja-jp"&&this.$fileName.addClass("jp"),this._updateProgressAll(),this._updateHeader(),this._updateFileName(),this._isUploading=!0,this._updateCancelBtn(),this},setFiles:function(e){this._resetState(),this._files=e,this._numFiles=e.length,_.defer(this.render)},setNumFiles:function(e){this._numFiles=e,this.render()},getNumFiles:function(){return this._numFiles||0},setProgressAll:function(e,t){this._loaded=e,this._total=t,this._loaded===this._total&&(this._isUploadComplete=!0),this.render()},close:function(){this._resetState()},_onFileUploadCancel:function(){var e=this.options.fileUploadUiModel,t;e&&(t=this.options.fileUploadUiModel.get("jq_xhr"),t&&t.abort()),this.close()},_initWrappers:function(){this.$toolsContent=$(".tools-content"),this.$progressBar=this.$(".file-upload-progress-bar"),this.$progressLoaded=this.$(".file-upload-progress-bar-loaded"),this.$fileName=this.$(".file-upload-progress-file-name"),this.$header=this.$(".file-upload-progress-header"),this.$cancel=this.$(".file-upload-cancel")},_getStatus:function(){return this._isUploadComplete?r.PROCESSING:r.UPLOADING},_getFileName:function(){var e="",t=this._files,n=this._numFiles;return n===1?t&&t.length>0&&(e=t[0].name):e=_.template(r.N_FILES,{numFiles:n}),e},_resetState:function(){this._isUploading=undefined,this._isUploadComplete=undefined,this._files=undefined,this._numFiles=0,this._numFailures=0,this._loaded=undefined,this._total=undefined},_updateProgressAll:function(){var e,t=this._loaded,n=this._total,r;if(this.options.fileUploadModel.hasAjaxFileUpload()&&!t)return;t<n?(e=parseInt((n-t)/n*this.$progressBar.width(),10),this.$progressLoaded.css("right",e+"px"),r=parseInt(t/n*100,10),this.$progressBar.removeClass("indeterminate").attr({"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":r})):(this.$progressLoaded.css("right","0px"),this._showIndeterminateProgress())},_updateCancelBtn:function(){var e=this.$cancel;!this.options.showCancelBtn||this._isUploadComplete?e.hide():e.show().attr("title",r.CANCEL_UPLOAD)},_showIndeterminateProgress:function(){this.$progressBar.addClass("indeterminate").removeAttr("aria-valuemin aria-valuemax aria-valuenow"),this.$progressLoaded.addClass("hidden")},_updateFileName:function(){var e=this.$fileName,t=this._getFileName();e.text()!==t&&(e.text(t),this._truncateText())},_updateHeader:function(){var e=this.$header,t=this._getStatus();e.text()!==t&&e.text(t)},_truncateText:function(){var e=this.$el,t=this.$fileName,n=this.$cancel,r;r=e.width()-parseInt(t.css("left"),10),n.css("display")!=="none"&&(r-=n.width()),t.width(r),i.truncateElementText(t)}}),t.FileUploadProgressView}),define("files/dev/ops/listening/listening-for-file-upload-events-op",["core/ac-core","files/ac-files","plugins-common/ac-plugins","core/utils/util","core/utils/http-util","core/utils/event-util","core/utils/view-util","core/utils/sc-analytics","core/ops/op","jquery.fileupload","jquery.iframe-transport","files/views/file-upload-progress-view"],function(e,t,n,r,i,s,o,u){var a=0,f=0;t.ListeningForFileUploadEventsOp=e.Op.extend({options:{targets:[{selector:".files-upload-btn",drag_and_drop:!0},{selector:".files-no-files-upload-file",drag_and_drop:!1}]},initialize:function(){e.Op.prototype.initialize.call(this),$(document).bind("drop dragover",function(e){e.preventDefault()}),this._addAppApiCallbacks(),this._addModelEventListeners(),this._addUiModelEventListeners(),this._isSelectorInitialized={}},run:function(){return $.Deferred().promise()},_start:function(){var e=this.options,t=e.fullPreviewUiModel,n=e.fileUploadUiModel;if(e.noUpload)return;if(!this._isSignedIn())return;if(!this._areTargetsRendered())return;if(this._isProhibitedBySearch())return;if(t&&t.isFileOpen())return;n.get("is_listening")&&this._stop(),_.each(e.targets,function(e){this._initWidget(e.selector,e.drag_and_drop)},this),n.set("is_listening",!0)},_stop:function(){_.each(this.options.targets,function(e){this._disableWidget(e.selector)},this),this.options.fileUploadUiModel.set("is_listening",!1)},_areTargetsRendered:function(){var e=!0;return _.each(this.options.targets,function(t){if($(t.selector).length===0)return e=!1,!1}),e},_isProhibitedBySearch:function(){var e=this.options,t=e.searchUiModel;return t&&t.isSearching()&&!e.enableDragAndDrop},_getWidget:function(e){return this.options.rootView.$el.find(e)},_initWidget:function(e,t){var n=this.options,r,i=n.fileUploadModel;r=this._getWidget(e),r.length===0&&LOG("AcFiles.ListeningForFileUploadEventsOp._initWidget: '"+e+"' not found"),i.hasAjaxFileUpload()||this._addPostMessageListener(),this._isSelectorInitialized[e]?r.fileupload("enable"):(r.fileupload(i.getWidgetOptions(t)),this._addFileUploadEventListeners(r),this._isSelectorInitialized[e]=!0)},_disableWidget:function(e){var t=this._getWidget(e);try{t.fileupload("disable")}catch(n){}},_addAppApiCallbacks:function(){this.options.appApi.sessionApi.addSignedInChangeCallback(this._onSignedInChange)},_onSignedInChange:function(e,t){t?this._start():this._stop()},_addModelEventListeners:function(){this.options.folderModel.on("change:id",this._onFolderIdChange)},_onFolderIdChange:function(){this._isSignedIn()&&(this._start(),this.options.folderModel.off("change:id",this._onFolderIdChange))},_addUiModelEventListeners:function(){var e=this.options,t=e.searchUiModel,n=e.fullPreviewUiModel;e.fileUploadUiModel.on("change:start_listening",this._onStartListeningChange).on("change:is_uploading",this._onIsUploadingChange),t&&t.on("change:status",this._onSearchStatusChange),n&&n.on("change:item_model",this._onFullPreviewItemModelChange)},_onStartListeningChange:function(e,t){t&&this._start()},_onIsUploadingChange:function(e,t){var n=this.options;t||n.appApi.folderApi.refreshCurrentFolder(n,{excludeEtag:!0})},_onSearchStatusChange:function(){this._isProhibitedBySearch()?this._stop():this._start()},_onFullPreviewItemModelChange:function(e,t){t?this._stop():this._start()},_isSignedIn:function(){return this.options.appApi.sessionApi.isSignedIn()},_addFileUploadEventListeners:function(e){e.on("fileuploadstart",this._onFileUploadStart).on("fileuploadstop",this._onFileUploadStop).on("fileuploadadd",this._onFileUploadAdd).on("fileuploadsubmit",this._onFileUploadSubmit).on("fileuploadsend",this._onFileUploadSend).on("fileuploadchange",this._onFileUploadChange).on("fileuploadpaste",this._onFileUploadPaste).on("fileuploaddrop",this._onFileUploadDrop).on("fileuploaddragover",this._onFileUploadDragOver).on("fileuploadprogress",this._onFileUploadProgress).on("fileuploadprogressall",this._onFileUploadProgressAll).on("fileuploaddone",this._onFileUploadDone).on("fileuploadfail",this._onFileUploadFail).on("fileuploadalways",this._onFileUploadAlways)},_onFileUploadStart:function(e){this.options.fileUploadUiModel.set("is_uploading",!0),this._progressView=this._openProgressView()},_onFileUploadStop:function(e){var t=this.options;this._closeProgressView(),t.fileUploadUiModel.set("is_uploading",!1).unset("jq_xhr"),this._dequeueFileUploadError(),a=f=0},_onFileUploadAdd:function(e,t){this._logEventTypeAndNames(e,t)},_onFileUploadSubmit:function(e,t){var n=t.files,i=this.options,s=i.appApi,u;if(o.isElementHidden($(e.currentTarget)))return!1;if(s.displayApi.isFullOverlayShown())return!1;if(!n)return!1;r.isIE10()&&(n=_.filter(n,function(e){return e.size>0}));if(n.length===0)return!1;if(!i.fileUploadUiModel.get("is_uploading")&&s.dialogApi.isDialogOpen())return!1;this._logEventTypeAndNames(e,t);if(this._isFolderUpload(e,t))return s.errorApi.enqueueAjaxError({status:"folder-upload-not-supported"}),this._decrementNumFiles(),!1;i.enableDragAndDrop?u=s.folderApi.getRootFolderId(i.pluginId):u=i.folderModel.get("id"),t.formData=i.fileUploadModel.getFormData(t,u)},_onFileUploadSend:function(e,t){this._logEventTypeAndNames(e,t),r.isCEF()?t.headers=_.pick(i.getRequestHeaders("POST"),"Accept","x-csrftoken","Authorization"):t.headers=_.pick(i.getRequestHeaders("POST"),"Accept","x-csrftoken"),t.global=!1,_.isFunction(t.xhr)&&this.options.fileUploadUiModel.set("jq_xhr",t.xhr())},_onFileUploadChange:function(e,t){this._logEventTypeAndNames(e,t),this._initFiles(t)},_onFileUploadPaste:function(e,t){var n=t.files;n&&n.length>0&&this._logEventTypeAndNames(e,t)},_onFileUploadDrop:function(e,t){this._logEventTypeAndNames(e,t),this._initFiles(t),this._isDragOverLogged=!1},_onFileUploadDragOver:function(){this._isDragOverLogged||(this._isDragOverLogged=!0)},_onFileUploadProgress:function(e,t){this._logProgressName(e,t)},_onFileUploadProgressAll:function(e,t){this._logProgress(e,t),this._progressView&&this._progressView.setProgressAll(t.loaded,t.total)},_onFileUploadDone:function(e,t){var n=this.options,r,i,s,o;f+=1,f===a&&(r=n.appApi.pluginsApi.callPluginMethod(n.pluginId,"_getSiteCatalystContext",undefined,u.FILE_LIST,!0),i=[r,u.UPLOAD],this._logSiteCatalystEvent(i.concat(u.SUCCESS)),this._logSiteCatalystEvent(i.concat([u.NUM_FILES,u.getCountCode(a)]))),s=t.jqXHR.responseText;if(s&&s.length>0)try{o=JSON.parse(s)}catch(l){}o&&o.renamed_to&&o.renamed_details.duplicate_of&&(o.object_type="file",this._onFileUploadDuplicateName(o))},_onFileUploadDuplicateName:function(t){if(r.isIpad()||r.isIphone())return;t.dupType=e.ErrorUiModel.DUP_TYPE_UPLOAD,this.options.errorUiModel.enqueueDupError(t,!0)},_onFileUploadFail:function(t,n){var r=n.jqXHR,i=this.options.appApi.errorApi;if(e.Features.isFeatureEnabled("quota_ui")&&i.isQuotaExceededError(r)){i.enqueueQuotaError();return}r.status>0&&i.enqueueAjaxError(r),this._decrementNumFiles()},_onFileUploadAlways:function(e,t){return undefined},_isFolderUpload:function(e,t){var n=this.options.appApi.displayApi;return!!_.find(t.files,function(e){return n.isDebugLogging()&&r.logProperties(e),e.relativePath||!e.type&&e.size%4096===0&&r.getExtension(e.name)!=="indd"})},_initFiles:function(e){var t=this._progressView,n,r,i;n=this._files=e.files,r=this._numFiles=n.length,a+=r,t&&(i=t.getNumFiles(),t.setFiles(n),t.setNumFiles(i+r))},_decrementNumFiles:function(){var e=this._progressView,t;this._numFiles-=1,t=this._numFiles,t===0?this._closeProgressView():e&&e.setNumFiles(t)},_dequeueFileUploadError:function(){var e=this.options;e.errorUiModel.dequeueDupError()||e.appApi.errorApi.dequeueQuotaError()},_addPostMessageListener:function(){if(this._isListeningForPostMessage)return;this._isListeningForPostMessage=!0,s.addPostMessageListener(this._onReceiveMessage)},_onReceiveMessage:function(t){var n,r,i,s,o,u;n=e.getBaseCloudUrl();if(!n||n.indexOf(t.origin)!==0)return;try{r=JSON.parse(t.data)}catch(a){return}if(r.name!=="complete-file-upload")return;try{i=JSON.parse(r.response)}catch(a){return}s=i.status,o=i.body,u=this.options,o.error?(u.appApi.errorApi.enqueueAjaxError({status:s,responseText:JSON.stringify({error:{code:o.error.code}})}),this._decrementNumFiles()):o.renamed_to&&o.renamed_details.duplicate_of&&(o.object_type="file",this._onFileUploadDuplicateName(o),u.fileUploadUiModel.get("is_uploading")||this._dequeueFileUploadError())},_openProgressView:function(){var e=this.options,r=e.appApi,i,s=r.statusMenuApi;return e=_.extend({},e,{parentView:e.rootView,showCancelBtn:!0}),delete e.el,this._progressView||(this._progressView=new t.FileUploadProgressView(e)),i=this._progressView,i.setFiles(this._files),s.showStatusMenuItem(n.HOME).then(function(e){i.setElement(e)}),s.setStatus(n.HOME,{status:r.statusMenuApi.STATUS_BUSY}),i},_closeProgressView:function(){var e=this.options.appApi.statusMenuApi;this._progressView&&(this._progressView.close(),this._progressView=undefined),e.setStatus(n.HOME,{status:e.STATUS_IDLE}),e.hideStatusMenuItem(n.HOME)},_logEventTypeAndNames:function(e,t){return this.options.appApi.displayApi.isDebugLogging()&&LOG(e.type+this._getFileUploadEventSeparator(e)+this._getFileUploadFileNames(t)),undefined},_logProgressName:function(e,t){return undefined},_logProgress:function(e,t){return undefined},_getFileUploadFileNames:function(e){var t="";return _.each(e.files,function(e){t.length>0&&(t+=", "),t+=e.name}),t},_getFileUploadEventSeparator:function(e){var t="fileuploadprogressall",n="";return _.times(t.length-e.type.length,function(){n+=" "}),n+" : "},_getProgress:function(e){var t=e.total,n=0;return t>0&&(n=parseInt(e.loaded/t*100,10)),"loaded: "+e.loaded+" total: "+e.total+" "+n+"%"}})}),define("files/dev/ops/listening/listening-for-quota-errors-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){t.ListeningForQuotaErrorsOp=e.Op.extend({run:function(){var e=$.Deferred();return this.options.appApi.errorApi.listenTo(this,"change:error",this._onErrorChange),this._deferred=e,this._deferred.resolve(),e.promise()},_onErrorChange:function(t,n){var r=this.options;if(!n)return;if(n.type!==e.ErrorUiModel.ERROR_TYPE_QUOTA)return;e.opFactory.create("ShowingQuotaWarningDlgOp",_.extend({},r,{uploading:!0,parentView:r.rootView})).run().then(function(){r.appApi.errorApi.dequeueError()})}})}),define("files/dev/ops/listening/listening-for-search-invalidation-op",["core/ac-core","files/ac-files","core/ops/while-signed-in-op"],function(e,t){t.ListeningForSearchInvalidationOp=e.WhileSignedInOp.extend({run:function(){var e=$.Deferred();return this.listenTo(this.options.searchUiModel,"change:invalid",this._onInvalidChange),this._deferred=e,e.promise()},_onInvalidChange:function(e,n){var r=this.options;n&&e.isSearching()&&r.appApi.routerApi.currentPathStartsWith("files")&&t.opFactory.create("SearchingOp",r).run()}})}),define("files/dev/ops/listening/listening-for-search-queries-change-op",["core/ac-core","files/ac-files","core/ops/while-signed-in-op"],function(e,t){return t.ListeningForSearchQueriesChangeOp=e.WhileSignedInOp.extend({run:function(){return this.listenTo(this.options.searchUiModel,"change:field_queries_request",this._onFieldQueriesRequestChange),$.Deferred().promise()},_onFieldQueriesRequestChange:function(){var e=this.options;if(e.searchUiModel.get("too_many_query_boxes"))return;e.selectionUiModel.clearSelection(),t.opFactory.create("SearchingIfAskedOp",e).run()}}),t.ListeningForSearchQueriesChangeOp}),define("files/dev/ops/listening/listening-for-selection-change-op",["core/ac-core","files/ac-files","core/utils/util","core/ops/while-signed-in-op"],function(e,t,n){t.ListeningForSelectionChangeOp=e.WhileSignedInOp.extend({run:function(){return this._addUiModelEventListeners(),this._addAppApiCallbacks(),$.Deferred().promise()},_addUiModelEventListeners:function(){this.listenTo(this.options.selectionUiModel,"change:selected_item_models",this._onLocalSelectedItemModelsChange)},_removeUiModelEventListeners:function(){this.stopListening()},_onLocalSelectedItemModelsChange:function(e,t){this._removeAppApiCallbacks(),this.options.appApi.selectionApi.setSelectedItemModels(t),this._addAppApiCallbacks()},_addAppApiCallbacks:function(){var e=this.options,t=e.appApi,r=e.isDesktopConnectorPlugin||!1;n.isCEF()&&!r&&t.sessionApi.addSignedInChangeCallback(this._onSignedInChange),t.selectionApi.addSelectedItemsModelsChangeCallback(this._onAppSelectedItemModelsChange)},_onSignedInChange:function(e,t){t||(this._removeAppApiCallbacks(),this._removeUiModelEventListeners())},_removeAppApiCallbacks:function(){this.options.appApi.selectionApi.removeSelectedItemsModelsChangeCallback(this._onAppSelectedItemModelsChange)},_onAppSelectedItemModelsChange:function(e,t){if(this.options.isInSearchResultsView&&e.isItemSelected())return;this._removeUiModelEventListeners(),this.options.selectionUiModel.clearSelection(),this._addUiModelEventListeners()}})}),define("files/dev/views/view-events",["files/ac-files"],function(e){return e.ViewEvents={NAVIGATE_TO_FOLDER:"files:navigate-to-folder",NEW_FOLDER:"files:new-folder",NEW_FOLDER_DLG_CREATE:"files:new-folder-dlg-create",SORT_MENU_BTN_CLICK:"files:sort-menu-button-click",TAGS_BTN_CLICK:"files:tags-button-click",SEARCH_BTN_CLICK:"files:search-button-click",SELECT_FILTER_MENU_ITEM:"files:select-filter-menu-item",SHARE_ITEMS_FROM_DLG:"files:share-items-from-dlg",SHARE_ITEM:"files:share-item",FULL_PREVIEW_CLOSE:"files:full-preview-close",FULL_PREVIEW_MENU_BTN_CLICK:"files:full-preview-menu-btn-click",FULL_PREVIEW_DELETE:"files:full-preview-delete",FULL_PREVIEW_PLUGIN_CLICK:"files:full-preview-plugin-click"},e.ViewEvents}),define("files/dev/ops/listening/listening-for-view-events-op",["core/ac-core","files/ac-files","core/ops/while-signed-in-op","core/views/view-events","files/views/view-events"],function(e,t){t.ListeningForViewEventsOp=e.WhileSignedInOp.extend({initialize:function(){e.WhileSignedInOp.prototype.initialize.call(this),this._initEventMap()},run:function(){var e=$.Deferred();return this.listenTo(this.options.rootView,"all",this._onViewEvent),this._deferred=e,e.promise()},_onViewEvent:function(t,n){var r,i,s,o;r=this._eventMap[t],r&&(i=r[0].create(r[1],n));if(!i){t!==e.ViewEvents.MENU_CLOSED&&LOG(0,"AcFiles.ListeningForViewEventsOp._onViewEvent ignoring "+t);return}s=i.options,s&&(o=s.parentDeferred),i.run().then(function(){o&&o.resolve()},function(){o&&o.reject()})},_mapEvent:function(e,t,n,r,i){e[t]=[n,r,i]},_initEventMap:function(){var n,r,i,s,o,u;n=this._eventMap={},r=this._mapEvent,i=e.opFactory,s=t.opFactory,o=e.ViewEvents,u=t.ViewEvents,r(n,o.SELECT_ITEM,i,"SelectingCollectionItemOp"),r(n,o.CLEAR_SELECTION,i,"ClearingSelectionOp"),r(n,o.OPEN_COLLECTION_ITEM,s,"OpeningCollectionItemOp"),r(n,o.OPEN_SELECTED_COLLECTION_ITEMS,s,"OpeningSelectedCollectionItemsOp"),r(n,o.SAVEAS_SELECTED_COLLECTION_ITEMS,s,"SaveAsSelectedCollectionItemsOp"),r(n,o.DOWNLOAD,i,"DownloadingAssetIfExistsOp"),r(n,o.DOWNLOAD_ZIP,i,"DownloadingZipStartOp"),r(n,o.DELETE,i,"DeletingSelectionIfConfirmedOp"),r(n,o.RENAME,i,"ShowingRenameDlgOp"),r(n,o.MOVE,i,"ShowingMoveDlgOp"),r(n,o.RENAME_ITEM_FROM_DLG,i,"RenamingItemFromDlgOp"),r(n,o.SHOW_PUBLIC_SHARE_DLG,s,"ShowingPublicShareDlgOp"),r(n,u.SHARE_ITEMS_FROM_DLG,s,"SharingItemsFromDlgOp"),r(n,u.SHARE_ITEM_FROM_PANEL,s,"SharingItemFromPanelOp"),r(n,u.SHARE_ITEM,i,"SharingItemOp"),r(n,o.MOVE_DLG_MOVE,i,"MovingItemsOp"),r(n,o.DUP_DLG_DELETE_EXISTING,i,"DeletingExistingDupOp"),r(n,o.DUP_DLG_RENAME_ADDED,i,"RenamingAddedDupOp"),r(n,o.GET_FOLDER_ITEMS,i,"GettingFolderItemsOp"),r(n,o.COLLECTION_RENDER_BEGIN,i,"HandlingCollectionRenderBeginOp"),r(n,o.COLLECTION_RENDER_END,i,"HandlingCollectionRenderEndOp"),r(n,o.GET_HOVER_PREVIEW_METADATA,i,"GettingHoverPreviewMetadataOp"),r(n,o.GET_RHP_PREVIEW_METADATA,i,"GettingRhpPreviewMetadataOp"),r(n,o.GET_RHP_FOLDER_CHILD_COUNTS,i,"GettingRhpFolderChildCountsOp"),r(n,o.SHOW_QUOTA_WARNING_DLG,i,"ShowingQuotaWarningDlgOp"),r(n,u.NAVIGATE_TO_FOLDER,s,"NavigatingToFolderOp"),r(n,o.SEARCH_IN_FOLDER,s,"SearchingOp"),r(n,u.NEW_FOLDER,s,"ShowingNewFolderDlgOp"),r(n,u.NEW_FOLDER_DLG_CREATE,s,"CreatingFolderFromDlgOp"),r(n,o.ADD_SEARCH_FIELD_QUERY,s,"AddingSearchFieldQueryOp"),r(n,o.REMOVE_SEARCH_FIELD_QUERY,s,"RemovingSearchFieldQueryOp"),r(n,o.REMOVE_LAST_FIELD_QUERY,s,"RemovingLastFieldQueryOp"),r(n,o.REMOVE_TYPE_FIELD_QUERY,s,"RemovingTypeFieldQueryOp"),r(n,o.REMOVE_TIME_FIELD_QUERY,s,"RemovingTimeFieldQueryOp"),r(n,o.REMOVE_NAME_FIELD_QUERY,s,"RemovingNameFieldQueryOp"),r(n,o.REMOVE_REMOVABLE_QUERIES,s,"RemovingRemovableQueriesOp"),r(n,u.SORT_MENU_BTN_CLICK,s,"TogglingSortMenuOp"),r(n,o.VIEW_BY,s,"ChangingCollectionViewOp"),r(n,o.SORT,s,"SortingCollectionOp"),r(n,u.FULL_PREVIEW_PLUGIN_CLICK,s,"SelectingFullPreviewPluginOp"),r(n,u.FULL_PREVIEW_MENU_BTN_CLICK,s,"TogglingFullPreviewActionMenuOp"),r(n,u.FULL_PREVIEW_DELETE,s,"DeletingFullPreviewItemIfConfirmedOp"),r(n,o.SELECTION_ACTION_ITEM_CLICK,i,"SelectingSelectionActionItemOp"),r(n,o.LAUNCH_FOOTER_URL_IN_BROWSER,i,"LaunchFooterUrlInBrowserOp"),r(n,o.SELECTION_ACTION_SEND_AND_TRACK,i,"SelectionActionLaunchSendAndTrackAppOp"),r(n,o.SELECTION_ACTION_ATTACH_TO_EMAIL,i,"SelectionActionAttachToEmailOp"),r(n,o.SHOW_CUSTOM_RANGE_DIALOG,i,"ShowCustomRangeDialogOp"),r(n,o.CONTEXT_BOARD_PRIMARY_TOOLS_CLICK,i,"ContextBoardPrimaryToolsClickAppOp"),r(n,o.CONTEXT_BOARD_PRIMARY_TOOLS_CLICK_REDUCEDMODE,i,"ContextBoardPrimaryToolsClickReducedModeAppOp"),r(n,o.F6_KEY_PRESSED,i,"F6KeyPressHandlerOp"),r(n,o.DELETE_SHARED,i,"DeletingParcelIfConfirmedOp"),r(n,o.UNSHARE,i,"UnsharingParcelIfConfirmedOp"),r(n,o.UNSHAREREVIEW,i,"UnsharingReviewParcelIfConfirmedOp")}})}),define("files/dev/ops/manipulation/deleting-full-preview-item-if-confirmed-op",["core/ac-core","files/ac-files","i18n!core/nls/ui-strings","core/utils/util","core/utils/sc-analytics","core/ops/op"],function(e,t,n,r,i){t.DeletingFullPreviewItemIfConfirmedOp=e.Op.extend({run:function(){var t=this.options,s,o=t.appApi.dialogApi,u=[],a=this._logSiteCatalystEvent;return a(i.SHOWN),s=n.CONFIRM_DELETE_TITLE,u=r.addToArray(u,t.scContext),u=r.addToArray(u,this._getSiteCatalystContext()),o.displayTextAlert(o.SEVERITY_WARNING,s,n.CONFIRM_DELETE_MSG_ONE_ITEM,n.DELETE,n.CANCEL,{scContext:u}).then(function(){return t=_.extend({},t,{noScEvent:!0}),$.when(t.appApi.previewApi.closeFullPreview(),e.opFactory.create("DeletingItemOp",t).run().done(function(){a(i.SUCCESS),t.selectionUiModel.clearSelection()}))},function(){a(i.CANCEL)})},_getSiteCatalystContext:function(){return i.DELETE_DLG}})}),define("files/dev/ops/misc/changing-collection-view-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){return t.ChangingCollectionViewOp=e.Op.extend({run:function(){var e=this.options;return e.collectionsUiModel.set("view",e.view),t.opFactory.create("SavingFilesPrefsOp",e).run(),this._getResolvedPromise()}}),t.ChangingCollectionViewOp}),define("files/dev/ops/misc/navigating-to-folder-op",["core/ac-core","files/ac-files","core/utils/util","core/ops/op"],function(e,t,n){t.NavigatingToFolderOp=e.Op.extend({run:function(r,i){var s=this.options,o=s.appApi,u=o.folderApi,a=o.displayApi,f=s.collectionUiModel,l,c=s.noUrlUpdate,h=s.noHistoryEffect,p=o.routerApi,d=o.saveAsApi,v=new $.Deferred,m=[],g;return n.isCEF()&&s.folderModel.get("content_type")&&s.folderModel.get("content_type")!=="application/vnd.adobe.skybox.folder"?(a.showSpinner(!0),o.saveAsApi.isRunningInFileSaveAs()&&o.saveAsApi.setCanSave(!1),s.selectionUiModel.clearSelection(),s.folderModel.fetch(s).done(function(){o.saveAsApi.isRunningInFileSaveAs()&&o.saveAsApi.setCanSave(!0),a.showSpinner(!1),s.folderModel.trigger("change:object_type"),v.resolve()}).fail(function(){a.showSpinner(!1),v.reject()}),v.promise()):(r=r||s.id,r?(this.options.pluginId==="root"||this.options.pluginId==="scan_files"?s.folderModel.set("loaded",!1):a.showSpinner(!0),l="folder/"+encodeURIComponent(r),!c&&!h&&!p.isCurrentPath(l)&&p.navigate(l),(c||r!==u.getCurrentFolderId(s.pluginId))&&s.selectionUiModel.clearSelection(),u.setCurrentFolderId(s.pluginId,r),n.isCEF()&&d.isRunningInFileSaveAs()&&(d.setCurrentFolderId(r),d.setCanSave(!1)),!_.isUndefined(i)&&!_.isUndefined(i.ignoreErrors)&&(m=i.ignoreErrors),e.opFactory.create("GettingFolderOp",_.extend({},s,{ignoreErrors:m})).run(r,i).then(function(){f&&f.clearItemUiModels(),n.isCEF()&&d.isRunningInFileSaveAs()&&d.setCanSave(!0),u.setFilesCollection(s.folderModel.get("items").models);if(s.pluginId==="root-select"){var e=s.folderModel.get("loaded");e&&e===!0&&a.showSpinner(!1)}else a.showSpinner(!1)},function(e){g=_.find(m,function(e){return e===404}),e&&e.status===404&&!_.isUndefined(g)&&t.opFactory.create("NavigatingToFolderOp",s).run(u.getRootFolderId(s.pluginId),{force:i.force}),a.showSpinner(!1)})):this._getRejectedPromise())}})}),define("files/dev/ops/misc/navigating-to-scan-folder-op",["core/ac-core","files/ac-files","core/utils/util","core/ops/op"],function(e,t,n){t.NavigatingToScanFolderOp=e.Op.extend({run:function(r,i){var s=this.options,o=s.appApi,u=o.folderApi,a=o.displayApi,f=s.collectionUiModel,l,c=s.pluginUiModel,h=s.noUrlUpdate,p=s.noHistoryEffect,d=o.routerApi,v=o.saveAsApi,m=new $.Deferred,g=[],y,b=!1,w="Adobe Scan",E,S=!1,x;r=s.appApi.folderApi.getRootFolderId();if(r===s.appApi.folderApi.getRootFolderId()){var T=s.folderModel.get("members");S=!0,_.each(T,function(e){if(e.object_type&&e.object_type==="folder"&&e.name.toLowerCase()===w.toLowerCase()){var t=s.appApi.folderApi.getRootFolderId(),n=e.parent_id;if(n===t||t.substring(t.lastIndexOf(":")+1)===n)r=e.id,b=!0,x=e.name}}),r===s.appApi.folderApi.getRootFolderId()&&S===!0&&b===!1?(E=!1,s.folderModel.scanFound=!1):r===s.appApi.folderApi.getRootFolderId()&&S===!0&&b===!0&&(E=!0,s.folderModel.scanFound=!0,s.folderModel.scanId=r,s.folderModel.scanFolderName=x)}r!==s.appApi.folderApi.getRootFolderId()&&b===!0&&(E=!0,s.folderModel.scanFound=!0,s.folderModel.scanId=r,s.folderModel.scanFolderName=x);if(!r)return this._getRejectedPromise();s.folderModel.scanFound||s.folderModel.set("loaded",!1),l="folder/"+encodeURIComponent(r),!h&&!p&&!d.isCurrentPath(l)&&d.navigate(l),(h||r!==u.getCurrentFolderId(s.pluginId))&&s.selectionUiModel.clearSelection(),n.isCEF()&&v.isRunningInFileSaveAs()&&(v.setCurrentFolderId(r),v.setCanSave(!1)),!_.isUndefined(i)&&!_.isUndefined(i.ignoreErrors)&&(g=i.ignoreErrors);var N=$.Deferred(),C=$.Deferred();if(b==1)N.resolve(r);else{var k=e.opFactory.create("USSSearchingDCAssetOp",_.extend({},s,{query:"Adobe Scan",parentId:s.appApi.folderApi.getRootFolderId(),folderOnly:!0}));k.run().then(_.bind(function(e){N.resolve(e.asset_id)},this),_.bind(function(){N.reject()},this))}return N.then(_.bind(function(o){r=o,E=!0,s.folderModel.scanFound=!0,s.folderModel.scanId=r,s.folderModel.scanFolderName="Adobe Scan",u.setCurrentFolderId(s.pluginId,r),e.opFactory.create("GettingFolderOp",_.extend({},s,{ignoreErrors:g})).run(r,i).then(function(){f&&f.clearItemUiModels(),n.isCEF()&&v.isRunningInFileSaveAs()&&v.setCanSave(!0),u.setFilesCollection(s.folderModel.get("items").models),s.appApi.siteCatalystApi.logScEvent(["ScanUser:FoldersShown:"+ +s.folderModel.getChildFoldersCount()],{featureType:"AdobeScanTab:Clicked",sectionName:"ScanPromotion"}),s.appApi.siteCatalystApi.logScEvent(["ScanUser:FilesShown:"+ +s.folderModel.getChildFilesCount()],{featureType:"AdobeScanTab:Clicked",sectionName:"ScanPromotion"}),a.showSpinner(!1),C.resolve()},function(e){y=_.find(g,function(e){return e===404}),e&&e.status===404&&!_.isUndefined(y)&&t.opFactory.create("NavigatingToScanFolderOp",s).run(u.getRootFolderId(s.pluginId),{force:i.force}),a.showSpinner(!1),C.resolve()})},this),_.bind(function(){f&&f.clearItemUiModels(),n.isCEF()&&v.isRunningInFileSaveAs()&&v.setCanSave(!0),u.setFilesCollection(s.folderModel.get("items").models),s.folderModel.scanFound=!1,a.showSpinner(!1),C.reject()},this)),C}})}),define("files/dev/ops/misc/navigating-to-acroprefs-folder-op",["core/ac-core","files/ac-files","core/utils/util","core/ops/op"],function(e,t,n){t.NavigatingToAcroPrefsFolderOp=e.Op.extend({run:function(n,r){var i=this.options,s=[],o;i.folderModel.ScanInstalled=!1,s=[404];var u=i.appApi.folderApi.getAcroPrefsFolderId();return u?e.opFactory.create("GettingSystemFolderMetadataOp",_.extend({},i,{ignoreErrors:s})).run(u).then(function(e){var n=i.appApi.rnaApi,r=_.find(s,function(e){return e===404});e.status===404&&!_.isUndefined(r)&&t.opFactory.create("NavigatingToAcroPrefsFolderOp",i).run();if(e.members){var o=e.members;_.each(o,function(e){e.name==="ScanInstalled"&&(i.folderModel.ScanInstalled=!0)})}var u="NO";i.folderModel.ScanInstalled===!0&&(u="YES"),n.done(function(e){e.isFeatRunning()&&e.isASTestAllowInstantiation()&&e.invokeMethod({methodName:"logASTestReportAPI",methodArgs:["ScanTabData","ScanTabAcroprefs",u]})})}):$.Deferred().reject().promise()}})}),define("files/dev/ops/misc/opening-collection-item-op",["core/ac-core","files/ac-files","plugins-common/ac-plugins","core/utils/util","core/ops/op"],function(e,t,n,r){t.OpeningCollectionItemOp=e.Op.extend({run:function(){var e=this.options,i=e.appApi,s=e.itemModel,o=e.itemView,u,a,f,l=e.selectionUiModel;if(!o&&!s)return this._getRejectedPromise();o?u=o.model:u=s,a=u.id;if(u.isFolder()&&(o||r.isCEF()&&!(l.getNumSelectedItems()>1)))f=t.opFactory.create("NavigatingToFolderOp",_.extend({},e.collectionItemsView?e.collectionItemsView.options:e,{id:a}));else{if(!i.acrobatApi.isInAcrobat())return e.noFullPreview||(e.notDeselectAll||e.selectionUiModel.deselectAllExcept(a,!0),u.isForm()?i.pluginsApi.selectPlugin(n.FILLSIGN,{formId:a,formName:u.get("name")}):r.isCEF()&&u.isPDF()?t.opFactory.create("OpeningFullPreviewOp",_.extend(e,{id:a,itemModel:u})).run():i.routerApi.navigate("file/"+encodeURIComponent(a),{trigger:!0})),this._getResolvedPromise();f=t.opFactory.create("OpeningInAcrobatOp",_.extend({},e,{ids:[a]}))}return f.run()}})}),define("files/dev/ops/misc/opening-selected-collection-items-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){t.OpeningSelectedCollectionItemsOp=e.Op.extend({run:function(){var e=this.options,n,r,i=[];return n=e.selectionUiModel,r=n.get("selected_item_models"),_.each(r,function(n){var r=t.opFactory.create("OpeningCollectionItemOp",_.extend({},e,{itemModel:n,notDeselectAll:!0})).run();i.push(r)}),$.when.apply($,i)}})}),define("files/dev/ops/misc/save-as-selected-collection-items-op",["core/ac-core","files/ac-files","i18n!core/nls/ui-strings","core/models/rna/rna-notification-model","core/ops/op"],function(e,t,n,r){var i="binder.zip";t.SaveAsSelectedCollectionItemsOp=e.Op.extend({run:function(){var t=this.options,n,s,o=t.appApi,u=$.Deferred().resolve().promise(),a,f,l,c,h={notificationHeading:t.notificationHeading};n=t.selectionUiModel,a=n.getSelectionCountByType(),f=a.numFiles,l=a.numFolders;if(l===0&&f>0){s=n.getSelectedItemModels(),s=_.filter(s,function(e){return!e.isForm()});if(s.length===0)return u;s.length===1?c=s[0].get("name"):c=i,h.fileName=c,h.fileExtn=e.Util.getExtension(c),h.showDownloadAll=!1,o.rnaApi.done(_.bind(function(e){e.notificationAPI.createNotification({operationType:r.NOTIFICATION_OPERATIONS.PROCESS,state:r.NOTIFICATION_STATES.IN_PROGRESS,userData:JSON.stringify(h),progress:0,description:t.notificatonCategory}).done(_.bind(function(t){s.length===1?this._downloadSingleFile(s[0],t).then(_.bind(function(e){this._onDownloadCompletion(t,e)},this),_.bind(function(e){this._onDownloadFailed(t,e)},this)):(e.rnaServicesAPI.showServicesProgressWidget(!0,!0,"busy",!0),this._downloadMultipleFiles(s,t).then(_.bind(function(e){this._onDownloadCompletion(t,e)},this),_.bind(function(e){this._onDownloadFailed(t,e)},this)))},this))},this))}return u},_downloadSingleFile:function(t,n){var i=this.options,s,o=e.opFactory;return s=o.create("DownloadingFileOp",_.extend({},i,{itemModelProxy:t._proxy,assetId:t.id,fileName:t.get("name"),fileSize:t.get("size")})).run(),s[1].done(function(e){var t=n.get("userData"),s={};try{s=JSON.parse(t)}catch(o){}e.errorSet?i.appApi.rnaApi.done(_.bind(function(e){e.notificationAPI.removeNotification(n.get("notificationID"))},this)):(e.downloadedFileName&&(s.downloadedFileName=e.downloadedFileName),n.invoke("setProperty",{userData:JSON.stringify(s),operationType:r.NOTIFICATION_OPERATIONS.DOWNLOAD}),i.appApi.rnaApi.done(_.bind(function(e){e.rnaServicesAPI.showServicesProgressWidget(!0,!0,"busy",!0)},this)))}),s[0]},_downloadMultipleFiles:function(t,n){var r=this.options,s=e.opFactory,o=_.pluck(t,"id").join(";");return s.create("DownloadingZipStartOp",_.extend({},r,{id_list:o,numForms:0,fileName:i,notificationObj:n})).run()},_onDownloadCompletion:function(e,t){var n=e.get("userData"),i={};try{i=JSON.parse(n)}catch(s){}t.downloadedFileSys&&(i.downloadedFileSys=t.downloadedFileSys),t.downloadedFilePath&&(i.downloadedFilePath=t.downloadedFilePath),e.invoke("setProperty",{operationType:"",userData:JSON.stringify(i),state:r.NOTIFICATION_STATES.DOWNLOADED})},_onDownloadFailed:function(e,t){if(t!==7){var i={errorTitle:n.NOTIFICATION_DOWNLOAD_ERROR,errorBody:"",downloadError:!0,showRetry:!1};e.invoke("setProperty",{operationType:"",state:r.NOTIFICATION_STATES.FAILED,error:JSON.stringify(i)})}}})}),define("files/dev/ops/misc/sorting-collection-op",["core/ac-core","files/ac-files","core/utils/sc-analytics","core/ops/op"],function(e,t,n){t.SortingCollectionOp=e.Op.extend({run:function(){var n=this.options,r=this.options.sortUiModel,i=n.orderBy,s=e.SortUiModel,o;r.setOrder(i,n.orderDirection),(i===s.ORDER_BY_DATE_ADDED||i===s.ORDER_BY_DATE_MODIFIED||i===s.ORDER_BY_DATE_LAST_ACCESS)&&r.set("mru_date_order",i),this.options.appApi.siteCatalystApi.logVirgoSortEvent(this.options.appApi.siteCatalystApi._getLogSubCategory(this.options.pluginId),this._getLogColumnName(i),n.orderDirection===s.ORDER_DESCENDING);if(n.isInSearchResultsView){var u=this.options.searchModel.get("items"),a=n.orderDirection===e.SortUiModel.ORDER_ASCENDING?1:-1,f,l;return i===e.SortUiModel.ORDER_BY_FILE_NAME?u.comparator=function(e,t){return f=e.get(i).toLowerCase(),l=t.get(i).toLowerCase(),f>l?1*a:f<l?-1*a:0}:u.comparator=function(e,t){return e.get(i)>t.get(i)?1*a:e.get(i)<t.get(i)?-1*a:0},u.sort(),this._getResolvedPromise()}return t.opFactory.create("SavingFilesPrefsOp",n).run(),n.filesUiModel.isFolderView()?o=n.appApi.folderApi.enqueueRefreshCurrentFolder(n,{excludeEtag:!0}):o=t.opFactory.create("SearchingOp",n).run(),o},_getLogColumnName:function(t){var r="";switch(t){case e.SortUiModel.ORDER_BY_DATE_ADDED:r=n.VIRGO_SORT_DATE_ADDED;break;case e.SortUiModel.ORDER_BY_DATE_MODIFIED:r=n.VIRGO_SORT_DATE_MODIFIED;break;case e.SortUiModel.ORDER_BY_DATE_LAST_ACCESS:r=n.VIRGO_SORT_LAST_ACCESS;break;case"name":r=n.VIRGO_SORT_FILENAME;break;case"size":r=n.VIRGO_SORT_SIZE}return r}})}),define("files/dev/ops/misc/toggling-filter-menu-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){return t.TogglingFilterMenuOp=e.Op.extend({run:function(){var e=this.options.filesUiModel;return e.set("show_filter_menu",!e.get("show_filter_menu")),this._getResolvedPromise()}}),t.TogglingFilterMenuOp}),define("files/dev/ops/misc/toggling-sort-menu-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){return t.TogglingSortMenuOp=e.Op.extend({run:function(){var e=this.options.filesUiModel;return e.set("show_sort_menu",!e.get("show_sort_menu")),this._getResolvedPromise()}}),t.ToggingSortMenuOp}),define("files/dev/ops/preview/closing-full-preview-op",["core/ac-core","files/ac-files","core/utils/image-loader","core/ops/op"],function(e,t,n){t.ClosingFullPreviewOp=e.Op.extend({run:function(){var t=this.options,r=t.fullPreviewUiModel,i=r.get("item_model"),s;return i&&e.opFactory.create("SettingAssetMetadataOp",_.extend({},t,{id:i.id,key:"last_pagenum",value:r.get("current_page"),global:!1})).run(),s=r.get("prev_non_preview_path"),r.close(),n.cancelPendingRequests(),t.noHistoryEffect||t.appApi.routerApi.navigate(s||"/",{trigger:!0}),t.fullPreviewOverlaysUiModel&&t.fullPreviewOverlaysUiModel.unset("selected_plugin_id"),this._getResolvedPromise()}})}),define("files/dev/ops/preview/creating-ngdoc-rendition-op",["core/ac-core","files/ac-files","core/utils/util","core/utils/http-util","core/ops/op"],function(e,t,n,r){t.CreatingNGDocRenditionOp=e.Op.extend({run:function(){var e=this.options,i=e.fullPreviewUiModel,s=i.get("item_model"),o,u="POST",a,f=e.appApi,l=e.invitationId;a=s.get("name");if(!n.isSvgSupported()||!s.isPDF()&&n.getExtension(a.toLowerCase())!=="pdf")return this._getRejectedPromise();if(f.baseFilesUrisApi&&!l)o=f.baseFilesUrisApi.getApiUri()+"assets/"+s.id+"/ngdoc?"+r.getClientIdQueryParam();else{if(!e.baseFilesUrisModel||!l)return this._getRejectedPromise();o=e.baseFilesUrisModel.get("send_api")+"invitation/"+l+"/asset/"+s.id+"/ngdoc?"+r.getClientIdQueryParam()}return $.ajax(o,_.extend({type:u,headers:r.getRequestHeadersNoClientId(u),dataType:"json"},e)).then(function(n){n&&n.results&&(n.results.status==="done"?i.ngdocJobCompleted():n.results.jobID&&(i.set("ngdoc_job_id",n.results.jobID),i.ngdocJobStarted(),t.opFactory.create("ListeningForNGDocJobStatusOp",e).run()))})}})}),define("files/dev/ops/preview/getting-full-preview-metadata-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){t.GettingFullPreviewMetadataOp=e.Op.extend({run:function(){var t=this.options,n=t.fullPreviewUiModel,r=n.get("item_model"),i,s,o;if(r){i=r.get("last_pagenum"),s=r.get("page_count");if(!_.isUndefined(i)&&!_.isUndefined(s))return n.set({page_count:s,current_page:i}),this._getResolvedPromise()}return t.id||(t.id=r.id),e.opFactory.create("GettingAssetMetadataOp",t).run().done(function(s){var u;r||(r=e.modelFactory.create("AssetModel",s)),u=e.Features.isFeatureEnabled("enable_ngdoc")&&t.appApi.usersMeApi.isUserInCohort("bh-ngdoc","enabled"),n.init({item_model:r,enable_ngdoc:u,view_type:u?"ngdoc":"bitmap"}),r.set({preview_url:s.preview_url}),i=s.last_pagenum,_.isNumber(i)||(i=parseInt(i,10)),o=_.isNaN(i)?0:i,n.set({page_count:s.page_count,current_page:o})})}})}),define("files/dev/ops/preview/listening-for-ngdoc-job-status-op",["core/ac-core","files/ac-files","core/utils/http-util","core/utils/sc-analytics","core/ops/op"],function(e,t,n,r){t.ListeningForNGDocJobStatusOp=e.Op.extend({run:function(){return this._timerDelay=this.options.fullPreviewUiModel.get("ngdoc_timer_delay"),this._startListeningForNGDocJob(),$.Deferred().promise()},_startListeningForNGDocJob:function(){var e=this.options,t=e.fullPreviewUiModel,n;if(!t.get("ngdoc_job_id"))return;n=_.delay(_.bind(function(){this._getNGDocJobStatus()},this),this._timerDelay),t.set("ngdoc_timer_id",n)},_stopListeningForNGDocJob:function(){var e=this.options,t=e.fullPreviewUiModel,n=t.get("ngdoc_timer_id");if(!n)return;clearTimeout(n),t.set("ngdoc_timer_id",undefined,{silent:!0})},_getNGDocJobStatus:function(){var e=this.options,t=e.fullPreviewUiModel,i=t.get("ngdoc_job_id"),s=t.get("item_model"),o,u="GET",a;if(!i){this._stopListeningForNGDocJob();return}if(e.appApi.baseFilesUrisApi&&!e.invitationId)o=e.appApi.baseFilesUrisApi.getApiUri()+"assets/"+s.id+"/ngdoc?ngDocJobID="+i+"&"+n.getClientIdQueryParam(),a=e.appApi.networkApi.throttledAjax;else{if(!e.baseFilesUrisModel||!e.invitationId)return;o=e.baseFilesUrisModel.get("send_api")+"invitation/"+e.invitationId+"/asset/"+s.id+"/ngdoc?ngDocJobID="+i+"&"+n.getClientIdQueryParam(),a=$.ajax}a(o,_.extend({type:u,headers:n.getRequestHeadersNoClientId(u),dataType:"json"},e)).then(_.bind(function(n){n&&n.results&&n.results.jobID===i&&(n.results.status==="done"?(t.ngdocJobCompleted(),this._stopListeningForNGDocJob()):n.results.status==="failed"?(t.set("enable_ngdoc",!1,{silent:!0}),e.appApi.siteCatalystApi.logScEvent([r.PREVIEW,r.NGDOC,s.isPDF()?r.PDF:r.NON_PDF,r.FAILED]),this._stopListeningForNGDocJob()):(this._stopListeningForNGDocJob(),this._timerDelay=this._timerDelay*1.2,this._startListeningForNGDocJob()))},this),_.bind(function(){this._stopListeningForNGDocJob()},this))}})}),define("files/dev/ops/preview/loading-full-preview-plugins-op",["core/ac-core","files/ac-files","core/utils/util","core/ops/op"],function(e,t,n){t.LoadingFullPreviewPluginsOp=e.Op.extend({run:function(){var t=this.options,r,i,s,o,u,a,f=t.appApi.pluginsApi;return r=f.getPluginTypeConfig("full_preview"),i=f.getPluginTypeConfig("full_preview_rhp"),s=f.getPluginTypeConfig("full_preview_overlays"),n.isCEF()&&t.runningInRHP&&(r.plugin_ids=_.filter(r.plugin_ids,function(e){return e===r.default_plugin_id})),o=e.opFactory.create("LoadingPluginsOp",_.extend({pluginsConfig:r,pluginsUiModel:t.fullPreviewPluginsUiModel,pluginContext:t},_.pick(t,"appApi"))),u=e.opFactory.create("LoadingPluginsOp",_.extend({pluginsConfig:i,pluginsUiModel:t.fullPreviewRhpPluginsUiModel,pluginContext:t},_.pick(t,"appApi"))),a=e.opFactory.create("LoadingPluginsOp",_.extend({pluginsConfig:s,pluginsUiModel:t.fullPreviewOverlaysUiModel,pluginContext:t},_.pick(t,"appApi"))),o.run().then(function(){return $.when(u.run(),a.run())})}})}),define("files/dev/ops/preview/opening-full-preview-op",["core/ac-core","files/ac-files","core/utils/util","core/utils/sc-analytics","core/ops/op"],function(e,t,n,r){return t.OpeningFullPreviewOp=e.Op.extend({run:function(){var i=this.options,s=i.appApi,o=s.routerApi,u=s.siteCatalystApi,a=t.opFactory,f,l,c,h,p=i.fullPreviewUiModel,d=i.fullPreviewPluginsUiModel,v=i.fullPreviewOverlaysUiModel,m,g,y,b=e.opFactory,w,E=this._getRejectedPromise();return n.isCEF()?b.create("OpeningDocInReaderOp",i).run():i.noFullPreview?this._getResolvedPromise():(u.logScEvent([r.PREVIEW,r.SHOWN]),f=a.create("LoadingFullPreviewPluginsOp",i),l=a.create("GettingFullPreviewMetadataOp",i),w=a.create("CreatingNGDocRenditionOp",i),c=a.create("SelectingFullPreviewPluginOp",i),m="file/"+encodeURIComponent(i.id),o.isCurrentPath(m)||s.routerApi.navigate(m),f.run().then(function(){return l.run().then(function(){var t=E;return g=p.get("item_model").get("name"),y=n.getExtension(g.toLowerCase())==="pdf",p.get("enable_ngdoc")&&(t=w.run()),t.then(function(){u.logScEvent([r.PREVIEW,r.NGDOC,y?r.PDF:r.NON_PDF,r.SHOWN])},function(){p.set("enable_ngdoc",!1,{silent:!0}),u.logScEvent([r.PREVIEW,y?r.PDF:r.NON_PDF,r.SHOWN])}),s.previewApi.openedFullPreview(i),h=d.getSelectedId(),c.run(h).always(function(){return v.get("selected_plugin_id")||(h=v.get("default_plugin_id"),h&&(t=e.opFactory.create("SelectingPluginOp",i).run(h))),e.opFactory.create("SettingAssetMetadataOp",_.extend({},i,{id:p.get("item_model").id,key:"last_access",value:-1,global:!1})).run(),t})})}))}}),t.OpeningFullPreviewOp}),define("files/dev/ops/preview/selecting-full-preview-plugin-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){t.SelectingFullPreviewPluginOp=e.Op.extend({run:function(t){var n=this.options;return n.appApi.pluginsApi.hasPluginType("full_preview")||n.appApi.pluginsApi.hasPluginType("full_preview_rhp")?e.opFactory.create("SelectingPluginOp",n).run(t):this._getResolvedPromise()}})}),define("files/dev/ops/preview/toggling-full-preview-action-menu-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){t.TogglingFullPreviewActionMenuOp=e.Op.extend({run:function(){var e;return e=this.options.fullPreviewUiModel,e.set("show_action_menu",!e.get("show_action_menu")),this._getResolvedPromise()}})}),define("files/dev/ops/searching/adding-search-field-query-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){return t.AddingSearchFieldQueryOp=e.Op.extend({run:function(){var e=this.options,t=e.searchUiModel,n=e.appApi,r=e.searchFieldQuery,i;return i=r.value,i?t.addFieldQuery(r):t.removeFieldQuery(t.getFieldQueryId(r)),!e.noUrlUpdate&&t.hasQueryBox()&&n.routerApi.navigate(t.appendRootPath(t.getSearchPath(),n.connectorsApi.getConnectorPluginRoot(e.pluginId))),this._getResolvedPromise()}}),t.AddingSearchFieldQueryOp}),define("files/dev/ops/searching/closing-search-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){var n;t.ClosingSearchOp=e.Op.extend({run:function(){var e=this.options,r=e.folderUiModel,i;return n?this._getRejectedPromise():(n=!0,e.searchUiModel.closeSearch(),e.searchModel.resetSearchResults(),e.filesUiModel.set("view",t.FilesUiModel.VIEW_FOLDER),i=r.get("route_folder_id"),i?r.unset("route_folder_id"):i=e.appApi.folderApi.getCurrentFolderId(e.pluginId),t.opFactory.create("NavigatingToFolderOp",e).run(i,{force:!0,ignoreErrors:[404]}).always(function(){n=!1}))}})}),define("files/dev/ops/searching/scan-closing-search-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){var n;t.ScanClosingSearchOp=e.Op.extend({run:function(){var e=this.options,r=e.folderUiModel,i;return n?this._getRejectedPromise():(n=!0,e.searchUiModel.closeSearch(),e.searchModel.resetSearchResults(),e.filesUiModel.set("view",t.FilesUiModel.VIEW_FOLDER),i=r.get("route_folder_id"),i?r.unset("route_folder_id"):i=e.appApi.folderApi.getCurrentFolderId(e.pluginId),t.opFactory.create("NavigatingToScanFolderOp",e).run(i,{force:!0,ignoreErrors:[404]}).always(function(){n=!1}))}})}),define("files/dev/ops/searching/opening-search-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){t.OpeningSearchOp=e.Op.extend({run:function(){var e=this.options;return e.filesUiModel.set("view",t.FilesUiModel.VIEW_SEARCH_RESULTS),t.opFactory.create("SearchingOp",e).run()}})}),define("files/dev/ops/searching/removing-last-field-query-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){return t.RemovingLastFieldQueryOp=e.Op.extend({run:function(){return this.options.searchUiModel.removeLastFieldQuery(),this._getResolvedPromise()}}),t.RemovingLastFieldQueryOp}),define("files/dev/ops/searching/removing-time-field-query-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){return t.RemovingTimeFieldQueryOp=e.Op.extend({run:function(){return this.options.searchUiModel.removeTimeFieldQuery(),this._getResolvedPromise()}}),t.RemovingTimeFieldQueryOp}),define("files/dev/ops/searching/removing-type-field-query-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){return t.RemovingTypeFieldQueryOp=e.Op.extend({run:function(){return this.options.searchUiModel.removeTypeFieldQuery(),this._getResolvedPromise()}}),t.RemovingTypeFieldQueryOp}),define("files/dev/ops/searching/removing-name-field-query-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){return t.RemovingNameFieldQueryOp=e.Op.extend({run:function(){return this.options.searchUiModel.removeNameFieldQuery(),this._getResolvedPromise()}}),t.RemovingNameFieldQueryOp}),define("files/dev/ops/searching/removing-removable-queries-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){return t.RemovingRemovableQueriesOp=e.Op.extend({run:function(){return this.options.searchUiModel.removeRemovableFieldQueries(),this._getResolvedPromise()}}),t.RemovingRemovableQueriesOp}),define("files/dev/ops/searching/removing-search-field-query-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){return t.RemovingSearchFieldQueryOp=e.Op.extend({run:function(){var e=this.options,t=e.searchUiModel;return t.removeFieldQuery(e.searchFieldQuery.id),this._getResolvedPromise()}}),t.RemovingSearchFieldQueryOp}),define("files/dev/ops/searching/searching-if-asked-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){t.SearchingIfAskedOp=e.Op.extend({run:function(){var e=this.options,n=e.searchUiModel,r,i,s,o=t.opFactory,u;return r=n.getFieldQueries(),i=n.getFilters(),s=_.extend({},e),r&&(_.extend(s,{query:r}),i&&_.extend(s,{filter:i})),o=t.opFactory,s.query||s.filter?u=o.create("OpeningSearchOp",s):u=o.create("ClosingSearchOp",e),u.run()}})}),define("files/dev/ops/searching/scan-searching-if-asked-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){t.ScanSearchingIfAskedOp=e.Op.extend({run:function(){var e=this.options,n=e.searchUiModel,r,i,s,o=t.opFactory,u;return r=n.getFieldQueries(),i=n.getFilters(),s=_.extend({},e),r&&(_.extend(s,{query:r}),i&&_.extend(s,{filter:i})),o=t.opFactory,s.query||s.filter?u=o.create("OpeningSearchOp",s):u=o.create("ScanClosingSearchOp",e),u.run()}})}),define("files/dev/ops/searching/searching-op",["core/ac-core","files/ac-files","core/utils/util","core/utils/http-util","core/ops/op"],function(e,t,n,r){var i,s,o,u;t.SearchingOp=e.Op.extend({run:function(){var r=this.options,i=r.pluginId,a=r.searchModel,f=r.searchUiModel,l=r.sortUiModel,c={},h,p,d,v,m,g,y,b,w,E=r.appApi,S=E.displayApi,x=E.routerApi,T,N,C,k,L,A,O,M={},_,D,P,H=[],B=E.connectorsApi,j,F;return m="POST",p=r.query,d=r.filter,p?(f.set("mru_query",p),f.set("mru_filter",d)):(p=f.get("mru_query"),d=f.get("mru_filter")),p?n.isCEF()&&r.searchLocally?(b=a.get("items"),b.reset(),r.rnaRecentFilesSelect?b.reset(r.folderModel.get("items").filter(function(t){var n=!1,r,i,s=p.$and.length,o,u=!0,a;for(r=0;r<s;++r)p.$and[r].hasOwnProperty(e.SearchUiModel.FIELD_ALL)&&(u=!1,i=p.$and[r][e.SearchUiModel.FIELD_ALL].length,i>1&&(a=t.get("name").toLowerCase(),o=p.$and[r][e.SearchUiModel.FIELD_ALL].toLowerCase(),o=o.slice(1,i-1),n=n||a.indexOf(o)>-1));return u?t.isPDF():n&&t.isPDF()})):b.reset(r.folderModel.get("items").filter(function(e){return e.isPDF()})),f.set("status",e.SearchUiModel.STATUS_SUCCEEDED),this._getResolvedPromise()):(f.set("status",e.SearchUiModel.STATUS_SUCCEEDED),t.opFactory.create("ClosingSearchOp",r).run().always(function(){s=undefined,o=undefined,u=undefined})):this._getResolvedPromise()}})}),define("files/dev/ops/searching/uss-searching-op",["core/ac-core","files/ac-files","core/utils/util","core/utils/http-util","core/models/workflow-status-strings","core/utils/sc-analytics","core/ops/op"],function(e,t,n,r,i,s){var o,u;t.USSSearchingOp=e.Op.extend({run:function(){var t=this.options,i=t.ussSearchModel,a=t.searchUiModel,f,l,c,h,p,d=t.appApi,v=t.useCacheToUpdate,m=t.isMultiScopeMultiStartIndicesQuery,g=d.displayApi,y=$.Deferred(),b=[],w=0,E;return this.isReviewDisabled=i.isSearchCategoryDisabled("review"),this.isViewDisbaled=i.isSearchCategoryDisabled("parcel"),d.rnaApi.done(_.bind(function(w){function C(e){return o===e.op._requestId}var S=t.SCserverURL,x=t.ACPserverURL,T=t.isACPuser;l="POST",t.noOfSBOcallsParsed=0,f=t.search_query;var N=t.search_scope;f?a.set("mru_query",f):f=a.get("mru_query");if(_.isEqual(f,u))return this._getRejectedPromise();u=f,o=this._requestId=_.uniqueId(),p={op:this};if(v===!0&&N.length==1){var k=!1,L=N[0];a.setScopeStatus(L,e.SearchUiModel.STATUS_PENDING),k=this._updateResultFromCache(L,i,a,this.options.searchModel),u=undefined,a.setScopeStatus(L,e.SearchUiModel.STATUS_SUCCEEDED);if(k)return this._getResolvedPromise()}if(m===!0&&N.length==1){var A=N[0],O=[];a.setScopeStatus(A,e.SearchUiModel.STATUS_PENDING),c={q:f,fetch_fields:{includes:["asset_list","participant_list"]},subscope:["document_cloud"],document_cloud_asset_type:["asset"]};if(A==="parcel"||A==="review")i&&!this.isReviewDisabled&&O.push("review"),i&&!this.isViewDisbaled&&O.push("parcel");_.each(O,_.bind(function(e){var f,v,m=A==="parcel"?["sender"]:["receiver"];e==="parcel"?(v=this.options.searchModel.get("parcelCollection")._numberOfViews,_.extend(c,{scope:[e],ownership_types:m,start_index:v})):e==="review"&&(v=this.options.searchModel.get("parcelCollection")._numberOfReviews,_.extend(c,{scope:[e],ownership_types:m,start_index:v})),_.defer(function(){a.isSearchPending()&&g.showSpinner(!0)}),h=JSON.stringify(c),h=n.compressQuestionMarks(h),d.networkApi.throttledAjax(E,{type:l,headers:r.getUSSRequestHeaders(),context:p,data:h,dataType:"json",global:!1}).then(_.bind(function(n){g.showSpinner(!1),b.push(this._parseUSSResponseForSingleScope(n,a,i,t.noSearchReset,e,A)),b.length===O.length&&$.when.apply($,b).then(_.bind(function(){g.showSpinner(!1),this._updateParsedResultToCollection(A,a),y.resolve()},this),_.bind(function(){g.showSpinner(!1),y.reject()},this))},this),_.bind(function(e){g.showSpinner(!1),this._updateFailedStatusForSingleScope(e,A,this,o),d.siteCatalystApi.logVirgoEvent(s.SEARCH,"Error:"+e.status),y.reject()},this)).always(function(){u=undefined})},this))}else _.each(N,_.bind(function(o){var v;o==="creative_cloud"?(c=this._requestBodyForACPServer(T,a,f),E=x):(c=this._requestIdBodyForSCServer(i,o,f,a),E=S),_.defer(function(){a.isSearchPending()&&g.showSpinner(!0)}),h=JSON.stringify(c),h=n.compressQuestionMarks(h),v=d.networkApi.throttledAjax(E,{type:l,headers:r.getUSSRequestHeaders(),context:p,data:h,dataType:"json",global:!1}).then(_.bind(function(e){g.showSpinner(!1),this._parseUSSResponse(e,a,i,t.noSearchReset,o,T)},this),function(t){g.showSpinner(!1),t.status===401?d.sessionApi.refreshAccessToken():C(this)&&_.each(N,function(t){a.setScopeStatus(t,e.SearchUiModel.STATUS_FAILED)}),d.siteCatalystApi.logVirgoEvent(s.SEARCH,"Error:"+t.status)}).always(function(){u=undefined}),b.push(v)},this)),$.when.apply($,b).then(_.bind(function(){g.showSpinner(!1),i.syncSearchResultCount(),y.resolve()},this),_.bind(function(){g.showSpinner(!1),y.reject()},this))},this)),y.promise()},_requestBodyForACPServer:function(t,n,r){var i={q:r,fetch_fields:{includes:["api:metadata/application$$docCloud:documentCustomMetadata","api:metadata/peruser#mine$$shell:favorite","api:metadata/peruser#mine$$shell:lastAccessDate","api:metadata/peruser#mine$$docCloud:userCustomMetadata","collab_metadata.collaborators","collab_metadata.shared_by"]},scope:["creative_cloud"],sort_orderby:"sync_updated_date",sort_order:"desc",limit:500,start_index:0,op_none_of:[{"api:metadata/application$$shell:visibility":["hiddenSelf","hiddenRecursive"]},{"app_metadata$$project:directoryType":"team"},{op_field_exists:["app_metadata$$cc:inherited$$cc:team","app_metadata$$review:sourceAsset$$dc:format"]}],creative_cloud_asset_type:["asset","collection"],creative_cloud_toplevel_collection_name:"cloud-content",hints:[{enable_content_search:!0}],asset_id_opacity:!0};return t?(n.setScopeStatus("document_cloud",e.SearchUiModel.STATUS_PENDING),n.setScopeStatus("review",e.SearchUiModel.STATUS_PENDING),n.setScopeStatus("parcel",e.SearchUiModel.STATUS_PENDING)):n.setScopeStatus("review",e.SearchUiModel.STATUS_PENDING),i},_requestIdBodyForSCServer:function(t,n,r,i){i.setScopeStatus(n,e.SearchUiModel.STATUS_PENDING);var s=[],o={q:r,fetch_fields:{includes:["asset_list","participant_list"]},subscope:["document_cloud"],document_cloud_asset_type:["asset"],limit:1e3};return t&&!this.isViewDisbaled&&s.push("parcel"),t&&!this.isReviewDisabled&&s.push("review"),n==="document_cloud"?(_.extend(o,{scope:["document_cloud"]}),_.extend(o,{hints:[{document_cloud_enable_content_search:!0}]}),_.extend(o,{op_none_of:{file_name_extension:"sequ"}})):n==="review"?_.extend(o,{scope:s,ownership_types:["receiver"]}):n==="parcel"&&_.extend(o,{scope:s,ownership_types:["sender"]}),this.options.startIndex&&_.extend(o,{start_index:this.options.startIndex}),o},_trimAssetSchemaId:function(e){var t=e;return t},_segregateAndParseFiles:function(e,t,n,r){var i={},s={},o={};i.result_sets=[],i.result_sets.push({items:[],status:{http_code:e.result_sets[0].status.http_code}}),s.result_sets=[],s.result_sets.push({items:[],status:{http_code:e.result_sets[0].status.http_code},name:"creative_cloud"}),o.result_sets=[],o.result_sets.push({items:[],status:{http_code:e.result_sets[0].status.http_code},name:"creative_cloud"});var u=this.options.appApi.usersMeApi.getUserIdentity().user_id.toLowerCase(),a=!1;_.each(e.result_sets[0].items,_.bind(function(e){e.collab_metadata&&e.collab_metadata.shared_by?e.collab_metadata.shared_by.length==0?i.result_sets[0].items.push(e):(a=!1,_.each(e.collab_metadata.shared_by,_.bind(function(t){t.toLowerCase()===u&&(i.result_sets[0].items.push(e),s.result_sets[0].items.push(e),a=!0)},this)),a||o.result_sets[0].items.push(e)):i.result_sets[0].items.push(e)},this)),i.metrics={total_hits:i.result_sets[0].items.length},s.metrics={total_hits:s.result_sets[0].items.length},o.metrics={total_hits:o.result_sets[0].items.length},this._parserCommonCode(i,t,n,r,"document_cloud",!0),this._parserCommonCode(s,t,n,r,"parcel",!0),this._parserCommonCode(o,t,n,r,"review",!0)},_getDCitemsForACP:function(e){var t=_.map(e.items,_.bind(function(e){var t=!1,n=undefined;return e["api:metadata/peruser"]&&e["api:metadata/peruser"][0]&&e["api:metadata/peruser"][0]["shell:lastAccessDate"]&&(n=e["api:metadata/peruser"][0]["shell:lastAccessDate"]),e&&e.collab_metadata&&e.collab_metadata.shared_by&&e.collab_metadata.shared_by.length&&(t=!0),{id:e.asset_id,name:e.asset_name,created:e.sync_created_date?e.sync_created_date:e.create_date,modified:e.sync_updated_date?e.sync_updated_date:e.modify_date,last_access:n,size:e.size,parent_id:e.parent_id?e.parent_id:"",object_type:e.creative_cloud_asset_type=="collection"?"folder":"file",content_type:e.type,source:"native",is_shared:t}},this));return t},_getDCitemsForSC:function(e){var t=_.map(e.items,_.bind(function(e){var t=!1;return e&&e.custom_document_cloud_metadata&&e.custom_document_cloud_metadata.is_shared&&(t=!0),{id:e.asset_id,name:e.asset_name,created:e.create_date,modified:e.modify_date,last_access:e.last_access_date,size:e.size,parent_id:e.parent_id?e.parent_id:"",object_type:e.document_cloud_asset_type=="collection"?"folder":"file",content_type:e.type,source:"native",is_shared:t}},this));return t},_parseACPSharedFiles:function(e){var t=this.options.appApi.usersMeApi.getUserIdentity().user_id,n=_.map(e,_.bind(function(e){var n={id:e.asset_id,asset_id:e.asset_id,name:e.asset_name?e.asset_name:"",create_date:e.sync_created_date||e.create_date||e.sync_updated_date||e.modify_date,modify_date:e.sync_updated_date?e.sync_updated_date:e.modify_date,WorkflowType:i.CREATIVE_CLOUD,docType:e.type},r,s=i.UNOPENED;e["api:metadata/application"]&&e["api:metadata/application"]["docCloud:documentCustomMetadata"]&&(r=e["api:metadata/application"]["docCloud:documentCustomMetadata"].reviewDeadline),e["api:metadata/peruser"]&&e["api:metadata/peruser"][0]&&(n.user_last_access_date=e["api:metadata/peruser"][0]["shell:lastAccessDate"],n.user_last_access_date&&(s=i.OPENED_UCASE),e["api:metadata/peruser"][0]["docCloud:userCustomMetadata"]&&e["api:metadata/peruser"][0]["docCloud:userCustomMetadata"].reviewStatus&&(s=e["api:metadata/peruser"][0]["docCloud:userCustomMetadata"].reviewStatus)),n.aep_workflow_info={id:e.asset_id,deadline_date:r,intro_message:e.message,intro_subject:e.asset_name?e.asset_name:"",user_role:"receiver",state:"",user_status:s,collaborators:[],isOrgShareItem:!0,creator:e.collab_metadata.shared_by},_.each(e.collab_metadata.shared_by,function(e){if(e.toLowerCase()===t.toLowerCase())return n.aep_workflow_info.user_role="sender",n.aep_workflow_info.isOrgShareItem=!1,!1});var o=t.toLowerCase();return _.each(e.collab_metadata.collaborators,function(t){t.collaborator_id.toLowerCase()===o&&(n.aep_workflow_info.creator=t.inviter_id,n.aep_workflow_info.isOrgShareItem=!1),n.aep_workflow_info.collaborators.push({role:t.role,adobe_id:t.collaborator_id,id:e.asset_id})}),n.resources=[],n.resources.push({name:e.asset_name,size:e.size,type:e.type,asset_id:e.asset_id,id:e.asset_id}),n},this));return n},_parseUSSResponse:function(e,t,n,r,i,s){e&&e.metrics&&(i==="creative_cloud"?s?this._segregateAndParseFiles(e,t,n,r):this._parserCommonCode(e,t,n,r,"review",s):this._parserCommonCode(e,t,n,r,i,s))},_parserCommonCode:function(t,n,r,s,o,u){var a=this.options.appApi.usersMeApi.getUserIdentity().user_id,f=s?this.options.searchModel:r.getSearchModel(o),l=r.getGlobalSearchModel(o);n.setScopeStatus(o,e.SearchUiModel.STATUS_PENDING);if(o==="document_cloud")f.set("total_hits",t.result_sets[0].items.length),_.each(t.result_sets,_.bind(function(t){var r;u?r=this._getDCitemsForACP(t):r=this._getDCitemsForSC(t),s?l.get("items").add(r):l.get("items").reset(r),f.set("http_code",t.status.http_code),l.set("http_code",t.status.http_code),t.status.http_code===200?n.setScopeStatus(o,e.SearchUiModel.STATUS_SUCCEEDED):n.setScopeStatus(o,e.SearchUiModel.STATUS_FAILED)},this)),r&&this._updateResultFromCache(o,r,n,f);else if(o==="review"||o==="parcel"){var c={WorkflowData:[],numberOfViews:0},h={WorkflowData:[],numberOfReviews:0},p={WorkflowData:[]},d,v,m,g,y={review:!1,parcel:!1,creative_cloud:!1},b={review:"",parcel:"",creative_cloud:""},w=0;_.each(t.result_sets,_.bind(function(e){e.name==="review"?(v=this._parseReviewItems(e.items),v&&(h.WorkflowData=v,h.numberOfReviews=v.length)):e.name==="parcel"?(d=this._parseParcelItems(e.items),d&&(c.WorkflowData=d,c.numberOfViews=d.length)):e.name==="creative_cloud"&&(g=this._parseACPSharedFiles(e.items),m=_.filter(g,function(e){return e.aep_workflow_info.isOrgShareItem?(++w,!1):!0}),m&&(p.WorkflowData=m)),b[e.name]=e.status.http_code,e.status.http_code===200&&(y[e.name]=!0)},this));var E=t.result_sets[0].items.length;E-=w,t.result_sets.length>=2&&t.result_sets[1].items&&(E+=t.result_sets[1].items.length);if(s)f.set("total_hits",E),d&&l.get("parcelCollection").add(d),v&&l.get("parcelCollection").add(v),m&&l.get("parcelCollection").add(m);else if(o==="review"&&this.options.noOfSBOcallsParsed===1)f.set("total_hits",f.get("total_hits")+E),d&&l.get("parcelCollection").add(d),v&&l.get("parcelCollection").add(v),m&&l.get("parcelCollection").add(m),this.options.noOfSBOcallsParsed=2;else{f.set("total_hits",E);var S=new e.ParcelCollection([],{wfType:o==="review"?i.REVIEW:i.SEND_TRACK,sortAscending:!1,sortField:"modify_date"});S.pushData(c),S.pushData(h),S.pushData(p),l.set("parcelCollection",S),o==="review"&&(this.options.noOfSBOcallsParsed=1)}!this.isReviewDisabled&&b.review!==200||!this.isViewDisbaled&&b.parcel!==200?b.creative_cloud===200?f.set("http_code",200):b["review"]!=200?f.set("http_code",b.review):f.set("http_code",b.parcel):f.set("http_code",200),l.set("http_code",f.get("http_code")),!this.isReviewDisabled&&y.review!==!0||!this.isViewDisbaled&&y.parcel!==!0?y.creative_cloud===!0?n.setScopeStatus(o,e.SearchUiModel.STATUS_SUCCEEDED):n.setScopeStatus(o,e.SearchUiModel.STATUS_FAILED):n.setScopeStatus(o,e.SearchUiModel.STATUS_SUCCEEDED),this._updateResultFromCache(o,r,n,f)}this.options.appApi.rnaApi.done(function(e){e.logPerformance("GlobalSearch","end")})},_parseUSSResponseForSingleScope:function(e,t,n,r,i,s){if(e&&e.metrics){var o=this.options.appApi.usersMeApi.getUserIdentity().user_id,u=r?this.options.searchModel:n.getSearchModel(i),a={WorkflowData:[],numberOfViews:0},f={WorkflowData:[],numberOfReviews:0},l,c,h=!1,p="",d=e.result_sets[0];return p=d.status.http_code,d.status.http_code===200&&(h=!0),i==="parcel"?(l=this._parseParcelItems(d.items),l&&(a.WorkflowData=l,a.numberOfViews=l.length),this.parcelsParsedResult={searchScope:s,scope:i,status:h,statusHttpCode:p,workflowData:a}):i==="review"&&(c=this._parseReviewItems(d.items),c&&(f.WorkflowData=c,f.numberOfReviews=c.length),this.reviewsParsedResult={searchScope:s,scope:i,status:h,statusHttpCode:p,workflowData:f}),this._getResolvedPromise()}return this._getRejectedPromise()},_updateParsedResultToCollection:function(t,n){var r=this.options.searchModel,i,s,o,u,a,f,l,c;i=this.parcelsParsedResult.status,o=this.parcelsParsedResult.statusHttpCode,a=this.parcelsParsedResult.workflowData,s=this.reviewsParsedResult.status,u=this.reviewsParsedResult.statusHttpCode,f=this.reviewsParsedResult.workflowData,a&&a.numberOfViews&&(l=this.options.searchModel.get("parcelCollection")._numberOfViews+a.numberOfViews,r.get("parcelCollection")._numberOfViews=l,r.get("parcelCollection").add(a.WorkflowData),this.options.collection.add(a.WorkflowData),this.options.collection._numberOfViews=l),f&&f.numberOfReviews&&(c=this.options.searchModel.get("parcelCollection")._numberOfReviews+a.numberOfReviews,r.get("parcelCollection")._numberOfReviews=c,r.get("parcelCollection").add(f.WorkflowData),this.options.collection.add(f.WorkflowData),this.options.collection._numberOfReviews=c),!this.isViewDisbaled&&o!==200||!this.isReviewDisabled&&u!==200?o!=200?r.set("http_code",o):r.set("http_code",u):r.set("http_code",200),!this.isReviewDisabled&&s!==!0||!this.isViewDisbaled&&i!==!0?n.setScopeStatus(t,e.SearchUiModel.STATUS_FAILED):n.setScopeStatus(t,e.SearchUiModel.STATUS_SUCCEEDED)},_updateFailedStatusForSingleScope:function(t,n,r,i){this.jqXHR_Status&&this.jqXHR_Status.status===401||t.status===401?this.options.appApi.sessionApi.refreshAccessToken():(this.jqXHR_Status=t,i===r.op._requestId&&searchUiModel.setScopeStatus(n,e.SearchUiModel.STATUS_FAILED))},_updateResultFromCache:function(t,n,r,s){var o=0,u=50,a,f=!1,l=[],c,h=n.getGlobalSearchModel(t);if(h&&h.get("http_code")===200){if(t==="document_cloud"){o=this.options.noSearchReset?s.get("items").length:0,u=s.getSearchResultCount()>o+50?o+50:s.getSearchResultCount();if(o<u)for(a=o;a<u;a++)l.push(h.get("items").at(a));o==0||!this.options.noSearchReset?s.get("items").reset(l):s.get("items").add(l)}else if(t==="parcel"||t==="review"){var p=0,d=0;o=_.isUndefined(s.get("parcelCollection"))||!this.options.noSearchReset?0:s.get("parcelCollection").length,u=s.getSearchResultCount()>o+50?o+50:s.getSearchResultCount();if(o<u)for(a=o;a<u;a++)c=h.get("parcelCollection").at(a),c.attributes.WorkflowType==="Send_And_Track"?p++:d++,l.push(c);if(_.isUndefined(s.get("parcelCollection"))||!this.options.noSearchReset){var v=new e.ParcelCollection([],{wfType:t==="review"?i.REVIEW:i.SEND_TRACK,sortAscending:!1,sortField:"modify_date"});s.set("parcelCollection",v)}s.get("parcelCollection")._numberOfViews+=p,s.get("parcelCollection")._numberOfReviews+=d,s.get("parcelCollection").add(l),this.options.collection&&this.options.noSearchReset&&this.options.collection.add(l)}f=!0}return f},_parseParcelItems:function(e){var t=this.options.appApi.usersMeApi.getUserIdentity().user_id,n=_.map(e,_.bind(function(e){var n={id:e.parcel_id,asset_id:e.parcel_id,name:e.name?e.name:"",create_date:e.create_date||e.modify_date,modify_date:e.modify_date,WorkflowType:"Send_And_Track",docType:""};return n.aep_workflow_info={id:e.parcel_id,deadline_date:e.deadline_date,intro_message:e.message,intro_subject:e.name?e.name:"",state:e.state,user_role:e.ownership_types,is_consented:!0,user_last_access_date:e.last_access_date||e.user_last_access_date,collaborators:[],creatorName:"",creatorEmail:""},_.each(e.participant_list,function(e){t===e.participant_id&&(n.asset_id=e.invitation_id,n.aep_workflow_info.invitationUrn=e.invitation_id),e.ownership_types=="sender"?(n.aep_workflow_info.creator={adobe_id:e.participant_id,id:""},n.aep_workflow_info.creatorName=e.label?e.label:e.email?e.email:"",n.aep_workflow_info.creatorEmail=e.email?e.email:""):n.aep_workflow_info.collaborators.push({role:e.ownership_types=="sender"?"creator":"participant",email:e.email?e.email:"",name:e.label?e.label:e.email?e.email:"",id:e.invitation_id,status:e.opened_state?"opened":"not-opened",adobe_id:e.participant_id,isLiveParticipant:e.opened_state,participant_last_access_date:e.last_access_date})}),n.resources=[],_.each(e.asset_list,_.bind(function(e){n.resources.push({name:e.asset_name,size:e.size,type:e.type,asset_id:e.asset_id?e.asset_id:""}),n.docType=e.type},this)),n},this));return n},_parseReviewItems:function(e){var t=this.options.appApi.usersMeApi.getUserIdentity().user_id,n=_.map(e,_.bind(function(e){var n={id:e.parcel_id,asset_id:e.parcel_id,name:e.name?e.name:"",create_date:e.create_date||e.modify_date,modify_date:e.modify_date,WorkflowType:"Review",docType:""};n.aep_workflow_info={id:e.parcel_id,deadline_date:e.expire_date,intro_message:e.message,intro_subject:e.name?e.name:"",state:e.state,user_role:e.ownership_types?e.ownership_types:"",user_status:e.user_status,collaborators:[],creatorName:"",creatorEmail:""};var r="";return _.each(e.participant_list,function(e){e.ownership_types=="sender"&&(n.aep_workflow_info.creator={adobe_id:e.participant_id,id:""},n.aep_workflow_info.creatorName=e.label?e.label:"",n.aep_workflow_info.creatorEmail=e.email?e.email:""),t===e.participant_id&&(r=e.invitation_id,n.asset_id=r,n.aep_workflow_info.invitationUrn=r,n.aep_workflow_info.user_last_access_date=e.last_access_date),n.aep_workflow_info.collaborators.push({role:e.ownership_types=="sender"?"creator":"participant",email:e.email?e.email:"",name:e.label?e.label:"",status:e.is_guest||e.status_path&&e.status_path.indexOf("COMMENTED")!=-1?"COMMENTED":e.status,adobe_id:e.participant_id,isLiveParticipant:e.opened_state,participant_last_access_date:e.last_access_date})}),n.resources=[],_.each(e.asset_list,_.bind(function(t){n.resources.push({name:t.asset_name,size:t.size,type:t.type,asset_id:e.parcel_id,id:r||e.parcel_id}),n.docType=t.type},this)),n},this));return n}})}),define("files/dev/ops/sharing/sharing-item-from-panel-op",["core/ac-core","core/ops/op"],function(e){e.SharingItemFromPanelOp=e.Op.extend({run:function(){var t=this.options,n,r,i,s,o;return n=t.model,i=t.isPublic,s=t.global,s===undefined&&(s=!0),r={model:n,isPublic:i,global:s},o=e.opFactory.create("SharingItemOp",r).run(),o.fail(function(e){t.appApi.errorApi.enqueueAjaxError(e)})}})}),define("files/dev/ops/sharing/sharing-items-from-dlg-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){t.SharingItemsFromDlgOp=e.Op.extend({run:function(){var n=this.options,r,i,s,o,u=[],a;return i=n.modelsToProcess,o=n.isPublic,r=n.sharingUiModel,i.length>0&&r.set({status:t.SharingUiModel.STATUS_PENDING}),_.each(i,function(t){s={model:t,isPublic:o},a=e.opFactory.create("SharingItemOp",s).run(),a.fail(function(e){r.enqueueAjaxError(t,e)}),u.push(a)}),$.when.apply(null,u).done(function(){r.set({status:t.SharingUiModel.STATUS_SUCCEEDED})})}})}),define("files/dev/ops/user/restoring-files-prefs-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){return t.RestoringFilesPrefsOp=e.Op.extend({run:function(){var e=this.options,t=e.sortUiModel,n,r,i,s,o,u,a,f=e.collectionsUiModel,l;if(e.noPreferences)return;n=e.appApi.usersMeApi.getUserPrefsByCategory("files"),r=n[e.pluginId]||n,l=e.appApi.routerApi.getQueryParams(),i=r.sort;if(i&&!t.hasSortQueryParam(l)){if(i.order_by==="size"||i.order_by==="last_access"||i.order_by==="ext")i.order_by="name";t.set({order_by:i.order_by,order_direction:i.order_direction,mru_date_order:i.mru_date_order})}return s=r.collections,s&&!f.hasViewQueryParam(l)&&f.set("view",s.view),o=r.fullPreview,o&&(u=o.show_info,a=o.show_rhp,u&&!a&&(a=u),e.fullPreviewUiModel.set("show_rhp",a)),this._getResolvedPromise()}}),t.RestoringFilesPrefsOp}),define("files/dev/ops/user/saving-files-prefs-op",["core/ac-core","files/ac-files","core/ops/op"],function(e,t){return t.SavingFilesPrefsOp=e.Op.extend({run:function(){var e=this.options,t=e.appApi.usersMeApi,n=e.sortUiModel,r=e.collectionsUiModel,i=e.fullPreviewUiModel,s,o,u=this._getResolvedPromise();return e.noPreferences?u:(o={sort:{order_by:n.get("order_by"),order_direction:n.get("order_direction"),mru_date_order:n.get("mru_date_order")},collections:{view:r.get("view")},fullPreview:{show_rhp:i.get("show_rhp")}},s=t.getUserPrefsByCategory("files"),s[e.pluginId]=o,t.setUserPrefs("files",s))}}),t.SavingFilesPrefsOp}),define("files/dev/ops/op-factory",["core/ac-core","files/ac-files","files/ops/acrobat/initializing-acrobat-op","files/ops/acrobat/selecting-acrobat-filter-op","files/ops/creating/creating-folder-from-dlg-op","files/ops/dialogs/showing-new-folder-dlg-op","files/ops/listening/listening-for-current-folder-notifications-op","files/ops/listening/listening-for-dup-errors-op","files/ops/listening/listening-for-file-upload-events-op","files/ops/listening/listening-for-quota-errors-op","files/ops/listening/listening-for-search-invalidation-op","files/ops/listening/listening-for-search-queries-change-op","files/ops/listening/listening-for-selection-change-op","files/ops/listening/listening-for-view-events-op","files/ops/manipulation/deleting-full-preview-item-if-confirmed-op","files/ops/misc/changing-collection-view-op","files/ops/misc/navigating-to-folder-op","files/ops/misc/navigating-to-scan-folder-op","files/ops/misc/navigating-to-acroprefs-folder-op","files/ops/misc/opening-collection-item-op","files/ops/misc/opening-selected-collection-items-op","files/ops/misc/save-as-selected-collection-items-op","files/ops/misc/sorting-collection-op","files/ops/misc/toggling-filter-menu-op","files/ops/misc/toggling-sort-menu-op","files/ops/preview/closing-full-preview-op","files/ops/preview/creating-ngdoc-rendition-op","files/ops/preview/getting-full-preview-metadata-op","files/ops/preview/listening-for-ngdoc-job-status-op","files/ops/preview/loading-full-preview-plugins-op","files/ops/preview/opening-full-preview-op","files/ops/preview/selecting-full-preview-plugin-op","files/ops/preview/toggling-full-preview-action-menu-op","files/ops/searching/adding-search-field-query-op","files/ops/searching/closing-search-op","files/ops/searching/scan-closing-search-op","files/ops/searching/opening-search-op","files/ops/searching/removing-last-field-query-op","files/ops/searching/removing-time-field-query-op","files/ops/searching/removing-type-field-query-op","files/ops/searching/removing-name-field-query-op","files/ops/searching/removing-removable-queries-op","files/ops/searching/removing-search-field-query-op","files/ops/searching/searching-if-asked-op","files/ops/searching/scan-searching-if-asked-op","files/ops/searching/searching-op","files/ops/searching/uss-searching-op","files/ops/sharing/sharing-item-from-panel-op","files/ops/sharing/sharing-items-from-dlg-op","files/ops/user/restoring-files-prefs-op","files/ops/user/saving-files-prefs-op","core/ops/dialogs/show-custom-range-dlg-op"],function(e,t){t.OpFactory=e.Op.extend({create:function(e,n){var r=t[e];if(!!r)return new r(n);LOG(0,"AcFiles.OpFactory.create: Unrecognized class: "+e)}})}),define("files/dev/ac-files-init",["files/ac-files","files/models/model-factory","files/models/ui/ui-model-factory","files/ops/op-factory"],function(e){return _.extend(e,{modelFactory:new e.ModelFactory,uiModelFactory:new e.UiModelFactory,opFactory:new e.OpFactory}),e}),define("files/dev/templates/files-header-template",[],function(){return'<div class="files-header-label theme-header-text"><%= fileHeaderLabel %></div><div class="files-header-count files-header-label theme-header-text"><%= fileHeaderCount %></div><div class="search-control ui-theme theme-container"></div> <div role="toolbar" class="files-header-btns right"    <% if (pluginSelectorId.length > 0) { %>            aria-labelledby="<%= pluginSelectorId %>"    <% } %>>    <button class="files-header-btn files-new-folder-btn "         title="<%= newFolder %>"         data-test-name="files-header-new-folder-btn">        <span class="hidden-accessible"><%= newFolder %></span>    </button>     <div class="files-header-btn files-upload-btn"         data-test-name="files-header-upload-btn"         title="<%= uploadFile %>">        <div class="files-upload-icon">            <form method="POST" enctype="multipart/form-data">                <input class="upload-file file" type="file"                       name="file"                       title="<%= uploadFile %>" multiple>                </input>                <div class="files-upload-btn-focus"></div>            </form>        </div>    </div>     <button class="files-header-btn files-sort-menu-btn"            title="<%= sort %>"            data-test-name="files-header-sort-menu-btn"            aria-haspopup="true"            aria-owns="files-sort-menu-<%= viewId %>">        <span class="hidden-accessible"><%= sort %></span>    </button>    <div id="files-sort-menu-<%= viewId %>"          class="files-sort-menu menu ui-theme theme-container" role="menu"></div> </div>'}),define("files/dev/templates/sort-menu-template",[],function(){return'<div role="radiogroup"        class = "viewGroupOne"        aria-labelledby="        files-sort-menu-view-by-section-header-<%= viewId %>">    <div id="files-sort-menu-view-by-section-header-<%= viewId %>"         class="section-header first files-sort-menu-item-common theme-text"         role="heading">        <%= viewBy %></div>    <button class="files-sort-menu-item files-sort-menu-item-common theme-text theme-hoverable"            data-section="view-by" data-value="list"            data-test-name="sort-menu-item-view-by-list"            role="menuitem" tabindex="-1">        <%= list %>&nbsp;        <span class="files-sort-menu-item-selected-icon"></span>    </button>    <button class="files-sort-menu-item files-sort-menu-item-common theme-text theme-hoverable"            data-section="view-by" data-value="thumbnail"            data-test-name="sort-menu-item-view-by-thumbnail"            role="button" tabindex="-1">        <%= thumbnail %>&nbsp;        <span class="files-sort-menu-item-selected-icon"></span>    </button></div><div role="separator" class = "sortSeperator"></div><div role="radiogroup"     aria-labelledby="        files-sort-menu-sort-by-section-header-<%= viewId %>">    <div id="files-sort-menu-sort-by-section-header-<%= viewId %>"         class="section-header files-sort-menu-item-common theme-text"         role="heading">        <%= sortBy %></div>    <button class="files-sort-menu-item files-sort-menu-item-common theme-text theme-hoverable"            data-section="sort-by" data-value="name"            data-test-name="sort-menu-items-sort-by-file-name"            role="button" tabindex="-1">        <%= sortByFileName %>&nbsp;        <div class="files-sort-menu-item-order-icon"></span>    </button>    <button class="files-sort-menu-item files-sort-menu-item-common theme-text theme-hoverable"            data-section="sort-by" data-value="created"            data-test-name="sort-menu-items-sort-by-date-created"            role="button" tabindex="-1">        <%= sortByDateAdded %>&nbsp;        <span class="files-sort-menu-item-order-icon"></span>    </button>    <button class="files-sort-menu-item files-sort-menu-item-common theme-text theme-hoverable"            data-section="sort-by" data-value="modified"            data-test-name="sort-menu-items-sort-by-date-modified"            role="button" tabindex="-1">        <%= sortByDateModified %>&nbsp;        <span class="files-sort-menu-item-order-icon"></span>    </button></div> <div class="menu-nub-grey"></div>'}),define("files/dev/views/sort-menu-view",["core/ac-core","files/ac-files","files/templates/sort-menu-template","i18n!files/nls/ui-strings","core/utils/sc-analytics","core/utils/css-util","core/utils/util","core/views/menu-view"],function(e,t,n,r,i,s,o){var u={};return t.SortMenuView=e.MenuView.extend({events:function(){return _.extend({},e.MenuView.prototype.events,{"click .files-sort-menu-item":"_onMenuItemClick","focusin .files-sort-menu-item":"_onMenuFocusInHC","focusout .files-sort-menu-item":"_onMenuFocusOutHC"})},initialize:function(){var t=e.SortUiModel;e.MenuView.prototype.initialize.call(this),u[t.ORDER_BY_FILE_NAME]=[i.FILE_NAME_UP,i.FILE_NAME_DOWN],u[t.ORDER_BY_FILE_TYPE]=[i.FILE_TYPE_UP,i.FILE_TYPE_DOWN],u[t.ORDER_BY_FILE_SIZE]=[i.FILE_SIZE_UP,i.FILE_SIZE_DOWN],u[t.ORDER_BY_DATE_ADDED]=[i.DATE_ADDED_UP,i.DATE_ADDED_DOWN],u[t.ORDER_BY_DATE_MODIFIED]=[i.DATE_MODIFIED_UP,i.DATE_MODIFIED_DOWN],u[t.ORDER_BY_DATE_LAST_ACCESS]=[i.DATE_ACCESSSED_UP,i.DATE_ACCESSED_DOWN]},render:function(){e.MenuView.prototype.render.call(this),this.$el.children().length===0&&(this.$el.html(_.template(n)({viewBy:r.VIEW_BY,list:r.LIST,thumbnail:r.THUMBNAIL,sortBy:r.SORT_BY,sortByFileName:r.SORT_BY_FILE_NAME,sortByDateAdded:r.SORT_BY_DATE_ADDED,sortByDateModified:r.SORT_BY_DATE_MODIFIED,viewId:this.options.viewId})),this._initWrappers()),this._showCurrentView(),this._showCurrentSort(),this.options.appApi.selectionApi.isRunningInFileSelection()||o.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()||(this.$viewGroupOne.css("display","none"),this.$sortSeperator.css("display","none"),this.$sectionHeader.addClass("virgo-section-header"))},open:function(t){return this._logSiteCatalystEvent([i.SORT,i.SHOWN]),e.MenuView.prototype.open.call(this,t)},_initWrappers:function(){e.MenuView.prototype._initWrappers.call(this),this.$viewMenuItems=this.$(".files-sort-menu-item[data-section='view-by']"),this.$sortMenuItems=this.$(".files-sort-menu-item[data-section='sort-by']"),this.$sortMenuItemOrderIcons=this.$(".files-sort-menu-item-order-icon"),this.$fileInfoMenuItem=this.$(".files-sort-menu-item[data-value='file-info']"),this.$viewGroupOne=this.$(".viewGroupOne"),this.$sortSeperator=this.$(".sortSeperator"),this.$sectionHeader=this.$(".files-sort-menu-item-common")},_showCurrentView:function(){var e=this.options.collectionsUiModel,t;this.$viewMenuItems.removeClass("selected").attr("aria-checked","false"),t=this.$("[data-value="+e.get("view")+"]"),t.addClass("selected").attr("aria-checked","true")},_showCurrentSort:function(){var e=this.options.sortUiModel,t,n;e.get("is_locked")&&this.$sortMenuItems.addClass("disabled").attr({disabled:"disabled","aria-disabled":"true"}),this.$sortMenuItems.removeClass("ascending descending").attr("aria-checked","false"),this.$sortMenuItemOrderIcons.removeAttr("aria-label"),t=this.$("[data-value="+e.get("order_by")+"]"),n=t.find(".files-sort-menu-item-order-icon"),e.isAscending()?(t.addClass("ascending").attr("aria-checked","true"),n.attr("aria-label",r.ASCENDING)):(t.addClass("descending").attr("aria-checked","true"),n.attr("aria-label",r.DESCENDING))},_onMenuItemClick:function(e){var t=$(e.currentTarget),n=t.attr("data-section"),r=t.attr("data-value");if(t.hasClass("disabled")){this.close();return}this.close(_.bind(function(){n==="view-by"?this._viewBy(r):n==="sort-by"&&this._sortBy(r)},this))},_viewBy:function(t){this._logSiteCatalystEvent([i.VIEW_BY,t==="list"?i.LIST:i.THUMB,i.CHECKED]),this._triggerViewEvent(e.ViewEvents.VIEW_BY,{view:t})},_sortBy:function(t){var n=this.options,r=n.sortUiModel,s,o,a,f;s=r.get("order_by"),a=e.SortUiModel.ORDER_ASCENDING,f=e.SortUiModel.ORDER_DESCENDING,t===s?r.isAscending()?o=f:o=a:o=r.getOrderDirection(t),this._logSiteCatalystEvent([i.SORT_BY,u[t][o===a?0:1]]),this._triggerViewEvent(e.ViewEvents.SORT,{orderBy:t,orderDirection:o})},_getSiteCatalystContext:function(){return this.options.noUrlUpdate?undefined:i.SEARCH_BAR},_onMenuFocusInHC:function(e){var t=$(e.currentTarget);s.addClass(t,"theme-selectable")},_onMenuFocusOutHC:function(e){var t=$(e.currentTarget);s.removeClass(t,"theme-selectable")}}),t.SortMenuView}),define("files/dev/views/files-header-view",["core/ac-core","files/ac-files","files/templates/files-header-template","i18n!files/nls/ui-strings","core/utils/util","core/utils/view-util","core/utils/css-util","core/utils/sc-analytics","core/views/view","core/views/search-control-view","files/views/sort-menu-view"],function(e,t,n,r,i,s,o,u){return t.FilesHeaderView=e.View.extend({events:{"click .files-upload-btn":"_onUploadClick","mousedown .files-upload-btn":"_onUploadMouseDown","click .files-new-folder-btn":"_onNewFolderClick","click .files-sort-menu-btn":"_onSortMenuBtnClick"},initialize:function(){e.View.prototype.initialize.call(this),this._addFocusEventListener(),this._addKeyEventListener(),this._addUiModelEventListeners()},render:function(){var t=this.options,s=this.$el,u,a,f=t.appApi.pluginsApi,l=t.pluginId;e.View.prototype.render.call(this);if(s.children().length===0){var c=f.getSelectorApi(l).getSelectorLabel();s.html(_.template(n)({fileHeaderLabel:c,fileHeaderCount:r.COUNT,sort:r.SORT,uploadFile:r.UPLOAD_FILE,newFolder:r.NEW_FOLDER,viewId:t.viewId,pluginSelectorId:f.getPluginSelectorId(l)})),this._initWrappers(),u=this.$upload,(i.isIpad()||i.isIphone())&&(!e.Features.isFeatureEnabled("ios_upload_ui")||i.isIosVersion(5)||i.isIosVersion(4))&&u.hide(),t.noUpload&&u.hide(),t.enableDragAndDrop&&u.width(0),t.noNewFolder&&this.$newFolder.hide(),t.noSearchControl?(this.$searchControl.hide(),this.$(".files-header-label").show()):(this.$searchControl.show(),this.$(".files-header-label").hide()),t.noSort&&this.$sortMenuBtn.hide()}return this.$itemCount.hide(),_.defer(_.bind(function(){a=this.$searchControl,a.width(Math.floor(s.width()-o.getFullWidth(this.$btnsRight))),this._renderChildViews(),s.height(o.getFullHeight(a))},this)),this},_initWrappers:function(){this.$searchControl=this.$(".search-control"),this.$itemCount=this.$(".files-header-count"),this.$btnsRight=this.$(".files-header-btns.right"),this.$newFolder=this.$(".files-new-folder-btn"),this.$upload=this.$(".files-upload-btn"),this.$uploadInput=this.$("input:file.file"),this.$sortMenuBtn=this.$(".files-sort-menu-btn"),this.$sortMenu=this.$(".files-sort-menu")},_showHeaderBtnClickedEffect:function(e,t){s.showClickedEffect(e,"files-header-btn-active","files-header-btn-transition",t)},_renderChildViews:function(){this.options.isInSearchResultsView||this._renderSearchControlView(),this._renderSortMenuView()},_renderSearchControlView:function(){this._renderChildView("_searchControlView",e.SearchControlView,this.$searchControl)},_renderSortMenuView:function(){this._renderChildView("_sortMenuView",t.SortMenuView,this.$sortMenu)},_updateUploadButtonFocusStyle:function(e){var t=this.$("input:file");!e&&t.is(document.activeElement)?t.addClass("focused"):t.removeClass("focused"),i.isIE8()&&s.detachAndReattachElement(t.next())},_onFocusIn:function(){this._updateUploadButtonFocusStyle()},_onFocusOut:function(){this._updateUploadButtonFocusStyle(!0)},_onKeyDown:function(e){var t=$(e.target),n=!1;return this._updateUploadButtonFocusStyle(),s.descendantHasFocus(this.$el)?(t.is(this.$sortMenuBtn)&&(n=this._onSortMenuBtnKeyDown(e)),!n&&(t.is(".files-header-btn")||t.is(this.$("input:file")))&&(n=this._onFilesHeaderBtnKeyDown(e)),n):!1},_onMenuBtnKeyDown:function(e,t){var n=e.which,r=e.target;switch(n){case 32:case 38:case 40:this._consumeEvent(e);if(n===38&&t||n!==38&&!t)return r.click(),!0}return!1},_onUploadMouseDown:function(e){i.isIE()&&!i.isIE9orBelow()&&($(e.target).click(),e.preventDefault())},_onUploadClick:function(){this._logSiteCatalystEvent([u.UPLOAD_ICON,u.CLICKED])},_onNewFolderClick:function(e){var n=this.options;$(e.currentTarget).hasClass("disabled")||(this._logSiteCatalystEvent([u.NEW_FOLDER_ICON,u.CLICKED]),this._triggerViewEvent(t.ViewEvents.NEW_FOLDER,{parentFolderId:n.appApi.folderApi.getCurrentFolderId(n.pluginId),parentView:this,scContext:this._getParentScContext()}))},_onSortMenuBtnClick:function(){this.options.noUrlUpdate?this._logSiteCatalystEvent([u.SORT_ICON,u.CLICKED]):this._logSiteCatalystEvent([u.SEARCH_BAR,u.SORT_ICON,u.CLICKED]),this._triggerViewEvent(t.ViewEvents.SORT_MENU_BTN_CLICK)},_onSortMenuBtnKeyDown:function(e){return this._onMenuBtnKeyDown(e,this._sortMenuView.isMenuOpen())},_onFilesHeaderBtnKeyDown:function(e){var t=this.options,n=$(e.target),r=e.which,o=e.shiftKey,u=this.$btnsRight,a,f=!1,l=this.$("input:file").is(n);switch(r){case 13:case 32:l?i.isIE()&&(t.fileUploadModel.hasAjaxFileUpload()?n.click():r===13&&i.isIE9orBelow()&&(f=!0)):(f=!0,n.click());break;case 9:l&&(a=s.getNextFocusableDescendant(u,o,!0),f=!0);break;case 37:case 38:a=s.getNextFocusableDescendant(u,!0,!0),f=!0;break;case 39:case 40:a=s.getNextFocusableDescendant(u,!1,!0),f=!0}return f&&this._consumeEvent(e),a&&a.focus(),f},_addUiModelEventListeners:function(){var e=this.options,t=e.searchUiModel,n=e.filesUiModel,r=e.searchModel;this.listenTo(t,"change:status",this._onSearchStatusChange).listenTo(n,"change:show_sort_menu",this._onShowSortMenuChange),this.listenTo(r,"change:total_hits",this._onSearchResultCountChange)},_onSearchResultCountChange:function(){this.render()},_onSearchStatusChange:function(){this.options.searchUiModel.isSearching()?(this.$newFolder.addClass("disabled").prop("disabled",!0),this.$upload.addClass("disabled"),this.$upload.find("input").prop("disabled",!0)):(this.$newFolder.removeClass("disabled").prop("disabled",!1),this.$upload.removeClass("disabled").prop("disabled",!1),this.$upload.find("input").prop("disabled",!1))},_onShowSortMenuChange:function(e,t){var n=this._sortMenuView,r,i=this.$sortMenuBtn;t?(r=this.options.filesUiModel,n.open().always(function(){i.removeClass("selected").removeAttr("aria-expanded"),r.set("show_sort_menu",!1,{silent:!0})}),i.addClass("selected").attr("aria-expanded","true")):n.close()}}),t.FilesHeaderView}),define("files/dev/templates/folder-template",[],function(){return'<div role="navigation" class="folder-navigation ui-theme theme-container"></div><div class="folder-items collection-list-view unselectable"></div><div class="files-no-folder-items old-view-folder-items" aria-live="assertive" tabindex=0></div><div class="virgo-results-placeholder-dc ui-theme theme-container" tabindex=0></div><div class="files-no-folder-items files-virgo-no-folder-items" aria-live="assertive" tabindex=0></div>'}),define("files/dev/templates/folder-navigation-template",[],function(){return'<button class="folder-back-btn" title="<%= back %>"           data-test-name="folder-navigation-back-btn">        <span class="hidden-accessible"><%= back %></span>   </button>   <div id="folder-path-<%= viewId %>" class="folder-path"></div>   <div class="files-header-btns right">       <button class="files-header-btn files-new-folder-btn"            title="<%= newFolder %>"            data-test-name="files-header-new-folder-btn">           <span class="hidden-accessible"><%= newFolder %></span>       </button>   </div>'}),define("files/dev/views/folder-navigation-view",["core/ac-core","files/ac-files","files/templates/folder-navigation-template","i18n!core/nls/ui-strings","i18n!files/nls/ui-strings","core/utils/util","core/utils/breadcrumbs","core/utils/css-util","core/utils/truncate","core/utils/sc-analytics","core/views/view"],function(e,t,n,r,i,s,o,u,a,f){return t.FolderNavigationView=e.View.extend({events:{"click .folder-back-btn":"_onBackButtonClick","click .files-new-folder-btn":"_onNewFolderClick"},initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(n),this._addUiModelEventListeners()},render:function(){var t=this.options;return e.View.prototype.render.call(this),this.$el.children().length===0&&(this.$el.html(this._template({back:r.BACK,newFolder:i.NEW_FOLDER,viewId:t.viewId})),this._initWrappers(),s.isCEF()&&t.appApi.saveAsApi.isRunningInFileSaveAs()&&this.$path.addClass("folder-path-save-as")),this._showFolderPath(),this._showNewFolderButton(),this},_initWrappers:function(){this.$backBtn=this.$(".folder-back-btn"),this.$path=this.$(".folder-path"),this.$newFolder=this.$(".files-new-folder-btn")},_useBreadcrumbs:function(){return this.options.folderUiModel.get("breadcrumbs")},_showNewFolderButton:function(){this.options.showNewFolderInNavigation?this.$newFolder.show():this.$newFolder.hide()},_showFolderPath:function(){var e=this.options,t=s.isCEF(),n=this.$backBtn,r=this.$path,i=e.folderUiModel.get("path"),o=i.length,u=e.appApi.saveAsApi;if(o<=1||e.pluginId==="scan_files"&&o<=2&&i[0].name==="/"){this.$path.children().length>0&&this._clearFolderNavigationPath();if(!e.searchUiModel.showFolders()&&!e.showNavigationAtRoot)return;n.hide(),t&&u.isRunningInFileSaveAs()&&r.addClass("no-back-btn")}else n.show(),t&&u.isRunningInFileSaveAs()&&r.removeClass("no-back-btn");this._useBreadcrumbs()?(e.pluginId==="scan_files"&&i[0].name==="/"&&i.shift(),this._showBreadcrumbs(i)):this._showFolderName(i[o-1].name)},_clearFolderNavigationPath:function(){this.$path.empty()},_showBreadcrumbs:function(n){var i=this.options,a=i.appApi,l=this.$el,c=this.$path,h,p;p=_.bind(function(n){this._logSiteCatalystEvent([f.BREADCRUMB,n===a.folderApi.getRootFolderId(i.pluginId)?f.HOME:"",f.CLICKED]),i.searchUiModel.showFolders()?(i.selectionUiModel.clearSelection(),this._triggerViewEvent(e.ViewEvents.SEARCH_IN_FOLDER,{search_folder_id:n})):this._triggerViewEvent(t.ViewEvents.NAVIGATE_TO_FOLDER,{id:n})},this),h=l.parent().width()-this.$backBtn.position().left-u.getFullWidth(this.$backBtn)-u.getExtraWidth(c),s.isCEF()&&a.saveAsApi.isRunningInFileSaveAs()&&(h-=u.getFullWidth(this.$newFolder)),i.pluginId==="scan_files"?o.display(n,c,h,p,e.Locale.getLocale(),n[0].name):o.display(n,c,h,p,e.Locale.getLocale(),r.HOME)},_showFolderName:function(e){var t=this.$el,n=this.$path,r;n.text(e),r=t.parent().width()-u.getCssNum(n,"left")-u.getCssNum(n,"margin-right"),a.truncateElementText(n,r)},_onBackButtonClick:function(){var n=this.options,r=n.folderModel,i;this._logSiteCatalystEvent([f.BREADCRUMB,f.BACK,f.CLICKED]);if(n.searchUiModel.showFolders()){i=n.folderUiModel.get("path");if(i.length>1||n.pluginId==="scan_files"&&i.length>2&&i[0].name==="/")this.options.selectionUiModel.clearSelection(),this._triggerViewEvent(e.ViewEvents.SEARCH_IN_FOLDER,{search_folder_id:i[i.length-2].id})}else n.collectionsUiModel.set("scroll_id_into_view",r.get("id")),this._triggerViewEvent(t.ViewEvents.NAVIGATE_TO_FOLDER,{id:r.get("parent_id")})},_onNewFolderClick:function(e){var n=this.options.appApi;$(e.currentTarget).hasClass("disabled")||(this._logSiteCatalystEvent([f.NEW_FOLDER_ICON,f.CLICKED]),this._triggerViewEvent(t.ViewEvents.NEW_FOLDER,{parentFolderId:n.saveAsApi.getCurrentFolderId(),parentView:this,scContext:this._getParentScContext()}))},_addUiModelEventListeners:function(){this.options.folderUiModel.on("change:path",this._onFolderPathChange)},_onFolderPathChange:function(){this.render()}}),t.FolderNavigationView}),define("files/dev/templates/no-folder-items-template",[],function(){return'<div class="files-no-files files-no-files-prompt shown">    <div class="files-instruction-container">        <label for="files-no-files-upload-file-<%= viewId %>">            <div class="instruction-text first-line"></div>            <div class="instruction-text second-line">                 <%= uploadToAccess %></div>        </label>    </div>    <div data-test-name="files-no-folder-items-upload-btn"         title="<%= uploadFile %>">        <form method="POST" enctype="multipart/form-data">            <input class="files-no-files-upload-file file"                          type="file"                   name="file"                   id="files-no-files-upload-file-<%= viewId %>"                   data-test-name="files-no-files-upload-file"                   title="<%= uploadFile %>"                   multiple/>            <div class="files-no-folder-items-upload-btn"></div>        </form>    </div>    <div class="files-no-files-prompt-mask"></div></div> <div class="files-no-files files-no-files-text">    <div class="instruction-text theme-text"></div></div>'}),define("files/dev/views/no-folder-items-view",["core/ac-core","files/ac-files","core/utils/util","core/utils/view-util","files/templates/no-folder-items-template","i18n!files/nls/ui-strings","core/utils/sc-analytics","core/views/view"],function(e,t,n,r,i,s,o){return t.NoFolderItemsView=e.View.extend({events:{"click .files-no-files-upload-file":"_onUploadFileClick","mousedown .files-no-files-upload-file":"_onUploadFileMouseDown"},initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(i),this._addFocusEventListener(),this._addKeyEventListener(),this._addUiModelEventListeners()},render:function(){var t;return e.View.prototype.render.call(this),this.$el.children().length===0&&(this.$el.html(this._template({uploadToAccess:s.UPLOAD_TO_ACCESS,uploadFile:s.UPLOAD_FILE,viewId:this.viewId})),this._initWrappers(),e.Util.isFirefox()&&this.$noFilesUploadFile.addClass("firefox")),this.options.noUpload&&(this.$noFilesPrompt.removeClass("shown"),this.$noFiles.addClass("shown")),t=this._getNoFilesText(),this.$noFilesInFolder1.text(t),this.$noFilesInFolder2.text(t),this.$noFilesInFolder3.attr("id","no-files-in-folder-"+this.cid),this.$el.attr("aria-labelledby","no-files-in-folder-"+this.cid),this},_initWrappers:function(){this.$noFilesPrompt=this.$(".files-no-files-prompt"),this.$noFiles=this.$(".files-no-files").not(".files-no-files-prompt"),this.$noFilesInFolder1=this.$noFilesPrompt.find(".instruction-text.first-line"),this.$noFilesInFolder2=this.$noFiles.find(".instruction-text"),this.$noFilesInFolder3=this.$noFiles.find(".instruction-text.theme-text"),this.$noFilesUploadFile=this.$(".files-no-files-upload-file")},_getNoFilesText:function(){var e=this.options,t=e.collectionsUiModel;return t.get("force_empty")?this._getForceEmptyText():e.pluginId==="scan_files"?s.NO_FILES_IN_FOLDER:e.folderModel.isRoot()?this._getNoFilesRootText():s.NO_FILES_IN_FOLDER},_getForceEmptyText:function(){var e=this.options,t=e.collectionsUiModel,r=t.get("force_empty_msg");return n.isCEF()&&e.appApi.saveAsApi.isRunningInFileSaveAs()?s.NO_FILES_IN_FOLDER:!_.isUndefined(r)&&r!==""?r:s.NO_SEARCH_RESULTS_FOLDER},_getNoFilesRootText:function(){var e=this.options,t=e.pluginId,n=e.appApi.connectorsApi,r;if(n.isConnectorPlugin(t)){r=n.getConnectorPluginLabel(t);if(r&&r!=="")return _.template(s.NO_FILES_IN_CONNECTOR,{connector:r})}return s.NO_FILES_IN_ROOT},_updateUploadButtonFocusStyle:function(e){var t=this.$("input:file");_.defer(function(){!e&&t.is(document.activeElement)?t.addClass("focused"):t.removeClass("focused")})},_onFocusIn:function(){this._updateUploadButtonFocusStyle()},_onFocusOut:function(){this._updateUploadButtonFocusStyle(!0)},_onKeyDown:function(e){var t=$(e.target),i=e.which,s=!1,o;this._updateUploadButtonFocusStyle();if(!r.descendantHasFocus(this.$el))return!1;if(t.is(this.$("input:file")))switch(i){case 13:case 32:n.isIE()&&(this.options.fileUploadModel.hasAjaxFileUpload()?t.click():i===13&&n.isIE9orBelow()&&(s=!0));break;case 9:o=r.getNextFocusableDescendant($("body"),e.shiftKey,!1,":tabbable"),o.length&&(s=!0,o.focus())}return s&&this._consumeEvent(e),s},_onUploadFileMouseDown:function(e){n.isIE()&&!n.isIE9orBelow()&&($(e.target).click(),e.preventDefault())},_onUploadFileClick:function(){this.options.appApi.siteCatalystApi.logScEvent([o.FILE_LIST,o.EMPTY,o.UPLOAD_ICON,o.CLICKED])},_addUiModelEventListeners:function(){var e=this.options;this.listenTo(e.collectionUiModel,"change:show_empty",this._onShowEmptyChange),this.listenTo(e.collectionsUiModel,"change:force_empty",this._onShowEmptyChange)},_onShowEmptyChange:function(e,t){var n=this.options;if(t){if(!n.collectionsUiModel.get("force_empty")&&(!n.folderModel.get("name")||n.searchUiModel.isSearching()))return;this.render(),this.$el.addClass("shown")}else this.$el.removeClass("shown")}}),t.NoFolderItemsView}),define("files/dev/templates/no-virgo-folder-items-template",[],function(){return'<div id="dc-cc-no-files-prompt" class="files-virgo-no-folder-items-files shown shared-no-parcels hidden"><div class="empty-state-icon" id = "emptyStateIcon"></div><div class="shared-on-sign-out-prompt theme-virgo-text dc-empty-title"><%=NO_PARCELS_SEND_PROMPT%></div><div class="shared-on-sign-out-subprompt cb-shaded-text-theme dc-empty-subtitle theme-text"><%=NO_PARCELS_SEND_SUBPROMPT%></div></div>'}),define("files/dev/views/no-virgo-folder-items-view",["core/ac-core","files/ac-files","core/utils/util","core/utils/view-util","files/templates/no-virgo-folder-items-template","i18n!core/nls/ui-strings","core/utils/sc-analytics","core/views/view"],function(e,t,n,r,i,s,o){return t.NoVirgoFolderItemsView=e.View.extend({events:{"click .learn-about-sending-files-link":"_onLearnLinkClick"},initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(i),this._addUiModelEventListeners()},render:function(){e.View.prototype.render.call(this),this.$el.children().length===0&&(this.$el.html(this._template({NO_PARCELS_SEND_PROMPT:this._getNoFilesText(),NO_PARCELS_SEND_SUBPROMPT:this._getNoFilesSubText(),NO_PARCELS_S_T_BTN:s.NO_PARCELS_S_T_BTN})),this._initWrappers()),this.$titleText.text(this._getNoFilesText()),this.$subtitleText.text(this._getNoFilesSubText());var t=this.options.appApi.connectorsApi.getConnectorPluginName(this.options.pluginId);return t==="root"?(this.$("#emptyStateIcon").removeClass(),this.options.folderModel.isRoot()?(this.$(".empty-state-icon").removeClass(),this.$("#emptyStateIcon").addClass("dc-empty-state-icon")):this.$("#emptyStateIcon").addClass("folder-empty-state-icon"),this.$("#emptyStateIcon").addClass("empty-state-icon")):t==="ccloud"?(this.$("#emptyStateIcon").removeClass(),this.options.folderModel.isRoot()?this.$("#emptyStateIcon").addClass("cc-empty-state-icon"):this.$("#emptyStateIcon").addClass("folder-empty-state-icon"),this.$("#emptyStateIcon").addClass("empty-state-icon")):(this.$("#emptyStateIcon").removeClass(),this.$("#emptyStateIcon").addClass("folder-empty-state-icon"),this.$("#emptyStateIcon").addClass("empty-state-icon")),this},_getNoFilesText:function(){var e=this.options,t=e.collectionsUiModel;if(t.get("force_empty"))return this._getForceEmptyText();var n=this.options.appApi.connectorsApi.getConnectorPluginName(e.pluginId);return n==="root"?e.folderModel.isRoot()?s.VIRGO_EMPTY_DOCUMENT_CLOUD_TITLE:s.VIRGO_EMPTY_FOLDER_TITLE:n==="ccloud"?e.folderModel.isRoot()?s.VIRGO_EMPTY_CREATIVE_CLOUD_TITLE:s.VIRGO_EMPTY_FOLDER_TITLE:s.VIRGO_EMPTY_FOLDER_TITLE},_getNoFilesSubText:function(){var e=this.options.appApi.connectorsApi.getConnectorPluginName(this.options.pluginId);return e==="root"?this.options.folderModel.isRoot()?s.VIRGO_EMPTY_FOLDER_SUBTITLE:s.VIRGO_EMPTY_SUB_FOLDER_SUBTITLE:e==="ccloud"?this.options.folderModel.isRoot()?s.VIRGO_EMPTY_FOLDER_CC_SUBTITLE:s.VIRGO_EMPTY_SUB_FOLDER_SUBTITLE:s.VIRGO_EMPTY_SUB_FOLDER_SUBTITLE},_getForceEmptyText:function(){var e=this.options,t=e.collectionsUiModel,r=t.get("force_empty_msg");return n.isCEF()&&e.appApi.saveAsApi.isRunningInFileSaveAs()?s.NO_FILES_IN_FOLDER:!_.isUndefined(r)&&r!==""?r:s.NO_SEARCH_RESULTS_FOLDER},_initWrappers:function(){this.$noParcelsSendPrompt=this.$("#dc-cc-no-files-prompt"),this.$titleText=this.$(".dc-empty-title"),this.$subtitleText=this.$(".dc-empty-subtitle")},_onLearnLinkClick:function(){this.options.appApi.rnaApi.done(_.bind(function(e){e.openDecoratedUrl(s.LEARN_MORE_ST_GO_URL)},this))},_addUiModelEventListeners:function(){this.listenTo(this.options.collectionUiModel,"change:show_empty",this._onShowEmptyChange)},_onShowEmptyChange:function(e,t){var n=this.options;if(t){if(!n.collectionsUiModel.get("force_empty")&&(!n.folderModel.get("name")||n.searchUiModel.isSearching()))return;this.render(),this.$el.addClass("shown")}else this.$el.removeClass("shown")}}),t.NoVirgoFolderItemsView}),define("files/dev/templates/virgo-folder-header-placeholder-template",[],function(){return'   <div class="shared-workflow-files-body placeholder-dc ui-theme theme-container">       <div class="shared-workflow-files-header placeholder-dc theme-container theme-file-list-row-border">           <div class="review-list-header-info-container placeholder-dc">               <div class="review-list-header-file theme-text placeholder-dc"><%= name %></div>               <div class="review-list-header-share theme-text placeholder-dc"><%= share %></div>               <div class="review-list-header-lastactivity theme-text placeholder-dc"><%= sortorder %></div>               <div class="review-list-header-size theme-text placeholder-dc"><%= size %></div>           </div>       </div>       <div class="shared-collection-items placeholder-dc">       </div>   </div>'}),define("files/dev/templates/virgo-folder-items-placeholder-template",[],function(){return'<div class="shared-workflow-list-item theme-container theme-file-list-row-border">   <div class="shared-list-item-info-container">       <div class="shared-list-preview-img-cn placeholder-dc skeleton ui-theme placeholder-skeleton-theme"></div>       <div class="review-list-item-filename placeholder-dc skeleton ui-theme placeholder-skeleton-theme"></div>       <div class="review-list-item-share placeholder-dc skeleton ui-theme placeholder-skeleton-theme"></div>       <div class="review-list-item-last-activity placeholder-dc skeleton ui-theme placeholder-skeleton-theme"></div>       <div class="review-list-item-size placeholder-dc skeleton ui-theme placeholder-skeleton-theme"></div>    </div></div>'}),define("files/dev/views/virgo-folder-items-placeholder-view",["core/ac-core","files/ac-files","core/utils/util","core/utils/view-util","files/templates/virgo-folder-header-placeholder-template","files/templates/virgo-folder-items-placeholder-template","i18n!core/nls/ui-strings","core/views/view"],function(e,t,n,r,i,s,o){return t.VirgoFolderPlaceHolderView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(i),this._rowTemplate=_.template(s)},render:function(){return e.View.prototype.render.call(this),this.$el.children().length===0&&(this.$el.html(this._template({name:o.VIRGO_NAME,share:o.VIRGO_HDR_SHARE,sortorder:o.VIRGO_MODIFIED,size:o.VIRGO_SIZE})),this.$placeholder_list=this.$(".shared-collection-items.placeholder-dc"),this._populatePlaceholderRows(),this._addAppApiCallbacks()),this},_addAppApiCallbacks:function(){this.options.appApi.windowApi.addWindowResizeCallback(this._populatePlaceholderRows)},_populatePlaceholderRows:function(){this.$placeholder_list.empty();var e=this.$el.height()/62;while(0<e--)this.$placeholder_list.append(this._rowTemplate())}}),t.VirgoFolderPlaceHolderView}),define("files/dev/views/folder-view",["core/ac-core","files/ac-files","files/templates/folder-template","files/views/folder-navigation-view","core/views/view","core/views/collection-view","files/views/no-folder-items-view","files/views/no-virgo-folder-items-view","files/views/virgo-folder-items-placeholder-view"],function(e,t,n){return t.FolderView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this._addModelEventListeners(),this._addUiModelEventListeners(),this._addAppApiCallbacks()},render:function(){var t=this.$el;e.View.prototype.render.call(this),t.children().length===0&&(t.html(_.template(n)),this._initWrappers()),this._renderChildViews();var r=this.options;if(this.options.appApi.saveAsApi.isRunningInFileSaveAs()||this.options.appApi.selectionApi.isRunningInFileSelection())this._updateFolderNavigationView();else{var i=this.options.appApi.connectorsApi.getConnectorPluginName(r.pluginId);i==="root"&&this.$folderItems.attr("id","dcFolderItems"),i==="ccloud"&&this.$folderItems.attr("id","ccFolderItems"),r.pluginId==="scan_files"&&this.$folderItems.attr("id","scanFolderItems")}return this},_initWrappers:function(){this.$folderNavigation=this.$(".folder-navigation"),this.$folderItems=this.$(".folder-items"),this.$noFolderItems=this.$(".old-view-folder-items"),this.$noVirgoFolderItems=this.$(".files-virgo-no-folder-items"),this.$placeHolder=this.$(".virgo-results-placeholder-dc")},_addCollectionViewEventListener:function(){var e=this._collectionUiModel.get("debounced_render_delay"),t=_.debounce(_.bind(function(){this.render()},this),e);this.options.folderModel.on("add change remove sort",t).on("reset",function(){t()})},_renderChildViews:function(){var t=this._collectionUiModel;t||(t=this._collectionUiModel=e.uiModelFactory.create("CollectionUiModel"),this._addCollectionViewEventListener());if(this.options.appApi.saveAsApi.isRunningInFileSaveAs()||this.options.appApi.selectionApi.isRunningInFileSelection())this.$placeHolder.hide(),this._renderFolderNavigationView(t);if(this.options.appApi.saveAsApi.isRunningInFileSaveAs()||this.options.appApi.selectionApi.isRunningInFileSelection()){this.$placeHolder.hide(),this._renderNoFolderItemsView(t);if(this.options.pluginId==="root-select"){var n=this.options.folderModel.get("loaded");if(!n||n==0)return;this.options.appApi.displayApi.showSpinner(!1)}}else if(this.options.pluginId==="root"||this.options.pluginId==="scan_files"){var n=this.options.folderModel.get("loaded");if(!n||n==0){this.options.appApi.displayApi.showSpinner(!1),this.$folderItems.hide(),this.$noVirgoFolderItems.hide(),this.$placeHolder.show(),this._renderPlaceholderView();return}this.$placeHolder.hide();if(this.options.appApi.discoveryUrisApi.useDCApi()){var r=this.options.folderModel.get("uri"),i=this.options.folderModel.get("items");r&&r.length&&i&&(i.length===0?(this.$folderItems.show(),this.$noVirgoFolderItems.show()):(this.$noVirgoFolderItems.hide(),this.$folderItems.show()))}else{var s=this.options.folderModel.get("id"),i=this.options.folderModel.get("items");s&&s.length&&i&&(i.length===0?this.$noVirgoFolderItems.show():(this.$noVirgoFolderItems.hide(),this.$folderItems.show()))}this._renderVirgoNoFolderItemsView(t)}else this.$placeHolder.hide(),this._renderVirgoNoFolderItemsView(t);this._renderFolderItemsView(t)},_renderPlaceholderView:function(){this._renderChildView("_PlaceholderView",t.VirgoFolderPlaceHolderView,this.$placeHolder,this.options)},_renderFolderNavigationView:function(e){this._renderChildView("_folderNavigationView",t.FolderNavigationView,this.$folderNavigation,{collectionUiModel:e})},_renderFolderItemsView:function(t){this._renderChildView("_folderItemsView",e.CollectionView,this.$folderItems,{collection:this.options.folderModel.get("items"),collectionUiModel:t})},_renderNoFolderItemsView:function(n){var r=this.options.noUpload,i=e.Util;if(this.options.appApi.acrobatApi.isInAcrobat()||(i.isIpad()||i.isIphone())&&(i.isIosVersion(5)||i.isIosVersion(4)))r=!0;this._renderChildView("_noFolderItemsView",t.NoFolderItemsView,this.$noFolderItems,{collectionUiModel:n,noUpload:r})},_renderVirgoNoFolderItemsView:function(n){var r=this.options.noUpload,i=e.Util;if(this.options.appApi.acrobatApi.isInAcrobat()||(i.isIpad()||i.isIphone())&&(i.isIosVersion(5)||i.isIosVersion(4)))r=!0;this._renderChildView("_noVirgoFolderItemsView",t.NoVirgoFolderItemsView,this.$noVirgoFolderItems,{collectionUiModel:n,noUpload:r})},_updateFolderNavigationView:function(){var e=this.$folderNavigation,t=this.$folderItems,n=this.options;!this.options.showNavigationAtRoot&&this.options.folderModel.isRoot()||n.pluginId==="scan_files"&&!this.options.showNavigationAtRoot&&this.options.folderModel.get("parent_id")===n.appApi.folderApi.getRootFolderId()?(e.removeClass("shown"),t.removeClass("with-folder-navigation")):(e.addClass("shown"),t.addClass("with-folder-navigation"))},_addModelEventListeners:function(){this.listenTo(this.options.folderModel,"change:object_type",this._onObjectTypeChange).listenTo(this.options.folderModel,"change:name",this._onNameChange)},_onObjectTypeChange:function(){var e=this.options.folderModel;this.options.pluginId!=="scan_files"&&(e.previous("object_type")||e.get("object_type")!=="root")&&this.render()},_onNameChange:function(){var e=this.options.folderModel;this.options.pluginId==="scan_files"&&this.render()},_addUiModelEventListeners:function(){this.listenTo(this.options.searchUiModel,"change:status",this._onSearchStatusChange)},_onSearchStatusChange:function(e){var t=e.isSearchClosed();this._collectionUiModel.set("is_active",t),t&&this.render()},_addAppApiCallbacks:function(){var e=this.options,t=e.folderModel,n=e.appApi.connectorsApi,r=n.getConnectorPluginName(e.pluginId);n.isDesktopConnector(r)||e.appApi.sessionApi.addSignedInChangeCallback(function(e,n){n||t.unset("id").get("items").reset()})}}),t.FolderView}),define("files/dev/templates/export-options-template",[],function(){return'<div class="export-format-header theme-text"><%= exportFormatHeader %></div><div class="export-format-settings"><div class="export-format theme-hyperlink"> <%= exportFormat %> </div><div class="export-settings-btn" tabIndex = "0"><div class="export-settings-btn-icon"></div><div class="export-settings-btn-text theme-text"><%= exportSettings %></div></div></div><div class="export-view-result" ><div class="checkbox"></div><div class="checkbox-text theme-text" tabIndex = "0"> <%= viewResult %> </div></div>'}),define("files/dev/views/export-options-view",["core/ac-core","files/ac-files","files/templates/export-options-template","i18n!files/nls/ui-strings","core/views/view"],function(e,t,n,r){return t.ExportOptionsView=e.View.extend({events:{"click .export-settings-btn":"_onSettingsButtonClicked","click .export-view-result":"_onViewResultCheckboxClicked","keydown .export-settings-btn":"_onKeyDownSettingsButton","keydown .export-view-result":"_onKeyDownCheckbox"},initialize:function(){e.View.prototype.initialize.call(this),this.saveAsApi=this.options.appApi.saveAsApi},render:function(){return e.View.prototype.render.call(this),this.$el.children().length===0&&(this._template=_.template(n)({exportFormatHeader:r.EXPORT_FILE_FORMAT,exportFormat:this.saveAsApi.getChosenFilterDescription(),exportSettings:r.EXPORT_SETTINGS,viewResult:r.EXPORT_VIEW_RESULT}),this.$el.html(this._template),this._initWrappers(),this._setInitialStateOfElements()),this},_initWrappers:function(){this.$settingsBtn=this.$(".export-settings-btn"),this.$viewResult=this.$(".export-view-result"),this.$viewResultCheckbox=this.$viewResult.find(".checkbox")},_setInitialStateOfElements:function(){this.saveAsApi.isSettingsButtonVisible().done(_.bind(function(e){e===!0?this.$settingsBtn.show():this.$settingsBtn.hide()},this)),this.saveAsApi.isViewResultVisible().done(_.bind(function(e){e===!0?this.saveAsApi.isViewResultChecked().done(_.bind(function(e){this.$viewResult.show(),this._setViewResultCheckboxState(e)},this)):this.$viewResult.hide()},this))},_onSettingsButtonClicked:function(){this.saveAsApi.settingsButtonExecute()},_onKeyDownSettingsButton:function(e){var t=e.which?e.which:e.keyCode;t==32&&this.saveAsApi.settingsButtonExecute()},_onKeyDownCheckbox:function(e){var t=e.which?e.which:e.keyCode;t==32&&this._onViewResultCheckboxClicked()},_onViewResultCheckboxClicked:function(){this.saveAsApi.isViewResultChecked().done(_.bind(function(e){var t=!e;this._setViewResultCheckboxState(t),this.saveAsApi.setViewResultChecked(t)},this))},_setViewResultCheckboxState:function(e){e?this.$viewResultCheckbox.addClass("selected"):this.$viewResultCheckbox.removeClass("selected")}}),t.ExportOptionsView}),define("files/dev/templates/full-preview-template",[],function(){return'<div class="full-preview-header files-header">    <div class="full-preview-home-btn-wrapper">        <button class="full-preview-home-btn"                id="full-preview-header-home-btn"                title="<%= back %>">            <span class="hidden-accessible"><%= back %></span>        </button>        <div class="full-preview-home-btn-separator"></div>    </div>     <div class="full-preview-name-container folder-path                with-home-btn">        <div id="full-preview-name" class="full-preview-name"             role="heading" aria-level="1"><%- name %></div>         <button class="full-preview-action-menu-btn                       files-header-btn"             id="full-preview-action-menu-btn"             title="<%= actions %>" aria-haspopup="true">            <span class="hidden-accessible"><%= actions %></span>        </button>        <div class="full-preview-action-menu menu" role="menu"              aria-hidden="true"></div>    </div>     <div class="full-preview-header-btns files-header-btns right">        <button class="full-preview-send-btn"            data-test-name="full-preview-header-send-btn">            <div class="core-email-icon full-preview-send-btn-icon">            </div>            <div class="full-preview-send-btn-label">                 <%= send %>            </div>        </button>         <button class="full-preview-download-btn"            data-test-name="full-preview-header-download-btn">            <div class="full-preview-download-btn-icon"></div>            <div class="full-preview-download-btn-label">                 <%= download %>            </div>         </button>    </div> </div> <div class="full-preview-main">    <div class="full-preview-body folder-items">        <div id="full-preview-image-container"             class="full-preview-image-container">            <!-- Intentionally omit close tag for img.                 See bug 3498744 (IE8) -->            <img class="full-preview-image single hidden" alt=""/>            <div class="full-preview-svg single hidden" />        </div>        <div class="full-preview-not-available">            <%= previewNotAvailable %>            <span class="full-preview-not-available-desc">                <%= previewNotAvailableDesc %></span>        </div>    </div>     <div class="full-preview-hud" role="toolbar"         aria-labelledby="full-preview-name"         aria-controls="full-preview-image-container"></div></div> <div class="full-preview-sidebar has-icons" tabindex="-1"></div>'}),define("files/dev/views/full-preview-home-btn-view",["core/ac-core","files/ac-files","core/templates/toolbar-item-template","core/views/plugin-selector-view"],function(e,t,n){return t.FullPreviewHomeBtnView=e.PluginSelectorView.extend({render:function(){this.options.template=_.template(n),e.PluginSelectorView.prototype.render.call(this)},getSelectorIconClass:function(){return"full-preview-home-btn"}}),t.FullPreviewHomeBtnView}),define("files/dev/templates/full-preview-action-menu-template",[],function(){return'<button class="full-preview-rename-menu-item            full-preview-action-menu-item"    id="full-preview-action-rename-menu-item"    role="menuitem" tabindex="-1">     <%= rename %></button><button class="full-preview-share-menu-item            full-preview-action-menu-item"    id="full-preview-action-share-menu-item"    role="menuitem" tabindex="-1">     <%= share %></button><button class="full-preview-delete-menu-item            full-preview-action-menu-item"     id="full-preview-action-delete-menu-item"     role="menuitem" tabindex="-1">     <%= deleteText %></button> <div class="menu-nub-grey"></div>'}),define("files/dev/views/full-preview-action-menu-view",["core/ac-core","files/ac-files","files/templates/full-preview-action-menu-template","i18n!core/nls/ui-strings","core/utils/css-util","core/utils/sc-analytics","core/views/menu-view"],function(e,t,n,r,i,s){return t.FullPreviewActionMenuView=e.MenuView.extend({events:function(){return _.extend({},e.MenuView.prototype.events,{"click .full-preview-rename-menu-item":"_onRenameClick","click .full-preview-share-menu-item":"_onShareClick","click .full-preview-delete-menu-item":"_onDeleteClick"})},render:function(){var t=this.$el;e.MenuView.prototype.render.call(this),t.children().length===0&&(t.html(_.template(n)({rename:r.RENAME_ELLIPSIS,share:r.SHARE_ELLIPSIS,deleteText:r.DELETE})),(!e.Features.isFeatureEnabled("share_ui")||this.options.noShare)&&$(".full-preview-share-menu-item").hide())},open:function(){var t=this.options,n=e.MenuView.prototype.open.call(this),r=this.$el,o;return this._logSiteCatalystEvent(s.SHOWN),o=t.$actionMenuBtn.position(),r.css("left",o.left-i.getFullWidth(r)+42+"px"),n},_getSiteCatalystContext:function(){var e=this.options.fullPreviewUiModel;return e.isNGDocView()&&e.isNGDocJobComplete()?[s.NGDOC,s.TOOLBAR,s.GEAR_MENU]:[s.TOOLBAR,s.GEAR_MENU]},_onRenameClick:function(){var t=this.options,n;this.close(_.bind(function(){this._logSiteCatalystEvent([s.RENAME,s.CLICKED]);var r=t.fullPreviewUiModel.get("item_model");n=r.get("name"),this._triggerViewEvent(e.ViewEvents.RENAME,{id:r.get("id"),object_type:r.get("object_type"),name:n,existingName:n,model:r,parentView:this,scContext:this._getFullScContext()})},this))},_onShareClick:function(){var t=this.options;this.close(_.bind(function(){this._logSiteCatalystEvent([s.SHARE,s.CLICKED]);var n=t.fullPreviewUiModel.get("item_model");this._triggerViewEvent(e.ViewEvents.SHOW_PUBLIC_SHARE_DLG,{models:[n],parentView:this,scContext:this._getFullScContext()})},this))},_onDeleteClick:function(){var e=this.options;this.close(_.bind(function(){this._logSiteCatalystEvent([s.DELETE,s.CLICKED]),this._triggerViewEvent(t.ViewEvents.FULL_PREVIEW_DELETE,{id:e.fullPreviewUiModel.get("item_model").id,object_type:"file",parentView:this,scContext:this._getFullScContext()})},this))}}),t.FullPreviewActionMenuView}),define("files/dev/templates/full-preview-hud-template",[],function(){return'<div class="full-preview-hud-controls" role="presentation">    <button class="full-preview-hud-prev full-preview-hud-btn"            id="full-preview-hud-prev-page"            title="<%= prevPageTitle %>">        <span class="hidden-accessible"><%= prevPageTitle %></span>    </button>    <button class="full-preview-hud-next full-preview-hud-btn"            id="full-preview-hud-next-page"            title="<%= nextPageTitle %>">        <span class="hidden-accessible"><%= nextPageTitle %></span>    </button>     <input class="full-preview-hud-page-num full-preview-hud-num"           type="tel"           id="full-preview-hud-page-num"           title="<%= pageNumTitle %>" />    <div class="full-preview-hud-num separator">         <%= pageNumSeparator %></div>    <div class="full-preview-hud-num"         title="<%= pageCountTitle %>" role="presentation">        <div class="hidden-accessible"><%= pageCountTitle %></div>        <div class="full-preview-hud-page-count"             id="full-preview-hud-page-count"></div>    </div>     <div class="full-preview-hud-divider" role="separator"></div>    <button class="full-preview-hud-zoom-out full-preview-hud-btn"         id="full-preview-hud-zoom-out"         title="<%= zoomOutTitle %>">        <span class="hidden-accessible"><%= zoomOutTitle %></span>    </button>    <button class="full-preview-hud-zoom-in full-preview-hud-btn"         id="full-preview-hud-zoom-in"         title="<%= zoomInTitle %>">        <span class="hidden-accessible"><%= zoomInTitle %></span>    </button>     <button class="full-preview-hud-toggle-ngdoc full-preview-hud-btn"         id="full-preview-hud-toggle-ngdoc">        <span class="hidden-accessible"></span>    </button>     <div class="full-preview-hud-divider" role="separator"></div>     <button class="full-preview-hud-scroll-pages full-preview-hud-btn"            id="full-preview-hud-scroll-pages"            title="<%= scrollPagesTitle %>">        <span class="hidden-accessible"><%= scrollPagesTitle %></span>    </button>    <button class="full-preview-hud-fit-page-width full-preview-hud-btn                   disabled"           id="full-preview-hud-fit-page-width"           title="<%= fitPageWidthTitle %>">        <span class="hidden-accessible"><%= fitPageWidthTitle %></span>    </button>    <button class="full-preview-hud-fit-full-page full-preview-hud-btn"            id="full-preview-hud-fit-full-page"            title="<%= fitFullPageTitle %>">        <span class="hidden-accessible"><%= fitFullPageTitle %></span>    </button>     <button class="full-preview-hud-toggle-rhp full-preview-hud-btn"            id="full-preview-hud-toggle-rhp">        <span class="hidden-accessible"></span>    </button>     <div class="full-preview-hud-divider"></div>    <button class="full-preview-hud-toggle-info full-preview-hud-btn"            aria-haspopup="true"            id="full-preview-hud-toggle-info">        <span class="hidden-accessible"></span>    </button>     <button class="full-preview-hud-dock full-preview-hud-btn"            id="full-preview-hud-dock"            title="<%= dockTitle %>">        <span class="hidden-accessible"><%= dockTitle %></span>    </button>     <button class="full-preview-hud-close full-preview-hud-btn"            id="full-preview-hud-close"            title="<%= unDockTitle %>">        <span class="hidden-accessible"><%= unDockTitle %></span>    </button></div> <div class="files-full-preview-file-info menu"     tabindex="-1" role="dialog"></div>'}),define("files/dev/templates/full-preview-file-info-template",[],function(){return'<table class="files-full-preview-file-info-table"><caption class="files-full-preview-file-info-name">    <%= fileName %></caption><tr class="files-full-preview-file-info-item">    <th class="files-full-preview-file-info-attr"        scope="row">        <%= typeLabel %>    </th>    <td class="files-full-preview-file-info-value                 files-full-preview-file-info-type">        <%= fileType %>    </td></tr><tr class="files-full-preview-file-info-item">    <th class="files-full-preview-file-info-attr"        scope="row">        <%= addedLabel %>    </th>    <td class="files-full-preview-file-info-value                 files-full-preview-file-info-added">        <%= dateAdded %>    </td></tr><tr class="files-full-preview-file-info-item">    <th class="files-full-preview-file-info-attr"        scope="row">        <%= modifiedLabel %>    </th>    <td class="files-full-preview-file-info-value                 files-full-preview-file-info-modified">        <%= dateModified %>    </td></tr><tr class="files-full-preview-file-info-item">    <th class="files-full-preview-file-info-attr"        scope="row">        <%= sizeLabel %>    </th>    <td class="files-full-preview-file-info-value                 files-full-preview-file-info-size">        <%= fileSize %>    </td></tr></table> <div class="menu-nub-grey down"></div>'}),define("files/dev/views/full-preview-file-info-view",["core/ac-core","files/ac-files","files/templates/full-preview-file-info-template","i18n!core/nls/ui-strings","i18n!files/nls/ui-strings","core/utils/css-util","core/utils/num-util","core/utils/date-util","core/utils/file-types","core/utils/truncate","core/views/menu-view"],function(e,t,n,r,i,s,o,u,a,f){return t.FullPreviewFileInfoView=e.MenuView.extend({template:_.template(n),render:function(){var t=this.$el,n;e.MenuView.prototype.render.call(this),t.html(this.template({fileName:this._getFileName(),typeLabel:i.TYPE,fileType:this._formatFileType(),addedLabel:r.ADDED,dateAdded:this._formatDateAdded(),modifiedLabel:r.MODIFIED,dateModified:this._formatDateModified(),sizeLabel:r.SIZE,fileSize:this._formatFileSize()})),this._initWrappers(),f.truncateElementText(this.$fileName),n=this.options.$toggleInfoBtn.offset(),t.css("left",Math.max(n.left-s.getFullWidth(t)+42,0)+"px")},_onBodyClick:function(t){e.MenuView.prototype._onBodyClick.call(this,t),$(t.target).closest(this.options.$toggleInfoBtn).length>0&&this._consumeEvent(t)},_initWrappers:function(){this.$fileName=this.$(".files-full-preview-file-info-name")},_getItemModel:function(){return this.options.fullPreviewUiModel.get("item_model")},_formatDate:function(e){var t=this._getItemModel();return t?u.formatDate(t.get(e)):""},_getFileName:function(){return this.options.fullPreviewUiModel.getFileName()},_formatFileType:function(){return a.formatFileType(this._getItemModel())},_formatDateAdded:function(){return this._formatDate("created")},_formatDateModified:function(){return this._formatDate("modified")},_formatFileSize:function(){var e=this._getItemModel();return e?o.formatSize(e.get("size")):""}}),t.FullPreviewFileInfoView}),define("files/dev/views/full-preview-hud-view",["core/ac-core","files/ac-files","files/templates/full-preview-hud-template","i18n!core/nls/ui-strings","i18n!files/nls/ui-strings","core/utils/util","core/utils/view-util","core/utils/num-util","core/utils/sc-analytics","core/views/view","files/views/full-preview-file-info-view"],function(e,t,n,r,i,s,o,u,a){var f=.8,l=1.25;return t.FullPreviewHudView=e.View.extend({events:{mouseenter:"_onMouseEnter",mousemove:"_onMouseMove",mouseleave:"_onMouseLeave","click   .full-preview-hud-prev":"_onPrevPageClick","click   .full-preview-hud-next":"_onNextPageClick","keydown .full-preview-hud-page-num":"_onPageNumKeyDown","keyup   .full-preview-hud-page-num":"_onPageNumKeyUp","click   .full-preview-hud-zoom-out":"_onZoomOutClick","click   .full-preview-hud-zoom-in":"_onZoomInClick","click   .full-preview-hud-scroll-pages":"_onScrollPagesClick","click   .full-preview-hud-fit-page-width":"_onFitPageWidthClick","click   .full-preview-hud-fit-full-page":"_onFitFullPageClick","click   .full-preview-hud-toggle-rhp":"_onToggleRhpClick","click   .full-preview-hud-toggle-info":"_onToggleInfoClick","click   .full-preview-hud-toggle-ngdoc":"_onToggleNgdocClick","click   .full-preview-hud-close":"_onCloseClick","click   .full-preview-hud-dock":"_onDockClick","touchstart .full-preview-hud-prev":"_onPrevPageClick","touchstart .full-preview-hud-next":"_onNextPageClick","touchstart .full-preview-hud-page-num":"_onPageNumTap","touchstart   .full-preview-hud-zoom-out":"_onZoomOutClick","touchstart   .full-preview-hud-zoom-in":"_onZoomInClick","touchstart .full-preview-hud-scroll-pages":"_onScrollPagesClick","touchstart .full-preview-hud-fit-page-width":"_onFitPageWidthClick","touchstart .full-preview-hud-fit-full-page":"_onFitFullPageClick","touchstart .full-preview-hud-toggle-rhp":"_onToggleRhpClick","touchstart .full-preview-hud-toggle-info":"_onToggleInfoClick","touchstart .full-preview-hud-toggle-ngdoc":"_onToggleNgdocClick","touchstart .full-preview-hud-close":"_onCloseClick","touchstart .full-preview-hud-dock":"_onDockClick"},initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(n),this._addUiModelEventListeners(),this._addFocusEventListener()},render:function(){e.View.prototype.render.call(this),this.$el.children().length===0&&(this.$el.html(this._template({prevPageTitle:i.PREV_PAGE_TITLE,nextPageTitle:i.NEXT_PAGE_TITLE,pageNumTitle:i.PAGE_NUM_TITLE,pageNumSeparator:i.PAGE_NUM_SEPARATOR,pageCountTitle:i.PAGE_COUNT_TITLE,zoomOutTitle:i.ZOOM_OUT_TITLE,zoomInTitle:i.ZOOM_IN_TITLE,scrollPagesTitle:i.SCROLL_PAGES_TITLE,fitPageWidthTitle:i.FIT_PAGE_WIDTH_TITLE,fitFullPageTitle:i.FIT_FULL_PAGE_TITLE,unDockTitle:i.UNDOCK,dockTitle:i.DOCK_TO_BOTTOM,closeTitle:r.CLOSE})),this._initWrappers(),s.isTouchDevice()&&this.$pageNum.attr("readonly","readonly").addClass("readonly")),this.$pageNum.val(this._getPageNumStr()),this.$pageCount.html(this._getPageCountStr());var t=this._getToggleRhpTitle(),n=this._getToggleInfoTitle(),o=this._getToggleNgdocTitle();this.$toggleRhp.attr("title",t).find(".hidden-accessible").text(t),this.$toggleInfo.attr("title",n).find(".hidden-accessible").text(n),this.$toggleNgdoc.attr("title",o).find(".hidden-accessible").text(o),this._updateControls(),this.options.fullPreviewUiModel.get("is_hud_dismissed")||this._show(!0),this._renderChildViews()},_initWrappers:function(){this.$prevPage=this.$(".full-preview-hud-prev"),this.$nextPage=this.$(".full-preview-hud-next"),this.$pageNum=this.$(".full-preview-hud-page-num"),this.$pageCount=this.$(".full-preview-hud-page-count"),this.$viewBtns=this.$(".full-preview-hud-scroll-pages,.full-preview-hud-fit-page-width,.full-preview-hud-fit-full-page"),this.$scrollPages=this.$(".full-preview-hud-scroll-pages"),this.$fitPageWidth=this.$(".full-preview-hud-fit-page-width"),this.$fitFullPage=this.$(".full-preview-hud-fit-full-page"),this.$toggleRhp=this.$(".full-preview-hud-toggle-rhp"),this.$toggleInfo=this.$(".full-preview-hud-toggle-info"),this.$toggleNgdoc=this.$(".full-preview-hud-toggle-ngdoc"),this.$close=this.$(".full-preview-hud-close"),this.$dock=this.$(".full-preview-hud-dock"),this.$fileInfo=this.$(".files-full-preview-file-info"),this.$hudControls=this.$(".full-preview-hud-controls")},_getPageNum:function(){return this.options.fullPreviewUiModel.get("current_page")},_getPageCount:function(){return this.options.fullPreviewUiModel.get("page_count")},_getPageNumStr:function(){return this._getPageCount()?(this._getPageNum()+1).toString():""},_getPageCountStr:function(){var e=this._getPageCount();return e?e.toString():" "},_getToggleRhpTitle:function(){return this.options.fullPreviewUiModel.get("show_rhp")?i.HIDE_RHP:i.SHOW_RHP},_getToggleInfoTitle:function(){return this.options.fullPreviewUiModel.get("show_info")?i.HIDE_FILE_INFO:i.SHOW_FILE_INFO},_getToggleNgdocTitle:function(){return this.options.fullPreviewUiModel.isNGDocView()?i.SHOW_IMAGE_PREVIEW:i.SHOW_NGDOC_PREVIEW},_updateControls:function(){var e,t,n;e=this.options.fullPreviewUiModel,t=this._getPageNum(),n=this._getPageCount(),t===0?(this.$prevPage.is(document.activeElement)&&this.$nextPage.focus(),o.enableInput(this.$prevPage,!1)):o.enableInput(this.$prevPage,!0),t===n-1?(this.$nextPage.is(document.activeElement)&&this.$prevPage.focus(),o.enableInput(this.$nextPage,!1)):o.enableInput(this.$nextPage,!0),this._updateCurrentPageNumber(),this.$viewBtns.removeClass("disabled").attr("aria-pressed","false"),e.isScrollPagesView()?this.selectedViewButton=this.$scrollPages:e.isFitFullPageView()?this.selectedViewButton=this.$fitFullPage:this.selectedViewButton=this.$fitPageWidth,this.selectedViewButton.addClass("disabled").attr("aria-pressed","true"),e.get("show_rhp")?this.$toggleRhp.addClass("show-rhp"):this.$toggleRhp.removeClass("show-rhp"),e.get("enable_ngdoc")&&e.isNGDocJobComplete()?(this.$toggleNgdoc.show(),e.isNGDocView()?this.$toggleNgdoc.removeClass("show-image"):this.$toggleNgdoc.addClass("show-image")):this.$toggleNgdoc.hide(),e.get("is_hud_dismissed")||s.isTouchDevice()?(this.$close.css("display","none"),this.$dock.css("display","")):(this.$close.css("display","inline-block"),this.$dock.css("display","none"))},_updateCurrentPageNumber:function(){this.$pageNum.val(this._getPageNum()+1)},_updateHudPosition:function(){var e=this.options.fullPreviewUiModel;e.get("is_hud_dismissed")||(o.isHorizontalScrollBarPresent(e.get("preview_elem"))?this.$el.css("bottom",o.getScrollBarWidth()+"px"):this.$el.css("bottom","0px"))},_show:function(e){if(!this._getPageCount())return;if(e===this._isShown){e&&s.isTouchDevice()&&this._updateCurrentPageNumber();return}this.$el.stop(!0,!1),this.$el.animate({opacity:e?1:0},_.bind(function(){e||this._updateControls()},this)),this._isShown=e,e?(this.options.fullPreviewUiModel.get("is_hud_dismissed")?(this.$el.addClass("full-preview-hud-floating"),this.$hudControls.addClass("full-preview-hud-controls-floating"),this.$toggleNgdoc.is(":visible")?this.$hudControls.addClass("ngdoc"):this.$hudControls.removeClass("ngdoc")):(this.$el.removeClass("full-preview-hud-floating"),this.$hudControls.removeClass("full-preview-hud-controls-floating ngdoc")),this._updateControls(),this._updateCurrentPageNumber()):this.$pageNum&&this.$pageNum.blur()},_renderChildViews:function(){this._renderFileInfoView()},_renderFileInfoView:function(){this._renderChildView("_fullPreviewFileInfoView",t.FullPreviewFileInfoView,this.$fileInfo,{$toggleInfoBtn:this.$toggleInfo,animate:!1})},_onMouseEnter:function(e){$(e.currentTarget).is(this.$el)&&(this._isMouseEntered=!0,this._show(!0))},_onMouseMove:function(e){var t,n=e.pageX,r=e.pageY,i,s,u,a,f,l,c,h=this.$el;t=this.options.fullPreviewUiModel.get("preview_elem");if(!o.isVerticalScrollBarPresent(t)){h.css("width","100%");return}i=this.$el.offset(),a=i.left+this.$el.width(),f=i.top+this.$el.height(),l=o.getScrollBarWidth(),s=a-l,u=i.top,c=n>=s&&n<=a&&r>=u&&r<=f,c&&!this._wasOverScrollBar?h.width(h.width()-l):h.css("width","100%"),this._wasOverScrollBar=c,this._show(!c)},_onMouseLeave:function(e){var t=this.options.fullPreviewUiModel;$(e.currentTarget).is(this.$el)&&(this._isMouseEntered=!1,t.get("is_hud_dismissed")&&$(document.activeElement).closest(this.$el).length===0&&this._show(!1))},_timeoutId:null,_onFocusIn:function(e){clearTimeout(this._timeoutId);var t=this.options.fullPreviewUiModel;t.get("is_hud_dismissed")&&$(e.target).closest(this.$el)!==0&&this._show(!0)},_onFocusOut:function(){var e=this.options.fullPreviewUiModel,t=this.$el,n=this;e.get("is_hud_dismissed")&&(this._timeoutId=setTimeout(function(){e.get("is_hud_dismissed")&&!n._isMouseEntered&&$(document.activeElement).closest(t).length===0&&n._show(!1)},10))},_onPrevPageClick:function(e){this._onPageNavClick(e,!1)},_onNextPageClick:function(e){this._onPageNavClick(e,!0)},_onPageNavClick:function(e,t){var n;e&&e.preventDefault();if(!e||!$(e.currentTarget).hasClass("disabled"))this._logSiteCatalystEvent(t?a.NEXT_PAGE:a.PREV_PAGE),n=this._getPageNum(),this._goToPage(t?n+1:n-1,!0)},_goToPage:function(e,t){var n=this.options.fullPreviewUiModel,r=n.get("current_page");n.set({current_page:Math.min(Math.max(0,e),this._getPageCount()-1),align_current_page:t}),r===n.get("current_page")&&this._updateCurrentPageNumber()},_onPageNumKeyDown:function(e){var t=this.$pageNum,n=_.bind(function(){this._updateCurrentPageNumber(),t.blur().focus(),t.select()},this),r=_.bind(function(){var e=parseInt(this.$pageNum.val(),10);isNaN(e)?n():(this._logSiteCatalystEvent(a.PAGE_NUM_ENTERED),this._goToPage(e-1,!0),s.isTouchDevice()&&t.blur())},this),i=e.which;i===27?n():i===13||i===9?r():(i===37||i===39)&&e.stopPropagation()},_onPageNumKeyUp:function(){var e=this.$pageNum,t=e.val(),n=u.removeNonNumerics(t);n!==t&&e.val(n)},_onPageNumTap:function(){var e=this.$pageNum;e.attr("readonly")!=="readonly"&&e.focus().select()},_onZoomOutClick:function(e){var t=this.options.fullPreviewUiModel,n=t.get("zoom_factor");if($(e.currentTarget).hasClass("disabled"))return;t.set({align_current_page:!0,zoom_factor:n*f}),this._updateHudPosition(),this._logSiteCatalystEvent(a.ZOOM_OUT)},_onZoomInClick:function(e){var t=this.options.fullPreviewUiModel,n=t.get("zoom_factor");if($(e.currentTarget).hasClass("disabled"))return;t.set({align_current_page:!0,zoom_factor:n*l}),this._updateHudPosition(),this._logSiteCatalystEvent(a.ZOOM_IN)},_onScrollPagesClick:function(e){this._onViewButtonClick(e,"scroll_pages")&&this._logSiteCatalystEvent(a.SCROLL)},_onFitPageWidthClick:function(e){this._onViewButtonClick(e,"fit_page_width")&&this._logSiteCatalystEvent(a.FIT_PAGE_WIDTH)},_onFitFullPageClick:function(e){this._onViewButtonClick(e,"fit_full_page")&&this._logSiteCatalystEvent(a.FIT_FULL_PAGE)},_onViewButtonClick:function(e,t){return $(e.currentTarget).hasClass("disabled")?!1:(this.options.fullPreviewUiModel.set({view_format:t,align_current_page:!0,zoom_factor:1}),this._updateHudPosition(),!0)},_onToggleRhpClick:function(e){var n=this.options,r=n.fullPreviewUiModel,i=r.get("show_rhp");e.preventDefault(),this._logSiteCatalystEvent(i?a.HIDE_RHP:a.SHOW_RHP),r.set("show_rhp",!i),t.opFactory.create("SavingFilesPrefsOp",n).run()},_onToggleInfoClick:function(e){var t=this.options,n=t.fullPreviewUiModel,r=n.get("show_info");e.preventDefault(),this._logSiteCatalystEvent(r?a.HIDE_FILE_INFO:a.SHOW_FILE_INFO),n.set("show_info",!r)},_onToggleInfoKeyDown:function(e){var t=this.options,n=t.fullPreviewUiModel,r=n.get("show_info"),i=e.which;switch(i){case 32:case 38:case 40:case 27:return(r&&(i===38||i===27)||!r&&i===40||i===32)&&this._onToggleInfoClick(e),this._consumeEvent(e),!0}return!1},_onToggleNgdocClick:function(e){var t=this.options,n=t.fullPreviewUiModel,r;e.preventDefault();if(!n.get("enable_ngdoc"))return;r=n.isNGDocView(),this._logSiteCatalystEvent(r?a.SHOW_IMAGE_PREVIEW:a.SHOW_NGDOC_PREVIEW),n.set({view_type:r?"bitmap":"ngdoc"})},_onDockClick:function(){var e=this,t=this.options.fullPreviewUiModel,n=this.$dock.is(document.activeElement);this._show(!1),t.set("is_hud_dismissed",!1),this._show(!0),n&&_.delay(function(){e.$close.focus()},t.get("restore_focus_delay")/5)},_onCloseClick:function(){var e=this,t=this.options.fullPreviewUiModel,n=this.$close.is(document.activeElement);this._logSiteCatalystEvent(a.CLOSE),t.set("is_hud_dismissed",!0),this._show(!1),n&&_.delay(function(){e.$dock.focus()},t.get("restore_focus_delay"))},_onKeyDown:function(e){var t=e.which,n=!1,r=this.options.fullPreviewUiModel,i=this.$el,s=$(e.target),u,a=o.descendantHasFocus(i);if(s.is("[aria-haspopup=true],[role=option],[role^='menuitem'],[role=toolbar] :focusable")&&!a)return!1;if(s.is(this.$toggleInfo)&&this._onToggleInfoKeyDown(e))return!0;switch(t){case 27:s.closest(".generic-dialog, [role=dialog], [role=menu]").length===0&&this.options.appApi.previewApi.closeFullPreview(),n=!0;break;case 35:this._goToPage(r.get("page_count")-1,!0),n=!0;break;case 36:this._goToPage(0,!0),n=!0;break;case 33:case 38:this._onPrevPageClick(),n=!0;break;case 34:case 40:this._onNextPageClick(),n=!0;break;case 37:a?u=o.getNextFocusableDescendant(i,!0,!1):(this._onPrevPageClick(),n=!0);break;case 39:a?u=o.getNextFocusableDescendant(i,!1,!1):(this._onNextPageClick(),n=!0);break;case 65:if(e.ctrlKey||e.metaKey)r.isNGDocView()||(n=!0)}return u&&u.length&&(this._consumeEvent(e),n=!0,u.focus()),n},_getSiteCatalystContext:function(){var e=this.options.fullPreviewUiModel;return e.isNGDocView()&&e.isNGDocJobComplete()?[a.NGDOC,a.BOTTOM_NAV_BAR]:a.BOTTOM_NAV_BAR},_addUiModelEventListeners:function(){var e=this.options.fullPreviewUiModel;this.listenTo(e,"change:item_model",this._onItemModelChange).listenTo(e,"change:page_count",this._onPageCountChange).listenTo(e,"change:current_page",this._onCurrentPageChange).listenTo(e,"change:show_info",this._onShowInfoChange)},_onItemModelChange:function(e,t){t||this.options.appApi.keyApi.popKeyHandler(this)},_onPageCountChange:function(e,t){t&&(this.render(),this.options.appApi.keyApi.pushKeyHandler(this))},_onCurrentPageChange:function(e,t){this._goToPage(t,e.get("align_current_page"))},_onShowInfoChange:function(e,t){var n=this._fullPreviewFileInfoView,r;t?(r=this.options.fullPreviewUiModel,n.open().always(function(){r.set("show_info",!1)})):n.close(),this.render()}}),t.FullPreviewHudView}),define("files/dev/templates/full-preview-toolbar-item-template",[],function(){return'<button role="tab" class="toolbar-item plugin-selector"           aria-selected="false" title="<%= label %>">    <div class="plugin-selector-icon"></div>    <div class="toolbar-item-label hidden-accessible">        <%= label %>    </div></button>'}),define("files/dev/views/full-preview-plugins-selector-view",["core/ac-core","files/ac-files","files/templates/full-preview-toolbar-item-template","core/utils/css-util","core/views/plugins-selector-view"],function(e,t,n,r){return t.FullPreviewPluginsSelectorView=e.PluginsSelectorView.extend({initialize:function(){e.PluginsSelectorView.prototype.initialize.call(this)},render:function(){e.PluginsSelectorView.prototype.render.call(this),this.options.pluginsUiModel.getShownPluginCount()<=1?this.$el.hide():this._positionPointer()},_getSelectorTemplate:function(){return n},_getSelectorViewEvent:function(){return t.ViewEvents.FULL_PREVIEW_PLUGIN_CLICK},_initWrappers:function(){e.PluginsSelectorView.prototype._initWrappers.call(this),this.$pointer=this.$(".toolbar-selection-pointer")},_positionPointer:function(){var e=this._getSelectedSelectorElement(),t=this.options.fullPreviewUiModel.get("show_rhp"),n=this.$pointer,i;this.$el.show(),e&&t?(n.width(e.find(".plugin-selector-icon").width()),i=r.getFullWidth(e),n.show().css("left",e.position().left+1+(i-n.width())/2+"px")):(this._unhighlightSelection(),n.hide())},_onPluginSelectorClick:function(n){var r=this.options,i=r.fullPreviewUiModel;i.get("show_rhp")||(i.set("show_rhp",!0),t.opFactory.create("SavingFilesPrefsOp",r).run()),e.PluginsSelectorView.prototype._onPluginSelectorClick.call(this,n)}}),t.FullPreviewPluginsSelectorView}),define("files/dev/templates/full-preview-plugins-content-template",[],function(){return'<div class="full-preview-plugin-content plugin-content ui-theme theme-container"></div>'}),define("files/dev/views/full-preview-plugins-content-view",["core/ac-core","files/ac-files","files/templates/full-preview-plugins-content-template","core/views/plugins-content-view"],function(e,t,n){return t.FullPreviewPluginsContentView=e.PluginsContentView.extend({_getContentTemplate:function(){return n}}),t.FullPreviewPluginsContentView}),define("files/dev/templates/full-preview-overlays-content-template",[],function(){return'<div class="full-preview-overlay-content plugin-content"></div>'}),define("files/dev/views/full-preview-overlays-content-view",["core/ac-core","files/ac-files","files/templates/full-preview-overlays-content-template","core/views/plugins-content-view"],function(e,t,n){return t.FullPreviewOverlaysContentView=e.PluginsContentView.extend({render:function(){var t=this.$el,r,i=this.options.fullPreviewOverlaysUiModel,s=this.options.bScrollPageView,o,u,a,f,l,c,h;e.View.prototype.render.call(this),r=_.template(n),t.children(".full-preview-overlay-content").length===0&&(o=i.get("plugins"),o&&o.each(function(e){var n=_.clone(e.get("preview_elems"));t.append(r()),s?(n.push(t.children().last()),e.set("preview_elems",n)):e.set("content_elem",t.children().last())}),this._initWrappers()),s?(l=this.$el.find(".full-preview-image"),c=this.$el.find(".full-preview-svg")):(l=this.$el.find(".full-preview-image").not(".scroll-pages"),c=this.$el.find(".full-preview-svg").not(".scroll-pages")),l.length!==0&&l.is(":visible")?(this.$contents.css({"margin-top":l.css("margin-top"),"margin-left":l.css("margin-left"),"margin-bottom":l.css("margin-bottom"),"margin-right":l.css("margin-right"),left:l.offset().left+"px"}),this.$contents.width(l.width()).height(l.height())):c.length!==0&&c.is(":visible")&&(this.$contents.css({"margin-top":c.css("margin-top"),"margin-left":c.css("margin-left"),"margin-bottom":c.css("margin-bottom"),"margin-right":c.css("margin-right"),left:c.offset().left+"px"}),this.$contents.width(c.width()).height(c.height())),this.$contents.removeClass("selected"),a=i.getSelectedId(),u=i.get("plugins").get(a),h=l.hasClass("hidden")&&c.hasClass("hidden"),u&&(s?_.each(u.get("preview_elems"),function(e){h||e.addClass("selected")}):h||u.get("content_elem").addClass("selected"),f=u.get("plugin_api"),f&&s===!1&&f.render())},remove:function(){var t=this.options.fullPreviewOverlaysUiModel,n;this.$el.find(".full-preview-overlay-content").remove(),n=t.get("plugins"),n&&n.each(function(e){e.get("preview_elems").length!==0&&e.set("preview_elems",[])}),e.View.prototype.remove.call(this)},_getContentTemplate:function(){return n},_initWrappers:function(){this.$contents=this.$el.children(".plugin-content")}}),t.FullPreviewOverlaysContentView}),define("files/dev/views/full-preview-view",["core/ac-core","files/ac-files","files/templates/full-preview-template","i18n!core/nls/ui-strings","core/utils/truncate","core/utils/image-loader","core/utils/css-util","core/utils/comment-util","core/utils/sc-analytics","core/utils/svg-loader","core/views/view","files/views/view-events","files/views/full-preview-home-btn-view","files/views/full-preview-action-menu-view","files/views/full-preview-hud-view","files/views/full-preview-plugins-selector-view","files/views/full-preview-plugins-content-view","files/views/full-preview-overlays-content-view"],function(e,t,n,r,i,s,o,u,a,f){var l="application/pdf",c=1200;return t.FullPreviewView=e.View.extend({viewEvents:{"click .full-preview-home-btn":"_onHomeBtnClick","click .full-preview-action-menu-btn":"_onActionMenuBtnClick","click .full-preview-download-btn":"_onDownloadClick","click .full-preview-send-btn":"_onSendClick","click .preview-download":"_onPreviewDownloadClick","keydown .full-preview-action-menu-btn":"_onActionMenuBtnKeyDown"},initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(n),this._addUiModelEventListeners(),this._addAppApiCallbacks()},template:function(){return _.template(n)},render:function(){var t=this.$el,n=this.options,i=n.fullPreviewUiModel;e.View.prototype.render.call(this);if(!i.get("item_model"))return;t.children().length===0&&(t.html(this.template()({actions:r.ACTIONS,back:r.BACK,download:r.DOWNLOAD,send:r.SEND,previewNotAvailable:r.PREVIEW_NOT_AVAILABLE,previewNotAvailableDesc:r.PREVIEW_NOT_AVAILABLE_DESC})),this._initWrappers(),i.set("preview_elem",this.$previewBody),i.get("standalone")&&(this.$homeBtn.hide(),this.$previewNameCn.removeClass("with-home-btn")),i.get("read_only")&&(this.$actionMenuBtn.hide(),this.$pluginsSelector.hide()),(n.noShare||!n.appApi.pluginsApi.isPluginAvailable("send"))&&this.$(".full-preview-send-btn").hide()),this._updateRendition(),this._updateName(),this._updateViewFormat(),this._updateShowRhp(),this._renderChildViews()},_initWrappers:function(){this.$homeBtn=this.$(".full-preview-home-btn"),this.$previewHeader=this.$(".full-preview-header"),this.$previewMain=this.$(".full-preview-main"),this.$previewBody=this.$(".full-preview-body"),this.$previewImageCn=this.$(".full-preview-image-container"),this.$previewImage=this.$(".full-preview-image.single"),this.$previewSvg=this.$(".full-preview-svg.single"),this.$noPreview=this.$(".full-preview-not-available"),this.$actionMenuBtn=this.$(".full-preview-action-menu-btn"),this.$actionMenu=this.$(".full-preview-action-menu"),this.$previewHud=this.$(".full-preview-hud"),this.$previewSidebar=this.$(".full-preview-sidebar"),this.$previewNameCn=this.$(".full-preview-name-container"),this.$previewName=this.$(".full-preview-name"),this.$headerBtns=this.$(".full-preview-header-btns"),this.$pluginsSelector=this.$(".full-preview-plugins-selector"),this.$pluginsContent=this.$(".full-preview-sidebar")},_open:function(){var e=this.$el;this._close(),this._isExpanded=!0,e.addClass("shown"),this.delegateEvents(this.viewEvents),this.options.appApi.windowApi.addWindowResizeCallback(this._onWindowResize),this.render()},_close:function(){var e=this.$el;if(!this._isExpanded)return;this._isExpanded=!1,this.options.appApi.windowApi.removeWindowResizeCallback(this._onWindowResize),this._isHeightEstimated=!1,this._removePluginsOverlayViews(),this.$previewImageCn.find(".full-preview-image-container.scroll-pages").remove(),this._removeBodyScrollEventListener();try{this.$(".full-preview-image").removeAttr("src"),this.$(".full-preview-svg").empty(),this._hasImage=!1,this._hasSvg=!1}catch(t){}this.$noPreview.hide(),e.removeClass("shown"),this.remove(),this.undelegateEvents(),delete this._commentMarkupRequiredCached},_getName:function(){var t,n;return n=this.options.fullPreviewUiModel.get("item_model"),n&&(t=e.Util.replaceSpaceWithNbsp(n.get("name"))),t||(t=""),t},_getNameAndControlsWidth:function(){var e=this.$el;return e.width()-o.getCssNum(this.$previewNameCn,"left")},_getNameAndGearWidth:function(){var e,t=this.$pluginsSelector;return e=this._getNameAndControlsWidth()-o.getFullWidth(this.$headerBtns),t.css("display")!=="none"&&(e-=o.getFullWidth(t)),e},_getNameWidth:function(){var e=this._getNameAndGearWidth()-o.getFullWidth(this.$actionMenuBtn);return e},_updateName:function(){var e=this.$previewNameCn,t=this.$previewName;e.width(this._getNameAndGearWidth()-o.getExtraWidth(e)),t.text(this._getName()),this._truncateName()},_truncateName:function(){function r(){return i.getTextSize(n).width-t}var t=this._getNameWidth(),n=this.$previewName;e.Locale.getLocale()==="ja-jp"&&(t*=.85,t=Math.floor(t)),!isNaN(t)&&t>0&&i.truncateToFit(n,r)},_gotRenditionLoadError:function(){this.options.fullPreviewUiModel.set("got_rendition_load_error",!0)},_updateRendition:function(){var t=this.options.fullPreviewUiModel;if(!t.get("page_count"))return;if(t.isScrollPagesView())this.$previewImageCn.find(".full-preview-image-container.scroll-pages").length===0&&this._createScrollPagesImages(),t.get("got_current_scroll_page")?this._getScrollPagesChunk():this._getScrollPagesCurrent();else{var n=e.Util;!this._isExpanded&&(n.isIE8()||n.isFirefox())?_.delay(this._getPageRendition,t.get("toggle_rhp_duration")):this._getPageRendition()}},_acknowledgePageLoading:function(e){var t=this.options.fullPreviewUiModel,n;t.isScrollPagesView()?(n=t.get("loaded_scroll_pages"),n||(n={}),_.has(n,e)||(n[e]=!0,t.set("loaded_scroll_pages",n),t.trigger("change:loaded_scroll_pages"))):t.set("loaded_fitandfull_page",e)},_adjustSvgDimensions:function(e){var t,n,r=this.options.fullPreviewUiModel.get("zoom_factor"),i,s=c;if(e.length===0||e.data("pageNum")===undefined)return;this._removeBodyScrollEventListener(),t=parseFloat(e.attr("width")),n=parseFloat(e.attr("height")),i=this._getAspectRatio(e.data("pageNum"),t,n),i>1?(n=Math.ceil(1/i*s*r),t=s*r):(t=Math.ceil(i*s*r),n=s*r),e.attr("width",t+"px").attr("height",n+"px"),this._addBodyScrollEventListener()},_adjustImgDimensions:function(e){var t,n,r=this.options.fullPreviewUiModel,i=r.get("zoom_factor"),s,o=c,u=1;if(e.length===0||!e.data("loaded")||e.data("pageNum")===undefined)return;t=parseFloat(e.width()),n=parseFloat(e.height());if(!r.isNGDocJobComplete()&&(t===0||n===0))return;e.data("currentZoom")&&(u=e.data("currentZoom")),this._removeBodyScrollEventListener(),s=this._getAspectRatio(e.data("pageNum"),t,n),s>1?(r.isNGDocJobComplete()||(o=t/u),n=Math.ceil(1/s*o*i),t=o*i):(r.isNGDocJobComplete()||(o=n/u),t=Math.ceil(s*o*i),n=o*i),e.width(t+"px").height(n+"px"),e.data("currentZoom",i),this._addBodyScrollEventListener()},_getAspectRatio:function(e,t,n){var r=this.options,i=r.fullPreviewUiModel,s=i.get("aspect_ratio_pages");return s[e]||(s[e]=t/n,i.set("aspect_ratio_pages",s,{silent:!0})),s[e]},_isScrollPageLoaded:function(e,t){var n=this.options.fullPreviewUiModel,r,i;return t?n.get("enable_ngdoc")?(i=this.$previewImageCn.find(".full-preview-image-container.scroll-pages").eq(e).find(".full-preview-svg.scroll-pages"),i.find(".full-preview-svg-content").length>0):!1:(r=n.get("loaded_scroll_pages"),r||(r={}),r[e])},_isScrollPageRequested:function(e,t){var n,r;return t?this.options.fullPreviewUiModel.get("enable_ngdoc")?(r=this.$previewImageCn.find(".full-preview-image-container.scroll-pages").eq(e).find(".full-preview-svg.scroll-pages"),r.data("is_loading")):!1:(n=this.$previewImageCn.find(".full-preview-image-container.scroll-pages").eq(e).find(".full-preview-image.scroll-pages"),!_.isUndefined(n.attr("src")))},_getPageRendition:function(){var e,t;e=this.options.fullPreviewUiModel,t=e.get("current_page");if(t===e.get("loaded_page"))return;e.set("loaded_page",t),this._hasImage=!1,this._hasSvg=!1,e.isNGDocView()?(this.$previewSvg.data({pageNum:undefined}),this.$previewSvg.fadeOut(_.bind(function(t){t===e.get("current_page")&&this._loadPageRendition()},this,t))):(this.$previewImage.data({loaded:!1,pageNum:undefined}),this.$previewImage.fadeOut(_.bind(function(t){t===e.get("current_page")&&this._loadPageRendition()},this,t)))},_loadPageRendition:function(){function u(t){var n=this.$previewSvg.find("svg"),r,i;t.isSVG?(n.length>0&&!n.hasClass("full-preview-svg-content")&&(n.attr("class","full-preview-svg-content"),n.data("pageNum",t.pageNum),this._adjustSvgDimensions(n)),r=!0):(i=!0,this.$previewImage.data("pageNum",t.pageNum),e.get("zoom_factor")!==1&&this._adjustImgDimensions(this.$previewImage)),t.pageNum===e.get("current_page")&&this._show(i,r)}function a(t){var n,r;LOG(0,"AcFiles.FullPreviewView._loadPageRendition: error"),t.isSVG?n=!1:r=!1,t.pageNum===e.get("current_page")&&this._show(r,n),this._gotRenditionLoadError()}var e,t,n,r,i,o;e=this.options.fullPreviewUiModel,t=e.get("item_model"),i=e.get("enable_ngdoc");if(!t)return;i&&e.isNGDocJobComplete()&&(r=t.getNGDocUrl(e.get("current_page")),this.$previewSvg.data("svg_url",r),f.loadSvg(this.$previewSvg,r,{pageNum:e.get("current_page"),isSVG:!0},!0).then(_.bind(u,this),_.bind(a,this))),o=this._isCommentMarkupRequired(),n=t.getRenditionUrl("preview",e.get("current_page"),o),s.loadImage(this.$previewImage,n,{pageNum:e.get("current_page"),isSVG:!1},!0).then(_.bind(u,this),_.bind(a,this))},_createScrollPagesImages:function(){var e=this.options.fullPreviewUiModel,t,n,r,i,s,o=e.get("enable_ngdoc");for(t=0,n=e.get("page_count");t<n;t+=1)s=$(document.createElement("div")),s.addClass("full-preview-image-container scroll-pages"),o&&(i=$(document.createElement("div")),i.addClass("full-preview-svg scroll-pages")),r=$(document.createElement("img")),r.addClass("full-preview-image scroll-pages"),t>0&&(s.addClass("subsequent-page"),r.addClass("subsequent-page"),o&&i.addClass("subsequent-page")),s.append(r),o&&s.append(i),this.$previewImageCn.append(s),t===n-1&&(s.addClass("last-page"),r.addClass("last-page"),o&&i.addClass("last-page"))},_onScrollPageContentLoad:function(e){var t=this.options.fullPreviewUiModel;this._isScrollPageLoaded(e)&&t.isNGDocView()&&this._isScrollPageLoaded(e,!0)&&t.set({got_current_scroll_page:!0}),e=t.get("current_page"),this._setScrollPagesScrollPosition(e),this._acknowledgePageLoading(e),this._getScrollPagesChunk(),this._renderPluginsOverlayViews(this.options)},_getScrollPagesCurrent:function(){function c(t){var n=t.$svgElement,i=t.$imgElement,s,o,u;this.$previewBody.removeClass("no-preview"),this.$noPreview.hide(),t.isSVG?(s=n.find("svg"),s.length>0&&(s.hasClass("full-preview-svg-content")||(s.attr("class","full-preview-svg-content"),s.data("pageNum",t.pageNum),this._adjustSvgDimensions(s)),o=parseFloat(s.attr("width")),u=parseFloat(s.attr("height")),n.width("auto").height("auto"),n.css("max-height","none"),this._updateViewFormat(),e.isNGDocView()&&(this._estimateScrollPagesHeights(o,u),this._onScrollPageContentLoad(t.pageNum)))):(i.show(),o=i.width(),u=i.height(),this._removeBodyScrollEventListener(),i.width("auto").height("auto"),i.css("max-height","none"),this._addBodyScrollEventListener(),r.data("pageNum",t.pageNum),e.get("zoom_factor")!==1&&this._adjustImgDimensions(i),this._updateViewFormat(),e.isNGDocView()&&n.find(".full-preview-svg-content").length>0?i.hide():(i.show(),this._estimateScrollPagesHeights(o,u),this._onScrollPageContentLoad(t.pageNum)))}function h(n){var r;t=e.get("current_page"),n.isSVG||(n.$imgElement.removeAttr("src"),n.pageNum===t&&!this._isScrollPageLoaded(n.pageNum,!0)&&(r=!0)),r&&this._showScrollPageError(),this._gotRenditionLoadError()}var e=this.options.fullPreviewUiModel,t,n,r,i,o,u,a=e.get("enable_ngdoc"),l;t=e.get("current_page"),n=e.get("item_model"),r=this.$previewImageCn.find(".full-preview-image-container.scroll-pages").eq(t).find(".full-preview-image.scroll-pages"),this._isScrollPageLoaded(t)?r.show():r.hide(),a&&(i=this.$previewImageCn.find(".full-preview-image-container.scroll-pages").eq(t).find(".full-preview-svg.scroll-pages")),a&&e.isNGDocJobComplete()&&!this._isScrollPageRequested(t,!0)&&!this._isScrollPageLoaded(t,!0)&&(u=n.getNGDocUrl(t),f.loadSvg(i,u,{$svgElement:i,$imgElement:r,pageNum:t,isSVG:!0}).then(_.bind(c,this),_.bind(h,this))),!this._isScrollPageRequested(t)&&!this._isScrollPageLoaded(t)&&(l=this._isCommentMarkupRequired(),o=n.getRenditionUrl("preview",t,l),s.loadImage(r,o,{$imgElement:r,$svgElement:i,pageNum:t,isSVG:!1}).then(_.bind(c,this),_.bind(h,this)))},_getScrollPagesChunk:function(){var e,t,n,r,i,o,u,a,l,c,h,p=[],d,v;e=this.options.fullPreviewUiModel,t=e.get("item_model"),n=e.get("page_count"),r=e.get("current_page"),i=e.get("scroll_pages_chunk"),d=e.get("enable_ngdoc");if(!n)return;o=Math.max(Math.ceil(r-i/2),0),u=Math.min(o+i,n-1),l=this.$previewImageCn.find(".full-preview-image-container.scroll-pages"),v=this._isCommentMarkupRequired();for(a=o;a<=u;a+=1)c=l.eq(a).find(".full-preview-image.scroll-pages"),d&&e.isNGDocJobComplete()&&(h=l.eq(a).find(".full-preview-svg.scroll-pages"),!this._isScrollPageRequested(a,!0)&&!this._isScrollPageLoaded(a,!0)&&p.push(f.loadSvg(h,t.getNGDocUrl(a),{$svgElement:h,$imgElement:c,pageNum:a,isSVG:!0}))),!this._isScrollPageRequested(a)&&!this._isScrollPageLoaded(a)&&p.push(s.loadImage(c,t.getRenditionUrl("preview",a,v),{$svgElement:h,$imgElement:c,pageNum:a,isSVG:!1}));_.each(p,_.bind(function(t){t.then(_.bind(function(t){var n;h=t.$svgElement,c=t.$imgElement,t.isSVG?(n=h.find("svg"),n.length>0&&(n.hasClass("full-preview-svg-content")||(n.attr("class","full-preview-svg-content"),n.data("pageNum",t.pageNum),this._adjustSvgDimensions(n)),h.width("auto").height("auto"),h.css("max-height","none"))):(this._removeBodyScrollEventListener(),c.width("auto").height("auto"),c.css("max-height","none"),this._addBodyScrollEventListener(),c.data("pageNum",t.pageNum),e.get("zoom_factor")!==1&&this._adjustImgDimensions(c)),this._acknowledgePageLoading(t.pageNum)},this),function(e){e.isSVG||e.$imgElement.removeAttr("src"),LOG("AcFiles.FullPreviewView._onScrollPagesRenditionError pageNum="+e.pageNum)})},this)),$.when.apply(undefined,p).then(_.bind(function(){_.defer(_.bind(function(){this._renderPluginsOverlayViews(this.options),this._updateViewFormat()},this))},this),_.bind(function(){this._gotRenditionLoadError()},this))},_estimateScrollPagesHeights:function(e,t){var n,r,i,s,u,a,f,l=this.options.fullPreviewUiModel,c=l.get("enable_ngdoc");if(!e||!t||this._isHeightEstimated)return;i=this.$previewImageCn.find(".full-preview-image-container.scroll-pages");for(n=0,r=l.get("page_count");n<r;n+=1)c&&(f=i.eq(n).find(".full-preview-svg.scroll-pages"),a=f.find(".full-preview-svg-content"),a.length===0&&f.width(e).height(t)),s=i.eq(n),u=s.find(".full-preview-image.scroll-pages"),u.attr("src")||(s.height()===0&&s.height(t+o.getExtraHeight(u)),u.width(e).height(t));this._isHeightEstimated=!0},_showScrollPageError:function(){var e=this.options.fullPreviewUiModel.get("item_model");this.$previewBody.css("visibility","visible"),this.$previewBody.addClass("no-preview"),this.$noPreview.show(),this.$noPreview.css({top:this.$previewBody.scrollTop()+this.$previewBody.height()*.45+"px"}),this.options.appApi.siteCatalystApi.logScEvent([a.PREVIEW,e.isPDF()?a.PDF:a.NON_PDF,a.FAILED])},_show:function(e,t){var n=this.options,r=n.fullPreviewUiModel.get("item_model");this.$previewBody.css("visibility","visible"),_.isUndefined(e)||(this._hasImage=e),_.isUndefined(t)||(this._hasSvg=t),e=this._hasImage,t=this._hasSvg,this._updateViewFormat(),n.fullPreviewUiModel.isNGDocView()?t?(this.$previewBody.removeClass("no-preview"),this.$noPreview.hide(),this.$previewSvg.show(),this._acknowledgePageLoading(n.fullPreviewUiModel.get("current_page")),this._renderPluginsOverlayViews(n)):e?(this.$previewBody.removeClass("no-preview"),this.$noPreview.hide(),this.$previewSvg.fadeOut(),this.$previewImage.fadeIn(_.bind(function(e){_.defer(_.bind(function(e){this._acknowledgePageLoading(e),this._renderPluginsOverlayViews(n)},this,e))},this,n.fullPreviewUiModel.get("current_page")))):e===!1&&t===!1&&(this.$previewBody.addClass("no-preview"),this.$noPreview.show(),this.$noPreview.css("top","45%"),this.$previewImage.fadeOut(),this.$previewSvg.fadeOut(),n.appApi.siteCatalystApi.logScEvent([a.PREVIEW,r.isPDF()?a.PDF:a.NON_PDF,a.FAILED])):e?this.$previewImage.fadeIn(_.bind(function(e){_.defer(_.bind(function(e){this._acknowledgePageLoading(e),this._renderPluginsOverlayViews(n)},this,e))},this,n.fullPreviewUiModel.get("current_page"))):e===!1&&(this.$previewBody.addClass("no-preview"),this.$noPreview.show(),this.$noPreview.css("top","45%"),this.$previewImage.fadeOut(),this.$previewSvg.fadeOut(),n.appApi.siteCatalystApi.logScEvent([a.PREVIEW,r.isPDF()?a.PDF:a.NON_PDF,a.FAILED]))},_updateViewFormat:function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w;e=this.options.fullPreviewUiModel,h=e.get("current_page"),a=e.get("enable_ngdoc"),v=e.get("scroll_pages_chunk"),g=e.get("page_count"),u=e.isNGDocView(),t=e.get("scroll_bar_width"),n=this.$previewBody.width(),r=1,i=this.$previewImageCn.find(".full-preview-image.scroll-pages"),a&&(s=this.$previewImageCn.find(".full-preview-svg.scroll-pages")),o=this.$previewImageCn.find(".full-preview-image-container.scroll-pages"),this._removeBodyScrollEventListener();if(e.isScrollPagesView()){p=Math.max(Math.ceil(h-v/2),0),d=Math.min(p+v,g-1),this.$previewImage.addClass("hidden"),a&&this.$previewSvg.addClass("hidden"),o.removeClass("hidden"),w=i.filter(function(){return!$(this).data("loaded")}),y=(n-t-r*2)*e.get("zoom_factor"),i.css("max-width",y+"px"),b=y*(w.height()/w.width()),b>0&&w.css("max-height",b+"px");if(u){s.css({"max-width":y+"px","max-height":b+"px",display:"inline-block"}),s.find(".full-preview-svg-content").css({"max-width":y+"px","max-height":b+"px",display:"inline-block"});for(m=p;m<=d;m+=1)f=s.eq(m),l=f.find(".full-preview-svg-content"),c=i.eq(m),l.length>0&&(b=y/this._getAspectRatio(m,parseFloat(l.attr("width")),parseFloat(l.attr("height"))),l.css("max-height",b+"px"),f.css("max-height",b+"px"),c.css("max-height",b+"px"));s.removeClass("hidden"),i.addClass("hidden");for(m=p;m<=d;m+=1)f=s.eq(m),l=f.find(".full-preview-svg-content"),l.length===0&&(i.eq(m).removeClass("hidden"),f.addClass("hidden"))}else{a&&s.addClass("hidden"),i.removeClass("hidden");for(m=p;m<=d;m+=1)c=i.eq(m),c.data("loaded")&&(b=y/this._getAspectRatio(m,c.width(),c.height()),c.css("max-height",b+"px"))}this._isHeightEstimated&&this._setScrollPagesScrollPosition(h),this._addBodyScrollEventListener()}else o.addClass("hidden"),i.addClass("hidden"),a&&s.addClass("hidden"),u?this._hasSvg?(this.$previewImage.addClass("hidden"),this.$previewSvg.removeClass("hidden")):this._hasImage&&(this.$previewImage.removeClass("hidden"),this.$previewSvg.addClass("hidden")):this._hasImage&&(this.$previewSvg.addClass("hidden"),this.$previewImage.removeClass("hidden")),l=this.$previewSvg.find(".full-preview-svg-content"),e.isFitPageWidthView()?(y=(n-t-r*2)*e.get("zoom_factor"),l.length>0?(b=y/this._getAspectRatio(h,parseFloat(l.attr("width")),parseFloat(l.attr("height"))),l.css({"max-width":y+"px","max-height":b+"px"}),this.$previewSvg.css({"max-width":y+"px","max-height":b+"px"})):b=y/this._getAspectRatio(h,this.$previewImage.width(),this.$previewImage.height()),this.$previewImage.css({"max-width":y+"px","max-height":b+"px"})):(b=(this.$previewBody.height()-r)*e.get("zoom_factor"),l.length>0?(y=b*this._getAspectRatio(h,parseFloat(l.attr("width")),parseFloat(l.attr("height"))),l.css({"max-width":y+"px","max-height":b+"px"}),this.$previewSvg.css({"max-width":y+"px","max-height":b+"px"})):y=b*this._getAspectRatio(h,this.$previewImage.width(),this.$previewImage.height()),this.$previewImage.css({"max-width":y+"px","max-height":b+"px"})),this.$previewBody.scrollTop(0)},_addBodyScrollEventListener:function(){var e=this.options.fullPreviewUiModel.get("scroll_debounce_delay");this._allowBodyScrollEventListener=!0,this.$previewBody.off("scroll").on("scroll",_.debounce(this._onBodyScroll,e))},_removeBodyScrollEventListener:function(){this._allowBodyScrollEventListener=!1,this.$previewBody.off("scroll")},_onBodyScroll:function(){var e,t,n,r,i,s,u,a,f,l,c,h,p;if(!this._allowBodyScrollEventListener)return;e=this.$previewBody.scrollTop(),t=e+this.$previewBody.height(),n=this.$previewImageCn.find(".full-preview-image-container.scroll-pages"),r=1,u=this.options.fullPreviewUiModel;for(i=0,s=u.get("page_count");i<s;i+=1){a=n.eq(i),l=a.position(),c=l.top+o.getCssNum(a,"margin-top")+r;if(c>=e||i>=s-1){p=i;break}f=n.eq(i+1),h=c+a.height()+o.getCssNum(f,"margin-top")+r;if(h>t){p=i;break}}_.isUndefined(p)||u.set({current_page:p,align_current_page:!1})},_setScrollPagesScrollPosition:function(e){var t=this.$previewBody,n,r,i;n=this.$previewImageCn.find(".full-preview-image-container.scroll-pages").eq(e),r=n.position(),r&&(i=r.top,this.options.fullPreviewUiModel.get("align_current_page")&&(this._removeBodyScrollEventListener(),t.scrollTop(i+o.getCssNum(n,"margin-top")),this._addBodyScrollEventListener()))},_updateShowRhp:function(){this.options.fullPreviewUiModel.get("show_rhp")?(this.$previewMain.removeClass("full-screen"),this.$previewSidebar.removeClass("hide-rhp")):(this.$previewMain.addClass("full-screen"),this.$previewSidebar.addClass("hide-rhp"))},_areOverlaysEnabled:function(){var e=this.options,t=e.fullPreviewOverlaysUiModel,n=t.get("plugins"),r,i;if(n.length===0)return!1;for(i=0;i<n.length;i+=1){r=n.at(i).get("selector_api").getSelectorLabel();if(_.isString(r)&&r.length>0)break}return i===n.length?!1:!0},_renderChildViews:function(){var e=this.options,t=e.appApi.pluginsApi,n,r=e.fullPreviewUiModel;n=t.hasPluginType("full_preview_rhp"),this._renderHomeBtnView(),this._renderMenuView(),this._renderHudView(),e=_.extend({},this.options,{pluginsUiModel:n?e.fullPreviewRhpPluginsUiModel:e.fullPreviewPluginsUiModel}),this._renderPluginsContentView(e),this._renderPluginsOverlayViews(e),n?this.$pluginsSelector.hide():this._renderPluginsSelectorView(e),r.isNGDocView()&&r.isNGDocJobComplete()&&this._areOverlaysEnabled()?(this.$(".full-preview-svg").on("mousemove",this._onMouseMove),this.$(".full-preview-image").on("mousemove",this._onMouseMove),this.$(".full-preview-overlay-content").on("mousemove",this._onMouseMove)):(this.$(".full-preview-svg").off("mousemove"),this.$(".full-preview-image").off("mousemove"),this.$(".full-preview-overlay-content").off("mousemove"))},_renderHomeBtnView:function(){this._renderChildView("_fullPreviewHomeBtnView",t.FullPreviewHomeBtnView,this.$homeBtn)},_renderMenuView:function(){this._renderChildView("_fullPreviewActionMenuView",t.FullPreviewActionMenuView,this.$actionMenu,{$actionMenuBtn:this.$actionMenuBtn})},_renderHudView:function(){this._renderChildView("_fullPreviewHudView",t.FullPreviewHudView,this.$previewHud)},_renderPluginsContentView:function(e){this._renderChildView("_pluginsContentView",t.FullPreviewPluginsContentView,this.$pluginsContent,e)},_renderPluginsOverlayViews:function(e){var n,r,i;if(!this._areOverlaysEnabled())return;i=this.$previewImageCn.find(".full-preview-image-container.scroll-pages");for(n=0;n<i.length;n+=1)r="_pluginsOverlayView:"+n,this._renderChildView(r,t.FullPreviewOverlaysContentView,i.eq(n),_.extend(e,{bScrollPageView:!0}));this._renderChildView("_pluginsOverlayView",t.FullPreviewOverlaysContentView,this.$previewImageCn,_.extend(e,{bScrollPageView:!1}))},_renderPluginsSelectorView:function(e){this._renderChildView("_pluginsSelectorView",t.FullPreviewPluginsSelectorView,this.$pluginsSelector,e)},_removePluginsOverlayViews:function(){var e,t,n;if(!this._areOverlaysEnabled())return;n=this.$previewImageCn.find(".full-preview-image-container.scroll-pages");for(e=0;e<n.length;e+=1)t="_pluginsOverlayView:"+e,this.removeChildView(this[t]),delete this[t]},_getParentScContext:function(){return undefined},_getSiteCatalystContext:function(){return a.PREVIEW},_onHomeBtnClick:function(e){var t=this.options,n=t.fullPreviewUiModel;e.preventDefault(),n.isNGDocView()&&n.isNGDocJobComplete()?this._logSiteCatalystEvent([a.NGDOC,a.TOOLBAR,a.BACK,a.CLICKED]):this._logSiteCatalystEvent([a.TOOLBAR,a.BACK,a.CLICKED]),t.appApi.previewApi.closeFullPreview()},_onActionMenuBtnClick:function(){var e=this.options.fullPreviewUiModel;e.isNGDocView()&&e.isNGDocJobComplete()?this._logSiteCatalystEvent([a.NGDOC,a.TOOLBAR,a.GEAR_ICON,a.CLICKED]):this._logSiteCatalystEvent([a.TOOLBAR,a.GEAR_ICON,a.CLICKED]),this._triggerViewEvent(t.ViewEvents.FULL_PREVIEW_MENU_BTN_CLICK)},_onActionMenuBtnKeyDown:function(e){var t=this._fullPreviewActionMenuView,n=t.isMenuOpen(),r=e.which;switch(r){case 32:case 38:case 40:this._consumeEvent(e);if(r===38&&n||r!==38&&!n)return this._onActionMenuBtnClick(),!0}},_onDownloadClick:function(){var t=this.options,n=t.fullPreviewUiModel;n.isNGDocView()&&n.isNGDocJobComplete()?this._logSiteCatalystEvent([a.NGDOC,a.TOOLBAR,a.DOWNLOAD_ICON,a.CLICKED]):this._logSiteCatalystEvent([a.TOOLBAR,a.DOWNLOAD_ICON,a.CLICKED]),this._triggerViewEvent(e.ViewEvents.DOWNLOAD,{id:n.get("item_model").id})},_onSendClick:function(){var e=this.options,t=e.fullPreviewUiModel,n=t.get("item_model").id;t.isNGDocView()&&t.isNGDocJobComplete()?this._logSiteCatalystEvent([a.NGDOC,a.TOOLBAR,a.SEND_ICON,a.CLICKED]):this._logSiteCatalystEvent([a.TOOLBAR,a.SEND_ICON,a.CLICKED]),e.appApi.routerApi.navigate("send/file/"+n,{trigger:!0})},_onPreviewDownloadClick:function(){var t=this.options,n=t.fullPreviewUiModel;n.isNGDocView()&&n.isNGDocJobComplete()?this._logSiteCatalystEvent([a.NGDOC,a.DOWNLOAD_LINK,a.CLICKED]):this._logSiteCatalystEvent([a.DOWNLOAD_LINK,a.CLICKED]),this._triggerViewEvent(e.ViewEvents.DOWNLOAD,{id:n.get("item_model").id})},_onMouseMove:function(e){this.options.appApi.previewApi.mayActivatePluginElement(e)},_onWindowResize:function(){var e=this.options.fullPreviewUiModel,t,n,r,i=e.get("current_page");e.set("align_current_page",!0),e.isScrollPagesView()&&(r=this.$previewImageCn.find(".full-preview-image.scroll-pages"),n=this.$previewImageCn.find(".full-preview-svg.scroll-pages"),this._isHeightEstimated=!1,e.isNGDocView()?t=n.eq(i):t=r.eq(i),this._estimateScrollPagesHeights(t.width(),t.height()),this._updateViewFormat())},_addModelEventListeners:function(e){var t=e.collection;e.on("change",this._onModelChange),t&&t.on("change",this._onCollectionChange)},_removeModelEventListeners:function(e){var t=e.collection;e.off("change",this._onModelChange),t&&t.off("change",this._onCollectionChange)},_onModelChange:function(){this.render()},_onCollectionChange:function(e){e===this.options.fullPreviewUiModel.get("item_model")&&this.render()},_addUiModelEventListeners:function(){var e=this.options;e.fullPreviewUiModel.on("change:item_model",this._onItemModelChange).on("change:page_count",this._onPageCountChange).on("change:current_page",this._onCurrentPageChange).on("change:view_format",this._onViewFormatChange).on("change:view_type",this._onViewTypeChange).on("change:show_rhp",this._onShowRhpChange).on("change:show_action_menu",this._onShowActionMenuChange).on("change:ngdoc_job_status",this._onNGDocJobStatusChange).on("change:zoom_factor",this._onZoomFactorChange),e.fullPreviewPluginsUiModel.on("change:selected_plugin_id",this._onSelectedPluginIdChange),e.fullPreviewOverlaysUiModel.on("change:selected_plugin_id",this._onSelectedPluginIdChange)},_onItemModelChange:function(e,t){t?(this._open(),this._addModelEventListeners(t)):(this._close(),this._removeModelEventListeners(e.previous("item_model")))},_onPageCountChange:function(e,t){t&&this.render()},_onCurrentPageChange:function(e,t){_.isUndefined(t)||this.render()},_onViewFormatChange:function(){this.render()},_onViewTypeChange:function(){var e=this.options,t=e.fullPreviewUiModel;t.isNGDocView()?this.$(".full-preview-svg-content").each(_.bind(function(e,t){this._adjustSvgDimensions($(t))},this)):this.$(".full-preview-image").each(_.bind(function(e,t){this._adjustImgDimensions($(t))},this)),this.render()},_onShowRhpChange:function(){this._updateShowRhp(),_.delay(this.render,this.options.fullPreviewUiModel.get("toggle_rhp_duration"))},_onShowActionMenuChange:function(e,t){var n=this._fullPreviewActionMenuView,r=this.options.fullPreviewUiModel;if(!r.get("item_model"))return;t?n.open().always(function(){r.set("show_action_menu",!1)}):n.close()},_onNGDocJobStatusChange:function(e,t){e.isNGDocJobComplete()&&this.render()},_onZoomFactorChange:function(e){var t,n,r,i=e.get("current_page");e.isNGDocView()?this.$(".full-preview-svg-content").each(_.bind(function(e,t){this._adjustSvgDimensions($(t))},this)):this.$(".full-preview-image").each(_.bind(function(e,t){this._adjustImgDimensions($(t))},this)),e.isScrollPagesView()&&(n=this.$previewImageCn.find(".full-preview-image.scroll-pages"),r=this.$previewImageCn.find(".full-preview-svg.scroll-pages"),this._isHeightEstimated=!1,e.isNGDocView()?t=r.eq(i):t=n.eq(i),this._estimateScrollPagesHeights(t.width(),t.height())),this.render()},_onSelectedPluginIdChange:function(){this.render()},_addAppApiCallbacks:function(){this.options.appApi.routerApi.addHistoryChangeCallback(this._onHistoryChange)},_onHistoryChange:function(){var e=this.options.appApi;if(!this._isExpanded)return;if(e.previewApi.ignoreCurrentPath())return;e.previewApi.closeFullPreview({noHistoryEffect:!0})},_isCommentMarkupRequired:function(){return this._commentMarkupRequiredCached===undefined&&(this._commentMarkupRequiredCached=this._isCommentMarkupRequiredRaw()),this._commentMarkupRequiredCached},_isCommentMarkupRequiredRaw:function(){var e=this.options.fullPreviewUiModel.get("item_model"),t=e.get("content_type");return t&&t.toLowerCase()===l&&u.isCommentingEnabled(this.options)?!1:!0}}),t.FullPreviewView}),define("files/dev/templates/filter-attr-menu-template",[],function(){return'<button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data="name"     data-site-catalyst="NameContains"     role="menuitem" tabindex="-1">    <%= fileName %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data="content_type"     data-site-catalyst="FileTypeIs"     role="button" tabindex="-1">    <%= fileType %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data="modified"     data-site-catalyst="DateModifiedIs"     role="button" tabindex="-1">    <%= dateLastModified %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable "     data-data="last_access"     data-site-catalyst="DateAccessIs"     role="button" tabindex="-1">    <%= dateAccessed %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data="created"     data-site-catalyst="DateAddedIs"     role="button" tabindex="-1">    <%= dateAdded %></button>'}),define("files/dev/views/filter-submenu-view",["core/ac-core","files/ac-files","core/utils/util","core/utils/css-util","core/utils/view-util","core/utils/truncate","core/views/menu-view"],function(e,t,n,r,i,s){return t.FilterSubmenuView=e.MenuView.extend({events:function(){return _.extend({},e.MenuView.prototype.events,{"click .files-filter-menu-submenu-item":"_onMenuItemClick","focusin .files-filter-menu-submenu-item":"_onMenuFocusInHC","focusout .files-filter-menu-submenu-item":"_onMenuFocusOutHC"})},render:function(){var t=this.$el,n=this.options.$menuBtn,i,s;return e.MenuView.prototype.render.call(this),i=n.position(),s=n.height()+r.getExtraHeight(n),t.css("top",i.top+s+"px"),t.css("left",i.left+"px"),t.css("margin-top","8px"),t.width(n.width()+r.getPaddingWidth(n)),this},initialize:function(){},open:function(t,n){var r=this.options,i=r.animate,s;return r.animate=!n,s=e.MenuView.prototype.open.call(this,_.bind(function(){this._truncateMenuItems(),t&&t()},this)),r.animate=i,s},_truncateMenuItems:function(){var e=this.$el,t,n,o;t=e.find(".files-filter-menu-submenu-item"),t.each(_.bind(function(t,u){n=$(u),o=this._menuItemWidth,o||(o=n.parent().width()-r.getExtraWidth(n),i.isVerticalScrollBarPresent(e)&&(o-=i.getScrollBarWidth(e)),this._menuItemWidth=o),n.width(o),s.truncateElementText(n)},this))},_onMenuItemClick:function(e){var n=$(e.target);this.close(),this._triggerViewEvent(t.ViewEvents.SELECT_FILTER_MENU_ITEM,{filterMenuType:this.$el.attr("data-data"),filterMenuItemValue:n.attr("data-data"),filterMenuItemFilter:n.attr("data-worker"),filterMenuItemSiteCatalyst:n.attr("data-site-catalyst"),filterMenuItemQueryLabel:$.trim(n.text()),filterMenuItemQueryTitle:$.trim(n.attr("title"))})},_onMenuFocusInHC:function(e){var t=$(e.target);r.addClass(t,"theme-selectable")},_onMenuFocusOutHC:function(e){var t=$(e.target);r.removeClass(t,"theme-selectable")}}),t.FilterSubmenuView}),define("files/dev/views/filter-attr-menu-view",["files/ac-files","files/templates/filter-attr-menu-template","i18n!core/nls/ui-strings","files/views/filter-submenu-view"],function(e,t,n){return e.FilterAttrMenuView=e.FilterSubmenuView.extend({render:function(){var r=this.$el;return e.FilterSubmenuView.prototype.render.call(this),r.children().length===0&&r.html(_.template(t)({fileName:n.FILE_NAME_CONTAINS,fileType:n.FILE_TYPE_IS,dateLastModified:n.DATE_LAST_MODIFIED,dateAdded:n.DATE_ADDED,dateAccessed:n.DATE_LAST_VIEWED})),this}}),e.FilterAttrMenuView}),define("files/dev/templates/files-body-template",[],function(){return'<div class="files-list folder theme-border"></div><div class="files-list files-search-results"></div><div class="hover-preview"></div>'}),define("files/dev/templates/search-results-template",[],function(){return'<div role="navigation" class="folder-navigation ui-theme theme-container theme-border"></div><div id="files-search-results-summary-<%= viewId %>"     class="files-search-results-summary folder-navigation"></div><div class="files-search-results-items collection-list-view" ></div><div class="files-no-search-results files-no-files"     aria-live="assertive"></div><div class="files-search-message" aria-live="assertive"></div>'}),define("files/dev/views/search-results-summary-view",["core/ac-core","files/ac-files","i18n!files/nls/ui-strings","core/views/view"],function(e,t,n){return t.SearchResultsSummaryView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this._addModelEventListeners(),this._addUiModelEventListeners()},render:function(){return e.View.prototype.render.call(this),this.$el.text(this._getSummary()),this},_getSummary:function(){var e,t=this.options.searchUiModel;return t.get("invalid")?e=n.SEARCH_RESULTS:e=this._getStatusSummary(t.get("status")),e},_getStatusSummary:function(t){var r=this.options,i,s;switch(t){case e.SearchUiModel.STATUS_PENDING:i=n.SEARCH_RESULTS;break;case e.SearchUiModel.STATUS_SUCCEEDED:s=r.collectionUiModel.get("item_count"),_.isUndefined(s)?i=n.SEARCH_RESULTS:i=_.template(n.SEARCH_RESULTS_COUNT,{count:s});break;case e.SearchUiModel.STATUS_FAILED:i=n.SEARCH_RESULTS_UNAVAILABLE;break;default:i=""}return i},_addModelEventListeners:function(){var e=this.options.searchModel.get("items");e.on("all",this._onItemsChange)},_onItemsChange:function(){this.render()},_addUiModelEventListeners:function(){var e=this.options,t;t=e.searchUiModel,t.on("change:status",this._onStatusChange),t.on("change:invalid",this._onInvalidChange),t=e.collectionUiModel,t.on("change:item_count",this._onItemCountChange)},_onStatusChange:function(){this.render()},_onInvalidChange:function(e,t){t&&this.render()},_onItemCountChange:function(e,t){var n=this.options.searchUiModel;n.isSearchPending()?e.unset("item_count",{silent:!0}):n.hasSearchSucceeded()&&this.render()}}),t.SearchResultsSummaryView}),define("files/dev/templates/no-search-results-template",[],function(){return'<div class="instruction-text title-search theme-text" aria-label="<%= noSearchResults %><%= tryDifferentSearch %>">     <%= noSearchResults %></div><div class="instruction-text sub-text subtitle-search theme-text">     <%= tryDifferentSearch %></div><div class="instruction-text instruction-text-folder theme-text">    <%= noSearchResultsInFolder %></div>'}),define("files/dev/views/no-search-results-view",["core/ac-core","files/ac-files","core/utils/util","files/templates/no-search-results-template","i18n!files/nls/ui-strings","core/views/view"],function(e,t,n,r,i){return t.NoSearchResultsView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(r),this._addUiModelEventListeners()},render:function(){e.View.prototype.render.call(this),this.$el.children().length===0&&(this.$el.html(this._template({noSearchResults:i.NO_SEARCH_RESULTS,tryDifferentSearch:i.TRY_DIFFERENT_SEARCH,noSearchResultsInFolder:i.NO_SEARCH_RESULTS_FOLDER})),this._initWrappers()),this.options.appApi.selectionApi.isRunningInFileSelection()||n.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()||(this.$(".title-search").text(i.NO_SEARCH_RESULTS_VIRGO),this.$(".subtitle-search").text(i.TRY_DIFFERENT_SEARCH_VIRGO))},_initWrappers:function(){this.$instructionTextFolder=this.$(".instruction-text-folder"),this.$instructionText=this.$(".instruction-text").not(".instruction-text-folder")},_addUiModelEventListeners:function(){var e=this.options.collectionUiModel;e.on("change:show_empty",this._onShowEmptyChange)},_onShowEmptyChange:function(e,t){var r=this.options,s=r.searchUiModel;if(t){if(s.isSearchClosed()||s.isSearchPending())return;this.render(),this.$el.addClass("shown"),s.showFolders()?(this.$instructionTextFolder.show(),this.$instructionText.hide()):(this.$instructionTextFolder.hide(),this.$instructionText.show()),n.isCEF()&&r.appApi.saveAsApi.isRunningInFileSaveAs()?this.$instructionTextFolder.text(i.NO_FILES_IN_FOLDER):this.$instructionTextFolder.text(i.NO_SEARCH_RESULTS_FOLDER)}else this.$el.removeClass("shown")}}),t.NoSearchResultsView}),define("files/dev/templates/search-message-template",[],function(){return'<div class="instructions centered-vertically">    <div class="instruction-text"></div>    <div class="instruction-text sub-text"></div></div>'}),define("files/dev/views/search-message-view",["core/ac-core","files/ac-files","files/templates/search-message-template","i18n!files/nls/ui-strings","core/views/view"],function(e,t,n,r){return t.SearchMessageView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(n),this._addUiModelEventListeners()},render:function(){var t=this.$el,n;e.View.prototype.render.call(this),t.children().length===0&&(t.html(this._template()),this._initWrappers()),n=this._getUserMessageObj(),_.isEmpty(n)?t.removeClass("shown"):(this.$instructionText.text(n.header),this.$instructionSubtext.text(n.message),t.addClass("shown"))},_initWrappers:function(){this.$instructionText=this.$(".instruction-text"),this.$instructionSubtext=this.$(".instruction-text.sub-text")},_getUserMessageObj:function(){var e=this.options.searchUiModel,t={};return e.get("too_many_query_boxes")&&(t.header=r.TOO_MANY_SEARCH_TERMS_HEADER,t.message=r.TOO_MANY_SEARCH_TERMS_MESSAGE),t},_addUiModelEventListeners:function(){this.listenTo(this.options.searchUiModel,"change:too_many_query_boxes",this._onTooManyQueryBoxesChange)},_onTooManyQueryBoxesChange:function(){this.render()}}),t.SearchMessageView}),define("files/dev/views/search-results-view",["core/ac-core","files/ac-files","files/templates/search-results-template","core/utils/util","core/utils/view-util","files/views/folder-navigation-view","files/views/search-results-summary-view","core/views/view","core/views/collection-view","files/views/no-search-results-view","files/views/search-message-view"],function(e,t,n,r,i){return t.SearchResultsView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this._addUiModelEventListeners()},render:function(){var t=this.$el;e.View.prototype.render.call(this),t.children().length===0&&(t.html(_.template(n)({viewId:this.options.viewId})),this._initWrappers(),i.setElementFontByLocale(this.$el,"div")),this._renderChildViews(),this._updateFolderNavigationView();if(!this.options.appApi.saveAsApi.isRunningInFileSaveAs()&&!this.options.appApi.selectionApi.isRunningInFileSelection()){var r=this.options.appApi.connectorsApi.getConnectorPluginName(this.options.pluginId);r==="root"&&this.$items.attr("id","dcFolderSearchItems"),r==="ccloud"&&this.$items.attr("id","ccFolderSearchItems"),this.options.pluginId==="scan_files"&&this.$items.attr("id","scanFolderSearchItems")}return this},_initWrappers:function(){this.$folderNavigation=this.$(".folder-navigation").not(".files-search-results-summary"),this.$summary=this.$(".files-search-results-summary"),this.$items=this.$(".files-search-results-items"),this.$noResults=this.$(".files-no-search-results"),this.$message=this.$(".files-search-message"),this.options.isInSearchResultsView&&this.$items.addClass("uss-search-active")},_getCollectionUiModel:function(){var t;return this._collectionUiModel||(t=this._collectionUiModel=e.uiModelFactory.create("CollectionUiModel"),this.options.searchUiModel.showFolders()||t.set({is_item_excluded:function(e){return e.isFolder()}})),this._collectionUiModel},_renderChildViews:function(){var e=this._getCollectionUiModel();this._renderFolderNavigationView(e),this._renderSummaryView(e),this._renderNoResultsView(e),this._renderItemsView(e),this._renderMessageView()},_renderFolderNavigationView:function(e){this._renderChildView("_folderNavigationView",t.FolderNavigationView,this.$folderNavigation,{collectionUiModel:e})},_renderSummaryView:function(e){this._renderChildView("_summaryView",t.SearchResultsSummaryView,this.$summary,{collectionUiModel:e})},_renderItemsView:function(t){this._renderChildView("_itemsView",e.CollectionView,this.$items,{collection:this.options.searchModel.get("items"),collectionUiModel:t})},_renderNoResultsView:function(e){this._renderChildView("_noResultsView",t.NoSearchResultsView,this.$noResults,{collectionUiModel:e})},_renderMessageView:function(){this._renderChildView("_messageView",t.SearchMessageView,this.$message)},_updateFolderNavigationView:function(){var e=this.options,t=e.searchUiModel,n=this.$folderNavigation,i=this.$items,s=this.$("#virgoNavigation");if(this.options.appApi.selectionApi.isRunningInFileSelection()||r.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs())t.get("current_folder_id")!==e.appApi.folderApi.getRootFolderId(e.pluginId)&&t.showFolders()||t.showNavigationAtRoot()?(n.addClass("shown"),i.addClass("with-folder-navigation")):(n.removeClass("shown"),i.removeClass("with-folder-navigation"));else{var o=this.options.appApi.connectorsApi.getConnectorPluginName(e.pluginId),u="";o==="root"&&(u="with-virgo-dc-folder-navigation"),o==="ccloud"&&(u="with-virgo-cc-folder-navigation"),e.pluginId==="scan_files"&&(u="with-virgo-scan-folder-navigation"),s.hasClass("shown")?i.removeClass(u):i.addClass(u)}},_addUiModelEventListeners:function(){var e=this.options,t=e.searchModel,n=e.searchUiModel;r.isCEF()&&e.appApi.sessionApi.addSignedInChangeCallback(function(e,n){n||t.get("items").reset()}),this.listenTo(n,"change:status",this._onSearchStatusChange)},_onSearchStatusChange:function(e,t){var n=e.isSearching();this._getCollectionUiModel().set("is_active",n),n&&this.render()}}),t.SearchResultsView}),define("files/dev/views/files-body-view",["core/ac-core","files/ac-files","files/templates/files-body-template","core/views/view","core/views/hover-preview-view","files/views/folder-view","files/views/search-results-view","core/views/custom-range-selector-view"],function(e,t,n){return t.FilesBodyView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this._addUiModelEventListeners()},render:function(){return e.View.prototype.render.call(this),this.$el.children().length===0&&(this.$el.html(_.template(n)),this._initWrappers()),this._renderChildViews(),this},_initWrappers:function(){this.$filesLists=this.$(".files-list"),this.$folder=this.$(".folder"),this.$searchResults=this.$(".files-search-results"),this.options.isInSearchResultsView&&(this.$searchResults.addClass("uss-search-active"),this.$el.addClass("uss-search-active")),this.options.noHoverPreview||(this.$hoverPreview=this.$(".hover-preview"))},_renderChildViews:function(){var e=this.options,t=this.$folder,n=this.$searchResults;e.noHoverPreview||this._renderHoverPreviewView(),e.filesUiModel.isFolderView()?(n.addClass("hidden"),t.removeClass("hidden"),this._renderFolderView()):(t.addClass("hidden"),n.removeClass("hidden"),this._renderSearchResultsView())},_renderHoverPreviewView:function(){this._renderChildView("_hoverPreviewView",e.HoverPreviewView,this.$hoverPreview)},_renderFolderView:function(){this._renderChildView("_folderView",t.FolderView,this.$folder,{hoverPreviewView:this._hoverPreviewView})},_renderSearchResultsView:function(){this._renderChildView("_searchResultsView",t.SearchResultsView,this.$searchResults,{hoverPreviewView:this._hoverPreviewView})},_addUiModelEventListeners:function(){this.listenTo(this.options.filesUiModel,"change:view",this._onViewChange)},_onViewChange:function(e,n){var r=this.$folder,i=this.$searchResults,s=this.render,o=n===t.FilesUiModel.VIEW_FOLDER;r.stop(!0,!0),i.stop(!0,!0),o?i.fadeOut(function(){r.removeClass("hidden"),r.animate({opacity:1},s)}):r.animate({opacity:0},function(){r.addClass("hidden"),i.fadeIn(s)})}}),t.FilesBodyView}),define("files/dev/templates/files-ipm-template",[],function(){return'<div class="connector-marketing-content unselectable"><%= ipm %></div><div class="files-ipm-btns">    <input type="button"           class="control-button files-ipm-link-btn           id="files-ipm-link-btn"           value="<%= link %>">    </input></div>'}),define("files/dev/views/files-ipm-view",["core/ac-core","files/ac-files","files/templates/files-ipm-template","core/views/view"],function(e,t,n){return t.FilesIpmView=e.View.extend({events:{"click .files-ipm-link-btn":"_onLinkButtonClick"},initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(n)},render:function(){var t=this.$el,n,r,i=this.options,s=i.pluginId,o,u,a,f,l=i.appApi.pluginsApi,c=i.appApi.connectorsApi;return e.View.prototype.render.call(this),t.children().length===0&&(u=c.isConnectorPlugin(s),u&&(o=l.getPluginUiModel(s).get("connector_name"),n=c.getConnectorsUiHelpers(o),a=n.add_ui,a&&(f=_.unescape(a.add_html),r=a.add_button_label,t.html(this._template({ipm:f,link:r}))))),this},_onLinkButtonClick:function(){var e=this.options;e.appApi.connectorsApi.addConnector(e.pluginId)}}),t.FilesIpmView}),define("files/dev/templates/files-container-template",[],function(){return'<div class="files-offline-view ui-theme theme-container"></div><div class="files-offline-view files-virgo-offline-view ui-theme theme-container"></div><div class="files-ipm"></div><div class="files unselectable ui-theme theme-container"></div><div class="files-sign-out ui-theme theme-container"></div><div class="files-virgo-sign-out ui-theme theme-container"></div><div class="files-no-access-view ui-theme theme-container"></div>'}),define("files/dev/templates/files-template",[],function(){return'<div class="file-save-as-header ui-theme theme-container"></div><div class="virgo-files-header files-list-header ui-theme theme-container theme-border"></div><div class="files-header files-list-header ui-theme theme-container theme-border"></div><div class="files-body ui-theme theme-container"></div><div class="files-rhp hidden invisible"></div><div class="original-shared-files-rhp hidden invisible"></div><div class="files-footer ui-theme theme-container-prominent theme-border"></div>'}),define("files/dev/templates/virgo-files-header-template",[],function(){return'<div class = "virgo-files-header-top-bar"><div class="document-cloud-name shared-workflow-heading theme-page-header" id = "folderPath" style = "display: none"> <%= documentCloudName %></div><div role="navigation" class="virgo-header-navigation folder-navigation ui-theme theme-container"></div><div class = "DC-RightHeaderBtns" id = ""><div class="DC-files-header-item DC-header-listing-btns" id = "headerRightBtns"><div class="shared-header-btn-new-folder shared-workflow-header-btn-cn"><div class="shared-header-btn shared-workflow-header-btn virgo-files-new-folder-btn" tabindex = "0" title = "<%= newFolder %>" aria-label="<%= newFolder %>" ></div></div><div class="virgo-headerDivider"></div><div class="shared-header-btn-dc-listView shared-workflow-header-btn-cn"><div class="shared-header-btn shared-workflow-header-btn listView" tabindex = "0" id = "shared-workflow-header-btn-listView" aria-label="<%= listView %>" title = "<%= listView %>"></div></div><div class="shared-header-btn-dc-thumbnailView shared-workflow-header-btn-cn"><div class="shared-header-btn shared-workflow-header-btn thumbnailView" tabindex = "0" id = "shared-workflow-header-btn-thumbnailView" aria-label="<%= thumbnailView %>" title = "<%= thumbnailView %>"></div></div></div></div></div><div class="shared-header-btn-filterView" id = "virgoNavigation"></div>'}),define("files/dev/templates/filter-menu-template",[],function(){return'<fieldset class="files-filter-menu-fieldset"><legend id="files-filter-menu-legend-<%= viewId %>"        class="files-filter-menu-header theme-text"><%= filterBy %></legend><div id="files-filter-select-attribute-label-<%= viewId %>"      class="hidden-accessible" aria-hidden="true">    <%= selectAttribute %></div><button class="files-filter-menu-submenu-btn unselectable            files-filter-menu-attr-menu-btn theme-list-item"    id="files-filter-menu-attr-menu-btn-<%= viewId %>"    role="combobox"    aria-labelledby="files-filter-select-attribute-label-<%= viewId %>"    aria-owns="files-filter-menu-attr-menu-<%= viewId %>"    aria-haspopup="true" tabindex="0">    <label role="presentation"           id="files-filter-menu-attr-menu-btn-label-<%= viewId %>"           class="files-filter-menu-attr-menu-btn-label theme-list-item-text"           aria-hidden="true"           for="files-filter-menu-value-field-<%= viewId %>">    </label>    <div class="files-filter-menu-btn-down-arrow"></div></button><div class="files-filter-menu-attr-menu            files-filter-menu-submenu ui-theme theme-container"     id="files-filter-menu-attr-menu-<%= viewId %>"     data-data="attribute"    role="listbox"></div><div id="files-filter-select-value-label-<%= viewId %>"     class="hidden-accessible" aria-hidden="true">    <%= selectValue %></div><button class="files-filter-menu-submenu-btn unselectable            files-filter-menu-value-menu-btn disabled theme-list-item"    disabled="disabled"    id="files-filter-menu-value-menu-btn-<%= viewId %>"    role="combobox"    aria-labelledby="files-filter-menu-attr-menu-btn-label-<%= viewId %>"    aria-owns="files-filter-menu-file-type-menu-<%= viewId %>               files-filter-menu-date-menu-<%= viewId %>               files-filter-menu-added-by-menu-<%= viewId %>"    aria-haspopup="true"    aria-disabled="true" tabindex="0">    <div role="presentation"         id="files-filter-menu-value-menu-btn-label-<%= viewId %>"         class="files-filter-menu-value-menu-btn-label theme-list-item-text"         aria-hidden="true"></div>    <div class="files-filter-menu-btn-down-arrow"></div></button><div id="files-filter-menu-file-type-menu-<%= viewId %>"      class="files-filter-menu-file-type-menu            files-filter-menu-submenu ui-theme theme-container"     data-data="value"    role="listbox"></div><div id="files-filter-menu-date-menu-<%= viewId %>"     class="files-filter-menu-date-menu            files-filter-menu-submenu ui-theme theme-container"     data-data="value"    role="listbox"></div><div id="files-filter-menu-added-by-menu-<%= viewId %>"     class="files-filter-menu-file-added-by-menu            files-filter-menu-submenu ui-theme theme-container"     data-data="value"    role="listbox"></div> <input id="files-filter-menu-value-field-<%= viewId %>"       class="files-filter-menu-submenu-btn              files-filter-menu-value-field ui-theme theme-container theme-text"       type="text" spellcheck="false"       aria-labelledby="files-filter-menu-attr-menu-btn-label-<%= viewId %>"       placeholder="<%= enterValue %>"/></fieldset><div class="menu-nub-grey"></div>'}),define("files/dev/templates/filter-added-by-menu-template",[],function(){return'<button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data="api_cpdf"     data-worker="sc_worker_exportpdf"     data-site-catalyst="ExportPDF"     role="menuitem" tabindex="-1">    <%= exportFromPdf %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data="api_cpdf"     data-worker="sc_worker_createpdf"     data-site-catalyst="CreatePDF"     role="button" tabindex="-1">    <%= convertToPdf %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data="api_cpdf"     data-worker="sc_worker_combinepdf"     data-site-catalyst="Combine"     role="button" tabindex="-1">    <%= combineToPdf %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data="api_fillsign"     data-site-catalyst="FillSign"     role="button" tabindex="-1">    <%= fillSign %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data="api_acrobat*"     data-site-catalyst="Acrobat"     role="button" tabindex="-1">     <%= adobeAcrobat %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data="api_reader_mobile*,api_acrobat_mobile*"     data-site-catalyst="ReaderMobile"     role="button" tabindex="-1">     <%= adobeReaderMobile %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data="api_reader*"     data-site-catalyst="Reader"     role="button" tabindex="-1">     <%= adobeReader %></button>'}),define("files/dev/views/filter-added-by-menu-view",["files/ac-files","files/templates/filter-added-by-menu-template","i18n!files/nls/ui-strings","files/views/filter-submenu-view"],function(e,t,n){return e.FilterAddedByMenuView=e.FilterSubmenuView.extend({render:function(){var r=this.$el;return e.FilterSubmenuView.prototype.render.call(this),r.children().length===0&&(r.html(_.template(t)({exportFromPdf:n.EXPORT_FROM_PDF,convertToPdf:n.CONVERT_TO_PDF,combineToPdf:n.COMBINE_TO_PDF,fillSign:n.FILL_SIGN,adobeAcrobat:n.ADOBE_ACROBAT,adobeReaderMobile:n.ADOBE_READER_MOBILE,adobeReader:n.ADOBE_READER})),this._initWrappers()),this}}),e.FilterAddedByMenuView}),define("files/dev/templates/filter-date-menu-template",[],function(){return'<button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data="custom"     data-site-catalyst="Custom"     role="menuitem" tabindex="-1">    <%= custom %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data="today"     data-site-catalyst="Today"     role="menuitem" tabindex="-1">    <%= today %></button><button class="files-filter-menu-submenu-item unselectable  theme-text theme-hoverable"     data-data="yesterday"     data-site-catalyst="Yesterday"     role="button" tabindex="-1">    <%= yesterday %></button><button class="files-filter-menu-submenu-item unselectable  theme-text theme-hoverable"     data-data="within-last-week"     data-site-catalyst="LastWeek"     role="button" tabindex="-1">    <%= withinLastWeek %></button><button class="files-filter-menu-submenu-item unselectable  theme-text theme-hoverable"     data-data="within-last-month"     data-site-catalyst="LastMonth"     role="button" tabindex="-1">    <%= withinLastMonth %></button><button class="files-filter-menu-submenu-item unselectable  theme-text theme-hoverable"     data-data="one-to-two-months-ago"     data-site-catalyst="1-2MonthsAgo"     role="button" tabindex="-1">    <%= oneToTwoMonthsAgo %></button><button class="files-filter-menu-submenu-item unselectable  theme-text theme-hoverable"     data-data="two-to-three-months-ago"     data-site-catalyst="2-3MonthsAgo"     role="button" tabindex="-1">    <%= twoToThreeMonthsAgo %></button><button class="files-filter-menu-submenu-item unselectable  theme-text theme-hoverable"     data-data="three-to-four-months-ago"     data-site-catalyst="3-4MonthsAgo"     role="button" tabindex="-1">    <%= threeToFourMonthsAgo %></button><button class="files-filter-menu-submenu-item unselectable  theme-text theme-hoverable"     data-data="four-to-five-months-ago"     data-site-catalyst="4-5MonthsAgo"     role="button" tabindex="-1">    <%= fourToFiveMonthsAgo %></button><button class="files-filter-menu-submenu-item unselectable  theme-text theme-hoverable"     data-data="five-to-six-months-ago"     data-site-catalyst="5-6MonthsAgo"     role="button" tabindex="-1">    <%= fiveToSixMonthsAgo %></button><button class="files-filter-menu-submenu-item unselectable  theme-text theme-hoverable"     data-data="six-to-twelve-months-ago"     data-site-catalyst="6-12MonthsAgo"     role="button" tabindex="-1">    <%= sixToTwelveMonthsAgo %></button><button class="files-filter-menu-submenu-item unselectable  theme-text theme-hoverable"     data-data="more-than-one-year-ago"     data-site-catalyst="Over1YearAgo"     role="button" tabindex="-1">    <%= moreThanOneYearAgo %></button>'}),define("files/dev/views/filter-date-menu-view",["files/ac-files","files/templates/filter-date-menu-template","i18n!core/nls/ui-strings","files/views/filter-submenu-view"],function(e,t,n){return e.FilterDateMenuView=e.FilterSubmenuView.extend({render:function(){var r=this.$el;return e.FilterSubmenuView.prototype.render.call(this),r.children().length===0&&r.html(_.template(t)({custom:n.CUSTOM,today:n.TODAY,yesterday:n.YESTERDAY,withinLastWeek:n.WITHIN_LAST_WEEK,withinLastMonth:n.WITHIN_LAST_MONTH,oneToTwoMonthsAgo:n.ONE_TO_TWO_MONTHS_AGO,twoToThreeMonthsAgo:n.TWO_TO_THREE_MONTHS_AGO,threeToFourMonthsAgo:n.THREE_TO_FOUR_MONTHS_AGO,fourToFiveMonthsAgo:n.FOUR_TO_FIVE_MONTHS_AGO,fiveToSixMonthsAgo:n.FIVE_TO_SIX_MONTHS_AGO,sixToTwelveMonthsAgo:n.SIX_TO_TWELVE_MONTHS_AGO,moreThanOneYearAgo:n.MORE_THAN_ONE_YEAR_AGO})),this}}),e.FilterDateMenuView}),define("files/dev/templates/filter-file-type-menu-template",[],function(){return'<button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data=<%= fillsignMimeType %>     data-site-catalyst="FillSign"     role="menuitem" tabindex="-1">     <%= fillsignUiName %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data=<%= illustratorMimeType %>     data-site-catalyst="Illustrator"     role="button" tabindex="-1">     <%= illustratorUiName %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data=<%= indesignMimeType %>     data-site-catalyst="InDesign"     role="button" tabindex="-1">     <%= indesignUiName %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data=<%= pdfMimeType %>     data-site-catalyst="PDF"     role="button" tabindex="-1">     <%= pdfUiName %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data=<%= photoshopMimeType %>     data-site-catalyst="Photoshop"     role="button" tabindex="-1">     <%= photoshopUiName %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data=<%= htmlMimeType %>     data-site-catalyst="HTML"     role="button" tabindex="-1">     <%= htmlUiName %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data=<%= imageMimeType %>     data-site-catalyst="Image"     role="button" tabindex="-1">     <%= imageUiName %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data=<%= excelMimeType %>     data-site-catalyst="Excel"     role="button" tabindex="-1">     <%= excelUiName %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data=<%= powerpointMimeType %>     data-site-catalyst="Powerpoint"     role="button" tabindex="-1">     <%= powerpointUiName %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data=<%= wordMimeType %>     data-site-catalyst="Word"     role="button" tabindex="-1">     <%= wordUiName %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data=<%= textMimeType %>     data-site-catalyst="Text"     role="button" tabindex="-1">     <%= textUiName %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data=<%= videoMimeType %>     data-site-catalyst="Video"     role="button" tabindex="-1">     <%= videoUiName %></button><button class="files-filter-menu-submenu-item unselectable theme-text theme-hoverable"     data-data=<%= zipMimeType %>     data-site-catalyst="Zip"     role="button" tabindex="-1">     <%= zipUiName %></button>'}),define("files/dev/views/filter-file-type-menu-view",["files/ac-files","files/templates/filter-file-type-menu-template","i18n!core/nls/ui-strings","core/utils/file-types","files/views/filter-submenu-view"],function(e,t,n,r){return e.FilterFileTypeMenuView=e.FilterSubmenuView.extend({render:function(){var i=this.$el,s=r.MimeType,o=r.UiName;return e.FilterSubmenuView.prototype.render.call(this),i.children().length===0&&i.html(_.template(t)({fillsignMimeType:s.ADOBE_FILL_SIGN,fillsignUiName:o.ADOBE_FILL_SIGN,illustratorMimeType:s.ADOBE_ILLUSTRATOR,illustratorUiName:o.ADOBE_ILLUSTRATOR,indesignMimeType:s.ADOBE_INDESIGN,indesignUiName:o.ADOBE_INDESIGN,pdfMimeType:s.ADOBE_PDF,pdfUiName:o.ADOBE_PDF,photoshopMimeType:s.ADOBE_PHOTOSHOP,photoshopUiName:o.ADOBE_PHOTOSHOP,htmlMimeType:s.HTML,htmlUiName:o.HTML,imageMimeType:s.IMAGE,imageUiName:n.IMAGE,excelMimeType:s.MS_EXCEL,excelUiName:o.MS_EXCEL,powerpointMimeType:s.MS_POWERPOINT,powerpointUiName:o.MS_POWERPOINT,wordMimeType:s.MS_WORD,wordUiName:o.MS_WORD,textMimeType:s.TEXT,textUiName:n.TEXT,videoMimeType:s.VIDEO,videoUiName:n.VIDEO,zipMimeType:s.ZIP,zipUiName:o.ZIP})),this}}),e.FilterFileTypeMenuView}),define("files/dev/views/filter-menu-view",["core/ac-core","files/ac-files","files/templates/filter-menu-template","i18n!core/nls/ui-strings","i18n!files/nls/ui-strings","core/utils/css-util","core/utils/sc-analytics","core/views/menu-view","core/views/input-search-view","files/views/filter-added-by-menu-view","files/views/filter-attr-menu-view","files/views/filter-date-menu-view","files/views/filter-file-type-menu-view"],function(e,t,n,r,i,s,o){return t.FilterMenuView=e.MenuView.extend({events:function(){return _.extend({},e.MenuView.prototype.events,{"click .files-filter-menu-attr-menu-btn":"_onAttrMenuBtnClick","click .files-filter-menu-value-menu-btn":"_onValueMenuBtnClick"})},initialize:function(){e.MenuView.prototype.initialize.call(this)},render:function(){var t=this.$el,r=this.options;return e.MenuView.prototype.render.call(this),t.children().length===0&&(t.html(_.template(n)({filterBy:i.FILTER_BY,selectAttribute:i.SELECT_ATTRIBUTE,selectValue:i.SELECT_VALUE,enterValue:i.ENTER_VALUE,viewId:r.viewId})),this._initWrappers()),this.$attrMenuBtnLabel.text(i.SELECT_ATTRIBUTE),this.$valueMenuBtnLabel.text(i.SELECT_VALUE),this.$attrMenuBtn.removeClass("selected").removeAttr("aria-expanded"),this.$valueMenuBtn.removeClass("selected").removeAttr("aria-expanded").addClass("disabled").attr({"aria-disabled":"true",disabled:"disabled"}),r.searchUiModel.get("is_locked")&&this.$filterSubmenuBtns.addClass("disabled"),this._renderChildViews(),this},open:function(t){return this.options.noUrlUpdate?this._logSiteCatalystEvent([o.FILTER,o.SHOWN]):this._logSiteCatalystEvent(o.SHOWN),e.MenuView.prototype.open.call(this,_.bind(function(){this._sizeInputField(),this._renderChildViews(),this._openMenuView(this.$attrMenuBtn,this._attrMenuView,t,!0)},this))},close:function(t){var n=this.$valueField;e.MenuView.prototype.close.call(this,t),n.val()&&this._fileNameContainsView.commitText()},_onBodyClick:function(t){$(t.target).hasClass("clear-btn")&&this.$valueField.val(""),e.MenuView.prototype._onBodyClick.call(this,t)},_initWrappers:function(){e.MenuView.prototype._initWrappers.call(this),this.$attrMenuBtn=this.$(".files-filter-menu-attr-menu-btn"),this.$attrMenuBtnLabel=this.$(".files-filter-menu-attr-menu-btn-label"),this.$valueMenuBtn=this.$(".files-filter-menu-value-menu-btn"),this.$valueMenuBtnLabel=this.$(".files-filter-menu-value-menu-btn-label"),this.$valueField=this.$(".files-filter-menu-value-field"),this.$attrMenu=this.$(".files-filter-menu-attr-menu"),this.$fileTypeMenu=this.$(".files-filter-menu-file-type-menu"),this.$dateMenu=this.$(".files-filter-menu-date-menu"),this.$filterSubmenuBtns=this.$(".files-filter-menu-submenu-btn")},_sizeInputField:function(){var e=this.$valueField,t=this.$attrMenuBtn;e.width(s.getFullWidth(t)-s.getExtraWidth(e)),e.height(t.height())},_renderChildViews:function(){return this.removeAllChildViews(),this._renderChildView("_attrMenuView",t.FilterAttrMenuView,this.$attrMenu,{$menuBtn:this.$attrMenuBtn,triggerEl:this.$attrMenuBtn.get(0)}),this._renderChildView("_fileNameContainsView",e.InputSearchView,this.$valueField,{searchField:e.SearchUiModel.FIELD_FILE_NAME}),this._renderChildView("_fileTypeMenuView",t.FilterFileTypeMenuView,this.$fileTypeMenu,{$menuBtn:this.$valueMenuBtn,triggerEl:this.$valueMenuBtn.get(0)}),this._renderChildView("_dateMenuView",t.FilterDateMenuView,this.$dateMenu,{$menuBtn:this.$valueMenuBtn,triggerEl:this.$valueMenuBtn.get(0)}),this},_getMenuButtonDownArrow:function(e){return e.find(".files-filter-menu-btn-down-arrow")},_openMenuView:function(e,t,n,r){this.options.searchUiModel.get("is_locked")||(e.addClass("selected").attr("aria-expanded","true"),t.open(n,r))},_toggleMenuView:function(e,t){if(this.options.searchUiModel.get("is_locked")||!t){e.removeClass("selected").removeAttr("aria-expanded");return}var n=t.isMenuOpen();e.toggleClass("selected",!n),n?(e.removeClass("selected").removeAttr("aria-expanded"),t.close()):(e.addClass("selected").attr("aria-expanded","true"),t.open().always(function(){e.removeClass("selected").removeAttr("aria-expanded")}))},_getSiteCatalystContext:function(){return this.options.noUrlUpdate?undefined:[o.SEARCH_BAR,o.FILTER]},_onViewEvent:function(n,r){var i,s,u,a,f=e.SearchUiModel;n===t.ViewEvents.SELECT_FILTER_MENU_ITEM?(i={value:r.filterMenuItemValue,filter:r.filterMenuItemFilter,siteCatalyst:r.filterMenuItemSiteCatalyst,queryLabel:r.filterMenuItemQueryLabel},r.filterMenuType==="attribute"?this._onSelectAttrMenuItem(i):this._onSelectValueMenuItem(i)):(n===e.ViewEvents.ADD_SEARCH_FIELD_QUERY&&(u=this.$attrMenuBtn.data("data"),s=r.searchFieldQuery,s.commitQueryBox&&(this.close(),a=[],u===f.FIELD_FILE_NAME&&a.push(o.NAME),a.push(o.ENTERED),this._logSiteCatalystEvent(a)),s.queryLabel=r.searchUiModel.getFieldQueryLabel(s)),this.trigger(n,r))},_onSelectAttrMenuItem:function(t){var n=this.$attrMenuBtn,r=this.$attrMenuBtnLabel,s=this.$valueMenuBtn,o=this.$valueMenuBtnLabel,u=this.$valueField,a=t.value,f=e.SearchUiModel,l;n.data("data",a),r.text(t.queryLabel),s.removeClass("disabled").removeAttr("aria-disabled disabled"),s.show(),u.hide(),delete this._valueMenuView;switch(a){case f.FIELD_FILE_NAME:s.hide(),u.show(),l=this.options.menusUiModel.get("focus_delay"),_.delay(_.bind(function(){u.focus()},this),l);break;case f.FIELD_FILE_TYPE:this._openMenuView(s,this._fileTypeMenuView),this._valueMenuView=this._fileTypeMenuView,o.text(i.SELECT_FORMAT);break;case f.FIELD_FILE_ADDED_BY:this._openMenuView(s,this._addedByMenuView),this._valueMenuView=this._addedByMenuView,o.text(i.SELECT_TOOL);break;case f.FIELD_DATE_ADDED:case f.FIELD_DATE_MODIFIED:case f.FIELD_DATE_LAST_ACCESS:this._openMenuView(s,this._dateMenuView),this._valueMenuView=this._dateMenuView,o.text(i.SELECT_DATES)}this._logSiteCatalystEvent(t.siteCatalyst)},_onSelectValueMenuItem:function(t){var n=this.$attrMenuBtn,i,s,u,a=e.SearchUiModel,f;s=n.data("data"),u=[];switch(s){case a.FIELD_FILE_TYPE:f=o.FILE_TYPE;break;case a.FIELD_DATE_MODIFIED:f=o.DATE_MODIFIED;break;case a.FIELD_DATE_ADDED:f=o.DATE_ADDED;break;case a.FIELD_FILE_ADDED_BY:f=o.CREATED_BY_TOOL}u.push(f),u.push(t.siteCatalyst),this._logSiteCatalystEvent(u);var l=n.data("data-data");if(t.value=="custom"){var c=this.options,h=0;this._triggerViewEvent(e.ViewEvents.SHOW_CUSTOM_RANGE_DIALOG,{parentView:this.options.parentView,scContext:this._getParentScContext(),searchFieldQuery:{field:s,value:t.value,filter:t.filter,commitQueryBox:!0,queryLabel:i}})}else i=_.template(r.FILTER_DISPLAY_VALUE,{field:$.trim(n.text()),value:t.queryLabel}),this._triggerViewEvent(e.ViewEvents.ADD_SEARCH_FIELD_QUERY,{searchFieldQuery:{field:s,value:t.value,filter:t.filter,commitQueryBox:!0,queryLabel:i}});this.close()},_isClickOutsideMenu:function(){return!1},_onAttrMenuBtnClick:function(){var e=this.$attrMenuBtn,t=this.$valueMenuBtn,n=_.bind(function(){this.$valueMenuBtnLabel.text(i.SELECT_VALUE),t.removeData("data"),this._toggleMenuView(e,this._attrMenuView)},this);this._valueMenuView?this._valueMenuView.close(n):n()},_onValueMenuBtnClick:function(){var e=this.$valueMenuBtn;if(e.hasClass("disabled"))return!1;this._toggleMenuView(e,this._valueMenuView)},_onKeyDown:function(t){var n=t.target,r=!1;this.$attrMenuBtn.is(n)&&(r=this._onAttrMenuBtnKeyDown(t)),this.$valueMenuBtn.is(n)&&(r=this._onValueMenuBtnKeyDown(t));if(r)return r;e.MenuView.prototype._onKeyDown.apply(this,[t])},_onMenuBtnKeyDown:function(e,t){var n=e.which,r=$(e.target);switch(n){case 32:case 38:case 40:this._consumeEvent(e);if(n===38&&t||n===40&&!t||n===32)return r.click(),!0}return!1},_onAttrMenuBtnKeyDown:function(e){return this._onMenuBtnKeyDown(e,this._attrMenuView.isMenuOpen())},_onValueMenuBtnKeyDown:function(e){return this._onMenuBtnKeyDown(e,this._valueMenuView.isMenuOpen())}}),t.FilterMenuView}),define("files/dev/templates/virgo-folder-navigation-template",[],function(){return'<div id="folder-path-<%= viewId %>" class=" virgo-folder-navigation folder-path"></div>'}),define("files/dev/views/virgo-folder-navigation-view",["core/ac-core","files/ac-files","files/templates/virgo-folder-navigation-template","i18n!core/nls/ui-strings","i18n!files/nls/ui-strings","core/utils/util","core/utils/breadcrumbs","core/utils/css-util","core/utils/truncate","core/utils/sc-analytics","core/views/view"],function(e,t,n,r,i,s,o,u,a,f){return t.VirgoFolderNavigationView=e.View.extend({events:{},initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(n),this._addUiModelEventListeners()},render:function(){var t=this.options;e.View.prototype.render.call(this),this.$el.children().length===0&&(this.$el.html(this._template({viewId:t.viewId})),this._initWrappers(),s.isCEF()&&t.appApi.saveAsApi.isRunningInFileSaveAs()&&this.$path.addClass("folder-path-save-as"));if(this.options.searchMode==="on"){var n="";if(this.options.pluginId==="scan_files")n=i.VIRGO_SCANS;else{var r=this.options.appApi.connectorsApi.getConnectorPluginName(t.pluginId);r==="root"?n=i.VIRGO_DOCUMENT_CLOUD:r==="ccloud"&&(n=i.VIRGO_CREATIVE_CLOUD)}var o=this.options.folderUiModel.get("path"),u=o.length;for(var a=0;a<u-1;a++)o.shift();return this._showFolderBreadcrumbs(o,n),this}return this._showFolderPath(),this},_initWrappers:function(){this.$path=this.$(".virgo-folder-navigation")},_useBreadcrumbs:function(){return this.options.folderUiModel.get("breadcrumbs")},_showFolderPath:function(){var e=this.options,t=s.isCEF(),n=this.$path,r=e.folderUiModel.get("path"),i=r.length,o=e.appApi.saveAsApi;if(i<=0){this.$path.children().length>0&&this._clearFolderNavigationPath();if(!e.searchUiModel.showFolders()&&!e.showNavigationAtRoot)return;t&&o.isRunningInFileSaveAs()&&n.addClass("no-back-btn")}else t&&o.isRunningInFileSaveAs()&&n.removeClass("no-back-btn");this._useBreadcrumbs()?e.pluginId==="scan_files"&&i<=1||(e.pluginId==="scan_files"&&r[0].name==="/"&&i===2?(r.shift(),this._showScanBreadcrumbs(r)):(e.pluginId==="scan_files"&&i>=2&&r[0].name==="/"&&r.shift(),this._showBreadcrumbs(r))):this._showFolderName(r[i-1].name)},_clearFolderNavigationPath:function(){this.$path.empty()},_showScanBreadcrumbs:function(n){var r=this.options,a=r.appApi,l=this.$el,c=this.$path,h,p;p=_.bind(function(n){this._logSiteCatalystEvent([f.BREADCRUMB,n===a.folderApi.getRootFolderId(r.pluginId)?f.HOME:"",f.CLICKED]),r.searchUiModel.showFolders()?(r.selectionUiModel.clearSelection(),this._triggerViewEvent(e.ViewEvents.SEARCH_IN_FOLDER,{search_folder_id:n})):this._triggerViewEvent(t.ViewEvents.NAVIGATE_TO_FOLDER,{id:n})},this),h=l.parent().width()-u.getExtraWidth(c),h>=700?h-=500:h=200,s.isCEF()&&a.saveAsApi.isRunningInFileSaveAs()&&(h=h),r.pluginId==="scan_files"&&o.display(n,c,h,p,e.Locale.getLocale(),i.VIRGO_SCANS)},_showFolderBreadcrumbs:function(n,r){var i=this.options,a=i.appApi,l=this.$el,c=this.$path,h,p;p=_.bind(function(n){this._logSiteCatalystEvent([f.BREADCRUMB,n===a.folderApi.getRootFolderId(i.pluginId)?f.HOME:"",f.CLICKED]),i.searchUiModel.showFolders()?(i.selectionUiModel.clearSelection(),this._triggerViewEvent(e.ViewEvents.SEARCH_IN_FOLDER,{search_folder_id:n})):this._triggerViewEvent(t.ViewEvents.NAVIGATE_TO_FOLDER,{id:n})},this),h=l.parent().width()-u.getExtraWidth(c),h>=700?h-=500:h=200,s.isCEF()&&a.saveAsApi.isRunningInFileSaveAs()&&(h=h),o.display(n,c,h,p,e.Locale.getLocale(),r)},_showBreadcrumbs:function(n){var a=this.options,l=a.appApi,c=this.$el,h=this.$path,p,d;d=_.bind(function(n){this._logSiteCatalystEvent([f.BREADCRUMB,n===l.folderApi.getRootFolderId(a.pluginId)?f.HOME:"",f.CLICKED]),a.searchUiModel.showFolders()?(a.selectionUiModel.clearSelection(),this._triggerViewEvent(e.ViewEvents.SEARCH_IN_FOLDER,{search_folder_id:n})):this._triggerViewEvent(t.ViewEvents.NAVIGATE_TO_FOLDER,{id:n})},this),p=c.parent().width()-u.getExtraWidth(h),p>=700?p-=500:p=200,s.isCEF()&&l.saveAsApi.isRunningInFileSaveAs()&&(p=p);if(a.pluginId==="scan_files")o.display(n,h,p,d,e.Locale.getLocale(),i.VIRGO_SCANS);else{var v=this.options.appApi.connectorsApi.getConnectorPluginName(a.pluginId);v==="root"?o.display(n,h,p,d,e.Locale.getLocale(),i.VIRGO_DOCUMENT_CLOUD):v==="ccloud"?o.display(n,h,p,d,e.Locale.getLocale(),i.VIRGO_CREATIVE_CLOUD):v==="desktop_sharepoint"?o.display(n,h,p,d,e.Locale.getLocale(),i.VIRGO_SHAREPOINT):v==="dropbox"?o.display(n,h,p,d,e.Locale.getLocale(),i.VIRGO_DROPBOX):v==="googleDrive"?o.display(n,h,p,d,e.Locale.getLocale(),i.VIRGO_GOOGLE_DRIVE):v==="box"?o.display(n,h,p,d,e.Locale.getLocale(),i.VIRGO_BOX):v==="onedrive"||v==="onedrivebusiness"?o.display(n,h,p,d,e.Locale.getLocale(),i.VIRGO_ONEDRIVE):o.display(n,h,p,d,e.Locale.getLocale(),r.HOME)}},_showFolderName:function(e){var t=this.$el,n=this.$path,r;n.text(e),r=t.parent().width()-u.getCssNum(n,"left")-u.getCssNum(n,"margin-right"),a.truncateElementText(n,r)},_onBackButtonClick:function(){var n=this.options,r=n.folderModel,i;this._logSiteCatalystEvent([f.BREADCRUMB,f.BACK,f.CLICKED]);if(n.searchUiModel.showFolders()){i=n.folderUiModel.get("path");if(i.length>1||n.pluginId==="scan_files"&&i.length>2&&i[0].name==="/")this.options.selectionUiModel.clearSelection(),this._triggerViewEvent(e.ViewEvents.SEARCH_IN_FOLDER,{search_folder_id:i[i.length-2].id})}else n.collectionsUiModel.set("scroll_id_into_view",r.get("id")),this._triggerViewEvent(t.ViewEvents.NAVIGATE_TO_FOLDER,{id:r.get("parent_id")})},_addUiModelEventListeners:function(){var e=this.options,t=e.searchUiModel;this.options.folderUiModel.on("change:path",this._onFolderPathChange),this.listenTo(t,"change:status",this._onSearchStatusChange)},_onSearchStatusChange:function(){this.options.searchUiModel.isSearching()?this.options.searchMode="on":this.options.searchMode="off",this.render()},_onFolderPathChange:function(){this.render()}}),t.VirgoFolderNavigationView}),define("files/dev/templates/virgo-filter-navigation-template",[],function(){return'<div class="shared-header-btn-filterView-container"><div><button class="files-filter-menu-submenu-btn virgo-filter-btn unselectable            files-filter-menu-value-menu-btn files-filter-menu-value-menu-btn-reset reset-button theme-quiet-filter-button"       id="files-filter-menu-value-menu-btn-<%= viewId %>"        aria-labelledby="files-filter-menu-value-menu-btn-label-reset-<%= viewId %>"    aria-owns="files-filter-menu-file-reset-menu-<%= viewId %>               files-filter-menu-added-by-menu-<%= viewId %>"    aria-haspopup="true"     tabindex="0">    <div          id="files-filter-menu-value-menu-btn-label-reset-<%= viewId %>"         class="files-filter-menu-value-menu-btn-label virgo-value-menu-label files-filter-menu-value-menu-btn-label-reset theme-virgo-header-text"         aria-hidden="true"></div></button></div><div><button class="files-filter-menu-submenu-btn virgo-filter-btn unselectable            files-filter-menu-value-menu-btn files-filter-menu-value-menu-btn-type type-button theme-quiet-filter-button"       id="files-filter-menu-value-menu-btn-<%= viewId %>"        aria-labelledby="files-filter-menu-value-menu-btn-label-type-<%= viewId %>"    aria-owns="files-filter-menu-file-type-menu-<%= viewId %>               files-filter-menu-added-by-menu-<%= viewId %>"    aria-haspopup="true"     tabindex="0">    <div          id="files-filter-menu-value-menu-btn-label-type-<%= viewId %>"         class="files-filter-menu-value-menu-btn-label virgo-value-menu-label files-filter-menu-value-menu-btn-label-type theme-virgo-header-text"         aria-hidden="true"></div>    <div class="files-filter-menu-btn-down-arrow"></div></button><div id="files-filter-menu-file-type-menu-<%= viewId %>"      class="files-filter-menu-file-type-menu            virgo-submenu files-filter-menu-submenu ui-theme theme-container"     data-data="value"    ></div></div><div><button class="files-filter-menu-submenu-btn virgo-filter-btn unselectable            files-filter-menu-value-menu-btn  files-filter-menu-value-menu-btn-time time-button theme-quiet-filter-button"       id="files-filter-menu-value-menu-btn-<%= viewId %>"        aria-labelledby="files-filter-menu-value-menu-btn-label-time-<%= viewId %>"    aria-owns="files-filter-menu-date-menu-<%= viewId %>               files-filter-menu-added-by-menu-<%= viewId %>"    aria-haspopup="true"     tabindex="0">    <div          id="files-filter-menu-value-menu-btn-label-time-<%= viewId %>"         class="files-filter-menu-value-menu-btn-label virgo-value-menu-label files-filter-menu-value-menu-btn-label-time theme-virgo-header-text"         aria-hidden="true"></div>    <div class="files-filter-menu-btn-down-arrow"></div></button><div id="files-filter-menu-date-menu-<%= viewId %>"     class="files-filter-menu-date-menu            virgo-submenu shared-files-sort-menu files-filter-menu-submenu ui-theme theme-container"     data-data="value"    ></div></div><div><button class="files-filter-menu-submenu-btn virgo-filter-btn unselectable any-name-virgo-button            files-filter-menu-attr-menu-btn files-filter-menu-attr-menu-btn-name filename-button theme-quiet-filter-button"    id="files-filter-menu-attr-menu-btn-<%= viewId %>"       aria-labelledby="files-filter-menu-attr-menu-btn-label-name-<%= viewId %>"    aria-owns="files-filter-menu-attr-menu-<%= viewId %>"    aria-haspopup="true" tabindex="0">    <div            id="files-filter-menu-attr-menu-btn-label-name-<%= viewId %>"           class="files-filter-menu-attr-menu-btn-label-name virgo-value-menu-label theme-virgo-header-text filename-label-button"           aria-hidden="true"           for="files-filter-menu-value-field-<%= viewId %>">    </div>    <div class="files-filter-menu-btn-down-arrow"></div></button><div class="files-filter-menu-attr-menu            virgo-submenu shared-files-sort-menu files-filter-menu-submenu ui-theme theme-container"     id="files-filter-menu-attr-menu-<%= viewId %>"     data-data="attribute"    ></div></div></div><div class="shared-header-btn-filterView-container-two"><input id="files-filter-menu-value-field-<%= viewId %>"       class="files-filter-menu-submenu-btn virgo-filter-btn virgo-filter-value-btn              files-filter-menu-value-field ui-theme theme-container theme-text"       type="text" spellcheck="false"       />'}),define("files/dev/templates/virgo-filter-date-menu-template",[],function(){return'<div class="files-filter-menu-submenu-item virgo-menu-item shared-files-sort-menu-items cb-active-text-theme theme-list-item-row-sort unselectable"     data-data="anyTime"     data-site-catalyst="anyTime"     role="menuitem" tabindex="-1" title = "<%= anyTime %>" aria-label="<%= anyTime %>">    <%= anyTime %>    <span class="shared-files-sort-menu-items-tick-icon" style="display:none" id = "sel0"></span></div><div class="files-filter-menu-submenu-item virgo-menu-item shared-files-sort-menu-items cb-active-text-theme theme-list-item-row-sort unselectable"     data-data="pastHour"     data-site-catalyst="pastHour"     role="menuitem" tabindex="-1" title = "<%= pastHour %>" aria-label="<%= pastHour %>">    <%= pastHour %>    <span class="shared-files-sort-menu-items-tick-icon" style="display:none" id = "sel1"></span></div><div class="files-filter-menu-submenu-item virgo-menu-item shared-files-sort-menu-items cb-active-text-theme theme-list-item-row-sort unselectable "     data-data="within-last-week"     data-site-catalyst="pastWeek"     role="button" tabindex="-1" title = "<%= withinLastWeek %>" aria-label="<%= withinLastWeek %>">    <%= withinLastWeek %>    <span class="shared-files-sort-menu-items-tick-icon" style="display:none" id = "sel2"></span></div><div class="files-filter-menu-submenu-item virgo-menu-item shared-files-sort-menu-items cb-active-text-theme theme-list-item-row-sort unselectable "     data-data="within-last-month"     data-site-catalyst="pastMonth"     role="button" tabindex="-1" title = "<%= withinLastMonth %>" aria-label="<%= withinLastMonth %>">    <%= withinLastMonth %>    <span class="shared-files-sort-menu-items-tick-icon" style="display:none" id = "sel3"></span></div><div class="files-filter-menu-submenu-item virgo-menu-item shared-files-sort-menu-items cb-active-text-theme theme-list-item-row-sort unselectable"     data-data="pastYear"     data-site-catalyst="pastYear"     role="button" tabindex="-1" title = "<%= pastYear %>" aria-label="<%= pastYear %>">    <%= pastYear %>    <span class="shared-files-sort-menu-items-tick-icon" style="display:none" id = "sel4"></span></div><div class="files-filter-menu-submenu-item virgo-menu-item shared-files-sort-menu-items cb-active-text-theme theme-list-item-row-sort unselectable one-long-line "     data-data="custom"     data-site-catalyst="Custom"     role="menuitem" tabindex="-1" title = "<%= custom %>" aria-label="<%= custom %>">    <%= custom %>    <span class="shared-files-sort-menu-items-tick-icon" style="display:none" id = "sel5"></span></div>'}),define("files/dev/views/virgo-filter-date-menu-view",["files/ac-files","files/templates/virgo-filter-date-menu-template","i18n!core/nls/ui-strings","files/views/filter-submenu-view"],function(e,t,n){return e.VirgoFilterDateMenuView=e.FilterSubmenuView.extend({render:function(){var r=this.$el;return e.FilterSubmenuView.prototype.render.call(this),r.children().length===0&&r.html(_.template(t)({anyTime:n.VIRGO_ANY_TIME,pastHour:n.VIRGO_VIRGO_PAST_HOUR,custom:n.CUSTOM,today:n.VIRGO_Past_24_HOUR,withinLastWeek:n.VIRGO_PAST_WEEK,withinLastMonth:n.VIRGO_PAST_MONTH,pastYear:n.VIRGO_PAST_YEAR})),this}}),e.VirgoFilterDateMenuView}),define("files/dev/templates/virgo-filter-file-type-menu-template",[],function(){return'<div class="files-filter-menu-submenu-item virgo-menu-item shared-files-sort-menu-items cb-active-text-theme theme-list-item-row-sort unselectable"      data-data=<%= anyTypeMimeType %>     data-site-catalyst="AnyType"     role="menuitem" tabindex="-1">     <%= anyTypeUiName %>    <span class="shared-files-sort-menu-items-tick-icon" style="display:none" id = "sel11"></span></div><div class="files-filter-menu-submenu-item virgo-menu-item shared-files-sort-menu-items cb-active-text-theme unselectable theme-list-item-row-sort"      data-data=<%= pdfMimeType %>     data-site-catalyst="PDF"     role="button" tabindex="-1">     <%= pdfUiName %>    <span class="shared-files-sort-menu-items-tick-icon" style="display:none" id = "sel12"></span></div><div class="files-filter-menu-submenu-item virgo-menu-item shared-files-sort-menu-items cb-active-text-theme unselectable theme-list-item-row-sort"      data-data=<%= imageMimeType %>     data-site-catalyst="Image"     role="button" tabindex="-1">     <%= imageUiName %>    <span class="shared-files-sort-menu-items-tick-icon" style="display:none" id = "sel13"></span></div><div class="files-filter-menu-submenu-item virgo-menu-item shared-files-sort-menu-items cb-active-text-theme unselectable theme-list-item-row-sort"      data-data=<%= htmlMimeType %>     data-site-catalyst="HTML"     role="button" tabindex="-1">     <%= htmlUiName %>    <span class="shared-files-sort-menu-items-tick-icon" style="display:none" id = "sel14"></span></div><div class="files-filter-menu-submenu-item virgo-menu-item shared-files-sort-menu-items cb-active-text-theme unselectable theme-list-item-row-sort "      data-data=<%= wordMimeType %>     data-site-catalyst="Word"     role="button" tabindex="-1">     <%= wordUiName %>    <span class="shared-files-sort-menu-items-tick-icon" style="display:none" id = "sel15"></span></div><div class="files-filter-menu-submenu-item virgo-menu-item shared-files-sort-menu-items cb-active-text-theme unselectable theme-list-item-row-sort "      data-data=<%= excelMimeType %>     data-site-catalyst="Excel"     role="button" tabindex="-1">     <%= excelUiName %>    <span class="shared-files-sort-menu-items-tick-icon" style="display:none" id = "sel16"></span></div><div class="files-filter-menu-submenu-item virgo-menu-item shared-files-sort-menu-items cb-active-text-theme unselectable theme-list-item-row-sort "      data-data=<%= powerpointMimeType %>     data-site-catalyst="Powerpoint"     role="button" tabindex="-1">     <%= powerpointUiName %>    <span class="shared-files-sort-menu-items-tick-icon" style="display:none" id = "sel17"></span></div><div class="files-filter-menu-submenu-item virgo-menu-item shared-files-sort-menu-items cb-active-text-theme unselectable theme-list-item-row-sort "      data-data=<%= textMimeType %>     data-site-catalyst="Text"     role="button" tabindex="-1">     <%= textUiName %>    <span class="shared-files-sort-menu-items-tick-icon" style="display:none" id = "sel18"></span></div><div class="files-filter-menu-submenu-item virgo-menu-item shared-files-sort-menu-items cb-active-text-theme unselectable theme-list-item-row-sort  "      data-data=<%= videoMimeType %>     data-site-catalyst="Video"     role="button" tabindex="-1">     <%= videoUiName %>    <span class="shared-files-sort-menu-items-tick-icon" style="display:none" id = "sel19"></span></div><div class="files-filter-menu-submenu-item virgo-menu-item shared-files-sort-menu-items cb-active-text-theme unselectable theme-list-item-row-sort "      data-data=<%= zipMimeType %>     data-site-catalyst="Zip"     role="button" tabindex="-1">     <%= zipUiName %>    <span class="shared-files-sort-menu-items-tick-icon" style="display:none" id = "sel10"></span></div>'}),define("files/dev/views/virgo-filter-file-type-menu-view",["files/ac-files","files/templates/virgo-filter-file-type-menu-template","i18n!core/nls/ui-strings","core/utils/file-types","files/views/filter-submenu-view"],function(e,t,n,r){return e.VirgoFilterFileTypeMenuView=e.FilterSubmenuView.extend({render:function(){var i=this.$el,s=r.MimeType,o=r.UiName;return e.FilterSubmenuView.prototype.render.call(this),i.children().length===0&&i.html(_.template(t)({anyTypeUiName:n.VIRGO_ANY_TYPE,anyTypeMimeType:n.VIRGO_ANY_TYPE,fillsignMimeType:s.ADOBE_FILL_SIGN,fillsignUiName:o.ADOBE_FILL_SIGN,illustratorMimeType:s.ADOBE_ILLUSTRATOR,illustratorUiName:o.ADOBE_ILLUSTRATOR,indesignMimeType:s.ADOBE_INDESIGN,indesignUiName:o.ADOBE_INDESIGN,pdfMimeType:s.ADOBE_PDF,pdfUiName:o.ADOBE_PDF,photoshopMimeType:s.ADOBE_PHOTOSHOP,photoshopUiName:o.ADOBE_PHOTOSHOP,htmlMimeType:s.HTML,htmlUiName:o.HTML,imageMimeType:s.IMAGE,imageUiName:n.IMAGE,excelMimeType:s.MS_EXCEL,excelUiName:o.MS_EXCEL_VIRGO,powerpointMimeType:s.MS_POWERPOINT,powerpointUiName:o.MS_POWERPOINT_VIRGO,wordMimeType:s.MS_WORD,wordUiName:o.MS_WORD_VIRGO,textMimeType:s.TEXT,textUiName:n.TEXT,videoMimeType:s.VIDEO,videoUiName:n.VIDEO,zipMimeType:s.ZIP,zipUiName:o.ZIP})),this}}),e.VirgoFilterFileTypeMenuView}),define("files/dev/views/virgo-filter-navigation-view",["core/ac-core","files/ac-files","files/templates/virgo-filter-navigation-template","i18n!core/nls/ui-strings","i18n!files/nls/ui-strings","core/utils/file-types","core/utils/css-util","core/utils/sc-analytics","core/views/menu-view","core/views/input-search-view","files/views/filter-added-by-menu-view","files/views/filter-attr-menu-view","files/views/virgo-filter-date-menu-view","files/views/virgo-filter-file-type-menu-view"],function(e,t,n,r,i,s,o,u){return t.VirgoFilterNavigationView=e.MenuView.extend({events:function(){return _.extend({},e.MenuView.prototype.events,{"click .type-button":"_onSelectAttrTypeMenuItem","click .time-button":"_onSelectAttrTimeMenuItem","click .filename-button":"_onSelectAttrFileNameMenuItem","click .files-filter-menu-value-menu-btn-label-reset":"_onResetButtonClick"})},initialize:function(){e.MenuView.prototype.initialize.call(this),this._addFocusEventListener(),this._addKeyEventListener(),this.listenTo(this.options.searchUiModel,"ConvertedFilesShowFilterEvent",_.bind(function(){this.$valueMenuBtnReset.css("display","block")},this))},render:function(){var t=this.$el,s=this.options;e.MenuView.prototype.render.call(this),t.children().length===0&&(t.html(_.template(n)({filterBy:i.FILTER_BY,selectAttribute:i.SELECT_ATTRIBUTE,selectValueAnyType:r.VIRGO_ANY_TYPE,selectValueAnyTime:r.VIRGO_ANY_TIME,selectValueAnyFileName:r.VIRGO_ANY_FILE_NAME,viewId:s.viewId})),this._initWrappers()),this.$attrMenuBtnLabelType.text(r.VIRGO_ANY_TYPE),this.$attrMenuBtnLabelTime.text(r.VIRGO_ANY_TIME),this.$attrMenuBtnLabelName.text(r.VIRGO_ANY_FILE_NAME),setInterval(_.bind(function(){this._handleResize()},this),250),this.$attrMenuBtnName.attr("title",""),this.$attrMenuBtnType.attr("title",""),this.$attrMenuBtnTime.attr("title",""),this.$valueMenuBtnLabelType.text(r.VIRGO_ANY_TYPE),this.$valueMenuBtnLabelTime.text(r.VIRGO_ANY_TIME),this.$valueMenuBtnLabelName.text(r.VIRGO_ANY_FILE_NAME),this.$valueMenuBtnLabelReset.text(r.VIRGO_RESET_FILTER),this.$valueMenuBtnReset.attr("title",r.VIRGO_RESET_FILTER),this.$valueMenuBtnLabelType.attr("aria-label",r.VIRGO_ANY_TYPE),this.$valueMenuBtnLabelTime.attr("aria-label",r.VIRGO_ANY_TIME),this.$valueMenuBtnLabelName.attr("aria-label",r.VIRGO_ANY_FILE_NAME),this.$valueMenuBtnLabelReset.attr("aria-label",r.VIRGO_RESET_FILTER);var o=this.options.appApi.connectorsApi.getConnectorPluginName(s.pluginId);return o==="root"&&this.options.searchUiModel.get("field_queries").models[0]&&this.options.searchUiModel.get("field_queries").models[0].get("field")==e.SearchUiModel.FIELD_FILE_ADDED_BY&&this.options.searchUiModel.get("field_queries").models[0].get("value")==e.SearchUiModel.CLIENT_ID_CPDF?this.$valueMenuBtnReset.css("display","block"):this.$valueMenuBtnReset.css("display","none"),this._filterValue===""||this._filterValue===undefined?(this._triggerViewEvent(e.ViewEvents.REMOVE_NAME_FIELD_QUERY),this.$(".filename-label-button").text(r.VIRGO_ANY_FILE_NAME),this.$(".filename-label-button").attr("title",r.VIRGO_ANY_FILE_NAME),this.$(".filename-label-button").attr("aria-label",r.VIRGO_ANY_FILE_NAME)):(this.$valueMenuBtnReset.css("display","block"),this.$(".filename-label-button").text(this._filterValue),this.$(".filename-label-button").attr("title",this._filterValue),this.$(".filename-label-button").attr("aria-label",this._filterValue)),this._filterValueType===""||this._filterValueType===undefined?(this._triggerViewEvent(e.ViewEvents.REMOVE_TYPE_FIELD_QUERY),this.$valueMenuBtnLabelType.text(r.VIRGO_ANY_TYPE),this.$valueMenuBtnLabelType.attr("aria-label",r.VIRGO_ANY_TYPE),this.$valueMenuBtnLabelType.attr("title",r.VIRGO_ANY_TYPE)):(this.$valueMenuBtnReset.css("display","block"),this.$valueMenuBtnLabelType.text(this._filterValueType),this.$valueMenuBtnLabelType.attr("aria-label",this._filterValueType),this.$valueMenuBtnLabelType.attr("title",this._filterValueType)),this._filterValueTime===""||this._filterValueTime===undefined?(this._triggerViewEvent(e.ViewEvents.REMOVE_TIME_FIELD_QUERY),this.$valueMenuBtnLabelTime.text(r.VIRGO_ANY_TIME),this.$valueMenuBtnLabelTime.attr("aria-label",r.VIRGO_ANY_TIME),this.$valueMenuBtnLabelTime.attr("title",r.VIRGO_ANY_TIME)):(this.$valueMenuBtnReset.css("display","block"),this.$valueMenuBtnLabelTime.text(this._filterValueTime),this.$valueMenuBtnLabelTime.attr("aria-label",this._filterValueTime),this.$valueMenuBtnLabelTime.attr("title",this._filterValueTime)),this.$attrMenuBtnType.removeClass("selected").removeAttr("aria-expanded"),this.$attrMenuBtnTime.removeClass("selected").removeAttr("aria-expanded"),this.$attrMenuBtnName.removeClass("selected").removeAttr("aria-expanded"),this.$valueMenuBtnName.removeClass("selected").removeAttr("aria-expanded"),this.$valueMenuBtnLabelTime.removeClass("selected").removeAttr("aria-expanded"),this.$valueMenuBtnLabelType.removeClass("selected").removeAttr("aria-expanded"),this.$valueMenuBtn.removeClass("selected").removeAttr("aria-expanded"),s.searchUiModel.get("is_locked")&&this.$filterSubmenuBtns.addClass("disabled"),this.$valueField.css("display","none"),this._renderChildViews(),this},open:function(t){return this.options.noUrlUpdate?this._logSiteCatalystEvent([u.FILTER,u.SHOWN]):this._logSiteCatalystEvent(u.SHOWN),e.MenuView.prototype.open.call(this,_.bind(function(){this._sizeInputField(),this._renderChildViews(),this._openMenuView(this.$attrMenuBtn,this._attrMenuView,t,!0)},this))},close:function(t){var n=this.$valueField;e.MenuView.prototype.close.call(this,t),n.val()&&this._fileNameContainsView.commitText()},_onBodyClick:function(t){$(t.target).hasClass("clear-btn")&&this.$valueField.val(""),e.MenuView.prototype._onBodyClick.call(this,t)},_initWrappers:function(){e.MenuView.prototype._initWrappers.call(this),this.$attrMenuBtn=this.$(".files-filter-menu-attr-menu-btn"),this.$attrMenuBtnType=this.$(".files-filter-menu-attr-menu-btn-type"),this.$attrMenuBtnTime=this.$(".files-filter-menu-attr-menu-btn-time"),this.$attrMenuBtnName=this.$(".files-filter-menu-attr-menu-btn-name"),this.$attrMenuBtnLabel=this.$(".files-filter-menu-attr-menu-btn-label"),this.$attrMenuBtnLabelType=this.$(".files-filter-menu-attr-menu-btn-label-type"),this.$attrMenuBtnLabelTime=this.$(".files-filter-menu-attr-menu-btn-label-time"),this.$attrMenuBtnLabelName=this.$(".files-filter-menu-attr-menu-btn-label-name"),this.$valueMenuBtn=this.$(".files-filter-menu-value-menu-btn"),this.$valueMenuBtnType=this.$(".files-filter-menu-value-menu-btn-type"),this.$valueMenuBtnTime=this.$(".files-filter-menu-value-menu-btn-time"),this.$valueMenuBtnName=this.$(".files-filter-menu-value-menu-btn-name"),this.$valueMenuBtnLabel=this.$(".files-filter-menu-value-menu-btn-label"),this.$valueMenuBtnLabelType=this.$(".files-filter-menu-value-menu-btn-label-type"),this.$valueMenuBtnLabelTime=this.$(".files-filter-menu-value-menu-btn-label-time"),this.$valueMenuBtnLabelName=this.$(".files-filter-menu-value-menu-btn-label-name"),this.$valueMenuBtnLabelReset=this.$(".files-filter-menu-value-menu-btn-label-reset"),this.$valueField=this.$(".files-filter-menu-value-field"),this.$attrMenu=this.$(".files-filter-menu-attr-menu"),this.$fileAddedByAttr=this.$(".files-filter-menu-attr-menu-item.file-added-by"),this.$fileTypeMenu=this.$(".files-filter-menu-file-type-menu"),this.$fileAddedByMenu=this.$(".files-filter-menu-file-added-by-menu"),this.$dateMenu=this.$(".files-filter-menu-date-menu"),this.$virgoFilterBtn=this.$(".virgo-filter-btn"),this.$virgoFilterValueBtn=this.$(".virgo-filter-value-btn"),this.$filterSubmenuBtns=this.$(".files-filter-menu-submenu-btn"),this.$valueMenuBtnReset=this.$(".reset-button")},_sizeInputField:function(){var e=this.$valueField,t=this.$attrMenuBtnName;e.width(o.getFullWidth(t)-o.getExtraWidth(e)-300),e.height(t.height())},_renderChildViews:function(){return this.removeAllChildViews(),this._renderChildView("_fileNameContainsView",e.InputSearchView,this.$valueField,{searchField:e.SearchUiModel.FIELD_FILE_NAME}),this._renderChildView("_fileTypeMenuView",t.VirgoFilterFileTypeMenuView,this.$fileTypeMenu,{$menuBtn:this.$valueMenuBtnType,triggerEl:this.$valueMenuBtnType.get(0)}),this._renderChildView("_dateMenuView",t.VirgoFilterDateMenuView,this.$dateMenu,{$menuBtn:this.$valueMenuBtnTime,triggerEl:this.$valueMenuBtnTime.get(0)}),this},_getMenuButtonDownArrow:function(e){return e.find(".files-filter-menu-btn-down-arrow")},_openMenuView:function(e,t,n,r){this.options.searchUiModel.get("is_locked")||(e.addClass("selected").attr("aria-expanded","true"),t.open(n,r))},_toggleMenuView:function(e,t){if(this.options.searchUiModel.get("is_locked")||!t){e.removeClass("selected").removeAttr("aria-expanded");return}var n=t.isMenuOpen();e.toggleClass("selected",!n),n?(e.removeClass("selected").removeAttr("aria-expanded"),t.close()):(e.addClass("selected").attr("aria-expanded","true"),t.open().always(function(){e.removeClass("selected").removeAttr("aria-expanded")}))},_getSiteCatalystContext:function(){return this.options.noUrlUpdate?undefined:[u.SEARCH_BAR,u.FILTER]},_getLogFilterName:function(e){var t="";switch(e){case"Type":t=u.VIRGO_FILTER_TYPE;break;case"Time":t=u.VIRGO_FILTER_TIME;break;case"Name":t=u.VIRGO_FILTER_FILENAME}return t},_onViewEvent:function(n,i){var s,o,a,f,l=e.SearchUiModel;n===t.ViewEvents.SELECT_FILTER_MENU_ITEM?(s={value:i.filterMenuItemValue,filter:i.filterMenuItemFilter,siteCatalyst:i.filterMenuItemSiteCatalyst,queryLabel:i.filterMenuItemQueryLabel,queryTitle:i.filterMenuItemQueryTitle},i.filterMenuType!=="attribute"&&this._onSelectValueMenuItem(s)):n===e.ViewEvents.ADD_SEARCH_FIELD_QUERY&&(a=this.$attrMenuBtn.data("data"),o=i.searchFieldQuery,o.commitQueryBox&&(this._triggerViewEvent(e.ViewEvents.REMOVE_NAME_FIELD_QUERY),this.close(),f=[],a===l.FIELD_FILE_NAME&&f.push(u.NAME),f.push(u.ENTERED),this._logSiteCatalystEvent(f),this.options.appApi.siteCatalystApi.logVirgoFiterEvent(this.options.pluginId,this._getLogFilterName(this._currFilterView)),this.$virgoFilterValueBtn.css("display","none"),o.value===""?(this.$(".filename-label-button").text(r.VIRGO_ANY_FILE_NAME),this.$(".filename-label-button").attr("title",r.VIRGO_ANY_FILE_NAME),this.$(".filename-label-button").attr("aria-label",r.VIRGO_ANY_FILE_NAME)):(this.$valueMenuBtnReset.css("display","block"),this.$(".filename-label-button").text(o.value),this.$(".filename-label-button").attr("title",o.value),this.$(".filename-label-button").attr("aria-label",o.value)),this._filterValue=o.value,this._currFilterView="",o.queryLabel=i.searchUiModel.getFieldQueryLabel(o),this.trigger(n,i)))},_onSelectAttrMenuItem:function(t){var n=this.$attrMenuBtn,r=this.$attrMenuBtnLabel,s=this.$valueMenuBtn,o=this.$valueMenuBtnLabel,u=this.$valueField,a=t.value,f=e.SearchUiModel,l;n.data("data",a),r.text(t.queryLabel),s.show(),u.hide(),delete this._valueMenuView;switch(a){case f.FIELD_FILE_NAME:s.hide(),u.show();case f.FIELD_FILE_TYPE:this._openMenuView(s,this._fileTypeMenuView),this._valueMenuView=this._fileTypeMenuView,this.$valueMenuBtnLabelType.text(i.SELECT_FORMAT),this.$valueMenuBtnLabelType.attr("aria-label",i.SELECT_FORMAT);break;case f.FIELD_FILE_ADDED_BY:this._openMenuView(s,this._addedByMenuView),this._valueMenuView=this._addedByMenuView,this.$valueMenuBtnLabel.text(i.SELECT_TOOL);break;case f.FIELD_DATE_ADDED:case f.FIELD_DATE_MODIFIED:case f.FIELD_DATE_LAST_ACCESS:this._openMenuView(s,this._dateMenuView),this._valueMenuView=this._dateMenuView,this.$valueMenuBtnLabelDate.text(i.SELECT_DATES)}this._logSiteCatalystEvent(t.siteCatalyst)},_onSelectAttrTypeMenuItem:function(){var t=this.$attrMenuBtnType,n=this.$attrMenuBtnLabelType,i=this.$valueMenuBtnType,o=this.$valueMenuBtnLabelType,u=this.$valueField,a=e.SearchUiModel,f;t.focus(),t.data("data",a.FIELD_FILE_TYPE),this.$valueMenuBtnTime.removeClass("selected").removeAttr("aria-expanded"),i.show(),u.hide(),delete this._valueMenuView;if(this._currFilterView!=="Type"||!this._fileTypeMenuView.isMenuOpen()){this._dateMenuView&&this._dateMenuView.close(),this._openMenuView(i,this._fileTypeMenuView),this._valueMenuView=this._fileTypeMenuView,this._currFilterView="Type";var l=s.UiName,c="";o.text()===r.VIRGO_ANY_TYPE?c="#sel11":o.text()===l.ADOBE_PDF?c="#sel12":o.text()===r.IMAGE?c="#sel13":o.text()===l.HTML?c="#sel14":o.text()===l.MS_WORD_VIRGO?c="#sel15":o.text()===l.MS_EXCEL_VIRGO?c="#sel16":o.text()===l.MS_POWERPOINT_VIRGO?c="#sel17":o.text()===r.TEXT?c="#sel18":o.text()===r.VIDEO?c="#sel19":o.text()===l.ZIP&&(c="#sel10"),this.$(c).css("display","block"),this.$(c).parent().addClass("selected")}else this._currFilterView=""},_onSelectAttrTimeMenuItem:function(){var t=this.$attrMenuBtnTime,n=this.$attrMenuBtnLabelTime,i=this.$valueMenuBtnTime,s=this.$valueMenuBtnLabelTime,o=this.$valueField,u=e.SearchUiModel,a;t.focus(),t.data("data",u.FIELD_DATE_ADDED),this.$valueMenuBtnType.removeClass("selected").removeAttr("aria-expanded"),i.show(),o.hide(),delete this._valueMenuView;if(this._currFilterView!=="Time"||!this._dateMenuView.isMenuOpen()){this._fileTypeMenuView&&this._fileTypeMenuView.close(),this._openMenuView(i,this._dateMenuView),this._valueMenuView=this._dateMenuView;var f="";s.text()===r.VIRGO_ANY_TIME?f="#sel0":s.text()===r.VIRGO_VIRGO_PAST_HOUR?f="#sel1":s.text()===r.VIRGO_PAST_WEEK?f="#sel2":s.text()===r.VIRGO_PAST_MONTH?f="#sel3":s.text()===r.VIRGO_PAST_YEAR?f="#sel4":s.text()===r.CUSTOM&&(f="#sel5"),this.$(f).css("display","block"),this.$(f).parent().addClass("selected"),this._currFilterView="Time"}else this._currFilterView=""},_onSelectAttrFileNameMenuItem:function(){var t=this.$attrMenuBtnName,n=this.$attrMenuBtnLabelName,r=this.$valueMenuBtnName,i=this.$valueMenuBtnLabelName,s=this.$valueField,o=e.SearchUiModel,u;t.focus(),t.data("data",o.FIELD_FILE_NAME),this.$valueField.css("display","block"),this.$valueMenuBtnTime.removeClass("selected").removeAttr("aria-expanded"),this.$valueMenuBtnType.removeClass("selected").removeAttr("aria-expanded"),s.hide(),delete this._valueMenuView,this.$valueMenuBtnName.removeClass("selected").removeAttr("aria-expanded"),this._currFilterView!=="Name"?(this._fileTypeMenuView&&this._fileTypeMenuView.close(),this._dateMenuView&&this._dateMenuView.close(),this._currFilterView="Name",this.$valueMenuBtnType.removeClass("selected").removeAttr("aria-expanded"),this.$valueMenuBtnTime.removeClass("selected").removeAttr("aria-expanded"),this.$valueMenuBtnName.addClass("selected").attr("aria-expanded"),r.hide(),s.show(),s.attr("placeholder",this._filterValue),s.attr("text",this._filterValue),s.attr("value",this._filterValue),s.val(this._filterValue),s.focus()):this._currFilterView=""},_onSelectValueMenuItem:function(t){var n=this.$attrMenuBtn,i,s,o,a,f=e.SearchUiModel,l;s=t.queryTitle!=undefined&&t.queryTitle!=""?t.queryTitle:t.queryLabel,o=n.data("data"),a=[];if(this._currFilterView==="Type")l=u.FILE_TYPE,o=f.FIELD_FILE_TYPE,this._filterValueType=t.queryLabel,this.$valueMenuBtnLabelType.text(t.queryLabel),this.$valueMenuBtnLabelType.attr("title",s),this.$valueMenuBtnLabelType.attr("aria-label",s);else if(this._currFilterView==="Time"){var c=this.options.sortUiModel.get("mru_date_order"),h=this._filterValueTime==null||this._filterValueTime==""?r.VIRGO_ANY_TIME:this._filterValueTime;this.$valueMenuBtnLabelTime.attr("prevfilter",h),this._filterValueTime=t.queryLabel,this.$valueMenuBtnLabelTime.text(t.queryLabel),this.$valueMenuBtnLabelTime.attr("title",s),this.$valueMenuBtnLabelTime.attr("aria-label",s);var c=this.options.sortUiModel.get("mru_date_order"),p=e.SortUiModel;switch(c){case p.ORDER_BY_DATE_ADDED:l=u.DATE_ADDED,o=f.FIELD_DATE_ADDED;break;case p.ORDER_BY_DATE_MODIFIED:l=u.DATE_MODIFIED,o=f.FIELD_DATE_MODIFIED;break;case p.ORDER_BY_DATE_LAST_ACCESS:l=u.DATE_LAST_ACCESS,o=f.FIELD_DATE_LAST_ACCESS}}else this._currFilterView==="Name"&&(l=u.NAME,o=f.FIELD_FILE_NAME,this.$valueMenuBtnLabelName.text(t.queryLabel),this.$valueMenuBtnLabelName.attr("aria-label",t.queryLabel));a.push(l),a.push(t.siteCatalyst),this._logSiteCatalystEvent(a),this.options.appApi.siteCatalystApi.logVirgoFiterEvent(this.options.pluginId,this._getLogFilterName(this._currFilterView),t.siteCatalyst);var d=n.data("data-data");if(t.value=="custom"){var v=this.options,m=0;this._triggerViewEvent(e.ViewEvents.SHOW_CUSTOM_RANGE_DIALOG,{parentView:this.options.parentView,scContext:this._getParentScContext(),searchFieldQuery:{field:o,value:t.value,filter:t.filter,commitQueryBox:!0,queryLabel:i}}),this._currFilterView==="Time"&&(this._currFilterView=""),this.$valueMenuBtnReset.css("display","block")}else{var g="";this._currFilterView==="Type"?(this._triggerViewEvent(e.ViewEvents.REMOVE_TYPE_FIELD_QUERY),g=this.$attrMenuBtnType.text(),this.$valueMenuBtnType.removeClass("selected").removeAttr("aria-expanded"),this.$valueMenuBtnType&&this.$valueMenuBtnType.blur()):this._currFilterView==="Time"?(this._triggerViewEvent(e.ViewEvents.REMOVE_TIME_FIELD_QUERY),g=this.$attrMenuBtnTime.text(),this.$valueMenuBtnTime.removeClass("selected").removeAttr("aria-expanded"),this.$valueMenuBtnTime&&this.$valueMenuBtnTime.blur()):this._currFilterView==="Name"&&(this._triggerViewEvent(e.ViewEvents.REMOVE_NAME_FIELD_QUERY),g=this.$attrMenuBtnName.text(),this.$valueMenuBtnName&&(this.$valueMenuBtnName.removeClass("selected").removeAttr("aria-expanded"),this.$valueMenuBtnName.blur())),this._currFilterView="",i=_.template(r.FILTER_DISPLAY_VALUE,{field:$.trim(g),value:t.queryLabel}),this.$valueMenuBtnReset.css("display","block"),t.queryLabel!==r.VIRGO_ANY_TIME&&t.queryLabel!==r.VIRGO_ANY_TYPE&&t.queryLabel!==r.VIRGO_ANY_FILE_NAME&&this._triggerViewEvent(e.ViewEvents.ADD_SEARCH_FIELD_QUERY,{searchFieldQuery:{field:o,value:t.value,filter:t.filter,commitQueryBox:!0,queryLabel:i}})}this.$valueMenuBtnLabelType.text()===r.VIRGO_ANY_TYPE&&this.$valueMenuBtnLabelTime.text()===r.VIRGO_ANY_TIME&&this.$(".filename-label-button").text()===r.VIRGO_ANY_FILE_NAME&&this.$valueMenuBtnReset.css("display","none"),this.$valueMenuBtnType.removeClass("selected"),this.$valueMenuBtnTime.removeClass("selected"),this.$valueMenuBtnName.removeClass("selected"),this._valueMenuView!=="undefined"&&this._valueMenuView&&this._valueMenuView.close(),delete this._valueMenuView},_onResetButtonClick:function(){this._triggerViewEvent(e.ViewEvents.REMOVE_TYPE_FIELD_QUERY),this._triggerViewEvent(e.ViewEvents.REMOVE_TIME_FIELD_QUERY),this._triggerViewEvent(e.ViewEvents.REMOVE_NAME_FIELD_QUERY),this.$valueMenuBtnLabelType.text(r.VIRGO_ANY_TYPE),this.$valueMenuBtnLabelType.attr("title",r.VIRGO_ANY_TYPE),this.$valueMenuBtnLabelType.attr("aria-label",r.VIRGO_ANY_TYPE),this.$valueMenuBtnLabelTime.text(r.VIRGO_ANY_TIME),this.$valueMenuBtnLabelTime.attr("title",r.VIRGO_ANY_TIME),this.$valueMenuBtnLabelTime.attr("aria-label",r.VIRGO_ANY_TIME),this.$(".filename-label-button").text(r.VIRGO_ANY_FILE_NAME),this.$(".filename-label-button").attr("title",r.VIRGO_ANY_FILE_NAME),this.$(".filename-label-button").attr("aria-label",r.VIRGO_ANY_FILE_NAME),this.$valueField.hide(),this._currFilterView="",this._filterValue="",this._filterValueType="",this._filterValueTime="",this.$valueMenuBtnReset.css("display","none");var t=this.options.appApi.connectorsApi.getConnectorPluginName(this.options.pluginId);return t==="root"&&this.options.searchUiModel.get("field_queries").models[0]&&this.options.searchUiModel.get("field_queries").models[0].get("field")==e.SearchUiModel.FIELD_FILE_ADDED_BY&&this.options.searchUiModel.get("field_queries").models[0].get("value")==e.SearchUiModel.CLIENT_ID_CPDF&&(this._triggerViewEvent(e.ViewEvents.REMOVE_SEARCH_FIELD_QUERY,{searchFieldQuery:this.options.searchUiModel.get("field_queries").models[0]}),this.options.searchUiModel.trigger("ConvertedFilesHideFilterEvent")),!0},_isClickOutsideMenu:function(){return!1},_onAttrMenuBtnClick:function(){var e=this.$attrMenuBtn,t=this.$valueMenuBtn,n=_.bind(function(){t.removeData("data"),this._toggleMenuView(e,this._attrMenuView)},this);this._valueMenuView?this._valueMenuView.close(n):n()},_onKeyDown:function(e){var t=e.target,n=!1,r=e.which;$(".virgo-filter-btn").keyup(function(e){e.keyCode===13&&$("#id_of_button").click()}),r===13&&this.$virgoFilterBtn.is(t)&&console.log("enter"),this.$attrMenuBtn.is(t),this.$valueMenuBtn.is(t),r===13&&this.$valueMenuBtnReset.is(t)&&(n=this._onResetButtonClick(e));if(n)return n},_onMenuBtnKeyDown:function(e,t){var n=e.which,r=$(e.target);switch(n){case 32:case 38:case 40:this._consumeEvent(e);if(n===38&&t||n===40&&!t||n===32)return r.click(),!0}return!1},_onAttrMenuBtnKeyDown:function(e){return this._onMenuBtnKeyDown(e,this._attrMenuView.isMenuOpen())},_onValueMenuBtnKeyDown:function(e){return this._onMenuBtnKeyDown(e,this._valueMenuView.isMenuOpen())},_handleResize:function(){if(this._dateMenuView&&this._dateMenuView.isMenuOpen()){var e=this.$valueMenuBtnTime.position(),t=this.$valueMenuBtnTime.height()+o.getExtraHeight(this.$valueMenuBtnTime);this.$dateMenu.css("top",e.top+t+"px"),this.$dateMenu.css("left",e.left+"px"),this.$dateMenu.width(this.$valueMenuBtnTime.width()+o.getPaddingWidth(this.$valueMenuBtnTime))}if(this._fileTypeMenuView&&this._fileTypeMenuView.isMenuOpen()){var e=this.$valueMenuBtnType.position(),t=this.$valueMenuBtnType.height()+o.getExtraHeight(this.$valueMenuBtnType);this.$fileTypeMenu.css("top",e.top+t+"px"),this.$fileTypeMenu.css("left",e.left+"px"),this.$fileTypeMenu.width(this.$valueMenuBtnType.width()+o.getPaddingWidth(this.$valueMenuBtnType))}}}),t.VirgoFilterNavigationView}),define("files/dev/views/virgo-files-header-view",["core/ac-core","files/ac-files","files/templates/virgo-files-header-template","i18n!files/nls/ui-strings","core/utils/util","core/utils/view-util","core/utils/css-util","core/utils/sc-analytics","core/views/view","core/views/search-control-view","files/views/filter-menu-view","files/views/virgo-sort-menu-view","files/views/virgo-folder-navigation-view","files/views/virgo-filter-navigation-view"],function(e,t,n,r,i,s,o,u){return t.VirgoFilesHeaderView=e.View.extend({events:{"click .files-filter-menu-btn":"_onFilterMenuBtnClick","click .files-upload-btn":"_onUploadClick","mousedown .files-upload-btn":"_onUploadMouseDown","click .virgo-files-new-folder-btn":"_onNewFolderClick","click .files-sort-menu-btn":"_onSortMenuBtnClick","click .shared-header-btn-dc-listView":"_onShowListView","click .shared-header-btn-dc-thumbnailView":"_onShowThumbnailView","click .shared-header-btn-new-folder":"_onNewFolderBtnClick","click .shared-header-btn-filter":"_onFilterBtnClick"},initialize:function(){e.View.prototype.initialize.call(this),this._addFocusEventListener(),this._addKeyEventListener(),this._addUiModelEventListeners()},render:function(){var t=this.options,s=this.$el,u,a,f=t.appApi.pluginsApi,l=t.pluginId,c;e.View.prototype.render.call(this),s.children().length===0&&(c=f.getSelectorApi(l).getSelectorLabel(),s.html(_.template(n)({sort:r.SORT,uploadFile:r.UPLOAD_FILE,newFolder:r.NEW_FOLDER,listView:r.VIRGO_LIST_VIEW,thumbnailView:r.VIRGO_THUMBNAIL_VIEW,viewId:t.viewId,pluginSelectorId:f.getPluginSelectorId(l),documentCloudName:c})),this._initWrappers(),this._updateHeaderButtonsSelectionState(),u=this.$upload,(i.isIpad()||i.isIphone())&&(!e.Features.isFeatureEnabled("ios_upload_ui")||i.isIosVersion(5)||i.isIosVersion(4))&&u.hide(),t.noUpload&&u.hide(),t.enableDragAndDrop&&u.width(0),t.noNewFolder&&this.$newFolder.hide(),t.noRightBtns?this.$virgoBtnsRight.css("display","none"):this.$virgoBtnsRight.css("display","grid"),t.noSearchControl?this.$searchControl.hide():this.$searchControl.show(),t.noSort&&this.$sortMenuBtn.hide()),_.defer(_.bind(function(){a=this.$searchControl,a.width(Math.floor(s.width()-o.getFullWidth(this.$btnsRight))),this._renderChildViews(),s.height(o.getFullHeight(a))},this)),this._adjustLayout();var h=this.options.appApi.connectorsApi.getConnectorPluginName(t.pluginId);return h!=="root"&&h!=="ccloud"&&t.pluginId!=="scan_files"&&this.$virgoBtnsRight.css("display","none"),this},_initWrappers:function(){this.$searchControl=this.$(".search-control"),this.$btnsRight=this.$(".files-header-btns.right"),this.$virgoBtnsRight=this.$(".DC-header-listing-btns"),this.$newFolder=this.$(".virgo-files-new-folder-btn"),this.$upload=this.$(".files-upload-btn"),this.$uploadInput=this.$("input:file.file"),this.$sortMenuBtn=this.$(".files-sort-menu-btn"),this.$sortMenu=this.$(".files-sort-menu"),this.$documentCloudName=this.$(".document-cloud-name"),this.$listViewBtn=this.$(".shared-workflow-header-btn.listView"),this.$thumbnailViewBtn=this.$(".shared-workflow-header-btn.thumbnailView"),this.$filterBtn=this.$(".shared-workflow-header-btn.filter"),this.$newFolderBtn=this.$(".shared-workflow-header-btn.virgo-files-new-folder-btn"),this.$folderNavigation=this.$(".virgo-header-navigation"),this.$filterView=this.$(".shared-header-btn-filterView")},_adjustLayout:function(){var e=$(window).width();this.$el.hasClass("with-rhp")?(e<700?this.$virgoBtnsRight.css("display","none"):this.$virgoBtnsRight.css("display","grid"),e<=1100&&this.$("#virgoNavigation").css("display","none")):(e<200?this.$virgoBtnsRight.css("display","none"):this.$virgoBtnsRight.css("display","grid"),e<=800&&this.$("#virgoNavigation").css("display","none"))},_showHeaderBtnClickedEffect:function(e,t){s.showClickedEffect(e,"files-header-btn-active","files-header-btn-transition",t)},_renderChildViews:function(){var t=this._collectionUiModel;t||(t=this._collectionUiModel=e.uiModelFactory.create("CollectionUiModel")),this._renderFolderNavigationView(t),this._renderSearchControlView(),this._renderSortMenuView(),this.options.isInSearchResultsView&&this._updateSearchResultsView()},_updateSearchResultsView:function(){var e=this.options,t=e.pluginId,n=e.appApi.pluginsApi,i=n.getSelectorApi(t).getSelectorLabel(),s=e.searchModel.get("total_hits");if(!_.isUndefined(s)){var o=_.template(r.SEARCH_HEADER,{label:i,count:s});this.$documentCloudName.text(o),this.$documentCloudName.attr("title",o),this.$documentCloudName.attr("aria-label",_.template(e.searchUiModel.getHeaderAriaLabel(),{category:i,count:s}))}else this.$documentCloudName.text(i);this.$el.addClass("uss-search-active"),this.$folderNavigation.hide(),this.$virgoBtnsRight.hide(),this.$documentCloudName.show()},_renderFolderNavigationView:function(e){this._renderChildView("_virgoFolderNavigationView",t.VirgoFolderNavigationView,this.$folderNavigation,{collectionUiModel:e})},_renderSearchControlView:function(){this._renderChildView("_searchControlView",e.SearchControlView,this.$searchControl)},_renderSortMenuView:function(){this._renderChildView("_sortMenuView",t.VirgoSortMenuView,this.$sortMenu)},_positionNavigationMenu:function(){var e=this.$folderNavigation,t=e.position();if(!t)return;this._virgoFolderNavigationView.$el.css("right",this.$el.width()-t.left-o.getFullWidth(e)+1+"px")},_updateUploadButtonFocusStyle:function(e){var t=this.$("input:file");!e&&t.is(document.activeElement)?t.addClass("focused"):t.removeClass("focused"),i.isIE8()&&s.detachAndReattachElement(t.next())},_onFocusIn:function(){this._updateUploadButtonFocusStyle()},_onFocusOut:function(){this._updateUploadButtonFocusStyle(!0)},_onKeyDown:function(e){var t=$(e.target),n=e.which,r=!1;if(!t.hasClass("shared-workflow-header-btn")||s.isElementHidden(this.$el))return r;var i;switch(n){case 32:case 13:if(!t.hasClass("disabled"))if(t.hasClass("listView"))this._onShowListView(),r=!0;else if(t.hasClass("thumbnailView"))this._onShowThumbnailView(),r=!0;else if(t.hasClass("filter")){this._onFilterBtnClick();var o=this.$filterView.find(":focusable");o&&o.length>0&&(i=o.first().attr("tabindex",0)),r=!0}else t.hasClass("virgo-files-new-folder-btn")&&(this._onNewFolderClick(e),r=!0)}return i&&i.length===1&&i.focus(),r},_onMenuBtnKeyDown:function(e,t){var n=e.which,r=e.target;switch(n){case 32:case 38:case 40:this._consumeEvent(e);if(n===38&&t||n!==38&&!t)return r.click(),!0}return!1},_onUploadMouseDown:function(e){i.isIE()&&!i.isIE9orBelow()&&($(e.target).click(),e.preventDefault())},_onUploadClick:function(){this._logSiteCatalystEvent([u.UPLOAD_ICON,u.CLICKED])},_onNewFolderClick:function(e){this.$newFolderBtn.addClass("button-selected");var n=this.options;$(e.currentTarget).hasClass("disabled")||(this._logSiteCatalystEvent([u.NEW_FOLDER_ICON,u.CLICKED]),this._triggerViewEvent(t.ViewEvents.NEW_FOLDER,{parentFolderId:n.appApi.folderApi.getCurrentFolderId(n.pluginId),parentView:this,scContext:this._getParentScContext()}))},_onSortMenuBtnClick:function(){this.options.noUrlUpdate?this._logSiteCatalystEvent([u.SORT_ICON,u.CLICKED]):this._logSiteCatalystEvent([u.SEARCH_BAR,u.SORT_ICON,u.CLICKED]),this._triggerViewEvent(t.ViewEvents.SORT_MENU_BTN_CLICK)},_onSortMenuBtnKeyDown:function(e){return this._onMenuBtnKeyDown(e,this._sortMenuView.isMenuOpen())},_onFilesHeaderBtnKeyDown:function(e){var t=this.options,n=$(e.target),r=e.which,o=e.shiftKey,u=this.$btnsRight,a,f=!1,l=this.$("input:file").is(n);switch(r){case 13:case 32:l?i.isIE()&&(t.fileUploadModel.hasAjaxFileUpload()?n.click():r===13&&i.isIE9orBelow()&&(f=!0)):(f=!0,n.click());break;case 9:l&&(a=s.getNextFocusableDescendant(u,o,!0),f=!0);break;case 37:case 38:a=s.getNextFocusableDescendant(u,!0,!0),f=!0;break;case 39:case 40:a=s.getNextFocusableDescendant(u,!1,!0),f=!0}return f&&this._consumeEvent(e),a&&a.focus(),f},_addUiModelEventListeners:function(){var e=this.options,t=e.searchUiModel,n=e.filesUiModel,r=e.appApi.pluginsApi.getPluginsUiModel(e.pluginId);this.listenTo(t,"change:status",this._onSearchStatusChange).listenTo(n,"change:show_sort_menu",this._onShowSortMenuChange),e.isInSearchResultsView&&(this.listenTo(e.searchModel,"change:total_hits",this.render),this.listenTo(r,"change:selected_searched_plugin_id",this._searchPluginChanged))},_searchPluginChanged:function(e,t){t==="search_summary"?this.$el.show():this.$el.hide()},_onSearchStatusChange:function(){this.options.searchUiModel.isSearching()?(this.$newFolder.addClass("disabled").prop("disabled",!0),this.$upload.addClass("disabled"),this.$upload.find("input").prop("disabled",!0)):(this.$newFolder.removeClass("disabled").prop("disabled",!1),this.$upload.removeClass("disabled").prop("disabled",!1),this.$upload.find("input").prop("disabled",!1))},_onShowSortMenuChange:function(e,t){var n=this._sortMenuView,r,i=this.$sortMenuBtn;if(this.options.isInSearchResultsView)return;t?(r=this.options.filesUiModel,n.open().always(function(){i.removeClass("selected").removeAttr("aria-expanded"),r.set("show_sort_menu",!1,{silent:!0})}),i.addClass("selected").attr("aria-expanded","true")):n.close()},_onShowListView:function(){this.$thumbnailViewBtn.removeClass("button-selected"),this.$listViewBtn.addClass("button-selected"),this.options.collectionsUiModel.set("view","list");var t="list";this._logSiteCatalystEvent([u.VIEW_BY,t==="list"?u.LIST:u.THUMB,u.CHECKED]),this._triggerViewEvent(e.ViewEvents.VIEW_BY,{view:t})},_onShowThumbnailView:function(){this.$thumbnailViewBtn.addClass("button-selected"),this.$listViewBtn.removeClass("button-selected"),this.options.collectionsUiModel.set("view","thumbnail");var t="thumbnail";this._logSiteCatalystEvent([u.VIEW_BY,t==="list"?u.LIST:u.THUMB,u.CHECKED]),this._triggerViewEvent(e.ViewEvents.VIEW_BY,{view:t})},_updateHeaderButtonsSelectionState:function(){var e=this.options.collectionsUiModel.get("view");e==="list"?(this.$thumbnailViewBtn.removeClass("button-selected"),this.$listViewBtn.addClass("button-selected")):e==="thumbnail"&&(this.$thumbnailViewBtn.addClass("button-selected"),this.$listViewBtn.removeClass("button-selected"))},_onNewFolderBtnClick:function(){this.$newFolderBtn.addClass("button-selected"),this.options.appApi.siteCatalystApi.logVirgoCreateFolderEvent(this.options.appApi.siteCatalystApi._getLogSubCategory(this.options.pluginId))}}),t.VirgoFilesHeaderView}),define("files/dev/templates/files-rhp-template",[],function(){return'<div class="files-rhp-preview"></div><div class="files-rhp-properties"></div><div class="files-rhp-properties-total-files-value"><div class="virgo-rhp-multiple-icon"></div><div class="files-rhp-properties-total-files-text-value cb-text-theme"/></div><div class="files-rhp-menu-break rhp-menu-separator rhp-menu-break-one theme-border"/><div class="files-rhp-actions"></div>'}),define("files/dev/views/files-rhp-view",["core/ac-core","files/ac-files","files/templates/files-rhp-template","core/utils/view-util","i18n!core/nls/ui-strings","core/views/rhp-preview-view","core/views/rhp-properties-view","core/views/rhp-actions-view","core/views/view"],function(e,t,n,r,i){return t.FilesRhpView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this)},render:function(){var t;return e.View.prototype.render.call(this),t=this.$el,t.children().length===0&&(t.html(_.template(n)),this._initWrappers()),this.options.isInSearchResultsView&&this._initWrappers(),this._addUiModelEventListeners(),this._addKeyEventListener(),this._renderChildViews(),this},_initWrappers:function(){this.$preview=this.$(".files-rhp-preview"),this.$properties=this.$(".files-rhp-properties"),this.$actions=this.$(".files-rhp-actions"),this.$totalFiles=this.$(".files-rhp-properties-total-files-value"),this.$totalFilesText=this.$(".files-rhp-properties-total-files-text-value"),this.$menuBreak=this.$(".files-rhp-menu-break")},_renderChildViews:function(){var t=this.options,n=t.selectionUiModel,r,s,o=n.getSingleSelectedItemModel(),u=t.pluginId==="root",a=o&&o.isRecentFileItem?u:!u;if(o&&o.get("is_shared")===!0){this.$el.hide();return}if(t.isInSearchResultsView&&o&&(o.workflowType||a)){this.$el.hide();return}this.$el.show(),r=n.getNumSelectedFiles(),s=n.getNumSelectedFolders(),r+s>1?(this.$totalFilesText.text(r+s+" "+i.ITEMS_SELECTED),this.$preview.hide(),this.$properties.hide(),this.$totalFiles.show(),this.$menuBreak.show()):(this.$totalFiles.hide(),this.$menuBreak.hide(),this.$preview.show(),this.$properties.show(),this._renderChildView("_previewView",e.RhpPreviewView,this.$preview),this._renderChildView("_propertiesView",e.RhpPropertiesView,this.$properties)),this._renderChildView("_actionsView",e.RhpActionsView,this.$actions)},_addUiModelEventListeners:function(){var e=this.options;this.listenTo(e.selectionUiModel,"change:selected_item_models",this._onSelectedItemModelsChange).listenTo(e.rhpPreviewUiModel,"change:actions_expanded",this._onActionsExpandedChange)},_onSelectedItemModelsChange:function(e){if(e.isSelectionMasked())return;e.getNumSelectedItems()>0&&this._renderChildViews()},_onKeyDown:function(e){var t=this.$el,n,i=e.which,s=e.shiftKey,o=!1;if(!r.descendantHasFocus(t))return o;switch(i){case 13:o=!0,$(e.target).click();break;case 9:n=r.getNextFocusableDescendant(t,s,!0)}return n&&n.length===1&&(o=!0,n.focus()),o}}),t.FilesRhpView}),define("files/dev/templates/original-shared-files-rhp-template",[],function(){return'<div class="shared-rhp-error-view"></div><div class="original-shared-rhp-preview"><div class="files-rhp-preview"></div></div><div class="files-rhp-properties"></div><div class="files-rhp-intro-message-deadline"></div><div class="rhp-participants-accodian"></div><div class="shared-rhp-primary-actions"></div>'}),define("files/dev/views/original-shared-files-rhp-view",["core/ac-core","files/ac-files","files/templates/original-shared-files-rhp-template","core/utils/view-util","i18n!core/nls/ui-strings","core/views/rhp-preview-view","core/views/rhp-properties-view","core/views/rhp/original-shared-rhp-intro-message-view","core/views/rhp/original-shared-rhp-participants-view","core/views/rhp/original-shared-primary-actions-view","core/views/rhp/shared-rhp-error-view","core/views/view"],function(e,t,n,r,i){return t.OriginalSharedFilesRhpView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this)},render:function(){var t;return e.View.prototype.render.call(this),t=this.$el,t.children().length===0&&(t.html(_.template(n)),this._initWrappers()),this.options.isInSearchResultsView&&this._initWrappers(),this._addUiModelEventListeners(),this._addKeyEventListener(),this._renderChildViews(),this},_initWrappers:function(){this.$errorView=this.$(".shared-rhp-error-view"),this.$preview=this.$(".files-rhp-preview"),this.$parentPreview=this.$(".original-shared-rhp-preview"),this.$properties=this.$(".files-rhp-properties"),this.$introMessageAndDeadline=this.$(".files-rhp-intro-message-deadline"),this.$participantsAcc=this.$(".rhp-participants-accodian"),this.$primaryActions=this.$(".shared-rhp-primary-actions")},_renderChildViews:function(){var t=this.options,n=t.selectionUiModel,r,i,s=n.getSingleSelectedItemModel(),o=t.pluginId==="root",u=s&&s.isRecentFileItem?o:!o,a=n.getNumSelectedItems();this.isBootstrapCallFailed=!1,this.$el.hide();if(a>1||t.isInSearchResultsView&&s&&(s.workflowType||u)||s&&s.get("is_shared")!==!0)return;if(s&&s.id){var f=e.opFactory,l=f.create("FireBootstrapApiOp",_.extend(t,{id:s.id,global:!1,share_info:!0}));!s.get("bootstrap")&&!s.get("fetching_bootstrap")?(s.set("fetching_bootstrap",!0),l.run().then(_.bind(function(e){s.set("fetching_bootstrap",!1);if(e&&e.parcel_data){var n=this.options.selectionUiModel.getSingleSelectedItemModel(),r=t.isInSearchResultsView?n.attributes.id.toLowerCase():n.attributes.asset_id.toLowerCase();if(r!=e.meta_list[0].asset_urn.toLowerCase())return;s.set("bootstrap",e),this._renderSubviews()}},this),_.bind(function(){s.set("fetching_bootstrap",!1),this.isBootstrapCallFailed=!0,this._renderSubviews()},this))):s.get("bootstrap")&&this._renderSubviews()}else this._renderSubviews()},_renderSubviews:function(){var e=this.options.selectionUiModel.getSingleSelectedItemModel(),t;this.$parentPreview.hide(),this.$properties.hide(),this.$introMessageAndDeadline.hide(),this.$participantsAcc.hide(),this.$primaryActions.hide(),this.$errorView.hide(),this.isBootstrapCallFailed===!0&&!this.options.isDocView?this._renderErrorView():(this._renderPreviewView(),this._renderPropertiesView(),this._renderIntroMessageDeadlineView(),this._renderParticipantsView(),this._renderPrimaryActionsView()),this.$el.show()},_renderErrorView:function(){this._renderChildView("_errorView",e.SharedRHPErrorView,this.$errorView),this.$errorView.show()},_renderPreviewView:function(){this._renderChildView("_previewView",e.RhpPreviewView,this.$preview),this.$parentPreview.show()},_renderPropertiesView:function(){this._renderChildView("_propertiesView",e.RhpPropertiesView,this.$properties),this.$properties.show()},_renderIntroMessageDeadlineView:function(){this._renderChildView("_introMessageView",e.OriginalSharedRhpIntroMsgDeadlineView,this.$introMessageAndDeadline),this.$introMessageAndDeadline.show()},_renderParticipantsView:function(){this._renderChildView("_participantsView",e.OriginalSharedRhpParticipantsView,this.$participantsAcc),this.$participantsAcc.show()},_renderPrimaryActionsView:function(){this._renderChildView("_primaryActionsView",e.OriginalSharedRhpPrimaryActionsView,this.$primaryActions),this.$primaryActions.show()},_addUiModelEventListeners:function(){var e=this.options;this.listenTo(e.selectionUiModel,"change:selected_item_models",this._onSelectedItemModelsChange).listenTo(e.rhpPreviewUiModel,"change:actions_expanded",this._onActionsExpandedChange)},_onSelectedItemModelsChange:function(e){if(e.isSelectionMasked())return;e.getNumSelectedItems()>0&&this._renderChildViews()},_onKeyDown:function(e){var t=this.$el,n,i=e.which,s=i===38,o=!1;if(!r.descendantHasFocus(t))return o;switch(i){case 13:o=!0,$(e.target).click();break;case 9:case 38:case 40:n=r.getNextFocusableDescendant(t,s,!0)}return n&&n.length===1&&(o=!0,n.focus()),o}}),t.OriginalSharedFilesRhpView}),define("files/dev/templates/file-save-as-header-template",[],function(){return'<div class="file-save-as-error-container">    <div class="file-save-as-error"></div></div><div class="file-save-as-filename ui-theme theme-container unselectable"><label for="file-save-as-filename-input" class="file-save-as-filename-label theme-text"><%= filenameText %></label><div class="file-save-as-shared-file-overwrite-warning-icon"></div><input id="file-save-as-filename-input" name="filenameInput" class="file-save-as-filename-input ui-theme theme-container theme-text" required type="text" tabindex="1"><label class="file-save-as-shared-file-overwrite-warning-msg"><%= sharedFileOverwriteWarningMsg %> </label></div><div class="file-save-as-options unselectable"></div>'}),define("files/dev/templates/file-save-as-options-template",[],function(){return'<div class="reduce-file-size-container"><div class="reduce-file-size" tabindex=-1><div class="checkbox"></div><div class="text theme-text"> <%= reduceFileSize %> </div></div></div><div class="restrict-editing" tabindex=-1><div class="checkbox"></div><div class="text theme-text"> <%= restrictEditing %> </div></div><% if (typeof(title) !== "undefined") { %><div class="reduce-file-size-walkthrough"><div class="reduce-walkthrough-container"><div class="close-img" role="button" aria-required="true" tabindex = "0"></div><div id="title"><%= title %></div><div id ="content-text" ><%= content %></div></div></div><% } %>'}),define("files/dev/views/file-save-as-options-view",["core/ac-core","files/ac-files","files/templates/file-save-as-options-template","i18n!files/nls/ui-strings","core/utils/view-util","core/views/view"],function(e,t,n,r,i){return t.FileSaveAsOptionsView=e.View.extend({events:{"click .restrict-editing":"_onRestrictEditingClicked","click .reduce-file-size":"_onReduceFileSizeClicked","click .close-img":"_onWalkthroughCloseClicked","click .reduce-file-size-walkthrough":"_onWalkthroughClicked"},initialize:function(){e.View.prototype.initialize.call(this),this._addKeyEventListener(),this._addFocusEventListener();var t=r.RESTRICT_EDITING;t=t||"Restrict Editing !!!";var i=r.REDUCE_FILE_SIZE;i=i||"Reduce File Size !!!";var s=this.options.appApi.saveAsApi;s.getFileOptionsRFS()!==undefined&&(i=s.getFileOptionsRFS());var o=s.getOriginalFileSize(),u=s.getShowReduceSizeBanner(),a={restrictEditing:t,reduceFileSize:i};e.Util.isCEF()&&s.isRunningInFileSaveAs()&&this._addHomeViewSaveAsOptionsListeners();if(u&&o!==0){var f=_.template(r.OPTIMIZE_CHECKBOX_COACKMARK_CONTENT,{fileSizeInMB:o});a.title=r.OPTIMIZE_CHECKBOX_COACKMARK_TITLE,a.content=f}this._template=_.template(n)(a)},render:function(){var t=this.$el;e.View.prototype.render.call(this);if(t.children().length===0){t.html(this._template),this._initWrappers(),this._disableOptionsIfNotAllowedOnDoc();var n=this.options.appApi.saveAsApi;n.isRestrictEditingVisible()||this.$(".restrict-editing").hide(),n.isReduceFileSizeVisible()||this.$(".reduce-file-size").hide(),n.isReduceFileSizeSelected()&&this.$walkthrough.hide()}return this.$(".reduce-file-size").attr("tabIndex","0"),this._refreshView(),this},_onFocusIn:function(e){var t=$(e.target);return this.$(":focusable").not(t).attr("tabIndex",-1),t.attr("tabindex",0),!0},_onFocusOut:function(e){},_onKeyDown:function(e){var t=this.$el,n=$(e.target),r,s=$.Event("click"),o=e.which,u=o===37,a=!1;if(!i.descendantHasFocus(t))return a;switch(o){case 13:case 32:n.trigger(s),a=!0;break;case 37:case 39:r=i.getNextFocusableDescendant(t,u,!0)}return r&&r.length===1&&(a=!0,r.focus()),a},_initWrappers:function(){this.$restrictEditing=this.$(".restrict-editing"),this.$reduceFileSize=this.$(".reduce-file-size"),this.$walkthrough=this.$(".reduce-file-size-walkthrough")},_addHomeViewSaveAsOptionsListeners:function(){this.listenTo(this.options.appApi.saveAsApi,"change:exportButtonSelection",this._onExportSelectionChange)},_onRestrictEditingClicked:function(){var t=this.$restrictEditing,n=this.options.appApi.saveAsApi;if(!n.isRestrictEditingEnabled())return;var r=t.hasClass("selected"),i=!r,s=this,o=0;this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaServicesAPI.isReducedMode()&&(o=1)})),e.Util.isAcrobat()&&o===0?this.options.readerContextModel.done(function(e){var o=e.get("rna");if(o.hasProperty("viewData")){var u=o.get("viewData"),a=u.get("fileSelectData");a.invoke("restrictEditingChanged",i).done(function(e){var r=e!==undefined&&e!==!1;n.setRestrictEditing(r),s._setSelection(r,t)}).fail(function(){s._setSelection(r,t)})}}).fail(function(){s._setSelection(r,t)}):(n.setRestrictEditing(i),this._setSelection(i,t),i?(this._disableEl(this.$reduceFileSize),n.disableReduceFileSize()):n.isReduceFileSizeEnabledByParams()&&(this._enableEl(this.$reduceFileSize),n.enableReduceFileSize()))},_onWalkthroughCloseClicked:function(){this.$walkthrough.hide(),events.stopPropagation()},_onWalkthroughClicked:function(){this._onReduceFileSizeClicked()},_onReduceFileSizeClicked:function(){var t=this.$reduceFileSize,n=this.options.appApi.saveAsApi;if(!n.isReduceFileSizeEnabled())return;var r=t.hasClass("selected"),i=!r;n.setReduceFileSize(i),n.setReduceFileSizeSelectedByPref(!1),this.$walkthrough.is(":visible")&&this.$walkthrough.hide(),this._setSelection(i,t);var s=0;this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaServicesAPI.isReducedMode()&&(s=1)}));if(e.Util.isReader()||s===1)i?(this._disableEl(this.$restrictEditing),n.disableRestrictEditing()):n.isRestrictEditingEnabledByParams()&&(this._enableEl(this.$restrictEditing),n.enableRestrictEditing())},_refreshView:function(){var t=this.options.appApi.saveAsApi;if(t.isExportButtonSelected()){this._disableEl(this.$restrictEditing),this._disableEl(this.$reduceFileSize),t.disableRestrictEditing(),t.disableReduceFileSize(),this._setSelection(t.isRestrictEditingSelected(),this.$restrictEditing),this._setSelection(t.isReduceFileSizeSelected(),this.$reduceFileSize);return}t.isRestrictEditingEnabledByParams()&&(this._enableEl(this.$restrictEditing),t.enableRestrictEditing()),t.isReduceFileSizeEnabledByParams()&&(this._enableEl(this.$reduceFileSize),t.enableReduceFileSize());var n=0;this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaServicesAPI.isReducedMode()&&(n=1)}));if(e.Util.isReader()||n===1)t.isRestrictEditingSelected()?(this._disableEl(this.$reduceFileSize),t.disableReduceFileSize()):t.isReduceFileSizeEnabledByParams()&&(this._enableEl(this.$reduceFileSize),t.enableReduceFileSize()),t.isReduceFileSizeSelected()?(this._disableEl(this.$restrictEditing),t.disableRestrictEditing()):t.isRestrictEditingEnabledByParams()&&(this._enableEl(this.$restrictEditing),t.enableRestrictEditing());this._setSelection(t.isRestrictEditingSelected(),this.$restrictEditing),this._setSelection(t.isReduceFileSizeSelected(),this.$reduceFileSize)},_setSelection:function(e,t){var n=t.find(".checkbox");e?(t.addClass("selected"),n.addClass("selected")):(t.removeClass("selected"),n.removeClass("selected"))},_disableOptionsIfNotAllowedOnDoc:function(){var e=this.options.appApi.saveAsApi,t=e.isRestrictEditingEnabled();t||this._disableEl(this.$restrictEditing);var n=e.isReduceFileSizeEnabled();n||this._disableEl(this.$reduceFileSize)},_disableEl:function(e){e.addClass("disabled"),e.find(".checkbox").addClass("disabled")},_enableEl:function(e){e.hasClass("disabled")&&(e.removeClass("disabled"),e.find(".checkbox").removeClass("disabled"))},_onExportSelectionChange:function(){var e=this.options.appApi.saveAsApi;e.isExportButtonSelected()?(this._disableEl(this.$restrictEditing),this._disableEl(this.$reduceFileSize),e.disableRestrictEditing(),e.disableReduceFileSize()):(e.isRestrictEditingEnabledByParams()&&(this._enableEl(this.$restrictEditing),e.enableRestrictEditing()),e.isReduceFileSizeEnabledByParams()&&(this._enableEl(this.$reduceFileSize),e.enableReduceFileSize()))},_formatFileSize:function(e){var t=[" bytes"," KB"," MB"," GB"," TB"],n=1024,r=e==0?0:Math.floor(Math.log(e)/Math.log(n));return(e/Math.pow(n,r)).toFixed(0)*1+t[r]}}),t.FileSaveAsOptionsView}),define("files/dev/views/file-save-as-header-view",["core/ac-core","files/ac-files","files/templates/file-save-as-header-template","i18n!core/nls/ui-strings","i18n!files/nls/ui-strings","core/utils/view-util","core/utils/css-util","core/views/view","files/views/export-options-view","files/views/file-save-as-options-view"],function(e,t,n,r,i,s,o){var u=!1;return t.FileSaveAsHeaderView=e.View.extend({events:{"keydown .file-save-as-filename-input":"_onNewFileNameKeyDown","keyup   .file-save-as-filename-input":"_onNewFileNameKeyUp","paste   .file-save-as-filename-input":"_onNewFileNamePaste"},_onNewFileNameKeyDown:function(){this.options.selectionUiModel.clearSelection(),this._showIllegalNameError(!1),this._hideSharedFileOverwriteWarning()},_onNewFileNameKeyUp:function(){if(e.Util.isCEF()&&event.which===13)return;this._updateNewFileNameControls(),this._hideSharedFileOverwriteWarning()},_onNewFileNamePaste:function(){this.options.selectionUiModel.clearSelection(),this._updateNewFileNameControls(),this._hideSharedFileOverwriteWarning()},_updateNewFileNameControls:function(){var e=this._getNewFileName();this.options.appApi.saveAsApi.setFilename(e)},initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(n)({filenameText:i.FILENAME_TEXT,sharedFileOverwriteWarningMsg:i.SHARED_FILE_OVERWRITE_WARNING}),this._addUiModelEventListeners()},render:function(){var t=this.options,n=this.$el,r=t.appApi.saveAsApi.getFilename();return e.View.prototype.render.call(this),n.children().length===0&&(n.html(this._template),this._initWrappers(),this.$filenameInput.val(r),this.$filenameInput.attr("aria-label",r),this.$sharedFileOverwriteMsg.hide(),u||(_.delay(_.bind(function(){this.$filenameInput.focus(),this.$filenameInput.select()},this),1e3),u=!0)),this._getNewFileName()!==r&&(this.$filenameInput.val(r),this.$filenameInput.attr("aria-label",r)),this._hideSharedFileOverwriteWarning(),this._renderChildViews(),this},_initWrappers:function(){this.$error=this.$(".file-save-as-error"),this.$errorCn=this.$(".file-save-as-error-container"),this.$filenameInput=this.$(".file-save-as-filename-input"),this.$saveAsOptions=this.$(".file-save-as-options"),this.$sharedFileOverwriteMsg=this.$(".file-save-as-shared-file-overwrite-warning-msg"),this.$sharedFileOverwriteIcon=this.$(".file-save-as-shared-file-overwrite-warning-icon"),this.$fileSaveAsFilename=this.$(".file-save-as-filename")},_showSharedFileOverwriteWarning:function(){o.addClass(this.$fileSaveAsFilename,"file-save-as-filename-remove-bottom-padding"),o.addClass(this.$saveAsOptions,"file-save-as-options-move-down"),this.$sharedFileOverwriteIcon.show(),this.$sharedFileOverwriteMsg.show(),o.addClass(this.$filenameInput,"file-save-as-filename-input-warning")},_hideSharedFileOverwriteWarning:function(){var e=this.options,t=e.appApi.saveAsApi;o.removeClass(this.$fileSaveAsFilename,"file-save-as-filename-remove-bottom-padding"),o.removeClass(this.$saveAsOptions,"file-save-as-options-move-down"),this.$sharedFileOverwriteIcon.hide(),this.$sharedFileOverwriteMsg.hide(),o.removeClass(this.$filenameInput,"file-save-as-filename-input-warning"),t._sharedFileOverwriteWarningHidden()},_addUiModelEventListeners:function(){var e=this.options,t=e.selectionUiModel,n=e.appApi.saveAsApi;this.listenTo(t,"change:selected_item_models",this._onSelectedItemModelsChange),this.listenTo(n,"error:shared-file-overwrite-warning",this._showSharedFileOverwriteWarning),this.listenTo(n,"change:exportButtonSelection",this._onExportBtnClick),e.appApi.saveAsApi.addSaveAsErrorCallback(this._onSaveAsError)},_onSelectedItemModelsChange:function(e){var t=this.options.appApi.saveAsApi;t.isRunningInFileSaveAs()&&(_.each(e.get("selected_item_models"),function(e){e.isFile()&&t.setFilename(e.get("name"))}),this.$filenameInput.val(t.getFilename()),this.$filenameInput.attr("aria-label",t.getFilename()),this._hideSharedFileOverwriteWarning())},_onExportBtnClick:function(){var e=this.options.appApi.saveAsApi;this.$filenameInput.val(e.getFilename()),this.$filenameInput.attr("aria-label",e.getFilename())},_onSaveAsError:function(t,n){if(n&&n.error&&(n.error.code===e.ErrorUiModel.CODE_ILLEGAL_NAME||n.error.code===e.ErrorUiModel.CODE_INVALID_PARAMETER)){this._showIllegalNameError(!0),this.$filenameInput.focus().select();return}},_showIllegalNameError:function(e){var t=this.$error,n=this.$errorCn,i=this.options;e?(t.text(_.template(r.RENAME_ILLEGAL_NAME,{renamedType:r.FILE})),t.slideDown("fast",function(){n.slideDown("fast",function(){i.searchUiModel.trigger("change:search_control_height")})})):s.isElementHidden(t)||(t.slideUp("fast",function(){n.hide(),t.hide(),i.searchUiModel.trigger("change:search_control_height")}),i.appApi.saveAsApi.clearError())},_getNewFileName:function(){return $.trim(this.$filenameInput.val())},_renderChildViews:function(){this._renderOptionsView()},_renderOptionsView:function(){var e=this.options.appApi.saveAsApi;e.shouldShowExportOptions()?this._renderChildView("_exportOptionsView",t.ExportOptionsView,this.$saveAsOptions):e.shouldDisplaySaveAsOptions()?(this.$el.addClass("file-save-as-acrobat ui-theme theme-container"),this._renderChildView("_fileSaveAsOptionsView",t.FileSaveAsOptionsView,this.$saveAsOptions)):this.$saveAsOptions.hide()}}),t.FileSaveAsHeaderView}),define("files/dev/templates/files-footer-template",[],function(){return'<div class="footer-link theme-hyperlink"  role="link" id="footer-link" disabled tabindex="-1"><%= hyperLinkText%></div>'}),define("files/dev/views/files-footer-view",["core/ac-core","files/ac-files","files/templates/files-footer-template","core/utils/view-util","core/views/view"],function(e,t,n,r){return t.FilesFooterView=e.View.extend({events:{"click .footer-link":"_onFooterLinkClick","keydown .footer-link":"_onKeyDown"},initialize:function(){e.View.prototype.initialize.call(this),this._addFocusEventListener(),this._template=_.template(n)},render:function(){return this.$el.children().length===0&&(this.$el.html(this._template({hyperLinkText:this.options.footerAnchorText})),this._initWrappers(),this._setTabbableItem()),this},_onFocusIn:function(e){var t=$(e.target);return this.$(":focusable").not(t).attr("tabindex",-1),t.attr("tabindex",0),!0},_onFocusOut:function(e){return!0},_setTabbableItem:function(){var e=this.$(".footer-link:focusable"),t=this.$(":tabbable");t.length===0&&e.attr("tabindex","0")},_onKeyDown:function(e){var t=this.$el,n=e.which,i=!1;if(!r.descendantHasFocus(t))return i;switch(n){case 13:i=!0,$(e.target).click();break;case 32:i=!0,$(e.target).click();break;case 9:i=!0}return i},_initWrappers:function(){this.$footerLink=this.$(".footer-link")},_onFooterLinkClick:function(){this._triggerViewEvent(e.ViewEvents.LAUNCH_FOOTER_URL_IN_BROWSER)}}),t.FilesFooterView}),define("files/dev/views/files-view",["core/ac-core","files/ac-files","files/templates/files-template","core/utils/css-util","core/utils/util","core/utils/view-util","core/views/view","files/views/virgo-files-header-view","files/views/files-header-view","files/views/files-body-view","files/views/files-rhp-view","files/views/original-shared-files-rhp-view","files/views/full-preview-view","files/views/file-save-as-header-view","files/views/files-footer-view"],function(e,t,n,r,i,s){return t.FilesView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(n),this._addUiModelEventListeners(),this._addAppApiCallbacks(),this._addKeyEventListener()},render:function(){var t=this.options,n=this.$el,s,o,u;e.View.prototype.render.call(this),n.children().length===0&&(n.html(this._template()),this._initWrappers()),this._renderChildViews();var t=this.options,a=t.pluginId,f=0;return this.options.appApi.selectionApi.isRunningInFileSelection()?s=this.$header:s=this.$virgoHeader,this.options.appApi.selectionApi.isRunningInFileSelection()||i.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()||(f=16),o=this.$body,u=this.$saveAsHeader,_.defer(function(){var e=r.getFullHeight(u),n=0;i.isCEF()?(t.appApi.saveAsApi.isRunningInFileSaveAs()?(s.css("top","0px"),s.css("min-height","0px")):s.css("top",e),t.noFilesHeader||(n=r.getFullHeight(s)),o.css("top",e+n+f)):o.css("top",r.getFullHeight(s)+f)}),this},_initWrappers:function(){this.$header=this.$(".files-header"),this.$body=this.$(".files-body");if(this.options.isInSearchResultsView){this.$searchContextBoard=$(".search-context-board");var e=this.options.pluginId+"-rhpId",t=_.template('<div class="files-rhp ui-theme theme-container" id="'+e+'">');this.$searchContextBoard.append(t()),this.$rhp=this.$searchContextBoard.find("#"+e),this.$searchContextBoard=$(".search-context-board");var n=this.options.pluginId+"-sharedRhpId",r=_.template('<div class="original-shared-files-rhp ui-theme theme-container" id="'+n+'">');this.$searchContextBoard.append(r()),this.$sharedRhp=this.$searchContextBoard.find("#"+n)}else this.$rhp=this.$(".files-rhp"),this.$sharedRhp=this.$(".original-shared-files-rhp");this.$footer=this.$(".files-footer"),this.$saveAsHeader=this.$(".file-save-as-header"),this.$virgoHeader=this.$(".virgo-files-header"),this.$fullPreview=$(".full-preview")},_renderChildViews:function(){var e=this.options;this._renderFileSaveAsHeaderView(),this.options.appApi.selectionApi.isRunningInFileSelection()?this._renderFilesHeaderView():this._renderVirgoFilesHeaderView(),this._renderFilesBodyView(),this._renderRhpView(),this._renderSharedRhpView(),this.options.appApi.pluginsApi.isInSearchResultsView()?this.$footer.hide():this._renderFilesFooterView(),!e.noFullPreview&&!e.noFullPreviewImpl&&this._renderFullPreviewView()},_renderFileSaveAsHeaderView:function(){var e=this.$saveAsHeader,n=this.options;i.isCEF()&&n.appApi.saveAsApi.isRunningInFileSaveAs()?(e.show(),this._renderChildView("_fileSaveAsHeaderView",t.FileSaveAsHeaderView,e)):e.hide()},_renderFilesHeaderView:function(){this.$virgoHeader.css("display","none"),this.options.appApi.selectionApi.isRunningInFileSelection()?this._renderChildView("_filesHeaderView",t.FilesHeaderView,this.$header):this.$header.hide(),this.options.noFilesHeader?this.$header.hide():this.$header.show()},_renderVirgoFilesHeaderView:function(){this.$header.css("display","none"),this.options.appApi.selectionApi.isRunningInFileSelection()?this.$virgoHeader.hide():this._renderChildView("_virgoFilesHeaderView",t.VirgoFilesHeaderView,this.$virgoHeader);if(this.options.noFilesHeader)this.$virgoHeader.hide();else{if(this.options.isInSearchResultsView){var e=this.options,n=e.appApi.pluginsApi.getPluginsUiModel(e.pluginId);if(n.get("selected_searched_plugin_id")===e.pluginId){this.$virgoHeader.hide();return}}this.$virgoHeader.show()}},_onKeyDown:function(e){var t=$(e.target),n=e.which,r=!1,i=e.shiftKey;if(s.isElementHidden(this.$el))return!1;if(i&&n===9)var o=this.$body.find(":focusable"),u=o.last().attr("tabindex",0);else if(n==117){var a=this.$rhp.hasClass("hidden")?!1:!0,f=t.closest(this.$rhp).length||t.closest(this.$sharedRhp).length?!0:!1,u,l=this.$rhp.find(":focusable"),c=this.$body.find(".collection-item:tabbable"),h=this.$el.find(":tabbable"),p=e.altKey,d=e.ctrlKey;l.length===0&&(l=this.$sharedRhp.find(":focusable")),p||d&&(l.length==0||!a)?u=c.length>0?c:h.first().attr("tabindex",0):d?u=l.first().attr("tabindex",0):f?(i&&(u=c),l.attr("tabindex",-1)):a&&(i||l&&l.length>0&&(u=l.first().attr("tabindex",0))),u&&u.length>0&&(r=!0,u.focus());var v={};return v.isF6Consumed=r,v.shift=i,this.options.appApi.rnaApi.done(_.bind(function(e){e.rnaServicesAPI.f6KeyHandled(v)},this)),r}return r},_renderFilesBodyView:function(){this._renderChildView("_filesBodyView",t.FilesBodyView,this.$body)},_renderRhpView:function(){this._renderChildView("_rhpView",t.FilesRhpView,this.$rhp)},_renderSharedRhpView:function(){this._renderChildView("_sharedRhpView",t.OriginalSharedFilesRhpView,this.$sharedRhp)},_renderFilesFooterView:function(){var e=this.options,n=this.$body,r=this.$footer,s=this.$rhp,o=e.appApi.pluginsApi,u=e.pluginId,a=$.Deferred();r.hide(),n.removeClass("with-footer"),s.removeClass("with-footer"),this.$sharedRhp.removeClass("with-footer"),i.isCEF()&&e.footerAnchorText&&e.footerAnchorText.length>0&&u&&u.length>0&&(u==="root"||u==="ccloud"?a.resolve():o.callPluginMethod(u,"getFilesFooterUrl",undefined,this._getResolvedPromise(),!0).done(_.bind(function(e){e&&e.uri.length>0?a.resolve():a.reject()},this)),a.done(_.bind(function(){r.show(),n.addClass("with-footer"),s.addClass("with-footer"),this.$sharedRhp.addClass("with-footer"),this._renderChildView("_filesFooterView",t.FilesFooterView,r)},this)))},_renderFullPreviewView:function(){this._renderChildView("_fullPreviewView",t.FullPreviewView,this.$fullPreview)},_addUiModelEventListeners:function(){var e=this.options;this.listenTo(e.searchUiModel,"change:search_control_height",this._onSearchControlHeightChange).listenTo(e.collectionsUiModel,"change:view",this.updateChildViewSizes).listenTo(e.selectionUiModel,"change:selected_item_models",this._onSelectedItemModelsChange)},_onSearchControlHeightChange:function(){this.render()},_onSelectedItemModelsChange:function(e){var t=this.options,n=this.$header,i=this.$virgoHeader,s=this.$body,o=this.$rhp,u=t.appApi;if(t.noSelectionActions||u.acrobatApi.isInAcrobat())return;var a=$(window).width();if(e.isItemSelected()){if(!n.hasClass("with-rhp")||!i.hasClass("with-rhp"))i.addClass("with-rhp"),a<700?this.$("#headerRightBtns").css("display","none"):this.$("#headerRightBtns").css("display","grid"),this.$("#virgoNavigation").hasClass("shown")?this.$("#virgoNavigation").css("display",a>1100?"block":"none"):a<=1100&&this.$("#virgoNavigation").css("display","none"),this.$("#virgoNavigation").hasClass("shown")?this.$("#filterBtn").removeClass("disabled"):a<=1100?this.$("#filterBtn").addClass("disabled"):this.$("#filterBtn").removeClass("disabled"),this.options.appApi.siteCatalystApi.logVirgoRHPOpenedEvent(this.options.appApi.siteCatalystApi._getLogRHPSubCategory(this.options.pluginId)),n.addClass("with-rhp"),s.addClass("with-rhp"),this.$(".files-body div").addClass("with-rhp"),o.removeClass("hidden").removeClass("invisible"),this.$sharedRhp.removeClass("hidden").removeClass("invisible")}else if(n.hasClass("with-rhp")||i.hasClass("with-rhp"))n.removeClass("with-rhp"),s.removeClass("with-rhp"),this.$(".files-body div").removeClass("with-rhp"),o.addClass("hidden"),this.$sharedRhp.addClass("hidden"),i.removeClass("with-rhp"),a<200?this.$("#headerRightBtns").css("display","none"):this.$("#headerRightBtns").css("display","grid"),this.$("#virgoNavigation").hasClass("shown")?this.$("#virgoNavigation").css("display",a>800?"block":"none"):a<=800&&this.$("#virgoNavigation").css("display","none"),this.$("#virgoNavigation").hasClass("shown")?this.$("#filterBtn").removeClass("disabled"):a<=800?this.$("#filterBtn").addClass("disabled"):this.$("#filterBtn").removeClass("disabled");var f=this.options.appApi.connectorsApi.getConnectorPluginName(t.pluginId);(!!this.options.isInSearchResultsView||f!=="root"&&f!=="ccloud"&&t.pluginId!=="scan_files")&&this.$("#headerRightBtns").css("display","none"),r.addTransitionEndCallback(s,"right",_.bind(function(){n.removeClass("animating"),r.removeTransitionEndCallbacks(o),n.hasClass("with-rhp")||(o.addClass("invisible"),this.$sharedRhp.addClass("invisible")),this.render()},this))},_addAppApiCallbacks:function(){this.options.appApi.windowApi.addWindowResizeCallback(this.updateChildViewSizes)}}),t.FilesView}),define("files/dev/templates/files-offline-template",[],function(){return'<div class="shared-workflow-heading shared-files-main-header-empty-state theme-page-header" title="<%= workflowName %>" ><%= workflowName %></div><div class="files-offline-view-body">	<div class="no-internet-connection-icon"></div>	<div class="title theme-text"><%= title %></div>	<div class="content theme-text"><%= content %></div>	<div class="ok-button control-button theme-button theme-button-label" role="button" aria-label="<%= ok_button_label %>" tabindex = "0"><%= ok_button %></div></div>'}),define("files/dev/views/files-offline-view",["core/ac-core","files/ac-files","files/templates/files-offline-template","i18n!files/nls/ui-strings","core/views/view"],function(e,t,n,r){t.FilesOfflineView=e.View.extend({_offline_display_location:19,_offline_display_context:155,initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(n),this.$el.empty(),this.render()},events:function(){return _.extend({},e.View.prototype.events,{"click .ok-button":"_onOKButtonClick"})},render:function(){return e.View.prototype.render.call(this),this.$el.children().length===0&&(this.$el.html(this._template({workflowName:this.options.workflowName?this.options.workflowName:"",title:r.FILE_OFFLINE_TITLE,content:r.FILE_OFFLINE_CONTENT,ok_button:r.FILE_OFFLINE_OK_LABEL,ok_button_label:r.FILE_OFFLINE_ARIA_LABEL})),this._initWrappers()),this.options.workflowName==undefined&&this.$el.find(".shared-workflow-heading").hide(),this},_initWrappers:function(){this.$title=this.$(".title"),this.$content=this.$(".content"),this.$ok_button=this.$(".ok-button")},_onOKButtonClick:function(){this.options.appApi.networkConnectivityApi.resetNetworkStatus({silent:!1})},_getAriaLabel:function(){return this.offlineTitle+this.acceptLabel}})}),define("files/dev/templates/files-virgo-offline-template",[],function(){return'<div class="dc-cc-workflow-name shared-workflow-heading shared-files-main-header-empty-state theme-page-header" title="<%= workflowName %>" ><%= workflowName %></div><div class = "no-ic-container"><div class="virgo-no-internet-connection-icon"></div><div class="title theme-virgo-text"><%= title %></div><div class="content cb-shaded-text-theme"><%= content %></div><div class="ok-button control-button theme-button theme-button-label" role="button" aria-label="<%= ok_button_label %>" tabindex = "0"><%= ok_button %></div></div>'}),define("files/dev/views/files-virgo-offline-view",["core/ac-core","files/ac-files","files/templates/files-virgo-offline-template","i18n!files/nls/ui-strings","i18n!core/nls/ui-strings","core/views/view"],function(e,t,n,r,i){t.FilesVirgoOfflineView=e.View.extend({_offline_display_location:19,_offline_display_context:155,initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(n),this.$el.empty(),this.render()},events:function(){return _.extend({},e.View.prototype.events,{"click .ok-button":"_onOKButtonClick"})},render:function(){return e.View.prototype.render.call(this),this.$el.children().length===0&&(this.$el.html(this._template({workflowName:"",title:i.VIRGO_NO_INTERNET_CONNECTION_TITLE,content:i.VIRGO_NO_INTERNET_CONNECTION_DC_SUBTITLE,ok_button:r.FILE_OFFLINE_OK_LABEL,ok_button_label:r.FILE_OFFLINE_ARIA_LABEL})),this._initWrappers()),this.$content.text(this._getNoFilesText()),this.$(".dc-cc-workflow-name").text(this._getWorkflowName()),this},_getNoFilesText:function(){var e=this.options,t=this.options.appApi.connectorsApi.getConnectorPluginName(e.pluginId);return t==="root"?i.VIRGO_NO_INTERNET_CONNECTION_DC_SUBTITLE:t==="ccloud"?i.VIRGO_NO_INTERNET_CONNECTION_CC_SUBTITLE:i.VIRGO_NO_INTERNET_CONNECTION_OTHERS_SUBTITLE},_getWorkflowName:function(){if(this.options.pluginId==="scan_files")return r.VIRGO_SCANS;var e=this.options.appApi.connectorsApi.getConnectorPluginName(this.options.pluginId);return e==="root"?r.VIRGO_DOCUMENT_CLOUD:e==="ccloud"?r.VIRGO_CREATIVE_CLOUD:e==="desktop_sharepoint"?r.VIRGO_SHAREPOINT:e==="dropbox"?r.VIRGO_DROPBOX:e==="googleDrive"?r.VIRGO_GOOGLE_DRIVE:e==="box"?r.VIRGO_BOX:e==="onedrive"||e==="onedrivebusiness"?r.VIRGO_ONEDRIVE:i.HOME},_initWrappers:function(){this.$title=this.$(".title"),this.$content=this.$(".content"),this.$ok_button=this.$(".ok-button")},_onOKButtonClick:function(){this.options.appApi.networkConnectivityApi.resetNetworkStatusToOnline({silent:!1})},_getAriaLabel:function(){return this.offlineTitle+this.acceptLabel}})}),define("files/dev/templates/files-sign-out-template",[],function(){return'<div class="files-sign-out-container ui-theme theme-container"><div class="files-sign-out-content unselectable"><div class="files-sign-out-image"/><div class="files-sign-out-title theme-text"><%= title %></div><div class="files-sign-out-text theme-text"><%= content %></div></div><div class="files-sign-out-btns">    <input type="button"           class="control-button files-sign-in-btn theme-button theme-button-label           id="files-sign-in-btn"           tabindex="1" value="<%= label %>">    </input></div></div>'}),define("files/dev/views/files-sign-out-view",["core/ac-core","files/ac-files","files/templates/files-sign-out-template","i18n!files/nls/ui-strings","core/views/view"],function(e,t,n,r){return t.FilesSignOutView=e.View.extend({events:{"click .files-sign-in-btn":"_onSignInButtonClick"},initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(n)},render:function(){var t=this.$el;return e.View.prototype.render.call(this),t.children().length===0&&(t.html(this._template({title:this._getTitle(),content:this._getContent(),label:this._getButtonLabel()})),this._initWrappers()),this.options.noSignOutImage?this.$filesSignOutImage.hide():this._updateIcon(),this},_initWrappers:function(){this.$filesSignOutImage=this.$(".files-sign-out-image")},_updateIcon:function(){var e=this.options.appApi.connectorsApi.getConnectorSignOutImageClass(this.options.pluginId);e&&this.$filesSignOutImage.addClass(e)},_getTitle:function(){return this.options.filesSignOutTitle||this.options.appApi.connectorsApi.getConnectorSignOutTitle(this.options.pluginId)},_getContent:function(){return this.options.filesSignOutContent||this.options.appApi.connectorsApi.getConnectorSignOutContent(this.options.pluginId)},_getButtonLabel:function(){return this.options.filesSignInButtonLabel||r.FILES_SIGN_IN_LABEL},_onSignInButtonClick:function(){var e=this.options.appApi,t=this.$el;t.hide(),e.displayApi.showSpinner(!0),e.networkConnectivityApi.resetNetworkStatusToOnline({silent:!0}),e.sessionApi.ensureSignedIn().then(function(){e.displayApi.showSpinner(!1)},function(n){e.displayApi.showSpinner(!1),e.networkConnectivityApi.isOnline()&&(!n||n.errorString!=="NoAccessToPdfServices")&&t.show()})}}),t.FilesSignOutView}),define("files/dev/templates/files-virgo-sign-out-template",[],function(){return'<div class="dc-cc-workflow-name shared-workflow-heading shared-files-main-header-empty-state theme-page-header" title="<%= workflowName %>" ><%= workflowName %></div><div class="virgo-files-sign-out-container ui-theme theme-container"><div class="files-sign-out-content unselectable"><div class="files-sign-out-image"/><div class="virgo-files-sign-out-title theme-virgo-text shared-on-sign-out-prompt theme-text"><%= title %></div><div class="virgo-files-sign-out-text cb-shaded-text-theme shared-on-sign-out-subprompt"><%= content %></div></div><div class="">    <input type="button"           class="control-button files-sign-in-btn theme-button theme-button-label sign-in-btn control-button theme-button theme-button-label           id="files-sign-in-btn"           tabindex="1" value="<%= label %>">    </input></div></div>'}),define("files/dev/views/files-virgo-sign-out-view",["core/ac-core","files/ac-files","files/templates/files-virgo-sign-out-template","i18n!files/nls/ui-strings","i18n!core/nls/ui-strings","i18n!files/nls/ui-strings","core/views/view"],function(e,t,n,r,i,s){return t.FilesVirgoSignOutView=e.View.extend({events:{"click .files-sign-in-btn":"_onSignInButtonClick"},initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(n)},render:function(){var t=this.$el;return e.View.prototype.render.call(this),t.children().length===0&&(t.html(this._template({workflowName:"",title:i.VIRGO_NON_SIGNED_IN_DC_TITLE,content:i.VIRGO_NON_SIGNED_IN_DC_SUBTITLEE,label:i.VIRGO_NON_SIGNED_IN_ACTION})),this._initWrappers()),this.options.noSignOutImage?this.$filesSignOutImage.hide():this._updateIcon(),this.$(".dc-cc-workflow-name").text(this._getWorkflowName()),this},_initWrappers:function(){this.$filesSignOutImage=this.$(".files-sign-out-image")},_getWorkflowName:function(){if(this.options.pluginId==="scan_files")return s.VIRGO_SCANS;var e=this.options.appApi.connectorsApi.getConnectorPluginName(this.options.pluginId);return e==="root"?s.VIRGO_DOCUMENT_CLOUD:e==="ccloud"?s.VIRGO_CREATIVE_CLOUD:e==="desktop_sharepoint"?s.VIRGO_SHAREPOINT:e==="dropbox"?s.VIRGO_DROPBOX:e==="googleDrive"?s.VIRGO_GOOGLE_DRIVE:e==="box"?s.VIRGO_BOX:e==="onedrive"||e==="onedrivebusiness"?s.VIRGO_ONEDRIVE:i.HOME},_updateIcon:function(){var e=this.options.appApi.connectorsApi.getConnectorSignOutImageClass(this.options.pluginId);e&&this.$filesSignOutImage.addClass(e)},_getTitle:function(){return this.options.filesSignOutTitle||this.options.appApi.connectorsApi.getConnectorSignOutTitle(this.options.pluginId)},_getContent:function(){return this.options.filesSignOutContent||this.options.appApi.connectorsApi.getConnectorSignOutContent(this.options.pluginId)},_getButtonLabel:function(){return this.options.filesSignInButtonLabel||r.FILES_SIGN_IN_LABEL},_onSignInButtonClick:function(){var e=this.options.appApi,t=this.$el;t.hide(),e.displayApi.showSpinner(!0),e.networkConnectivityApi.resetNetworkStatusToOnline({silent:!0}),e.sessionApi.ensureSignedIn().then(function(){e.displayApi.showSpinner(!1)},function(n){e.displayApi.showSpinner(!1),e.networkConnectivityApi.isOnline()&&(!n||n.errorString!=="NoAccessToPdfServices")&&t.show()})}}),t.FilesVirgoSignOutView}),define("files/dev/templates/files-no-access-template",[],function(){return'<div class="title theme-text"><%= title %></div><div class="content">	<span class="files-no-access-message theme-text"><%= no_access_message %></span>	<span class="files-no-access-sign-in-link"><%= sign_in_link %></span></div><div class="sent-files-footer ui-theme theme-container-prominent theme-border">	<div class="files-no-access-sfs-manage-link-btn theme-hyperlink"><%= sfs_manage_link_btn %></div></div>'}),define("files/dev/views/files-no-access-view",["core/ac-core","files/ac-files","files/templates/files-no-access-template","i18n!files/nls/ui-strings","core/views/view"],function(e,t,n,r){t.FilesNoAccessView=e.View.extend({events:{"click .files-no-access-sfs-manage-link-btn":"_onSFSManageLinkBtnClick","click .files-no-access-sign-in-link":"_onSignInLinkClick"},initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(n)},render:function(){var t=!1,n=this.options,i=n.appApi.rnaApi;return e.View.prototype.render.call(this),this.$el.children().length===0&&(i.done(_.bind(function(e){this.$el.html(this._template({title:r.FILES_NO_ACCESS_TITLE,no_access_message:r.FILES_NO_ACCESS_MESSAGE,sign_in_link:r.FILES_NO_ACCESS_SIGN_IN_LINK,sfs_manage_link_btn:r.MANAGE_DOCUMENTS_SENT_FOR_SIGNATURE}))},this)),this._initWrappers()),i.done(_.bind(function(e){e.rnaServicesAPI.isEnterpriseUser()&&!e.rnaServicesAPI.isPDFServicesEnabled()?this.$title.text()!==r.FILES_NO_ACCESS_TITLE&&(this.$title.text(r.FILES_NO_ACCESS_TITLE),this.$noAccessMsg.text(r.FILES_NO_ACCESS_MESSAGE),this.$noAccessSignInLink.text(r.FILES_NO_ACCESS_SIGN_IN_LINK)):e.rnaServicesAPI.isEnterpriseUser()&&!e.rnaServicesAPI.isEncryptionKeyValid()&&this.$title.text()!==r.ENCRYPTION_KEY_DISABLED_TITLE&&(this.$title.text(r.ENCRYPTION_KEY_DISABLED_TITLE),this.$noAccessMsg.text(r.ENCRYPTION_KEY_DISABLED_MESSAGE),this.$noAccessSignInLink.text(""))},this)),n.pluginId==="sentfiles"?i.done(_.bind(function(e){t=e.rnaServicesAPI.isEnterpriseUser()&&!e.rnaServicesAPI.isESignServicesEnabled(),t?this.$footer.hide():(this.$el.css({bottom:0}),this.$footer.show())},this)):this.$footer.hide(),this},_initWrappers:function(){this.$title=this.$(".title"),this.$content=this.$(".content"),this.$footer=this.$(".sent-files-footer"),this.$noAccessMsg=this.$(".files-no-access-message"),this.$noAccessSignInLink=this.$(".files-no-access-sign-in-link")},_onSFSManageLinkBtnClick:function(){var e=this.options;e.appApi.rnaApi.done(function(e){e.esApi.invokeMethod({methodName:"launchSFSManagePage"})})},_onSignInLinkClick:function(){var e=this.options,t=e.appApi;t.networkConnectivityApi.resetNetworkStatusToOnline({silent:!0}),t.sessionApi.signOut().then(function(){t.sessionApi.ensureSignedIn()})}})}),define("files/dev/views/files-container-view",["core/ac-core","files/ac-files","files/templates/files-container-template","core/utils/util","core/views/view","files/views/files-ipm-view","files/views/files-view","files/views/files-offline-view","files/views/files-virgo-offline-view","files/views/files-sign-out-view","files/views/files-virgo-sign-out-view","files/views/files-no-access-view"],function(e,t,n,r){return t.FilesContainerView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(n)},render:function(){var t=this.$el;return e.View.prototype.render.call(this),t.children().length===0&&(t.html(this._template()),this._initWrappers()),this._renderChildViews(),this},_initWrappers:function(){this.$filesOfflineView=this.$(".files-offline-view"),this.$filesVirgoOfflineView=this.$(".files-virgo-offline-view"),this.$filesIpm=this.$(".files-ipm"),this.$files=this.$(".files"),this.$filesSignOut=this.$(".files-sign-out"),this.$filesVirgoSignOut=this.$(".files-virgo-sign-out"),this.$filesNoAccessView=this.$(".files-no-access-view")},_renderInDesktop:function(){return this.options.appApi.selectionApi.isRunningInFileSelection()||r.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()?!1:!0},_renderChildViews:function(){var e=this.options;if(r.isCEF()&&(this.options.rnaRecentFilesSelect||this.options.isInSearchResultsView)){this.$files.show(),this._renderFilesView(),this.$filesOfflineView.hide(),this.$filesVirgoOfflineView.hide(),this.$filesIpm.hide(),this.$filesSignOut.hide(),this.$filesVirgoSignOut.hide(),this.$filesNoAccessView.hide();return}r.isCEF()&&!e.appApi.networkConnectivityApi.isOnline()?(this._renderInDesktop()===!1?(this.$filesOfflineView.show(),this.$filesVirgoOfflineView.hide()):(this.$filesOfflineView.hide(),this.$filesVirgoOfflineView.show()),this._renderFilesOfflineView(),this.$filesIpm.hide(),this.$files.hide(),this.$filesVirgoSignOut.hide(),this.$filesSignOut.hide(),this.$filesVirgoSignOut.hide(),this.$filesNoAccessView.hide()):this._showFilesIpmView()?(this.$filesIpm.show(),this._renderFilesIpmView(),this.$filesOfflineView.hide(),this.$filesVirgoOfflineView.hide(),this.$files.hide(),this.$filesSignOut.hide(),this.$filesVirgoSignOut.hide(),this.$filesNoAccessView.hide()):r.isCEF()?this._showFilesSignOutView()?(this._renderInDesktop()===!1?this.$filesSignOut.show():this.$filesVirgoSignOut.show(),this._renderFilesSignOutView(),this.$filesOfflineView.hide(),this.$filesVirgoOfflineView.hide(),this.$files.hide(),this.$filesIpm.hide(),this.$filesNoAccessView.hide()):this._showFilesNoAccessView()?(this.$filesNoAccessView.show(),this._renderFilesNoAccessView(),this.$filesSignOut.hide(),this.$filesVirgoSignOut.hide(),this.$filesOfflineView.hide(),this.$filesVirgoOfflineView.hide(),this.$files.hide(),this.$filesIpm.hide()):(this.$files.show(),this._renderFilesView(),this.$filesOfflineView.hide(),this.$filesVirgoOfflineView.hide(),this.$filesIpm.hide(),this.$filesSignOut.hide(),this.$filesVirgoSignOut.hide(),this.$filesNoAccessView.hide()):(this.$files.show(),this._renderFilesView(),this.$filesOfflineView.hide(),this.$filesVirgoOfflineView.hide(),this.$filesIpm.hide(),this.$filesSignOut.hide(),this.$filesVirgoSignOut.hide(),this.$filesNoAccessView.hide())},_renderFilesOfflineView:function(){this._renderInDesktop()===!1?this._renderChildView("_filesOfflineView",t.FilesOfflineView,this.$filesOfflineView):this._renderChildView("_filesVirgoOfflineView",t.FilesVirgoOfflineView,this.$filesVirgoOfflineView)},_renderFilesIpmView:function(){this._renderChildView("_filesIpmView",t.FilesIpmView,this.$filesIpm)},_renderFilesSignOutView:function(){this._renderInDesktop()===!1?this._renderChildView("_filesSignOutView",t.FilesSignOutView,this.$filesSignOut):this._renderChildView("_filesVirgoSignOutView",t.FilesVirgoSignOutView,this.$filesVirgoSignOut)},_renderFilesNoAccessView:function(){this._renderChildView("_filesNoAccessView",t.FilesNoAccessView,this.$filesNoAccessView)},_renderFilesView:function(){this._renderChildView("_filesView",t.FilesView,this.$files)},_showFilesIpmView:function(){var e=this.options,t=e.pluginId,n=e.appApi.connectorsApi,r,i,s,o=n.getConnectorPluginName(t),u;return i=n.isConnectorPlugin(t),s=n.isConnectorRemovable(t),u=n.alwaysAppearInLeftRail(o),r=n.getConnectorPluginRoot(t),!e.noUrlUpdate&&i&&s&&u&&(_.isUndefined(r)||r==="")},_showFilesSignOutView:function(){var e=this.options,t=e.pluginId,n=e.appApi.sessionApi,r=e.appApi.connectorsApi,i,s,o,u,a=r.getConnectorPluginName(t),f;return s=r.isConnectorPlugin(t),o=r.isConnectorRemovable(t),f=r.isDesktopConnector(a),u=n.isSignedInReader()&&n.isSignedIn(),i=r.getConnectorPluginRoot(t),s&&!f&&!u&&(!o||!_.isUndefined(i)&&i!=="")},_showFilesNoAccessView:function(){var e=this.options,t=e.appApi.rnaApiObj,n=e.pluginId,r=e.appApi.connectorsApi,i=r.getConnectorPluginName(n),s,o,u=!1;return s=r.isConnectorPlugin(n),o=r.isDesktopConnector(i),(!s||!o)&&t&&(u=t.rnaServicesAPI.isEnterpriseUser()&&(!t.rnaServicesAPI.isPDFServicesEnabled()||!t.rnaServicesAPI.isEncryptionKeyValid())),u}}),t.FilesContainerView}),define("files/dev/nls-cef/root/ui-strings",{SHOW:"Show",OPEN_SELECTED:"Open Selected",SAVE:"Save",NEW_FOLDER:"New Folder",UPLOAD_FILE:"Upload File",CANCEL_UPLOAD:"Cancel upload",SORT:"Sort",NO_FILES_IN_ROOT:"There are currently no files in Document Cloud.",NO_FILES_IN_CONNECTOR:"There are currently no files in <%= connector %>.",NO_FILES_IN_FOLDER:"This folder is empty.",UPLOAD_TO_ACCESS:"Upload your files to have access to them anywhere.",UNSUPPORTED_CONNECTOR_MSG:"<%= actionName %> is currently not supported for files stored in <%= connectorLabel %>.",NO_SEARCH_RESULTS:"No Search Results.",TRY_DIFFERENT_SEARCH:"Please try a different search.",NO_SEARCH_RESULTS_FOLDER:"There are no applicable files in this folder.",TOO_MANY_SEARCH_TERMS_HEADER:"Maximum search queries exceeded.",TOO_MANY_SEARCH_TERMS_MESSAGE:"Please remove some search queries to see their search results.",NEW_FOLDER_TITLE:"New Folder",NEW_FOLDER_NAME_PLACEHOLDER:"Edit New Folder Name",CREATE_FOLDER:"Create Folder",SORT_BY:"Sort by:",SORT_BY_FILE_NAME:"File Name",SORT_BY_FILE_TYPE:"File Type",SORT_BY_SIZE:"Size",SORT_BY_DATE_ADDED:"Date Added",SORT_BY_DATE_MODIFIED:"Date Modified",SORT_BY_DATE_VIEWED:"Date Viewed",DISPLAY:"Sort",VIEW_BY:"View by:",LIST:"List",THUMBNAIL:"Thumbnail",SORT_BY_FILE_SIZE:"File Size",FILTER:"Filter",FILTER_BY:"Filter by...",TAGS_TITLE:"Tags: Coming soon...",TAGS:"Tags",SEARCH_TITLE:"Search for files",CLEAR_SEARCH_TITLE:"Clear search",SEARCH_RESULTS:"Search Results ...",SEARCH_RESULTS_COUNT:"Search Results (<%= count %>)",SEARCH_RESULTS_UNAVAILABLE:"Search Results Unavailable",ADD_FILTER:"Add Filter",REMOVE_FILTER:"Remove Filter",SELECT_ATTRIBUTE:"Select Attribute",SELECT_VALUE:"Select Value",SELECT_FORMAT:"Select Format",SELECT_DATES:"Select Dates",SELECT_TOOL:"Select Tool",ENTER_VALUE:"Enter Value",EXPORT_FROM_PDF:"Export PDF",CONVERT_TO_PDF:"Create PDF",COMBINE_TO_PDF:"Combine Files",FILL_SIGN:"Fill & Sign",ADOBE_ACROBAT:"Adobe Acrobat",ADOBE_READER_MOBILE:"Adobe Reader Mobile",ADOBE_READER:"Adobe Reader",MARK_AS_FAVORITE:"Mark As Favorite",FILE_INFO:"File Info",TYPE:"Type",ADDED:"Added",MODIFIED:"Modified",PAGES:"Pages",SIZE:"Size",SHARING_LINK:"Sharing Link",UNSHARE:"unshare",MARK_AS_FAVORITE_COMING_SOON:"Mark As Favorite: Coming soon...",COMING_SOON:"Coming soon...",PREV_PAGE_TITLE:"Previous Page",NEXT_PAGE_TITLE:"Next Page",PAGE_NUM_TITLE:"Page Number",PAGE_NUM_SEPARATOR:"/",PAGE_COUNT_TITLE:"Number of Pages",SCROLL_PAGES_TITLE:"Scroll Pages",FIT_PAGE_WIDTH_TITLE:"Fit Page Width",FIT_FULL_PAGE_TITLE:"Fit Full Page",SHOW_RHP:"Show Right-Hand Panel",HIDE_RHP:"Hide Right-Hand Panel",SHOW_FILE_INFO:"Show File Info",HIDE_FILE_INFO:"Hide File Info",UNDOCK:"Undock",DOCK_TO_BOTTOM:"Dock to Bottom",ZERO_ITEMS:"0 items",ONE_FILE:"1 file",N_FILES:"<%= numFiles %> files",ONE_FOLDER:"1 folder",N_FOLDERS:"<%= numFolders %> folders",ONE_FOLDER_ONE_FILE:"1 folder, 1 file",ONE_FOLDER_N_FILES:"1 folder, <%= numFiles %> files",N_FOLDERS_ONE_FILE:"<%= numFolders %> folders, 1 file",N_FOLDERS_N_FILES:"<%= numFolders %> folders, <%= numFiles %> files",UPLOADING:"Uploading...",PROCESSING:"Processing...",SHARED:"Shared",MAKE_PUBLIC:"Make Public",MAKE_PRIVATE:"Make Private",PRIVATE:"Private",PUBLIC:"Public",SHARE_FILES_PRIVATE_TEXT:"The selected files are private and only viewable by you.",SHARE_FILE_PRIVATE_TEXT:"The selected file is private and only viewable by you.",SHARE_FILES_PUBLIC_TEXT:"The selected files are public, and anyone with the links below can view the files.",SHARE_FILE_PUBLIC_TEXT:"The selected file is public, and anyone with the link below can view the file.",SHARE_FILES_MIXED_TEXT:"The selected files include both public and private files. Click one of the buttons below to share or unshare all files.",EMAIL_BUTTON_SINGLE:"Email Link",EMAIL_BUTTON_MULTI:"Email Links",EMAIL_LINK:"Email",SAVE_BUTTON:"Close",SHARE_FILES_ERROR:"There was an error changing the sharing state of the file(s): <%= error %>",SHARE_FILES_SESSION_TIMEOUT:'Your session has expired. Click "Close" below to return to the Sign In page.',SHARE_FILE_EMAIL_BODY:"To view the file, please click on the link below:",SHARE_FILES_EMAIL_BODY:"To view the files, please click on the links below:",SHARE_FILE_EMAIL_SUBJECT:"<%= firstName %> <%= lastName %> has shared a file with you.",SHARE_FILES_EMAIL_SUBJECT:"<%= firstName %> <%= lastName %> has shared files with you.",SHARE_FILES_AV_DISALLOWED:'Sharing of the file "<%= filename %>" failed because the sharing of audio and video files is not allowed.',SHARE_FILES_SHARING_DISALLOWED:'Sharing of the file "<%= filename %>" failed because sharing the file is not allowed.',FOLDER_UPLOAD_NOT_SUPPORTED_TITLE:"Folder Upload Not Available",FOLDER_UPLOAD_NOT_SUPPORTED_MSG:"We were unable to complete your upload request. Upload of a folder is not currently supported.",FILE_UPLOAD_FAILED_TITLE:"File Upload Failed",FILE_UPLOAD_FAILED_MSG:"We were unable to complete your upload request. You may have tried to upload a file too large or a folder.",FILE_OFFLINE_TITLE:"No Internet Connection",FILE_OFFLINE_CONTENT:"Connect to the internet to view your files stored online.",FILE_OFFLINE_OK_LABEL:"Ok",FILENAME_TEXT:"File Name",RESTRICT_EDITING:"Restrict Editing",REDUCE_FILE_SIZE:"Reduce File Size",EXPORT_FILE_FORMAT:"File Format",EXPORT_SETTINGS:"Settings",EXPORT_VIEW_RESULT:"Open file after export",FILES_SIGN_OUT_TITLE:"Adobe Document Cloud",FILES_SIGN_OUT_CONTENT:"Sign in to access files",FILES_SIGN_IN_LABEL:"Sign In Now",CCLOUD_SIGN_OUT_TITLE:"Creative Cloud",CCLOUD_SIGN_OUT_CONTENT:"Sign in to access files",FILES_NO_ACCESS_TITLE:"No Access To Service",FILES_NO_ACCESS_CONTENT:"You do not have access to this service. Please contact your IT Administrator to gain access, or try to sign in with an Adobe ID."}),define("files/dev/nls-cef/ui-strings",{root:!0,"ar-ae":!0,"bg-bg":!0,"ca-es":!0,"cs-cz":!0,"da-dk":!0,"de-de":!0,"en-ae":!0,"en-gb":!0,"en-il":!0,"es-es":!0,"eu-es":!0,"fi-fi":!0,"fr-fr":!0,"fr-ma":!0,"he-il":!0,"hr-hr":!0,"hu-hu":!0,"it-it":!0,"ja-jp":!0,"ko-kr":!0,"nb-no":!0,"nl-nl":!0,"pl-pl":!0,"pt-br":!0,"ro-ro":!0,"ru-ru":!0,"sk-sk":!0,"sl-si":!0,"sl-sl":!0,"sv-se":!0,"tr-tr":!0,"uk-ua":!0,"zh-cn":!0,"zh-tw":!0}),define("files/dev/templates/page-header-template",[],function(){return'<div class="adc-logo"></div> <div class="page-header-tabs">    <div class="page-header-tab tools-tab"         data-test-name="page-header-tools-tab"><%= tools %></div>    <div class="page-header-tab files-tab selected"         data-test-name="page-header-files-tab"><%= files %></div></div> <div class="account-menu-btn"     data-test-name="page-header-account-menu-btn">    <div class="user-name"><%- userName %></div></div><div class="account-menu"></div>'}),define("files/dev/templates/error-template",[],function(){return'<div class="error-title"><%= errorTitle %></div><div class="error-msg"><%= errorMsg %></div><div class="error-control-btns">    <input type="button" class="control-button error-btn1"           data-test-name="error-control-btn1"           aria-label="<%= errorBtn1 %>"           value="<%= errorBtn1 %>">    </input>    <input type="button" class="control-button error-btn2"           data-test-name="error-control-btn2"           aria-label="<%= errorBtn2 %>"           value="<%= errorBtn2 %>">    </input></div>'}),define("files/dev/templates/acrobat-footer-template",[],function(){return'<div class="acrobat-controls">    <div class="acrobat-file-filter-container">        <div class="acrobat-file-filter-label"><%= show %></div>        <select class="acrobat-file-filter"></select>    </div>     <div class="acrobat-control-btns">        <input class="acrobat-open-selected acrobat-control-btn"               type="button"               disabled="disabled"/>        <input class="acrobat-cancel acrobat-control-btn"               type="button"               aria-label="<%= cancel %>"               value="<%= cancel %>"/>    </div></div>'}),define("files/dev/templates/full-preview-home-btn-template",[],function(){return'<div class="toolbar-item plugin-selector">    <div class="plugin-selector-icon"></div>    <div class="toolbar-item-label"><%= label %></div></div>'}),define("files/dev/all-modules",["files-unmapped/dev/ac-files","files-unmapped/dev/ac-files-init","files-unmapped/dev/views/files-header-view","files-unmapped/dev/views/folder-view","files-unmapped/dev/views/export-options-view","files-unmapped/dev/views/full-preview-view","files-unmapped/dev/views/folder-navigation-view","files-unmapped/dev/views/no-virgo-folder-items-view","files-unmapped/dev/views/filter-attr-menu-view","files-unmapped/dev/views/files-body-view","files-unmapped/dev/views/search-results-view","files-unmapped/dev/views/full-preview-plugins-selector-view","files-unmapped/dev/views/files-ipm-view","files-unmapped/dev/views/files-container-view","files-unmapped/dev/views/full-preview-action-menu-view","files-unmapped/dev/views/files-virgo-sign-out-view","files-unmapped/dev/views/file-upload-progress-view","files-unmapped/dev/views/filter-submenu-view","files-unmapped/dev/views/no-folder-items-view","files-unmapped/dev/views/virgo-files-header-view","files-unmapped/dev/views/file-save-as-options-view","files-unmapped/dev/views/files-sign-out-view","files-unmapped/dev/views/full-preview-file-info-view","files-unmapped/dev/views/full-preview-hud-view","files-unmapped/dev/views/files-virgo-offline-view","files-unmapped/dev/views/sort-menu-view","files-unmapped/dev/views/virgo-filter-file-type-menu-view","files-unmapped/dev/views/virgo-filter-navigation-view","files-unmapped/dev/views/filter-file-type-menu-view","files-unmapped/dev/views/files-offline-view","files-unmapped/dev/views/full-preview-home-btn-view","files-unmapped/dev/views/new-folder-dlg-view","files-unmapped/dev/views/search-message-view","files-unmapped/dev/views/full-preview-overlays-content-view","files-unmapped/dev/views/virgo-sort-menu-view","files-unmapped/dev/views/virgo-filter-date-menu-view","files-unmapped/dev/views/filter-added-by-menu-view","files-unmapped/dev/views/file-save-as-header-view","files-unmapped/dev/views/view-events","files-unmapped/dev/views/files-view","files-unmapped/dev/views/full-preview-plugins-content-view","files-unmapped/dev/views/search-results-summary-view","files-unmapped/dev/views/filter-menu-view","files-unmapped/dev/views/virgo-folder-navigation-view","files-unmapped/dev/views/virgo-folder-items-placeholder-view","files-unmapped/dev/views/original-shared-files-rhp-view","files-unmapped/dev/views/no-search-results-view","files-unmapped/dev/views/files-footer-view","files-unmapped/dev/views/filter-date-menu-view","files-unmapped/dev/views/files-rhp-view","files-unmapped/dev/views/files-no-access-view","files-unmapped/dev/nls-cef/root/ui-strings","files-unmapped/dev/nls-cef/ui-strings","files-unmapped/dev/ops/user/saving-files-prefs-op","files-unmapped/dev/ops/user/restoring-files-prefs-op","files-unmapped/dev/ops/op-factory","files-unmapped/dev/ops/preview/getting-full-preview-metadata-op","files-unmapped/dev/ops/preview/opening-full-preview-op","files-unmapped/dev/ops/preview/toggling-full-preview-action-menu-op","files-unmapped/dev/ops/preview/creating-ngdoc-rendition-op","files-unmapped/dev/ops/preview/loading-full-preview-plugins-op","files-unmapped/dev/ops/preview/listening-for-ngdoc-job-status-op","files-unmapped/dev/ops/preview/closing-full-preview-op","files-unmapped/dev/ops/preview/selecting-full-preview-plugin-op","files-unmapped/dev/ops/creating/creating-folder-from-dlg-op","files-unmapped/dev/ops/misc/save-as-selected-collection-items-op","files-unmapped/dev/ops/misc/opening-selected-collection-items-op","files-unmapped/dev/ops/misc/navigating-to-scan-folder-op","files-unmapped/dev/ops/misc/toggling-filter-menu-op","files-unmapped/dev/ops/misc/navigating-to-acroprefs-folder-op","files-unmapped/dev/ops/misc/navigating-to-folder-op","files-unmapped/dev/ops/misc/opening-collection-item-op","files-unmapped/dev/ops/misc/changing-collection-view-op","files-unmapped/dev/ops/misc/toggling-sort-menu-op","files-unmapped/dev/ops/misc/sorting-collection-op","files-unmapped/dev/ops/listening/listening-for-selection-change-op","files-unmapped/dev/ops/listening/listening-for-search-queries-change-op","files-unmapped/dev/ops/listening/listening-for-current-folder-notifications-op","files-unmapped/dev/ops/listening/listening-for-search-invalidation-op","files-unmapped/dev/ops/listening/listening-for-file-upload-events-op","files-unmapped/dev/ops/listening/listening-for-view-events-op","files-unmapped/dev/ops/listening/listening-for-quota-errors-op","files-unmapped/dev/ops/listening/listening-for-dup-errors-op","files-unmapped/dev/ops/searching/opening-search-op","files-unmapped/dev/ops/searching/searching-op","files-unmapped/dev/ops/searching/removing-removable-queries-op","files-unmapped/dev/ops/searching/scan-closing-search-op","files-unmapped/dev/ops/searching/adding-search-field-query-op","files-unmapped/dev/ops/searching/removing-search-field-query-op","files-unmapped/dev/ops/searching/removing-type-field-query-op","files-unmapped/dev/ops/searching/closing-search-op","files-unmapped/dev/ops/searching/removing-last-field-query-op","files-unmapped/dev/ops/searching/searching-if-asked-op","files-unmapped/dev/ops/searching/scan-searching-if-asked-op","files-unmapped/dev/ops/searching/uss-searching-op","files-unmapped/dev/ops/searching/removing-name-field-query-op","files-unmapped/dev/ops/searching/removing-time-field-query-op","files-unmapped/dev/ops/acrobat/initializing-acrobat-op","files-unmapped/dev/ops/acrobat/selecting-acrobat-filter-op","files-unmapped/dev/ops/sharing/sharing-items-from-dlg-op","files-unmapped/dev/ops/sharing/sharing-item-from-panel-op","files-unmapped/dev/ops/manipulation/deleting-full-preview-item-if-confirmed-op","files-unmapped/dev/ops/dialogs/showing-new-folder-dlg-op","files-unmapped/dev/models/ui/files-ui-model","files-unmapped/dev/models/ui/sharing-ui-model","files-unmapped/dev/models/ui/ui-model-factory","files-unmapped/dev/models/model-factory","files-unmapped/dev/nls/root/ui-strings","files-unmapped/dev/nls/ui-strings","files-unmapped/dev/templates/files-template","files-unmapped/dev/templates/file-save-as-header-template","files-unmapped/dev/templates/file-save-as-options-template","files-unmapped/dev/templates/virgo-sort-menu-template","files-unmapped/dev/templates/full-preview-template","files-unmapped/dev/templates/virgo-folder-items-placeholder-template","files-unmapped/dev/templates/virgo-folder-navigation-template","files-unmapped/dev/templates/virgo-filter-navigation-template","files-unmapped/dev/templates/files-footer-template","files-unmapped/dev/templates/virgo-files-header-template","files-unmapped/dev/templates/filter-added-by-menu-template","files-unmapped/dev/templates/no-folder-items-template","files-unmapped/dev/templates/full-preview-overlays-content-template","files-unmapped/dev/templates/export-options-template","files-unmapped/dev/templates/filter-file-type-menu-template","files-unmapped/dev/templates/files-virgo-offline-template","files-unmapped/dev/templates/full-preview-plugins-content-template","files-unmapped/dev/templates/filter-menu-template","files-unmapped/dev/templates/files-body-template","files-unmapped/dev/templates/filter-attr-menu-template","files-unmapped/dev/templates/folder-navigation-template","files-unmapped/dev/templates/page-header-template","files-unmapped/dev/templates/error-template","files-unmapped/dev/templates/files-offline-template","files-unmapped/dev/templates/acrobat-footer-template","files-unmapped/dev/templates/sort-menu-template","files-unmapped/dev/templates/search-results-template","files-unmapped/dev/templates/filter-date-menu-template","files-unmapped/dev/templates/files-ipm-template","files-unmapped/dev/templates/original-shared-files-rhp-template","files-unmapped/dev/templates/folder-template","files-unmapped/dev/templates/full-preview-hud-template","files-unmapped/dev/templates/files-rhp-template","files-unmapped/dev/templates/virgo-folder-header-placeholder-template","files-unmapped/dev/templates/virgo-filter-date-menu-template","files-unmapped/dev/templates/files-container-template","files-unmapped/dev/templates/search-message-template","files-unmapped/dev/templates/full-preview-action-menu-template","files-unmapped/dev/templates/full-preview-toolbar-item-template","files-unmapped/dev/templates/no-search-results-template","files-unmapped/dev/templates/new-folder-dlg-template","files-unmapped/dev/templates/files-sign-out-template","files-unmapped/dev/templates/full-preview-file-info-template","files-unmapped/dev/templates/files-virgo-sign-out-template","files-unmapped/dev/templates/file-upload-progress-template","files-unmapped/dev/templates/files-header-template","files-unmapped/dev/templates/full-preview-home-btn-template","files-unmapped/dev/templates/files-no-access-template","files-unmapped/dev/templates/no-virgo-folder-items-template","files-unmapped/dev/templates/virgo-filter-file-type-menu-template"],function(){return undefined}),define("plugins-common/dev/ac-home-views",[],function(){var e=Ac.HomeViews;return e||(e=Ac.HomeViews={}),e}),define("plugins-common/dev/ac-tools",[],function(){var e=Ac.Tools;return e||(e=Ac.Tools={}),e}),define("plugins-common/dev/ac-full-preview-plugins",[],function(){var e=Ac.FullPreviewPlugins;return e||(e=Ac.FullPreviewPlugins={}),e}),define("plugins-common/dev/ac-account-menu-plugins",[],function(){var e=Ac.AccountMenuPlugins;return e||(e=Ac.AccountMenuPlugins={}),e}),define("plugins-common/dev/all-modules",["plugins-common-unmapped/dev/ac-home-views","plugins-common-unmapped/dev/ac-tools","plugins-common-unmapped/dev/ac-plugins","plugins-common-unmapped/dev/ac-full-preview-plugins","plugins-common-unmapped/dev/ac-account-menu-plugins"],function(){return undefined}),define("versions/framework-dev",["aicx-unmapped/dev/all-modules","app-api-unmapped/dev/app-api","core-unmapped/dev/all-modules","files-unmapped/dev/all-modules","plugins-common-unmapped/dev/all-modules"],function(){return undefined});var JSON;JSON||(JSON={}),function(){function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),define("json2",function(){}),function(e){var t=navigator.userAgent.indexOf("MSIE")>=0,n=!0,r;t&&(r=new XMLHttpRequest,n="withCredentials"in r),n||(e.ajaxPrefilter(function(e,t,n){if(e.crossDomain&&!$.isEmptyObject(e.headers)){var r={},i="";e.data&&(e.processData&&typeof e.data=="string"&&e.type==="GET"?(e.url+=(e.url.indexOf("?")===-1?"?":"&")+e.data,delete e.data):typeof e.data=="string"?i=JSON.parse(e.data):i=e.data),$.each(e.headers,function(e,t){r["CORS_"+e]=t}),r.CORS_method=e.type,r.CORS_contentType=r["CORS_Content-Type"]||e.contentType,r.__body__=i,e.data=JSON.stringify(r),e.processData=!1,e.contentType="text/plain",e.type="POST"}}),e.ajaxTransport("+*",function(t,n,r){if(t.crossDomain&&t.async){t.timeout&&(t.xdrTimeout=t.timeout,delete t.timeout);var i;return{send:function(n,r){function o(t,n,s,o){i.onload=i.onerror=i.ontimeout=e.noop,i=undefined,r(t,n,s,o)}i=new XDomainRequest,i.open(t.type,t.url),i.onload=function(){if(i.responseText.indexOf('"status":')!==-1&&i.responseText.indexOf('"headers":')!==-1&&i.responseText.indexOf('"body":')!==-1){var e=JSON.parse(i.responseText),t={200:"OK",201:"Created",202:"Accepted",204:"No Content",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",423:"Locked",429:"Too Many Requests",431:"Request Header Fields Too Large",499:"Client Closed Request",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout"},n="";$.each(e.headers,function(e,t){n+=e+":"+t+"\n"});var r={text:JSON.stringify(e.body)},s=(t[e.status]||"").toUpperCase();o(e.status,s,r,n)}else o(200,"OK",{text:i.responseText},"Content-Type: "+i.contentType)},i.onerror=function(){o(404,"Not Found")},t.xdrTimeout?(i.ontimeout=function(){o(0,"timeout")},i.timeout=t.xdrTimeout):i.ontimeout=function(){o(408,"Request Timeout")},i.onprogress=function(){},i.send(t.hasContent&&t.data||null)},abort:function(){i&&(i.onerror=e.noop(),i.abort())}}}}))}(jQuery),define("xdr",["jquery"],function(){}),function(e){var t=8,n=function(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535},r=function(e,t){return e>>>t|e<<32-t},i=function(e,t){return e>>>t},s=function(e,t,n){return e&t^~e&n},o=function(e,t,n){return e&t^e&n^t&n},u=function(e){return r(e,2)^r(e,13)^r(e,22)},a=function(e){return r(e,6)^r(e,11)^r(e,25)},f=function(e){return r(e,7)^r(e,18)^i(e,3)},l=function(e){return r(e,17)^r(e,19)^i(e,10)},c=function(e,t){var r=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),i=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),c=new Array(64),h,p,d,v,m,g,y,w,E,S,x,T;e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t;for(var E=0;E<e.length;E+=16){h=i[0],p=i[1],d=i[2],v=i[3],m=i[4],g=i[5],y=i[6],w=i[7];for(var S=0;S<64;S++)S<16?c[S]=e[S+E]:c[S]=n(n(n(l(c[S-2]),c[S-7]),f(c[S-15])),c[S-16]),x=n(n(n(n(w,a(m)),s(m,g,y)),r[S]),c[S]),T=n(u(h),o(h,p,d)),w=y,y=g,g=m,m=n(v,x),v=d,d=p,p=h,h=n(x,T);i[0]=n(h,i[0]),i[1]=n(p,i[1]),i[2]=n(d,i[2]),i[3]=n(v,i[3]),i[4]=n(m,i[4]),i[5]=n(g,i[5]),i[6]=n(y,i[6]),i[7]=n(w,i[7])}return i},h=function(e){var n=Array(),r=(1<<t)-1;for(var i=0;i<e.length*t;i+=t)n[i>>5]|=(e.charCodeAt(i/t)&r)<<24-i%32;return n},p=function(e){var t="0123456789abcdef",n="";for(var r=0;r<e.length*4;r++)n+=t.charAt(e[r>>2]>>(3-r%4)*8+4&15)+t.charAt(e[r>>2]>>(3-r%4)*8&15);return n},d=function(e,n){var r=h(e);r.length>16&&(r=c(r,e.length*t));var i=Array(16),s=Array(16);for(var o=0;o<16;o++)i[o]=r[o]^909522486,s[o]=r[o]^1549556828;var u=c(i.concat(h(n)),512+n.length*t);return c(s.concat(u),768)},v=function(t){return t=typeof t=="object"?e(t).val():t.toString(),t};e.extend({sha256:function(e){return e=v(e),p(c(h(e),e.length*t))},sha256hmac:function(e,t){return e=v(e),t=v(t),p(d(e,t))},sha256config:function(e){t=parseInt(e)||8}}),e.fn.sha256=function(t){e.sha256config(t);var n=v(e(this).val()),r=e.sha256(n);return e.sha256config(8),r}}(jQuery),define("jquery.sha256",["jquery"],function(){}),define("app/dev/models/ui/acrobat-ui-model",["core/ac-core","app/ac-app","core/models/ui/ui-model"],function(e,t){t.AcrobatUiModel=e.UiModel.extend({recognized:{is_in_acrobat:{type:"boolean",optional:!1},file_filters:{type:"array",optional:!1},default_filter_index:{type:"number",optional:!1},selected_filter_index:{type:"number",optional:!1},selection_type:{type:"string",optional:!1,choices:["file","folder"]},allow_multiple_selection:{type:"boolean",optional:!1},file_open_max_count:{type:"number",optional:!1}},defaults:{is_in_acrobat:!1,file_filters:[],default_filter_index:0,selected_filter_index:0,selection_type:"file",allow_multiple_selection:!0,file_open_max_count:50},initialize:function(){var t=e.Acrobat,n,r;e.UiModel.prototype.initialize.call(this),this.set("is_in_acrobat",t!==undefined);if(!this.get("is_in_acrobat"))return;n=t.fileFilters,_.each(this.filters,function(e){_.each(e.extensions,function(e,t,n){n[t]=e.toLowerCase()})}),this.set("file_filters",n),r=t.defaultFileFilter||0,this.set("default_filter_index",r),this.set("selected_filter_index",r),this.set("selection_type",t.selectionType),this.set("allow_multiple_selection",t.allowMultipleSelection)},getSelectedFilterExtensions:function(){return this.get("file_filters")[this.get("selected_filter_index")].extensions},isFolderSelectionMode:function(){return this.get("selection_type")==="folder"}})}),define("app/dev/models/ui/ajax-ui-model",["core/ac-core","app/ac-app","core/models/ui/ui-model"],function(e,t){t.AjaxUiModel=e.UiModel.extend({recognized:{ajax_spinner_threshold:{type:"number",optional:!1},ajax_transparent_threshold:{type:"number",optional:!1}},defaults:{ajax_spinner_threshold:1e3,ajax_transparent_threshold:2e3}})}),define("app/dev/models/ui/files-collection-ui-model",["core/ac-core","app/ac-app","core/models/ui/ui-model"],function(e,t){t.FilesCollectionUiModel=e.UiModel.extend({recognized:{files_collection:{type:"object",optional:!1}},defaults:{}})}),define("app/dev/models/ui/full-overlay-ui-model",["core/ac-core","app/ac-app","core/models/ui/ui-model"],function(e,t){t.FullOverlayUiModel=e.UiModel.extend({recognized:{show_overlay:{type:"boolean",optional:!1},overlay_element:{type:"object",optional:!1}},defaults:{show_overlay:!1}})}),define("app/dev/models/ui/modal-mask-ui-model",["core/ac-core","app/ac-app","core/models/ui/ui-model"],function(e,t){t.ModalMaskUiModel=e.UiModel.extend({recognized:{modal:{type:"boolean",optional:!1},modal_ajax:{type:"boolean",optional:!1},modal_transparent:{type:"boolean",optional:!1},modal_ref_count:{type:"number",optional:!1},refresh_wait:{type:"number",optional:!1}},defaults:{modal:!1,modal_ajax:!1,modal_transparent:!1,modal_ref_count:0,refresh_wait:10}})}),define("app/dev/models/ui/notification-container-ui-model",["core/ac-core","app/ac-app","core/models/ui/ui-model"],function(e,t){var n="idle",r="busy",i="complete",s="warning";t.NotificationContainerUiModel=e.UiModel.extend({recognized:{active_error_msg:{type:"object",optional:!1},mouse_leave_timeout:{type:"number",optional:!1},mouse_leave_timer:{type:"number",optional:!0},notification_items_by_category:{type:"object",optional:!1},show_download_all_by_category:{type:"object",optional:!1},net_status:{type:"string",optional:!1},show_remove_history:{type:"boolean",optional:!1},hide_error_msg:{type:"boolean",optional:!1},show_ready_map:{type:"object",optional:!1}},defaults:{active_error_msg:{},mouse_leave_timeout:400,mouse_leave_timer:undefined,notification_items_by_category:{},show_download_all_by_category:{},net_status:n,show_remove_history:!1,hide_error_msg:undefined,show_ready_map:{}},setStatusOfNotification:function(e,t,n){var r=this.get("notification_items_by_category"),i=r[n]||{};i[e]=t,r[n]=i,this.set("notification_items_by_category",r),this._updateDownloadAllStatus(n),this._updateShowReadyMap(n),this._updateRemoveHistoryStatus(),this._updateNetStatus()},removeNotification:function(e,t){var n=this.get("notification_items_by_category"),r=n[t]||{};delete r[e],this.set("notification_items_by_category",n),this._updateDownloadAllStatus(t),this._updateRemoveHistoryStatus(),this._updateNetStatus()},_updateShowReadyMap:function(e){var t=this.get("notification_items_by_category"),n=t[e]||{},r=this.get("show_ready_map"),s=0;_.each(n,function(e){e===i&&(s+=1)}),r[e]=s>=2,this.trigger("change:show_ready_map",this,r)},_updateDownloadAllStatus:function(e){var t=this.get("notification_items_by_category"),n=t[e]||{},s=this.get("show_download_all_by_category"),o=!0,u=0;_.each(n,function(e){e===i?u+=1:e===r&&(o=!1)}),s[e]=u>=2&&o,this.trigger("change:show_download_all_by_category",this,s)},_updateNetStatus:function(){var e=this.get("notification_items_by_category"),t=n,o=0;_.each(e,function(e){_.each(e,function(e,n){n=parseInt(n,10),e===r?t=r:e===s&&t!==r&&n>=o?(t=s,o=n):e===i&&t!==r&&n>=o&&(t=i,o=n)})}),this.set("net_status",t)},_updateRemoveHistoryStatus:function(){var e=this.get("notification_items_by_category"),t=!0,n=0;_.each(e,function(e){_.each(e,function(e){n+=1,e===r&&(t=!1)})}),n===0&&(t=!1),this.set("show_remove_history",t)}},{STATUS_IDLE:n,STATUS_BUSY:r,STATUS_COMPLETE:i,STATUS_WARNING:s})}),define("app/dev/models/ui/page-header-ui-model",["core/ac-core","app/ac-app","core/models/ui/ui-model"],function(e,t){t.PageHeaderUiModel=e.UiModel.extend({recognized:{show_account_menu:{type:"boolean",optional:!1},show_help_menu:{type:"boolean",optional:!1}},defaults:{show_account_menu:!1,show_help_menu:!1}})}),define("app/dev/models/ui/preferences-ui-model",["core/ac-core","app/ac-app","core/models/ui/ui-model"],function(e,t){t.PreferencesUiModel=e.UiModel.extend({recognized:{preferences:{type:"object",optional:!1}},defaults:{preferences:{}},setPreferences:function(e){var n;e.quota&&(n=e[t.APP_ID]={},_.extend(n,_.pick(e,"quota","lastToolUsed")),delete e.quota,delete e.lastToolUsed),this.set("preferences",e)},getPreferences:function(e){var t=this.get("preferences");return e&&(t=t[e]||{}),t}})}),define("app/dev/models/ui/sign-in-ui-model",["core/ac-core","app/ac-app","core/models/ui/ui-model"],function(e,t){t.SignInUiModel=e.UiModel.extend({recognized:{is_signed_in:{type:"boolean",optional:!1},is_signing_in:{type:"boolean",optional:!1},auto_sign_in:{type:"boolean",optional:!1},ims_page:{type:"string",optional:!0},ims_iframe_height:{type:"number",optional:!0},page_reload_delay:{type:"number",optional:!1},is_echosign_signed_in:{type:"boolean",optional:!1},invocation_point:{type:"string",optional:!0}},defaults:{is_signed_in:!1,is_signing_in:!1,auto_sign_in:!1,is_echosign_signed_in:!1,page_reload_delay:2e3,invocation_point:null},triggerAutoSignIn:function(){this.set("auto_sign_in",!0).set("auto_sign_in",!1,{silent:!0})}},{IMS_PAGE_SIGN_IN:"SignIn_Form",IMS_PAGE_FORGOT_PASSWORD_FORM:"ForgetPassword_Form",IMS_PAGE_FORGOT_PASSWORD_PAGE:"ForgetPassword_Page",IMS_PAGE_CREATE_ACCOUNT:"Create_Form",IMS_PAGE_TOU:"TOU_Display",IMS_PAGE_EMAIL_VERIFICATION:"EmailVerification_Required"})}),define("app/dev/models/ui/tuner-ui-model",["core/ac-core","app/ac-app","core/models/ui/ui-model"],function(e,t){return t.TunerUiModel=e.UiModel.extend({recognized:{disable_web_connectors:{type:"boolean",optional:!1},disable_local_connectors:{type:"boolean",optional:!1},disable_document_cloud:{type:"boolean",optional:!1}},defaults:{disable_web_connectors:!1,disable_local_connectors:!1,disable_document_cloud:!1}}),t.TunerUiModel}),define("app/dev/models/ui/window-ui-model",["core/ac-core","app/ac-app","core/models/ui/ui-model"],function(e,t){t.WindowUiModel=e.UiModel.extend({recognized:{width:{type:"number",optional:!1},height:{type:"number",optional:!1},resize_debounce_delay:{type:"number",optional:!1},font_family:{type:"string",optional:!0}},defaults:{resize_debounce_delay:250},initialize:function(){var t;e.UiModel.prototype.initialize.call(this),t=this._$window=$(window),this.set("width",t.width(),{silent:!0}),this.set("height",t.height(),{silent:!0})}})}),define("app/dev/models/ui/ui-model-factory",["core/ac-core","app/ac-app","core/models/model","app/models/ui/acrobat-ui-model","app/models/ui/ajax-ui-model","app/models/ui/files-collection-ui-model","app/models/ui/full-overlay-ui-model","app/models/ui/modal-mask-ui-model","app/models/ui/notification-container-ui-model","app/models/ui/page-header-ui-model","app/models/ui/preferences-ui-model","app/models/ui/sign-in-ui-model","app/models/ui/status-menu-ui-model","app/models/ui/tuner-ui-model","app/models/ui/window-ui-model"],function(e,t){t.UiModelFactory=e.Model.extend({create:function(e,n,r){var i=t[e];if(!!i)return new i(n,r);LOG(0,"AcApp.UiModelFactory.create: Unrecognized class: "+e)}})}),define("app/dev/templates/content-page-template",[],function(){return'<div role="banner" class="page-header gray"></div><div class="page-main-container">    <div class="page-body-container">        <div class="tools"></div>    </div></div><div role="contentinfo" class="acrobat-footer"></div>'}),define("app/dev/templates/page-header-template",[],function(){return'<div class="adc-logo"></div><div class="adc-app-title">    <a href="javascript:void(0);" class="adc-app-name"       id="adc-app-name"><%= appName %></a>    <span class="adc-pdf-services unselectable"          id="adc-pdf-services"><%= pdfServices %></span></div> <button class="account-menu-btn page-header-menu-btn"        id="account-menu-btn"        aria-haspopup="true">    <div class="user-name"><%= userName %></div></button><div class="account-menu" id="account-menu" role="menu"></div> <button class="help-menu-btn page-header-menu-btn"        id="help-menu-btn"        aria-haspopup="true"        aria-label="<%= helpMenuTitle %>"        title="<%= helpMenuTitle %>">    <div class="help-menu-title"></div></button><div class="help-menu" id="help-menu" role="menu"></div> <button class="status-menu-btn page-header-menu-btn"        id="status-menu-btn"        aria-haspopup="true">    <div class="status-menu-btn-icon"></div>    <div class="status-menu-btn-label hidden-accessible"></div></button><div class="status-menu menu" id="status-menu"     role="dialog" aria-labelledby="status-menu-btn"></div>'}),define("app/dev/templates/account-menu-template",[],function(){return'<div class="account-menu-items"     id="account-menu-items"></div><div role="separator" class="account-menu-sep"></div><div class="account-menu-footer">    <a href="<%= privacyUrl %>"       class="account-menu-footer-item privacy"><%= privacy %></a>    <div role="separator" class="account-menu-footer-sep"></div>    <a href="<%= termsUrl %>"       class="account-menu-footer-item terms"><%= terms %></a>    <div role="separator" class="account-menu-footer-sep"></div>    <a href="<%= cookiesUrl %>"       class="account-menu-footer-item cookies"><%= cookies %></a></div><div class="menu-nub-grey"></div>'}),define("app/dev/views/account-menu-plugins-view",["core/ac-core","app/ac-app","core/templates/account-menu-item-template","core/utils/sc-analytics","core/views/plugins-selector-view"],function(e,t,n,r){t.AccountMenuPluginsView=e.PluginsSelectorView.extend({initialize:function(){e.PluginsSelectorView.prototype.initialize.call(this),this.options=_.extend({},this.options,{pluginsUiModel:this.options.accountMenuPluginsUiModel})},render:function(){e.PluginsSelectorView.prototype.render.call(this)},_getSelectorTemplate:function(){return n},_getSelectorViewEvent:function(){return t.ViewEvents.ACCOUNT_MENU_ITEM_CLICK},_logSiteCatalystEvent:function(e){this.options.appApi.siteCatalystApi.logScEvent([r.TOP_HEADER,r.USER_ACCOUNT_MENU,e[0]])},_onPluginSelectorClick:function(t){var n=this.options,r=n.appApi;r.dialogApi.closeAllDialogs(),r.pluginsApi.callPluginMethodForEachIfEnabled(n.accountMenuPluginsUiModel.getAllIds(),"deselectPlugin",undefined,undefined,!0),_.delay(_.bind(function(){e.PluginsSelectorView.prototype._onPluginSelectorClick.call(this,t)},this),n.accountMenuPluginsUiModel.get("deselect_delay"))}})}),define("app/dev/views/account-menu-view",["core/ac-core","core/ac-core-config","app/ac-app","app/templates/account-menu-template","i18n!app/nls/ui-strings","core/views/view","core/views/menu-view","app/views/account-menu-plugins-view"],function(e,t,n,r,i){n.AccountMenuView=e.MenuView.extend({events:function(){return _.extend({},e.MenuView.prototype.events,{"click .account-menu-footer-item.privacy":"_onPrivacyClick","click .account-menu-footer-item.terms":"_onTermsClick","click .account-menu-footer-item.cookies":"_onCookiesClick"})},initialize:function(){e.MenuView.prototype.initialize.call(this)},render:function(){var n;e.MenuView.prototype.render.call(this),n=this.$el,n.children().length===0&&(n.html(_.template(r)({privacy:i.PRIVACY,terms:i.TERMS,cookies:i.COOKIES,privacyUrl:this._getOpenUrl(t.PRIVACY_URL,t.PRIVACY_URL_LOC),termsUrl:this._getOpenUrl(t.TERMS_URL,t.TERMS_URL),cookiesUrl:this._getOpenUrl(t.COOKIES_URL,t.COOKIES_URL_LOC)})),this._initWrappers()),this._renderChildViews()},open:function(){var t=e.MenuView.prototype.open.call(this);return this.$el.addClass("shown"),t},close:function(){e.MenuView.prototype.close.call(this,undefined,{doNotEmpty:!0}),this.$el.removeClass("shown")},_onPrivacyClick:function(e){e.preventDefault(),this.close(),window.open(this._getOpenUrl(t.PRIVACY_URL,t.PRIVACY_URL_LOC))},_onTermsClick:function(e){e.preventDefault(),this.close(),window.open(this._getOpenUrl(t.TERMS_URL,t.TERMS_URL_LOC))},_onCookiesClick:function(e){e.preventDefault(),this.close(),window.open(this._getOpenUrl(t.COOKIES_URL,t.COOKIES_URL_LOC))},_getOpenUrl:function(e,t){var n=this.options.appApi.localeApi.getLocale();return n!=="en-us"&&n!=="root"&&(e=_.template(t,{locale:n==="en-gb"?"uk":n.substr(3)})),e},_initWrappers:function(){e.MenuView.prototype._initWrappers.call(this),this.$menuItems=this.$(".account-menu-items"),this.$menuSep=this.$(".account-menu-sep"),this.$menuFooter=this.$(".account-menu-footer")},_renderChildViews:function(){this._renderAccountMenuPluginsView()},_renderAccountMenuPluginsView:function(){this._renderChildView("_accountMenuPluginsView",n.AccountMenuPluginsView,this.$menuItems)},_closedByClick:function(t){e.MenuView.prototype._closedByClick.call(this,t),this._consumeEvent(t)}})}),define("app/dev/templates/help-menu-template",[],function(){return'<div role="presentation"><button class="help-menu-item ask-us-menu-item"     id="help-menu-item-ask-us"     role="menuitem" tabindex="-1"><%= askUs %></button><button class="help-menu-item support-menu-item"     id="help-menu-item-support"     role="menuitem" tabindex="-1"><%= support %></button><button class="help-menu-item about-menu-item"     id="help-menu-item-about-app"     role="menuitem" tabindex="-1"><%= aboutApp %></button></div><div class="menu-nub-grey"></div>'}),define("app/dev/views/help-menu-view",["core/ac-core","app/ac-app","app/templates/help-menu-template","i18n!app/nls/ui-strings","core/utils/sc-analytics","core/views/view","core/views/menu-view"],function(e,t,n,r,i){return t.HelpMenuView=e.MenuView.extend({events:function(){return _.extend({},e.MenuView.prototype.events,{"click .ask-us-menu-item":"_onAskUsClick","click .support-menu-item":"_onSupportClick","click .about-menu-item":"_onAboutClick"})},initialize:function(){e.MenuView.prototype.initialize.call(this),this._template=_.template(n)},render:function(){e.MenuView.prototype.render.call(this),this.$el.children().length===0&&this.$el.html(this._template({askUs:r.ASK_US_A_QUESTION,support:r.SUPPORT,aboutApp:r.ABOUT_APP})),this._initWrappers()},open:function(){var t=e.MenuView.prototype.open.call(this);return this.$el.addClass("shown"),t},close:function(){e.MenuView.prototype.close.call(this),this.$el.removeClass("shown")},_closedByClick:function(t){e.MenuView.prototype._closedByClick.call(this,t),this._consumeEvent(t)},_onMenuItemClick:function(){var e=this.options,t=e.appApi;t.dialogApi.closeAllDialogs(),t.pluginsApi.callPluginMethodForEachIfEnabled(e.accountMenuPluginsUiModel.getAllIds(),"deselectPlugin",undefined,undefined,!0),_.defer(this.close)},_onAskUsClick:function(e){this._onMenuItemClick(e),this.options.appApi.siteCatalystApi.logScEvent([i.TOP_HEADER,i.HELP_MENU,i.ASK_US]),_.defer(_.bind(function(){this._triggerViewEvent(t.ViewEvents.ASK_US_CLICK)},this))},_onSupportClick:function(e){this._onMenuItemClick(e),this.options.appApi.siteCatalystApi.logScEvent([i.TOP_HEADER,i.HELP_MENU,i.SUPPORT]),this._triggerViewEvent(t.ViewEvents.SUPPORT_CLICK)},_onAboutClick:function(e){this._onMenuItemClick(e),this.options.appApi.siteCatalystApi.logScEvent([i.TOP_HEADER,i.HELP_MENU,i.ABOUT_PRODUCT]),this._triggerViewEvent(t.ViewEvents.ABOUT_CLICK,{parentView:t.viewMgr,triggerEl:this.options.triggerEl})}}),t.HelpMenuView}),define("app/dev/templates/status-menu-template",[],function(){return'<div class="status-menu-content">    <div class="status-menu-items"></div>    <button class="status-menu-remove-history-btn"        ><%= removeHistory %></button>    <div class="menu-nub-grey"></div></div><div class="status-menu-tooltip" role="tooltip">    <div class="menu-nub-red status-menu-tooltip-nub"></div>    <div class="status-menu-tooltip-text"></div></div>'}),define("app/dev/templates/status-menu-item-template",[],function(){return'<div class="status-menu-item"     data-test-name="toolbar-status-menu-item"></div>'}),define("app/dev/views/status-menu-tooltip-view",["core/ac-core","app/ac-app","core/utils/css-util","core/views/menu-view"],function(e,t,n){var r={};return t.StatusMenuTooltipView=e.MenuView.extend({events:function(){return _.extend({},e.MenuView.prototype.events,{mouseenter:"_onMouseEnter",mouseleave:"_onMouseLeave"})},initialize:function(){e.MenuView.prototype.initialize.call(this),this._addUiModelEventListeners()},render:function(){e.MenuView.prototype.render.call(this),this.$text||this._initWrappers(),this.$text.html(this.options.statusMenuUiModel.getActiveTooltipHtml()),this.$(e.ScAnalytics.ANALYTICS_SELECTOR).trigger(e.ScAnalytics.RENDER)},open:function(t){e.MenuView.prototype.open.call(this,t),this._positionTooltip()},close:function(t,n){e.MenuView.prototype.close.call(this,t,_.extend({},n,{doNotEmpty:!0}))},_initWrappers:function(){e.MenuView.prototype._initWrappers.call(this),this.$nub=this.$(".status-menu-tooltip-nub"),this.$text=this.$(".status-menu-tooltip-text")},_positionTooltip:function(){var e=this.$el,t,r,i=this.options.statusMenuUiModel,s=i.getActiveTooltipElement();if(!s)return;t=s.offset(),r=this.$nub,e.offset({top:t.top+n.getFullHeight(s)+r.height(),left:t.left+n.getFullWidth(s)-n.getFullWidth(e)})},_onMouseEnter:function(){this._clearMouseLeaveTimer()},_onMouseLeave:function(e){this._startMouseLeaveTimer(e)},_addUiModelEventListeners:function(){this.listenTo(this.options.statusMenuUiModel,"change:tooltips",this._onTooltipsChange)},_onTooltipsChange:function(){var e=this.options.statusMenuUiModel.get("tooltips"),t;_.each(r,function(e){e.purge=!0}),_.each(e,_.bind(function(e,n){t=r[n],t||(t=r[n]={tooltip:e},e.element.on("mouseenter",this._onTooltipElementMouseEnter).on("mouseleave",this._onTooltipElementMouseLeave).data("tooltip_id",n)),t.purge=!1},this)),_.each(r,_.bind(function(e,t){e.purge&&(e.tooltip.element.off("mouseenter",this._onTooltipElementMouseEnter).off("mouseleave",this._onTooltipElementMouseLeave).removeData("tooltip_id"),delete r[t])},this))},_onTooltipElementMouseEnter:function(e){this._clearMouseLeaveTimer(),this.options.statusMenuUiModel.set("active_tooltip_id",$(e.target).data("tooltip_id")),this.isMenuOpen()?(this._positionTooltip(),this.render()):this.open()},_onTooltipElementMouseLeave:function(e){this._startMouseLeaveTimer(e)},_startMouseLeaveTimer:function(){var e=this.options.statusMenuUiModel;this._clearMouseLeaveTimer(),e.set("mouse_leave_timer",setTimeout(_.bind(function(){e.unset("active_tooltip_id"),this.close()},this),e.get("mouse_leave_timeout")))},_clearMouseLeaveTimer:function(){var e=this.options.statusMenuUiModel,t=e.get("mouse_leave_timer");t&&(clearTimeout(t),e.unset("mouse_leave_timer"))}}),t.StatusMenuTooltipView}),define("app/dev/views/status-menu-view",["core/ac-core","app/ac-app","app/templates/status-menu-template","app/templates/status-menu-item-template","i18n!app/nls/ui-strings","core/utils/css-util","core/utils/event-util","core/utils/view-util","core/utils/sc-analytics","core/views/menu-view","app/views/status-menu-tooltip-view"],function(e,t,n,r,i,s,o,u,a){var f=Ac.Plugins.types.tools.plugin_ids;t.StatusMenuView=e.MenuView.extend({events:function(){return _.extend({},e.MenuView.prototype.events,{"click .status-menu-remove-history-btn":"_onRemoveHistoryClick"})},initialize:function(){e.MenuView.prototype.initialize.call(this),this._addDomEventListeners(),this._addUiModelEventListeners(),this._addAppApiCallbacks()},render:function(){var t=this.$el,o=t.width(),a,l,c,h,p=u.isElementEmpty(t),d=this.options.statusMenuUiModel,v=d.get("menu_item_by_id"),m=d.get("menu_item_shown"),g,y;if(!p&&!this.isMenuOpen())return this;e.MenuView.prototype.render.call(this),p&&(t.html(_.template(n)({removeHistory:i.REMOVE_HISTORY})),this._initWrappers()),a=this.$menuItems,a.children().length===0&&_.each(f,function(e){a.append(_.template(r)()),l=a.children().last(),l.width(o-s.getExtraWidth(l)),d.get("menu_item_by_id")[e]=l}),_.each(v,function(e,t){m[t]?(g=!0,e.show()):e.hide()}),y=d.hasCompletedItem(),h=this.$removeHistory,y?h.show():h.hide(),c=a.children(),d.getNumShownItems()===1&&!y?c.addClass("no-border"):c.removeClass("no-border"),a.css("max-height",d.get("max_height_frac")*(this.$body.height()-t.parent().height())+"px"),g?t.show():t.hide(),this._renderChildViews()},open:function(){var t=this.options,n=t.appApi,r=t.statusMenuUiModel,i=this.$menuItems;return clearTimeout(this._timeoutId),t.fullOverlayUiModel.get("show_overlay")?(r.set("show_menu",!1,{silent:!0}),this._getResolvedPromise()):this.isMenuOpen()?this._getResolvedPromise():(n.siteCatalystApi.logScEvent([a.PROGRESS_STATUS_MENU,a.SHOWN]),e.MenuView.prototype.open.call(this,function(){var e,t,n;i.addClass("scrollable"),n=r.get("scroll_to_id"),n?(t=r.get("menu_item_by_id"),e=t[n],e&&i.scrollTop(e.position().top)):i.scrollTop(0),r.statusMenuIsDisplayed()}))},close:function(){var n=this.options,r=this._tooltipView;if(!this.isMenuOpen())return;this.stopListening(),this.$menuItems.removeClass("scrollable"),e.MenuView.prototype.close.call(this,_.bind(function(){n.appApi.siteCatalystApi.logScEvent([a.PROGRESS_STATUS_MENU,a.HIDDEN]),this._triggerViewEvent(t.ViewEvents.STATUS_MENU_CLOSED),n.statusMenuUiModel.statusMenuIsClosed(),this._addUiModelEventListeners()},this),{doNotEmpty:!0}),r&&r.close()},_initWrappers:function(){e.MenuView.prototype._initWrappers.call(this),this.$body=$("body"),this.$menuItems=this.$(".status-menu-items"),this.$tooltip=this.$(".status-menu-tooltip"),this.$removeHistory=this.$(".status-menu-remove-history-btn")},_renderChildViews:function(){this._renderChildView("_tooltipView",t.StatusMenuTooltipView,this.$tooltip)},_onRemoveHistoryClick:function(){var e=this.options,n=t.StatusMenuUiModel,r=e.statusMenuUiModel,i=r.get("status_by_id"),s=e.appApi.pluginsApi;e.appApi.siteCatalystApi.logScEvent([a.PROGRESS_STATUS_MENU,a.REMOVE_HISTORY,a.CLICKED]),_.each(f,function(e){if(!s.getPluginApi(e))return!1;i[e]!==n.STATUS_BUSY&&(r.setStatus(e,n.STATUS_IDLE).hideMenuItem(e),s.callPluginMethod(e,"removeStatusHistory"))}),r.getNetStatus()===n.STATUS_BUSY&&this.render()},_addDomEventListeners:function(){var e=this.$el.get(0);o.addDomEventListener(e,"dragover",this._consumeEvent,!1).addDomEventListener(e,"dragenter",this._consumeEvent,!1).addDomEventListener(e,"drop",this._consumeEvent,!1)},_addUiModelEventListeners:function(){var e=this.options,t=e.statusMenuUiModel,n=e.fullOverlayUiModel;this.listenTo(t,"change:net_status",this._onNetStatusChange).listenTo(t,"change:menu_item_shown",this._onMenuItemShownChange).listenTo(t,"change:scroll_to_id",this._onScrollToIdChange).listenTo(n,"change:show_overlay",this._onShowOverlayChange)},_onNetStatusChange:function(e,n){var r=t.StatusMenuUiModel,i=this.options.statusMenuUiModel;n===r.STATUS_IDLE?i.set("show_menu",!1):(i.set("show_menu",!0),this.render())},_onMenuItemShownChange:function(){var e=this.options.statusMenuUiModel,t=_.debounce(_.bind(function(){this.options.statusMenuUiModel.isOneMenuItemShown()?this.open():this.close()},this),e.get("menu_item_shown_delay"));t()},_onScrollToIdChange:function(){this.render()},_onShowOverlayChange:function(e,t){t&&this.close()},_addAppApiCallbacks:function(){this.options.appApi.routerApi.addHistoryChangeCallback(this._onHistoryChange)},_onHistoryChange:function(){this.close()}})}),define("app/dev/views/page-header-view",["core/ac-core","app/ac-app","app/templates/page-header-template","i18n!app/nls/ui-strings","core/utils/util","core/utils/css-util","core/utils/truncate","core/utils/view-util","core/utils/sc-analytics","core/views/view","app/views/account-menu-view","app/views/help-menu-view","app/views/status-menu-view"],function(e,t,n,r,i,s,o,u,a){return t.PageHeaderView=e.View.extend({events:{"click .adc-logo":"_onAdcLogoClick","click .adc-app-name":"_onAdcAppNameClick","click .account-menu-btn":"_onAccountMenuBtnClick","click .help-menu-btn":"_onHelpMenuBtnClick","click .status-menu-btn":"_onStatusMenuBtnClick"},initialize:function(){e.View.prototype.initialize.call(this),this._addAppApiCallbacks(),this._addUiModelEventListeners(),this._addKeyEventListener()},render:function(){var t=this._getUserFirstName();return e.View.prototype.render.call(this),this.$el.children().length===0?(this.$el.html(_.template(n)({appName:e.Config.APP_NAME_DC,pdfServices:r.PDF_SERVICES,userName:t,helpMenuTitle:r.HELP})),this._initWrappers()):this.$userName.text(t),this._renderChildViews(),this._positionHelpMenu(),this._positionStatusMenu(),this._updateStatusMenuButton(),this._truncateUserName(),this},_getUserFirstName:function(){var e=this.options.usersMeModel.get("identity"),t;return e&&(t=e.first_name),t||r.ACCOUNT},_initWrappers:function(){this.$body=$("body"),this.$appTitle=this.$(".adc-app-title"),this.$accountMenuBtn=this.$(".account-menu-btn"),this.$helpMenuBtn=this.$(".help-menu-btn"),this.$userName=this.$(".user-name"),this.$accountMenu=this.$(".account-menu"),this.$helpMenu=this.$(".help-menu"),this.$helpMenuTitle=this.$(".help-menu-title"),this.$statusMenuBtn=this.$(".status-menu-btn"),this.$statusMenuBtnIcon=this.$(".status-menu-btn-icon"),this.$statusMenuBtnLabel=this.$(".status-menu-btn-label"),this.$statusMenu=this.$(".status-menu")},_onViewEvent:function(e,n){if(e===t.ViewEvents.STATUS_MENU_CLOSED){this.options.statusMenuUiModel.set("show_menu",!1);return}this.trigger(e,n)},_getStatusTooltip:function(){var e=this.options.statusMenuUiModel.getNetStatus();return e===t.StatusMenuUiModel.STATUS_BUSY?r.SHOW_PROGRESS:r.PROGRESS_COMPLETE},_updateStatusMenuButton:function(){var e=this.$statusMenuBtn,n=this.$statusMenuBtnIcon,r=this.$statusMenuBtnLabel,i=t.StatusMenuUiModel,s=this.options.statusMenuUiModel,o=s.getNetStatus(),u=this._getStatusTooltip();n.removeClass("warning busy selected"),o===i.STATUS_IDLE?e.addClass("hidden"):(o===i.STATUS_BUSY?n.addClass("busy"):o===i.STATUS_WARNING&&n.addClass("warning"),s.get("show_menu")&&n.addClass("selected"),e.removeClass("hidden")),e.attr("title",u),r.text(u)},_truncateUserName:function(){var e=this.$appTitle,t=this.$userName,n;n=this.$el.width()-(e.position().left+e.width())-this.$statusMenuBtn.width()-this.$helpMenuBtn.width()-s.getExtraWidth(this.$userName),n>0&&t.css("max-width",n),o.truncateElementText(t)},_renderChildViews:function(){this._renderAccountMenuView(),this._renderHelpMenuView(),this._renderStatusMenuView()},_renderAccountMenuView:function(){this._renderChildView("_accountMenuView",t.AccountMenuView,this.$accountMenu,{animate:!1})},_renderHelpMenuView:function(){this._renderChildView("_helpMenuView",t.HelpMenuView,this.$helpMenu,{animate:!1})},_renderStatusMenuView:function(){this._renderChildView("_statusMenuView",t.StatusMenuView,this.$statusMenu)},_getSiteCatalystContext:function(){return a.TOP_HEADER},_positionHelpMenu:function(){var e=this.$helpMenuBtn,t=e.position();this._helpMenuView.$el.css("right",this.$el.width()-t.left-s.getFullWidth(e)-5+"px")},_positionStatusMenu:function(){var e=this.$statusMenuBtn,t=e.position();if(u.isElementHidden(e))return;this._statusMenuView.$el.css("right",this.$el.width()-t.left-s.getFullWidth(e)-2+"px")},_showAccountMenu:function(e){var t=this.options,n=this.$accountMenuBtn,r=this._accountMenuView;e?(n.addClass("pressed"),r.open().always(function(){t.pageHeaderUiModel.set("show_account_menu",!1)})):(n.removeClass("pressed"),r.close())},_showHelpMenu:function(e){var t=this.options,n=this.$helpMenuBtn,r=this._helpMenuView;e?(n.addClass("pressed"),r.open().always(function(){t.pageHeaderUiModel.set("show_help_menu",!1)})):(n.removeClass("pressed"),r.close())},_selectFilesTool:function(){var e=this.options.appApi,t=e.pluginsApi;e.dialogApi.closeAllDialogs(),t.callPluginMethodForEachIfEnabled(t.getPluginTypeConfig("account_menu").plugin_ids,"deselectPlugin",undefined,undefined,!0),e.previewApi.closeFullPreview({noHistoryEffect:!0}).then(function(){e.routerApi.navigate("folder/"+encodeURIComponent(e.folderApi.getRootFolderId()),{trigger:!0})})},_navigateToApollo:function(){var t;e.Features.isFeatureEnabled("redirect_to_apollo")?(t=e.Features.getFeature("apollo_url"),t?window.location=t:LOG("AcApp.PageHeaderView._navigateToApollo could not get apollo_url")):this._selectFilesTool()},_onAdcLogoClick:function(t){this._logSiteCatalystEvent([a.ACOM_TREFOIL,a.CLICKED]),!i.isCEF()&&t.shiftKey&&e.Features.isFeatureEnabled("no_collection_item_checkbox")&&this.options.appApi.routerApi.hasQueryParam("no_collection_item_checkbox","1")?this.options.appApi.selectionApi.selectFiles("home",{dialog:{singleFileSelection:!0},plugin:{filter:{extensions:[".pdf"]}}}).done(function(e){LOG("AcApp.PageHeaderView._onAdcLogoClick localFiles: "+e.localFiles.length+" uploadedFiles: "+_.keys(e.uploadedFileAttrs).length)}):this._navigateToApollo()},_onAdcAppNameClick:function(){this._logSiteCatalystEvent([a.A_DOT_COM,a.CLICKED]),this._navigateToApollo()},_onAdcAppNameKeyDown:function(e){return e.which===13||e.which===32?(this._consumeEvent(e),$(e.target).click(),!0):!1},_onKeyDown:function(e){var t=$(e.target),n=!1;return u.descendantHasFocus(this.$el)?(t.is(this.$accountMenuBtn)?n=this._onAccountMenuBtnKeyDown(e):t.is(this.$helpMenuBtn)?n=this._onHelpMenuBtnKeyDown(e):t.is(this.$statusMenuBtn)?n=this._onStatusMenuBtnKeyDown(e):this.$(".adc-app-name").is(t)&&(n=this._onAdcAppNameKeyDown(e)),n):n},_onMenuBtnKeyDown:function(e,t){var n=e.which,r=e.target,i=!1;switch(n){case 32:case 38:case 40:this._consumeEvent(e);if(n===38&&t||n!==38&&!t)r.click(),i=!0}return i},_onAccountMenuBtnClick:function(){this._logSiteCatalystEvent([a.USER_ACCOUNT_MENU,a.CLICKED]),this._triggerViewEvent(t.ViewEvents.ACCOUNT_MENU_BTN_CLICK)},_onAccountMenuBtnKeyDown:function(e){return this._onMenuBtnKeyDown(e,this.options.pageHeaderUiModel.get("show_account_menu"))},_onHelpMenuBtnClick:function(){this._logSiteCatalystEvent([a.HELP,a.CLICKED]),this._triggerViewEvent(t.ViewEvents.HELP_MENU_BTN_CLICK)},_onHelpMenuBtnKeyDown:function(e){return this._onMenuBtnKeyDown(e,this.options.pageHeaderUiModel.get("show_help_menu"))},_onStatusMenuBtnClick:function(){this.options.statusMenuUiModel.set("show_menu",!0)},_onStatusMenuBtnKeyDown:function(e){return this._onMenuBtnKeyDown(e,this.options.statusMenuUiModel.get("show_menu"))},_addAppApiCallbacks:function(){this.options.appApi.windowApi.addWindowResizeCallback(this.render)},_addUiModelEventListeners:function(){var e=this.options,t=e.fullOverlayUiModel,n=e.pageHeaderUiModel,r=e.statusMenuUiModel,i=e.usersMeModel;this.listenTo(n,"change:show_account_menu",this._onShowAccountMenuChange).listenTo(n,"change:show_help_menu",this._onShowHelpMenuChange).listenTo(i,"change:identity",this._onIdentityChange).listenTo(r,"change:net_status",this._onNetStatusChange).listenTo(r,"change:show_menu",this._onShowStatusMenuChange).listenTo(t,"change:show_overlay",this._onShowOverlayChange)},_onShowAccountMenuChange:function(e,t){this._showAccountMenu(t)},_onShowHelpMenuChange:function(e,t){this._showHelpMenu(t)},_onIdentityChange:function(){this.render()},_onNetStatusChange:function(){this._updateStatusMenuButton()},_onShowStatusMenuChange:function(e,t){var n=this._statusMenuView,r=this.options.statusMenuUiModel;t?n.isMenuOpen()||n.open().always(function(){r.set("show_menu",!1)}):n.close(),this.render()},_onShowOverlayChange:function(e,t){var n=this.$statusMenuBtn;t?n.addClass("disabled").attr("disabled","disabled"):n.removeClass("disabled").removeAttr("disabled")}}),t.PageHeaderView}),define("app/dev/templates/tools-template",[],function(){return'<div class="tools-navigation"        role="navigation" aria-labelledby="adc-app-name">    <div class="toolbar"         role="toolbar" aria-labelledby="adc-app-name">        <div class="toolbar-selection-pointer"></div>    </div></div><div class="tools-content"></div> <div class="full-preview unselectable"></div><div class="full-overlay unselectable ui-theme theme-container"></div>'}),define("app/dev/views/toolbar-view",["core/ac-core","app/ac-app","core/templates/toolbar-item-template","core/utils/css-util","core/utils/view-util","core/utils/sc-analytics","core/views/plugins-selector-view"],function(e,t,n,r,i,s){t.ToolbarView=e.PluginsSelectorView.extend({initialize:function(){e.PluginsSelectorView.prototype.initialize.call(this),this._addAppApiCallbacks(),this._addUiModelEventListeners()},render:function(){e.PluginsSelectorView.prototype.render.call(this),r.fitInOneRow(this.$selectors,this.$labels,{prefFontSize:16,minFontSize:12,prefLrPadding:12}),this._positionPointer()},_getSelectorTemplate:function(){return n},_getSelectorViewEvent:function(){return t.ViewEvents.TOOLBAR_ITEM_CLICK},_getSiteCatalystContext:function(){return s.TOOLS},_initWrappers:function(){e.PluginsSelectorView.prototype._initWrappers.call(this),this.$labels=this.$(".toolbar-item-label"),this.$pointer=this.$(".toolbar-selection-pointer"),this.$toolsContent=this.$el.parent().find(".tools-content")},_adjustItemLabelFontSize:function(){function h(){o.css("font-size",u+"px"),o.css("padding","0 "+l+"px")}var e=this.$el,t=this.$selectors,n=t.last(),s=n.position(),o=this.$labels,u=16,a=12,f=!1,l=12,c;if(i.isElementHidden(e))return;h();while(s){if(s.top===0)break;u-=1,l-=1,h(),s=n.position();if(u<=a){f=!0;break}}f&&s.top>0?c=e.width()/t.length-r.getExtraWidth(t.eq(0)):c="none",t.css("max-width",c)},_positionPointer:function(){var e=this._getSelectedSelectorElement(),t,n=this.$pointer,i;if(e){if(!e.is(":visible"))return;n.width(e.find(".toolbar-item-label").width()),i=r.getFullWidth(e),t=e.position(),n.show().css("left",t.left+1+(i-n.width())/2+"px")}else n.hide()},_addAppApiCallbacks:function(){this.options.appApi.windowApi.addWindowResizeCallback(this.render)},_addUiModelEventListeners:function(){this.listenTo(this.options.toolsUiModel,"change:plugins",this.render)}})}),define("app/dev/templates/tool-content-template",[],function(){return'<div class="tool-content plugin-content ui-theme theme-container"></div>'}),define("app/dev/views/tools-content-view",["core/ac-core","app/ac-app","app/templates/tool-content-template","core/views/plugins-content-view"],function(e,t,n){t.ToolsContentView=e.PluginsContentView.extend({_getContentTemplate:function(){return n}})}),define("app/dev/views/full-overlay-view",["core/ac-core","app/ac-app","core/views/view"],function(e,t){t.FullOverlayView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this._addUiModelEventListeners()},render:function(){e.View.prototype.render.call(this),this.options.fullOverlayUiModel.set("overlay_element",this.$el)},_addUiModelEventListeners:function(){this.listenTo(this.options.fullOverlayUiModel,"change:show_overlay",this._onShowOverlayChange)},_onShowOverlayChange:function(e,t){var n=this.$el;t?n.addClass("shown"):n.removeClass("shown")}})}),define("app/dev/views/tools-view",["core/ac-core","app/ac-app","core/utils/util","app/templates/tools-template","core/views/view","app/views/toolbar-view","app/views/tools-content-view","app/views/full-overlay-view"],function(e,t,n,r){t.ToolsView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this._addUiModelEventListeners(),this._addAppApiCallbacks()},render:function(){var t=this.$el;e.View.prototype.render.call(this),t.children().length===0&&(t.html(_.template(r)()),this._initWrappers()),this._renderChildViews()},_initWrappers:function(){this.$navigation=this.$(".tools-navigation"),this.$toolbar=this.$(".toolbar"),this.$toolsContent=this.$(".tools-content"),this.$fullOverlay=this.$(".full-overlay").first()},_renderChildViews:function(){var e=_.extend({},this.options,{pluginsUiModel:this.options.toolsUiModel});this._renderChildView("_toolsContentView",t.ToolsContentView,this.$toolsContent,e),this._renderChildView("_toolbarView",t.ToolbarView,this.$toolbar,e),e.noToolbar&&(this.$toolsContent.offset({top:this.$toolbar.offset().top}),this.$toolbar.hide()),this._renderChildView("_fullOverlayView",t.FullOverlayView,this.$fullOverlay,e)},_addUiModelEventListeners:function(){var e=this.options;this.listenTo(e.toolsUiModel,"change:selected_plugin_id",this._onSelectedPluginIdChange),this.listenTo(e.fullOverlayUiModel,"change:show_overlay",this._onShowOverlayChange)},_onSelectedPluginIdChange:function(){this.render()},_addAppApiCallbacks:function(){this.options.appApi.previewApi.addItemModelChangeCallback(this._onFullPreviewModelChange)},_onFullPreviewModelChange:function(e){this._toggleOverlay(!!e)},_onShowOverlayChange:function(e,t){this._toggleOverlay(t)},_toggleOverlay:function(e){var t=this.$navigation.add(this.$toolsContent),r="hidden";n.isCEF()?this._toolbarView.render():e?t.addClass(r).attr("aria-hidden",!0):(t.removeClass(r).removeAttr("aria-hidden"),this._toolbarView.render())}})}),define("app/dev/views/acrobat-footer-view",["core/ac-core","files/ac-files","app/ac-app","files/templates/acrobat-footer-template","i18n!core/nls/ui-strings","i18n!files/nls/ui-strings","core/utils/view-util","core/views/view"],function(e,t,n,r,i,s,o){var u='<option class="acrobat-file-filter-menu-item">    <%= display %></option>';n.AcrobatFooterView=e.View.extend({events:{"change .acrobat-file-filter":"_onFileFilterChange","click  .acrobat-open-selected":"_onOpenSelectedClick","click  .acrobat-cancel":"_onCancelClick"},initialize:function(){var t=$("body");e.View.prototype.initialize.call(this),this._template=_.template(r),t.addClass("acrobat"),this._filterMenuItemTemplate=_.template(u),t.on("keydown",this._onBodyKeyDown),this._addAppApiCallbacks()},render:function(){e.View.prototype.render.call(this),this.$el.children().length===0&&(this.$el.html(this._template({show:s.SHOW,cancel:i.CANCEL})),this._initWrappers(),this._renderFilterMenu()),this._updateControls(),this._updateFilterMenu()},_initWrappers:function(){this.$fileFilterMenu=this.$(".acrobat-file-filter"),this.$openSelectedBtn=this.$(".acrobat-open-selected"),this.$cancelBtn=this.$(".acrobat-cancel")},_renderFilterMenu:function(){var e,t,n,r;e=this.options.acrobatUiModel.get("file_filters"),t=this.$fileFilterMenu,r=this._filterMenuItemTemplate,_.each(e,function(e){t.append(r({display:e.display})),n=t.children().last(),n.attr("value",e.extensions)})},_updateFilterMenu:function(){var e,t;e=this.options.acrobatUiModel.get("selected_filter_index"),t=this.$fileFilterMenu.children(),t.removeAttr("selected"),t.eq(e).attr("selected","selected")},_updateControls:function(){var e=this.options,t=this.$openSelectedBtn,n=e.appApi.selectionApi.getSelectedItemModels(),r=n.length;e.acrobatUiModel.isFolderSelectionMode()?(t.attr("value",r>0?s.OPEN_SELECTED:s.SAVE),o.enableInput(t,!0)):(t.attr("value",s.OPEN_SELECTED),o.enableInput(t,r>0))},_onFileFilterChange:function(e){this._triggerViewEvent(n.ViewEvents.ACROBAT_SELECT_FILTER,{filterIndex:e.target.selectedIndex})},_onOpenSelectedClick:function(){var e=this.options,r=e.appApi,i=r.selectionApi,s,o,u;s=i.getSelectedItemModels();if(e.acrobatUiModel.isFolderSelectionMode()&&(!s||s.length===0)){this._triggerViewEvent(n.ViewEvents.ACROBAT_OPEN,{ids:[e.folderApi.getCurrentFolderId()]});return}if(!s)return;o=[],_.each(s,function(e){o.push(e.id);if(!u&&e.isFolder())return u=e,!1}),u?this._triggerViewEvent(t.ViewEvents.NAVIGATE_TO_FOLDER,{id:u.get("id")}):this._triggerViewEvent(n.ViewEvents.ACROBAT_OPEN,{ids:o})},_onCancelClick:function(){this._triggerViewEvent(n.ViewEvents.ACROBAT_CLOSE)},_onBodyKeyDown:function(e){var t=e.which;if(o.isElementHidden(this.$el))return;t===13?this._onOpenSelectedClick():t===27&&this._onCancelClick()},_addAppApiCallbacks:function(){this.options.appApi.selectionApi.addSelectedItemsModelsChangeCallback(this._onSelectionChange)},_onSelectionChange:function(){this._updateControls()}})}),define("app/dev/views/modal-mask-view",["core/ac-core","app/ac-app","core/utils/util","core/views/view"],function(e,t,n){t.ModalMaskView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this._addUiModelEventListeners()},render:function(){return e.View.prototype.render.call(this),this._updateModal(),this},_updateModal:function(){var e=this.$el,t=this.options,r=t.appApi,i=t.modalMaskUiModel,s=r.selectionApi;if(!e)return;r.displayApi.isDebugLogging()&&LOG("AcApp.ModalMaskView._updateModal modal: "+i.get("modal")+", modal_ajax: "+i.get("modal_ajax")+", modal_transparent: "+i.get("modal_transparent")+", modal_ref_count: "+i.get("modal_ref_count")),i.get("modal")?(e.not(".shown").addClass("shown").prevAll().each(function(e,t){var n=$(t),r=n.data("ariaHidden"),i=n.attr("aria-hidden");i!==undefined&&r===undefined&&n.data("ariaHidden",i),(!i||i==="false")&&n.attr("aria-hidden","true")}),i.get("modal_ajax")&&(!n.isCEF()||!s.isRunningInFileSelection())?e.addClass("ajax"):e.removeClass("ajax"),i.get("modal_transparent")&&(!r.dialogApi.isDialogOpen()||s.isRunningInFileSelection())?e.addClass("transparent"):e.removeClass("transparent")):i.get("modal_ref_count")===0&&(e.filter(".shown").prevAll().each(function(e,t){var n=$(t),r=n.data("ariaHidden");r!==undefined?n.attr("aria-hidden",r).removeData("ariaHidden"):n.removeAttr("aria-hidden")}),e.removeClass("shown ajax transparent"))},_addUiModelEventListeners:function(){var e=this.options.modalMaskUiModel;e.on("change",_.debounce(_.bind(function(){this._onModalChange()},this),e.get("refresh_wait")))},_onModalChange:function(){this._updateModal()}})}),define("app/dev/views/content-page-view",["core/ac-core","app/ac-app","app/templates/content-page-template","app/views/page-header-view","app/views/tools-view","app/views/acrobat-footer-view","app/views/modal-mask-view"],function(e,t,n){t.ContentPageView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(n)},render:function(){return e.View.prototype.render.call(this),this.$el.children().length===0&&(this.$el.html(this._template()),this._initWrappers()),this._renderChildViews(),this},_initWrappers:function(){this.$header=this.$(".page-header"),this.$tools=this.$(".tools"),this.$fullPreview=this.$(".page-body.full-preview"),this.$acrobatFooter=this.$(".acrobat-footer"),this.$modalMask=$("#modal-mask")},_renderChildViews:function(){this._renderPageHeaderView(),this._renderToolsView(),this._renderAcrobatFooterView(),this._renderModalMaskView()},_renderPageHeaderView:function(){this._renderChildView("_pageHeaderView",t.PageHeaderView,this.$header)},_renderToolsView:function(){this._renderChildView("_toolsView",t.ToolsView,this.$tools)},_renderAcrobatFooterView:function(){this.options.acrobatUiModel.get("is_in_acrobat")&&this._renderChildView("_acrobatFooterView",t.AcrobatFooterView,this.$acrobatFooter)},_renderModalMaskView:function(){this._renderChildView("_modalMaskView",t.ModalMaskView,this.$modalMask)}})}),define("app/dev/templates/rhp-content-page-template",[],function(){return'<div class="rhp-main-container ui-theme theme-container"></div>'}),define("app/dev/templates/rhp-container-template",[],function(){return'<div class="rhp-container-content"></div>'}),define("app/dev/views/rhp-container-view",["core/ac-core","app/ac-app","files/ac-files","app/templates/rhp-container-template","core/views/view"],function(e,t,n,r){t.RHPContainerView=e.View.extend({events:{},initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(r)},render:function(){return e.View.prototype.render.call(this),this.$el.children().length===0&&(this.$el.html(this._template({})),this._initWrappers()),this._renderChildViews(),this},_initWrappers:function(){this.$pluginsContent=this.$(".rhp-container-content")},_renderChildViews:function(){var e=this.options;this._renderChildView("_pluginsContentView",n.FullPreviewPluginsContentView,this.$pluginsContent,_.extend(e,{pluginsUiModel:e.runningInContextBoard?e.fullPreviewRhpPluginsUiModel:e.fullPreviewPluginsUiModel}))}})}),define("app/dev/views/rhp-content-page-view",["core/ac-core","app/ac-app","app/templates/rhp-content-page-template","app/views/rhp-container-view"],function(e,t,n){t.RHPContentPageView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(n)},render:function(){return e.View.prototype.render.call(this),this.$el.children().length===0&&(this.$el.html(this._template()),this._initWrappers()),this._renderChildViews(),this},_initWrappers:function(){this.$rhpContainer=this.$(".rhp-main-container"),$("body").css("overflow","hidden"),this.$modalMask=$("#modal-mask")},_renderChildViews:function(){this.$rhpContainer.show(),this._renderRHPContainerView(),this._renderModalMaskView()},_renderRHPContainerView:function(){this._renderChildView("_rhpContainerView",t.RHPContainerView,this.$rhpContainer)},_renderModalMaskView:function(){this._renderChildView("_modalMaskView",t.ModalMaskView,this.$modalMask)}})}),define("app/dev/templates/notification-content-page-template",[],function(){return'<div class="notification-content-container ui-theme theme-container"><div class="notification-container"><div class="notification-error-view"></div></div><div class="notification-remove-history"><button class="notification-remove-history-button theme-hyperlink" tabindex="0"><%= remove_history %></button></div></div>'}),define("app/dev/templates/notification-error-view-template",[],function(){return'<div class="error-view-tooltip-nub"></div><div class="error-view-text"><div class="error-title"><%= title %></div><div class="error-description"><%= description %></div><div class="error-retry"><%= retry %></div></div>'}),define("app/dev/views/notification-error-view",["core/ac-core","app/templates/notification-error-view-template","i18n!core/nls/ui-strings","core/views/view"],function(e,t,n){var r=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(t),this._addUiModelEventListeners(),this.render()},events:{mouseleave:"_startMouseLeaveTimer",mouseenter:"_clearMouseLeaveTimer","click .error-retry":"_onRetryClick"},render:function(){return e.View.prototype.render.call(this),this.$el.html(_.template(t)({title:"",description:"",retry:n.NOTIFICATION_RETRY})),this._initWrappers(),this},show:function(e,t){var n=e,r="",i=!1,s;try{s=JSON.parse(e)}catch(o){}s&&(n=s.errorTitle,r=s.errorBody,i=s.showRetry),this.$errorTitle.text(n),this.$errorDesc.text(r),this.$el.show(),i?this.$retry.show():this.$retry.hide(),this.$el.css("top",t.offset().top+15),this.$errorTitle.offset().top+this.$errorTitle.height()+this.$errorDesc.height()>this.$notificationParent.height()&&this.$notificationParent.height(this.$notificationParent.height()+this.$errorTitle.offset().top+this.$errorTitle.height()+this.$errorDesc.height()+10-this.$notificationParent.height()),this.options.notificationContainerUiModel.set("hide_error_msg",!1)},close:function(){this.$errorTitle.text(""),this.$errorDesc.text(""),this.notificationView=null,this.$el.hide(),this.$notificationParent.height("auto")},_initWrappers:function(){this.$errorTitle=this.$(".error-title"),this.$errorDesc=this.$(".error-description"),this.$retry=this.$(".error-retry"),this.$notificationParent=$(".notification-content-container")},_startMouseLeaveTimer:function(){var e=this.options.notificationContainerUiModel;this._clearMouseLeaveTimer(),e.set("mouse_leave_timer",setTimeout(_.bind(function(){e.unset("active_error_msg"),this.close()},this),e.get("mouse_leave_timeout")))},_clearMouseLeaveTimer:function(){var e=this.options.notificationContainerUiModel,t=e.get("mouse_leave_timer");t&&(clearTimeout(t),e.unset("mouse_leave_timer"))},_onRetryClick:function(e){this._consumeEvent(e),this.notificationView.retryDownload(),this.options.notificationContainerUiModel.unset("active_error_msg"),this.close()},_onActiveErrorChange:function(e,t){if(t&&t.error&&t.error.length){var n=t.error,r=t.elem;this.notificationView=t.view,this.show(n,r)}},_onHideErrorMsgChange:function(e,t){t&&this._startMouseLeaveTimer()},_addUiModelEventListeners:function(){this.listenTo(this.options.notificationContainerUiModel,"change:active_error_msg",this._onActiveErrorChange),this.listenTo(this.options.notificationContainerUiModel,"change:hide_error_msg",this._onHideErrorMsgChange)}});return r}),define("app/dev/templates/notification-subcontainer-template",[],function(){return'<div class="notification-sub-container"><div class="title theme-text"><%= title %></div><div class="notification-view-container"></div><input type="button" class="notification-download-all-link button-light-blue-small theme-hoverable" title="<%= download %>" value="<%= download %>"/></div>'}),define("app/dev/templates/notification-template",[],function(){return'<div class="notification-view">       <div class="notification-file-name theme-text hide"><%= filename %></div>       <button class="notification-download-link theme-hyperlink hide"><%= download %></button>       <div class="notification-error-msg theme-text hide"><%= error %></div>       <div class="progress-view">           <div class="progress-upload-bar">               <div class="progress-file-name upload"><%= filename %></div>               <div class="progress-state"><%= progress_state %></div>               <div class="progress-meter"></div>               <div class="cancel-upload core-remove-x" role="button" tabindex="0"></div>           </div>           <div class="progress-busy-bar hide">               <div class="progress-file-name busy"><%= filename %></div>               <div class="progress-state"><%= progress_state %></div>           </div>       </div>   </div>'}),define("app/dev/views/notification-view",["core/ac-core","app/ac-app","core/utils/util","core/utils/truncate","app/templates/notification-template","i18n!core/nls/ui-strings","core/models/rna/rna-notification-model","core/utils/sc-analytics","core/views/view"],function(e,t,n,r,i,s,o,u){var a=15;t.NotificationView=e.View.extend({initialize:function(t,n){e.View.prototype.initialize.call(this),this._template=_.template(i),this.options=n,this.options.appApi.displayApi.showSpinner(!1)},events:{"click .notification-view":"_onNotificationViewClick","keydown .notification-view":"_onNotificationViewKeydown","click .cancel-upload":"_onCancelUploadClick","keydown .cancel-upload":"_onNotificationViewKeydown","mouseenter .notification-error-msg":"_onErrorMouseEnter","mouseleave .notification-error-msg":"_onErrorMouseLeave","mouseenter .notification-view":"_onNotificationViewEnter","focusin .notification-view":"_onNotificationViewEnter","mouseleave .notification-view":"_onNotificationViewLeave","focusout .notification-view":"_onNotificationViewLeave"},_onNotificationViewClick:function(e){var t=this.model.get("state");t===o.NOTIFICATION_STATES.DOWNLOADED?this._onShowInFolderClick(e):t===o.NOTIFICATION_STATES.COMPLETED?this._onDownloadClick(e):t===o.NOTIFICATION_STATES.DONE&&this._consumeEvent(e)},_onNotificationViewKeydown:function(e){if(e.which===13||e.which===32)this._consumeEvent(e),$(e.target).click()},_logAnalytics:function(e){if(this.siteCatalystName){var t=[u.TOOLS,this.siteCatalystName,u.PROGRESS_BAR];this.options.appApi.siteCatalystApi.logScEvent(t.concat(e))}},_onDownloadClick:function(e){e&&this._consumeEvent(e),this._logAnalytics([u.DOWNLOAD_CLICK,u.SAVE_AS,u.CLICKED]);var t={fileName:this.convertedFileName,fileExtension:this.fileExtn,showCustomSaveDialog:!0,allowNewFolder:!0,selectedPluginIdForSaveAs:this.selectedPluginIdForSaveAs,useCustomStorage:this.useCustomStorage},n=_.extend(this.options,{assetId:this.outputID});this.fileExtn.toLowerCase()==="pdf"?(n=_.extend(n,{fileName:"",fileSize:0}),this._downloadFileInternal(n)):this.options.appApi.rnaApi.done(_.bind(function(e){e.getFileSaveAsLocation(t).then(_.bind(function(e){console.log(e),e.destFileSys=="BlueHeronFS"?(n=_.extend(n,{fileName:"",fileSize:0}),this._downloadFileInternal(n,!1,!0,e.destFileName,e.destFilePath)):(n=_.extend(n,{fileObj:e.destFileProxyObj,fileSize:0}),this._downloadFileInternal(n,e.isNative,!1,e.destFileName))},this),_.bind(function(e){if(e!==7){var t={errorTitle:s.NOTIFICATION_DOWNLOAD_ERROR,errorBody:"",downloadError:!0,showRetry:!0};this.model.invoke("setProperty",{operationType:"",state:o.NOTIFICATION_STATES.FAILED,error:JSON.stringify(t)})}else this.model.invoke("setProperty",{operationType:"",state:o.NOTIFICATION_STATES.COMPLETED})},this))},this))},_downloadFileInternal:function(t,n,r,i,u){var a=e.opFactory.create("DownloadingFileOp",t).run();a[1].done(_.bind(function(e){e.errorSet||(e.downloadedFileName?this.downloadedFileName=e.downloadedFileName:this.downloadedFileName=i,this.model.invoke("setProperty",{operationType:o.NOTIFICATION_OPERATIONS.DOWNLOAD,state:o.NOTIFICATION_STATES.IN_PROGRESS}))},this)),a[0].then(_.bind(function(a){this.downloadedFile=a.downloadedFile;var f={},l=this.downloadClickAction||o.DOWNLOAD_LINK_CLICK_ACTION.SAVE_FILE,c=n?o.NOTIFICATION_STATES.DOWNLOADED:o.NOTIFICATION_STATES.DONE,h=this.fileExtn.toLowerCase()==="pdf"?o.NOTIFICATION_STATES.COMPLETED:c;this.downloadedFile||(h=o.NOTIFICATION_STATES.COMPLETED),a.downloadedFileSys&&(f.downloadedFileSys=a.downloadedFileSys),a.downloadedFilePath&&(f.downloadedFilePath=a.downloadedFilePath),this._updateUserData(f),r?this._uploadToBH(this.downloadedFile,u,i).then(_.bind(function(){this.model.invoke("setProperty",{operationType:"",state:h})},this),_.bind(function(){var e={errorTitle:s.NOTIFICATION_DOWNLOAD_ERROR,errorBody:"",downloadError:!0,showRetry:!0};this.model.invoke("setProperty",{operationType:"",state:o.NOTIFICATION_STATES.FAILED,error:JSON.stringify(e)})},this)):(this.model.invoke("setProperty",{operationType:"",state:h}),this.downloadedFile&&l===o.DOWNLOAD_LINK_CLICK_ACTION.OPEN_FILE&&this.fileExtn.toLowerCase()==="pdf"&&(t=_.extend(this.options,{localFileModel:this.downloadedFile,displayName:this.convertedFileName,needSave:!0,updateRecentFilesAndFolders:!1}),e.opFactory.create("OpeningDocInReaderOp",t).run()))},this),_.bind(function(e){if(e!==7){var t={errorTitle:s.NOTIFICATION_DOWNLOAD_ERROR,errorBody:"",downloadError:!0,showRetry:!0};this.model.invoke("setProperty",{operationType:"",state:o.NOTIFICATION_STATES.FAILED,error:JSON.stringify(t)})}else this.model.invoke("setProperty",{operationType:"",state:o.NOTIFICATION_STATES.COMPLETED})},this))},_uploadToBH:function(t,r,i){function s(e,t){n.isIE9orBelow()?this.model.set({progress:-1}):this.model.set({progress:parseInt(e/t*100,10)})}var o=_.extend(this.options,{rnaFile:t,uploadType:"managed",parentID:r,fileName:i,onDuplicateName:"auto_rename",notificationObj:this.model.get("notification"),progressCB:_.bind(s,this),ignoreContentType:!0,showBezel:!1});return e.opFactory.create("UploadingFileOp",o).run()},retryDownload:function(){this.model.invoke("setProperty",{operationType:"",state:o.NOTIFICATION_STATES.COMPLETED,error:""}).done(_.bind(function(){this._onNotificationViewClick()},this))},_onErrorMouseEnter:function(){this.options.notificationContainerUiModel.set("active_error_msg",{error:this.model.get("error"),elem:this.$el,view:this}),this._logAnalytics([u.ERROR,u.HOVER_OVER,u.SHOWN])},_onErrorMouseLeave:function(){this.options.notificationContainerUiModel.set("hide_error_msg",!0)},_onNotificationViewEnter:function(){var e=this.model.get("state"),t=this.$notificationView.width(),n=this.$downloadLink.width()+a;if(e===o.NOTIFICATION_STATES.COMPLETED||e===o.NOTIFICATION_STATES.DOWNLOADED)this.$notificationView.addClass("hover"),e===o.NOTIFICATION_STATES.COMPLETED&&(this.category!=="create"&&this.category!=="export"&&this.category!=="combineconvert"&&this.$downloadLink.text(s.SHOW_IN_FOLDER),n=this.$downloadLink.width()+a,r.truncateElementText(this.$fileName,t-n))},_onNotificationViewLeave:function(){var e=this.model.get("state"),t=this.$notificationView.width(),n=this.$downloadLink.width()+a;if(e===o.NOTIFICATION_STATES.COMPLETED||e===o.NOTIFICATION_STATES.DOWNLOADED)this.$notificationView.removeClass("hover"),e===o.NOTIFICATION_STATES.COMPLETED&&(this.$downloadLink.text(this.onNotificationLeaveText),n=this.$downloadLink.width()+a,r.truncateElementText(this.$fileName,t-n))},_updateStatus:function(){var e=this._getState();this.options.notificationContainerUiModel.setStatusOfNotification(this.notificationID,e,this.category)},_updateUserData:function(e){var t=this.model.get("userData"),n={},r={};try{n=JSON.parse(t)}catch(i){}r=$.extend(!0,{},n,e),this.model.invoke("setProperty",{userData:JSON.stringify(r)})},_onCancelUploadClick:function(){this._logAnalytics([u.UPLOAD_CANCELLED,u.CLICKED]),this.model.invoke("customNotification",{eventName:"stopFileUpload",eventData:""})},_onShowInFolderClick:function(e){var t;e&&this._consumeEvent(e),this._logAnalytics([u.DOWNLOAD_COMPLETE,u.SHOW_IN_FOLDER,u.CLICKED]),this.downloadedFile?(t={fileObj:this.downloadedFile},this.options.appApi.rnaApi.done(function(e){e.fileApi({methodName:"showFileInFinderOrExplorer",methodArgs:t})})):this.downloadedFileSys&&this.downloadedFilePath?(t={fileSys:this.downloadedFileSys,filePath:this.downloadedFilePath},this.options.appApi.rnaApi.done(function(e){e.fileApi({methodName:"showFileInFinderOrExplorer",methodArgs:t})})):this.model.invoke("setProperty",{operationType:"",state:o.NOTIFICATION_STATES.COMPLETED})},render:function(){e.View.prototype.render.call(this);var t=this.model,r=t.get("progressPercentage"),o=t.get("description"),u=t.get("userData"),a=t.get("operationType"),f=t.get("state"),l,c=t.get("error"),h,p="",d,v;this.notificationID=t.get("notificationID"),this.category=o;try{l=JSON.parse(u)}catch(m){}return l&&(p=l.customMessage,this.fileName=l.fileName||"",this.fileExtn=l.fileExtn||"",this.selectedPluginIdForSaveAs=l.selectedPluginIdForSaveAs||"",this.siteCatalystName=l.siteCatalystName||"",this.useCustomStorage=l.useCustomStorage,this.convertedFileName="",this.fileName&&(h=n.getExtension(this.fileName),h?this.convertedFileName=this.fileName.slice(0,-h.length)+this.fileExtn:this.convertedFileName=this.fileName+"."+this.fileExtn),l.outputID&&(this.outputID=l.outputID),this.downloadClickAction=l.downloadClickAction,this.canUploadBeCancelled=l.canUploadBeCancelled),this.onNotificationLeaveText=this.fileExtn.toLowerCase()==="pdf"?s.OPEN:s.SAVE_AS,this.$el.html(_.template(i)({progress:r,filename:p||this.fileName,download:this.onNotificationLeaveText,progress_state:s.NOTIFICATION_UPLOADING,error:s.NOTIFICATION_CONVERSION_FAILURE})),this._initWrappers(),this._updateStatus(),this.canUploadBeCancelled||this.$cancelUpload.hide(),this._addEventListeners(),this._onProgressChange(t,r),this._onStatusChange(t,f),this._onOperationChange(t,a),this._onErrorChange(t,c),this._onUserDataChange(t,u),this},truncateTextToFit:function(){var e=this.$notificationView.width(),t=this._getProgressStateWidth()+30,n=this.$downloadLink.width()+a,i=this.$errorMsg.width()+a;r.truncateElementText(this.$progressFileNameUpload,e-t),r.truncateElementText(this.$progressFileNameBusy,e-t),r.truncateElementText(this.$fileName,e-Math.max(n,i))},truncateFileNameTextToFit:function(){var e=this.$notificationView.width(),t=this.$downloadLink.width()+a;r.truncateElementText(this.$fileName,e-t)},close:function(){this.options.notificationContainerUiModel.removeNotification(this.notificationID,this.category),this.remove()},refresh:function(){this.render()},_initWrappers:function(){this.$progressMeter=this.$(".progress-meter"),this.$progressView=this.$(".progress-view"),this.$progressUploadBar=this.$(".progress-upload-bar"),this.$progressBusyBar=this.$(".progress-busy-bar"),this.$progressState=this.$(".progress-state"),this.$downloadLink=this.$(".notification-download-link"),this.$errorMsg=this.$(".notification-error-msg"),this.$fileName=this.$(".notification-file-name"),this.$progressFileNameUpload=this.$(".progress-file-name.upload"),this.$progressFileNameBusy=this.$(".progress-file-name.busy"),this.$cancelUpload=this.$(".cancel-upload"),this.$notificationView=this.$(".notification-view")},_setProgress:function(e){if(this.$progressMeter.length){var t=this.$(".progress-upload-bar").width()/100;this.$progressMeter.width(t*e)}},_onProgressChange:function(e,t){this._setProgress(t)},_onStatusChange:function(e,t){var n=this.$notificationView.width(),i;t===o.NOTIFICATION_STATES.COMPLETED&&(this.$progressView.hide(),this.$downloadLink.show(),this.$downloadLink.text(this.onNotificationLeaveText),this.$fileName.text(this.convertedFileName),i=this.$downloadLink.width()+a,r.truncateElementText(this.$fileName,n-i),this.$fileName.show(),this._logAnalytics([u.COMPLETE,u.SHOWN])),t===o.NOTIFICATION_STATES.DOWNLOADED&&(this.$progressView.hide(),this.$downloadLink.show(),this.$fileName.text(this.downloadedFileName||this.convertedFileName),this.$downloadLink.text(s.SHOW_IN_FOLDER),i=this.$downloadLink.width()+a,r.truncateElementText(this.$fileName,n-i),this.$fileName.show(),this._logAnalytics([u.DOWNLOAD_COMPLETE,u.SHOWN])),t===o.NOTIFICATION_STATES.DONE&&(this.$progressView.hide(),this.$downloadLink.show(),this.$notificationView.removeClass("hover"),this.$fileName.text(this.downloadedFileName||this.convertedFileName),this.fileExtn.toLowerCase()!=="pdf"&&(this.$downloadLink.text(s.SAVED),this.$downloadLink.css("text-decoration","none"),this.$downloadLink.css("cursor","default")),i=this.$downloadLink.width()+a,r.truncateElementText(this.$fileName,n-i),this.$fileName.show(),this._logAnalytics([u.DOWNLOAD_COMPLETE,u.SHOWN])),t===o.NOTIFICATION_STATES.IN_PROGRESS&&(this.$progressView.show(),this.$notificationView.removeClass("hover")),t===o.NOTIFICATION_STATES.FAILED&&(this.$progressView.hide(),this.$downloadLink.hide(),this.$fileName.show(),this.$notificationView.removeClass("hover"),this._logAnalytics([u.CONVERT_FAILED,u.SHOWN])),this._updateStatus()},_getState:function(){var e=t.NotificationContainerUiModel.STATUS_BUSY,n=this.model.get("state");return n===o.NOTIFICATION_STATES.COMPLETED||n===o.NOTIFICATION_STATES.DONE||n===o.NOTIFICATION_STATES.DOWNLOADED?e=t.NotificationContainerUiModel.STATUS_COMPLETE:n===o.NOTIFICATION_STATES.FAILED&&(e=t.NotificationContainerUiModel.STATUS_WARNING),e},_onOperationChange:function(e,t){var n=this.$notificationView.width(),i;t===o.NOTIFICATION_OPERATIONS.UPLOAD?(i=this._getProgressStateWidth()+30,r.truncateElementText(this.$progressFileNameUpload,n-i),this.$progressUploadBar.show(),this.$fileName.hide(),this.$progressBusyBar.hide(),this._logAnalytics([u.UPLOADING,u.SHOWN])):t===o.NOTIFICATION_OPERATIONS.CONVERT?(this._logAnalytics([u.UPLOAD_COMPLETE,u.SHOWN]),this.$progressState.text(s.NOTIFICATION_CONVERTING),i=this._getProgressStateWidth()+a,this.$progressUploadBar.hide(),this.$fileName.hide(),this.$progressBusyBar.show(),r.truncateElementText(this.$progressFileNameBusy,n-i),this._logAnalytics([u.CONVERTING,u.SHOWN])):t===o.NOTIFICATION_OPERATIONS.DOWNLOAD?(this.$downloadLink.hide(),this.$progressState.text(s.NOTIFICATION_DOWNLOADING),i=this._getProgressStateWidth()+a,this.$progressUploadBar.hide(),this.$fileName.hide(),this.$progressBusyBar.show(),this.$progressFileNameBusy.text(this.downloadedFileName||this.convertedFileName),r.truncateElementText(this.$progressFileNameBusy,n-i),this._logAnalytics([u.DOWNLOADING,u.SHOWN])):t===o.NOTIFICATION_OPERATIONS.PROCESS&&(this.$downloadLink.hide(),this.$progressState.text(s.NOTIFICATION_PROCESSING),i=this._getProgressStateWidth()+a,this.$progressUploadBar.hide(),this.$fileName.hide(),this.$progressBusyBar.show(),this.$progressFileNameBusy.text(this.downloadedFileName||this.convertedFileName),r.truncateElementText(this.$progressFileNameBusy,n-i))},_getProgressStateWidth:function(){var e=$(this.$progressState[0]).width(),t=$(this.$progressState[1]).width();return e&&t?Math.max(e,t):e||t},_onUserDataChange:function(e,t){var n;try{n=JSON.parse(t)}catch(r){}n&&n.outputID&&(this.outputID=n.outputID),n&&n.downloadedFileName&&(this.downloadedFileName=n.downloadedFileName),n&&n.downloadedFileSys&&(this.downloadedFileSys=n.downloadedFileSys),n&&n.downloadedFilePath&&(this.downloadedFilePath=n.downloadedFilePath)},_onErrorChange:function(e,t){var n,i=this.$notificationView.width(),o;try{n=JSON.parse(t)}catch(u){}n&&(n.errorTitle||n.errorBody)?(n.downloadError===!0?this.$errorMsg.text(s.NOTIFICATION_DOWNLOAD_FAILURE):this.$errorMsg.text(s.NOTIFICATION_CONVERSION_FAILURE),o=this.$errorMsg.width()+a,r.truncateElementText(this.$fileName,i-o),this.$progressView.hide(),this.$errorMsg.show(),this.$fileName.show()):this.$errorMsg.hide()},_onShowReadyMapChange:function(e,t){this.model.get("state")===o.NOTIFICATION_STATES.COMPLETED&&(t[this.category]&&!this.useCustomStorage?this.onNotificationLeaveText=s.READY:this.onNotificationLeaveText=this.fileExtn.toLowerCase()==="pdf"?s.OPEN:s.SAVE_AS,this.$downloadLink.text(this.onNotificationLeaveText))},_addEventListeners:function(){this.model.on("change:progressPercentage",this._onProgressChange,this),this.model.on("change:state",this._onStatusChange,this),this.model.on("change:userData",this._onUserDataChange,this),this.model.on("change:operationType",this._onOperationChange,this),this.model.on("change:error",this._onErrorChange,this),this.model.on("remove",this.close,this),this.listenTo(this.options.notificationContainerUiModel,"change:show_ready_map",this._onShowReadyMapChange)}})}),define("app/dev/views/notification-subcontainer-view",["core/ac-core","app/ac-app","app/templates/notification-subcontainer-template","core/models/rna/rna-notification-model","i18n!core/nls/ui-strings","core/utils/sc-analytics","app/views/notification-view","core/views/view"],function(e,t,n,r,i,s){t.NotificationSubcontainerView=e.View.extend({initialize:function(t){e.View.prototype.initialize.call(this),this._template=_.template(n),this.category=t.category,this.siteCatalystName=t.siteCatalystName,this.showDownloadAll=t.showDownloadAll,this.title=t.title,this.notificationCollection=t.collection,this._addEventListeners()},events:{"click .notification-download-all-link":"_onDownloadAllClick"},render:function(){e.View.prototype.render.call(this),this.$el.html(_.template(n)({title:this.title,download:i.DOWNLOAD_ALL})),this._initWrappers();var t=this.options.notificationContainerUiModel;return t.get("show_download_all_by_category")[this.category]&&this.showDownloadAll?this.$downloadAll.show():this.$downloadAll.hide(),this},close:function(){this.remove()},createNotificationView:function(e){var n=new t.NotificationView({model:e},this.options);return this.addChildView(n),this.$notificationViewContainer.append(n.render().el),n.truncateTextToFit(),n},_initWrappers:function(){this.$notificationViewContainer=this.$(".notification-view-container"),this.$downloadAll=this.$(".notification-download-all-link")},_addEventListeners:function(){this.listenTo(this.options.notificationContainerUiModel,"change:show_download_all_by_category",this._onDownloadAllStausChange)},_onDownloadAllStausChange:function(e,t){t[this.category]&&this.showDownloadAll?this.$downloadAll.show():this.$downloadAll.hide()},_getFilteredNotificationCollection:function(){var e=this.category,t=this.notificationCollection.filter(function(t){return t.get("description")===e});return t},_getDownloadAssetIdArray:function(){var e=this._getFilteredNotificationCollection(),t=[];return e.forEach(function(e){var n=e.get("userData"),r=JSON.parse(n);r.outputID&&t.push(r.outputID)},this),t},_onDownloadAllClick:function(t){var n=this._getDownloadAssetIdArray(),i=n.join(";"),o={notificationHeading:this.title},u;this._consumeEvent(t),this.siteCatalystName&&(u=[s.TOOLS,this.siteCatalystName,s.PROGRESS_BAR,s.DOWNLOAD_CLICK,s.ALL_BUTTON,s.CLICKED],this.options.appApi.siteCatalystApi.logScEvent(u)),this.options.appApi.sessionApi.ensureSignedIn().done(_.bind(function(){this.options.appApi.rnaApi.done(_.bind(function(t){o.fileName="binder.zip",o.fileExtn="zip",t.notificationAPI.createNotification({operationType:r.NOTIFICATION_OPERATIONS.PROCESS,state:r.NOTIFICATION_STATES.IN_PROGRESS,userData:JSON.stringify(o),progress:0,description:this.category}).done(_.bind(function(t){e.opFactory.create("DownloadingZipStartOp",_.extend({},this.options,{id_list:i,numForms:0,fileName:"binder.zip",notificationObj:t})).run().then(_.bind(function(e){this._onDownloadCompletion(t,e)},this),_.bind(function(e){this._onDownloadFailed(t,e)},this))},this))},this))},this))},_onDownloadCompletion:function(e,t){var n=e.get("userData"),i={};try{i=JSON.parse(n)}catch(s){}t.downloadedFileSys&&(i.downloadedFileSys=t.downloadedFileSys),t.downloadedFilePath&&(i.downloadedFilePath=t.downloadedFilePath),e.invoke("setProperty",{operationType:"",userData:JSON.stringify(i),state:r.NOTIFICATION_STATES.DOWNLOADED})},_onDownloadFailed:function(e,t){if(t!==7){var n={errorTitle:i.NOTIFICATION_DOWNLOAD_ERROR,errorBody:"",downloadError:!0,showRetry:!1};e.invoke("setProperty",{operationType:"",state:r.NOTIFICATION_STATES.FAILED,error:JSON.stringify(n)})}}})}),define("app/dev/views/notification-content-page-view",["core/ac-core","app/ac-app","i18n!app/nls/ui-strings","app/templates/notification-content-page-template","app/views/notification-error-view","core/models/rna/rna-notification-model","core/views/view","app/views/notification-subcontainer-view"],function(e,t,n,r,i,s){t.NotificationContentPageView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this._template=_.template(r),this.notificationSubContainerMap={},this.options.appApi.rnaApi.done(_.bind(function(e){this.notificationCollection=e.notificationAPI.getNotificationList(),this._addEventListeners()},this)),this.options.appApi.sessionApi.addSignedInChangeCallback(this._onSignedInChange),this.hasBeenAdjustedOnScrollAdd=!1,this._addUiModelEventListeners(),this.options.appApi.displayApi.applyUIThemeStyles(this.$el).then(_.bind(function(){_.delay(_.bind(function(){this.render()},this),0)},this))},_onSignedInChange:function(e,t){t||this._removeAllNotifications()},_addUiModelEventListeners:function(){var e=this.options,t=e.notificationContainerUiModel;this.listenTo(t,"change:net_status",this._onNetStatusChange)},_onNetStatusChange:function(e,n){n===t.NotificationContainerUiModel.STATUS_COMPLETE?this._showNotificationProgressWidget(!0,"completed"):n===t.NotificationContainerUiModel.STATUS_BUSY?this._showNotificationProgressWidget(!0,"busy"):n===t.NotificationContainerUiModel.STATUS_WARNING?this._showNotificationProgressWidget(!0,"warning"):n===t.NotificationContainerUiModel.STATUS_IDLE&&this._showNotificationProgressWidget(!1,"")},_showNotificationProgressWidget:function(e,t){this.options.appApi.rnaApi.done(_.bind(function(n){n.rnaServicesAPI.showServicesProgressWidget(e,!1,t,!0)},this))},events:{"click .notification-remove-history-button":"_onRemoveHistoryClick","keydown .notification-remove-history-button":"_onRemoveHistoryKeyDown"},render:function(){return e.View.prototype.render.call(this),this.$el.children().length===0&&(this.$el.html(_.template(r)({remove_history:n.REMOVE_HISTORY})),this._initWrappers(),this.notificationCollection&&this._renderChildViews()),this.options.notificationContainerUiModel.get("show_remove_history")===!1?this.$notificationClearButton.hide():this.$notificationClearButton.show(),this},_initWrappers:function(){this.$notificationContainer=this.$(".notification-container"),this.$notificationErrorView=this.$(".notification-error-view"),this.$notificationClearButton=this.$(".notification-remove-history-button")},_renderChildViews:function(){var e=this;this.notificationCollection.each(function(t){e._addNewNotification(t)}),this._renderErrorView()},_renderErrorView:function(){this.errorView=this._renderChildView("_notificationErrorView",i,this.$notificationErrorView,this.options)},_addNewNotification:function(e){var n=e.get("userData"),r;try{r=JSON.parse(n)}catch(i){}var s=r&&r.notificationHeading||"",o=e.get("description"),u=this.notificationSubContainerMap[o],a="",f,l,c=!0;try{r=JSON.parse(n)}catch(i){}r&&(a=r.siteCatalystName||"",r.showDownloadAll===!1&&(c=!1));if(!u){var h=_.extend({title:s,category:o,siteCatalystName:a,showDownloadAll:c,collection:this.notificationCollection},this.options);delete h.el,u=new t.NotificationSubcontainerView(h),this.addChildView(u),this.notificationSubContainerMap[o]=u,this.$notificationContainer.append(u.render().el)}f=u.createNotificationView(e),this.$notificationContainer.get(0).scrollHeight>this.$notificationContainer.get(0).clientHeight&&!this.hasBeenAdjustedOnScrollAdd&&(_.each(u.getChildViews(),function(e){e.truncateFileNameTextToFit()}),this.hasBeenAdjustedOnScrollAdd=!0),l=$(f.el).offset().top+this.$notificationContainer.scrollTop(),this.$notificationContainer.animate({scrollTop:l},200)},_addEventListeners:function(){this.listenTo(this.notificationCollection,"add",this._onNotificationAdded),this.listenTo(this.notificationCollection,"remove",this._onNotificationRemoved),this.listenTo(this.options.notificationContainerUiModel,"change:show_remove_history",this.render)},_onNotificationAdded:function(e){this._addNewNotification(e)},_onNotificationRemoved:function(e){var t=e.get("description"),n=this.notificationSubContainerMap[t],r=this.notificationCollection.filter(function(e){return e.get("description")===t});r.length===0&&(n.close(),this.notificationSubContainerMap[t]=null)},_removeIdleNotifications:function(){this.options.appApi.rnaApi.done(_.bind(function(e){this.notificationCollection.each(function(t){t.get("state")!==s.NOTIFICATION_STATES.NOT_STARTED&&t.get("state")!==s.NOTIFICATION_STATES.IN_PROGRESS&&e.notificationAPI.removeNotification(t.get("notificationID"))})},this))},_removeAllNotifications:function(){this.options.appApi.rnaApi.done(_.bind(function(e){this.notificationCollection.each(function(t){e.notificationAPI.removeNotification(t.get("notificationID"))})},this))},_onRemoveHistoryClick:function(){this._removeIdleNotifications()},_onRemoveHistoryKeyDown:function(e){if(e.which===13||e.which===32)this._consumeEvent(e),$(e.target).click()}})}),define("app/dev/templates/file-selection-dlg-template",[],function(){return'<div class="file-selection-dlg generic-dialog" role="dialog">    <div class="file-selection-dlg-header unselectable ui-theme theme-container"         role="heading">        <div class="file-selection-dlg-header-text dialog-title theme-text"            ><%= headerLabel %></div>    </div>    <div class="file-selection-dlg-home-views home-views"></div>    <div class="file-selection-dlg-controls ui-theme theme-container">        <div class="file-selection-dlg-control-export-container">            <div class="export-option" tabindex="0">               <div class="checkbox"></div>               <div class="text theme-text"><%= exportLabel %></div>            </div>               <div class="file-save-as-export dropdown-btn aic-export-select aic-select-format site-catalyst ui-theme theme-container" id="outputFormat" tabindex="0" >                        <div class="file-save-as-export aic-export-selected-format site-catalyst theme-text "></div>                        <div class="file-save-as-export aic-export-format-menu-container ui-theme theme-container" id ="formatDropdownContainer">                        </div>                        <div class="core-down-triangle file-save-as-export aic-select-dropdown"></div>               </div>        </div>        <div class="file-selection-dlg-control-buttons">            <input class="file-selection-dlg-continue-btn                          control-button dialog-control-button theme-button theme-button-label                          disabled"                   type="button"                   id="file-selection-dlg-continue-btn"                   aria-label="<%= ariaContinueLabel %>"                   value="<%= continueLabel %>"                   disabled="disabled"/>            <input class="file-selection-dlg-cancel-btn                          control-button                          dialog-control-button button-grey ui-theme theme-text"                   type="button"                   id="file-selection-dlg-cancel-btn"                   aria-label="<%= ariaCancel %>"                   value="<%= cancel %>"/>        </div>    </div></div>'}),define("app/dev/templates/files-selection-dlg-home-views-template",[],function(){return'<div class="file-selection-dlg-home-views-selector               home-views-selector ui-theme theme-container" role="menubar"    aria-controls="home-views-content-<%= viewId %>"></div><div class="file-selection-dlg-home-views-content            home-views-content ui-theme theme-container"    id="home-views-content-<%= viewId %>"></div>'}),define("app/dev/views/view-events",["app/ac-app"],function(e){e.ViewEvents={ACCOUNT_MENU_ITEM_CLICK:"app:account-menu-item-click",ACCOUNT_MENU_BTN_CLICK:"app:account-menu-button-click",MANAGE_SUB_CLICK:"app:manage-sub-click",SIGN_OUT_CLICK:"app:sign-out-click",HELP_MENU_BTN_CLICK:"app:help-menu-button-click",ABOUT_CLICK:"app:about-click",SUPPORT_CLICK:"app:support-click",ASK_US_CLICK:"app:ask-us-click",TOOLBAR_ITEM_CLICK:"app:toolbar-item-click",STATUS_MENU_CLOSED:"app:status-menu-closed",ACROBAT_SELECT_FILTER:"app:acrobat-select-filter",ACROBAT_OPEN:"app:acrobat-open",ACROBAT_CLOSE:"app:acrobat-close",FILE_SELECTION_DLG_SELECTOR_CLICK:"app:file-selection-dlg-selector-click",FILE_SELECTION_DLG_SELECTION_CHANGE:"app:file-selection-dlg-selection-change",FILE_SELECTION_DLG_SELECTION_COMMIT:"app:file-selection-dlg-selection-commit",FILE_SAVE_AS_DLG_FILENAME_CHANGE:"app:file-save-as-dlg-filename-change",FILE_SAVE_AS_DLG_CANSAVE_CHANGE:"app:file-save-as-dlg-cansave-change",FILE_RESTRICT_EDITING_SELECTION_CHANGE:"app:file-restrict-ediiting-selection-change",FILE_REDUCE_FILESIZE_SELECTION_CHANGE:"app:file-reduce-filesize-selection-change",SETTINGS_DLG_SELECTOR_CLICK:"app:settings-dlg-selector-click"}}),define("app/dev/views/file-selection-dlg-selector-view",["core/ac-core","app/ac-app","core/utils/util","core/views/left-rail-view","app/views/view-events"],function(e,t,n){return t.FileSelectionDlgSelectorView=e.LeftRailView.extend({events:function(){return _.extend({},e.LeftRailView.prototype.events,{click:"_onClick"})},initialize:function(){e.LeftRailView.prototype.initialize.call(this)},render:function(){e.LeftRailView.prototype.render.call(this)},_getSelectorClickEvent:function(){return t.ViewEvents.FILE_SELECTION_DLG_SELECTOR_CLICK},_getSelectorDeleteEvent:function(){return undefined},_getSiteCatalystContext:function(){return undefined},_getSelectorViewEvent:function(){return t.ViewEvents.FILE_SELECTION_DLG_SELECTOR_CLICK},_enableEditing:function(){return!1},_onClick:function(e){var t=this.options,r=t.appApi,i;e.target===this.$el.get(0)&&(i=r.pluginsApi.callPluginMethod(t.pluginsUiModel.get("selected_plugin_id"),"hasCollectionItemCheckbox",undefined,!n.isCEF(),!0),i||r.selectionApi.clearSelection())}}),t.FileSelectionDlgSelectorView}),define("app/dev/templates/file-selection-dlg-selector-template",[],function(){return'<div class="home-view-selector plugin-selector">    <div class="home-view-selector-label unselectable"><%= label %>    </div></div>'}),define("app/dev/views/file-selection-dlg-old-selector-view",["core/ac-core","app/ac-app","app/templates/file-selection-dlg-selector-template","core/views/plugins-selector-view","app/views/view-events"],function(e,t,n){t.FileSelectionDlgOldSelectorView=e.PluginsSelectorView.extend({initialize:function(){e.PluginsSelectorView.prototype.initialize.call(this)},_getSelectorTemplate:function(){return n},_getSelectorViewEvent:function(){return t.ViewEvents.FILE_SELECTION_DLG_SELECTOR_CLICK}})}),define("app/dev/templates/file-selection-dlg-content-template",[],function(){return'<div class="home-view-content plugin-content ui-theme theme-container"></div>'}),define("app/dev/views/file-selection-dlg-content-view",["core/ac-core","app/ac-app","app/templates/file-selection-dlg-content-template","core/views/plugins-content-view"],function(e,t,n){t.FileSelectionDlgContentView=e.PluginsContentView.extend({_getContentTemplate:function(){return n}})}),define("app/dev/views/file-selection-dlg-home-views-view",["core/ac-core","app/ac-app","app/templates/files-selection-dlg-home-views-template","core/utils/file-types","core/utils/sc-analytics","core/utils/util","core/views/view","app/views/file-selection-dlg-selector-view","app/views/file-selection-dlg-old-selector-view","app/views/file-selection-dlg-content-view"],function(e,t,n,r,i,s){var o={},u={},a=!1;t.FileSelectionDlgHomeViewsView=e.View.extend({initialize:function(){e.View.prototype.initialize.call(this),this._addUiModelEventListeners()},render:function(){e.View.prototype.render.call(this);var t=this.$el;t.children().length===0&&(t.html(_.template(n)({viewId:this.options.viewId})),this._initWrappers()),this._renderChildViews()},selectHomeView:function(e,n){var r;return e||(e=this.options,n?(r=e.appApi.pluginsApi.getDefaultPluginId("file_selection_dlg"),e.appApi.saveAsApi.isRunningInFileSaveAs()&&e.appApi.saveAsApi.isCalledFromUpsell()&&(r=e.appApi.saveAsApi.getDefaultSelectedPluginId()),this._logSiteCatalystEvent([i.INITIAL_VIEW,e.appApi.pluginsApi.callPluginMethod(r,"getSiteCatalystName",undefined,i.UNKNOWN,!0)])):r=e.fileSelectionDlgHomeViewsUiModel.getSelectedId(),e=_.extend({},e,{pluginId:r})),n=n||{},n.scContext=this._getFullScContext(),s.isCEF()&&this.options.appApi.saveAsApi.isRunningInFileSaveAs()&&(this._addHomeViewSaveAsListeners(),this._addHomeViewSaveAsOptionsListeners()),t.opFactory.create("SelectingFileSelectionDlgHomeViewOp",e||this.options).run(n).then(_.bind(function(){this._addHomeViewSelectionListeners()},this))},releaseHomeViews:function(){var e=this.options.appApi.pluginsApi;return o={},a=!1,this.options.fileSelectionDlgHomeViewsUiModel.get("plugins").each(function(t){var n=t.get("plugin_api");n&&e.callPluginApiMethod(n,"releasePlugin")}),this},clearSelection:function(e){var t=this.options.appApi.pluginsApi,n,r,i,s,o;return n=this.options.fileSelectionDlgHomeViewsUiModel.get("plugins"),e&&(r=e.except,s=n.get(r),s&&(o=s.cid),i=e.silent),n.each(function(e){var n=e.get("plugin_api");if(e.cid===o)return!0;if(n){var r=t.callPluginApiMethod(n,"getSelectionUiModel");r&&r.clearSelection(i)}}),this},getSelection:function(){var e=this.options,t=e.appApi.pluginsApi,n=[],i=[],s={},o,u,a,f,l;return e.fileSelectionDlgHomeViewsUiModel.get("plugins").each(function(e){a=e.get("plugin_api"),a&&(f=t.callPluginApiMethod(a,"getSelectionUiModel"),f&&(_.each(f.get("selected_local_files"),function(e){_.isArray(e)?i.push(e[0]):r.isFolder(e)||n.push(e)}),_.each(f.get("selected_item_models"),function(e){e.isFile()&&(u=e.id,s[u]=e.attributes)}),f.isSelectionComplete()&&(o=!0),e.id!=="signatures"&&f.getNumSelectedFolders()>0&&(l=!0)))}),{localFiles:n,localFileInputs:i,uploadedFileAttrs:s,isSelectionComplete:o,isFolderInSelection:l}},getSaveAsFilename:function(){return this.options.appApi.saveAsApi.getFilename()},stopListening:function(t,n,r){e.View.prototype.stopListening.call(this,t,n,r),o={},a=!1},_initWrappers:function(){this.$selector=this.$(".home-views-selector"),this.$content=this.$(".home-views-content")},_renderChildViews:function(){var e=_.extend({},this.options,{pluginsUiModel:this.options.fileSelectionDlgHomeViewsUiModel});this._renderChildView("_contentView",t.FileSelectionDlgContentView,this.$content,e),this._renderChildView("_selectorView",t.FileSelectionDlgSelectorView,this.$selector,e)},_addUiModelEventListeners:function(){this.listenTo(this.options.fileSelectionDlgHomeViewsUiModel,"change:selected_plugin_id",this._onSelectedPluginIdChange)},_addHomeViewSelectionListeners:function(){var e=this.options,t=e.appApi.pluginsApi,n,r,i;e.fileSelectionDlgHomeViewsUiModel.get("plugins").each(_.bind(function(e){n=e.get("id"),o[n]||(r=e.get("plugin_api"),r&&(i=t.callPluginApiMethod(r,"getSelectionUiModel"),i&&(u[n]=i,this.listenTo(i,"change:selected_local_files",this._onHomeViewSelectedLocalFilesChange),this.listenTo(i,"change:selected_item_models",this._onHomeViewSelectedItemModelsChange),this.listenTo(i,"change:commit_selection",this._onHomeViewCommitSelectionChange),o[n]=!0)))},this))},_addHomeViewSaveAsListeners:function(){a||(this.listenTo(this.options.saveAsUiModel,"change:filename",this._onHomeViewSaveAsFilenameChange),this.listenTo(this.options.saveAsUiModel,"change:canSave",this._onHomeViewSaveAsCanSaveChange),a=!0)},_addHomeViewSaveAsOptionsListeners:function(){this.listenTo(this.options.saveAsUiModel,"change:restrictEditing",this._onRestrictEditingSelectionChange),this.listenTo(this.options.saveAsUiModel,"change:reduceFileSize",this._onReduceFileSizeSelectionChange)},_onSelectedPluginIdChange:function(){this.render()},_getPluginId:function(e){var t;return _.each(u,function(n,r){n.cid===e.cid&&(t=r)}),t},_clearOthersIfSingle:function(e){var t=this._getPluginId(e);e.get("multiple_selection")||this.clearSelection({except:t,silent:!0})},_onHomeViewSelectedLocalFilesChange:function(e){this._clearOthersIfSingle(e),this._triggerViewEvent(t.ViewEvents.FILE_SELECTION_DLG_SELECTION_CHANGE)},_onHomeViewSelectedItemModelsChange:function(e){this._clearOthersIfSingle(e),this._triggerViewEvent(t.ViewEvents.FILE_SELECTION_DLG_SELECTION_CHANGE)},_onHomeViewCommitSelectionChange:function(e,n){n&&this._triggerViewEvent(t.ViewEvents.FILE_SELECTION_DLG_SELECTION_COMMIT)},_onHomeViewSaveAsFilenameChange:function(){this._triggerViewEvent(t.ViewEvents.FILE_SAVE_AS_DLG_FILENAME_CHANGE)},_onHomeViewSaveAsCanSaveChange:function(){this._triggerViewEvent(t.ViewEvents.FILE_SAVE_AS_DLG_CANSAVE_CHANGE)},_onRestrictEditingSelectionChange:function(){this._triggerViewEvent(t.ViewEvents.FILE_RESTRICT_EDITING_SELECTION_CHANGE)},_onReduceFileSizeSelectionChange:function(){this._triggerViewEvent(t.ViewEvents.FILE_REDUCE_FILESIZE_SELECTION_CHANGE)}})}),define("app/dev/views/file-selection-dlg-export-dropdown-view",["core/ac-core","app/ac-app","core/utils/util","i18n!core/nls/ui-strings","core/utils/css-util","core/utils/view-util","core/utils/string-util","core/utils/event-util","core/utils/sc-analytics","core/views/dialog-view"],function(e,t,n,r,i,s,o,u,a,f,l){t.FileSelectionExportDropdownView=e.View.extend({initialize:function(t){e.View.prototype.initialize.call(this),this.menuItems=[],this.options=t,t&&t.menuItems&&(this.menuItems=t.menuItems),this.selectedIndex=0,this.render()},events:{"click li":"_onMenuItemClick","keydown li":"_onMenuItemKeyDown"},render:function(){return this.$el.empty(),this.menuItems.map(_.bind(function(e){this.$el.append(_.template('<li class="theme-text theme-hoverable" tabindex="0" role="menuitem" data-code="<%= code %>"><%= name %></li>',e))},this)),this},_focusOnMenuItem:function(){var e=this.$el,t=e.children("li")[this.selectedIndex];t.focus()},update:function(e){return this.menuItems=e,this.render()},show:function(){return this.$el.show(),this._addMenuEventListeners(),this._focusOnMenuItem(),this._settingEscEvent(!0),this.deferred=$.Deferred(),this.deferred.promise()},close:function(e,t){this.deferred&&this.deferred.resolve(e,t),this._removeMenuEventListeners(),this._settingEscEvent(!1),this.$el.hide();var n=0;this.menuItems.map(_.bind(function(t){t.code===e&&(this.selectedIndex=n),n++},this))},_settingEscEvent:function(e){this.options.appApi.rnaApi.done(_.bind(function(t){t.rnaServicesAPI.setCanHandleCEFEvent(0,e)},this))},_onMenuItemClick:function(e){e.stopPropagation(),this.close($(e.currentTarget).data("code"),$(e.currentTarget).text())},_onMenuItemKeyDown:function(e){var t=e.keyCode,n=$(e.currentTarget);switch(t){case 38:var r=n.prev();if(r.length>0)n.prev().focus();else{var i=n.siblings(":last");i.focus()}this._consumeEvent(event);break;case 40:var s=n.next();if(s.length>0)n.next().focus();else{var o=n.siblings(":first");o.focus()}this._consumeEvent(event);break;case 27:return e.stopPropagation(),this.close(),!1;case 13:case 32:this._onMenuItemClick(e);break;case 9:this.close()}},_addMenuEventListeners:function(){e.EventUtil.addDomEventListener(document.body,"click",this._onBodyClick,!0)},_removeMenuEventListeners:function(){e.EventUtil.removeDomEventListener(document.body,"click",this._onBodyClick,!0)},_onBodyClick:function(t){e.EventUtil.getEventTarget(t).closest(this.$el).length===0&&(t.stopPropagation(),this.close())}})}),define("app/dev/views/file-selection-dlg-view",["core/ac-core","app/ac-app","core/utils/util","app/templates/file-selection-dlg-template","i18n!core/nls/ui-strings","core/utils/css-util","core/utils/view-util","core/utils/string-util","core/utils/sc-analytics","core/views/dialog-view","app/views/file-selection-dlg-home-views-view","app/views/modal-mask-view","app/views/file-selection-dlg-export-dropdown-view"],function(e,t,n,r,i,s,o,u,a){t.FileSelectionDlgView=e.DialogView.extend({events:function(){return _.extend({},e.DialogView.prototype.events,{"click .file-selection-dlg-continue-btn":"_onContinueClick","click .file-selection-dlg-cancel-btn":"_onCancelClick","click .export-option":"_onCovertToClick","click .aic-select-format":"_onFormatMenuClick"})},initialize:function(){e.DialogView.prototype.initialize.call(this),this._setParentScContext(this.options.scContext),this._addUiModelEventListeners()},render:function(){e.DialogView.prototype.render.call(this,!1),this.$el.empty().html(_.template(r)({cancel:i.CANCEL,ariaCancel:this._getariaCancel(),continueLabel:this._getContinueLabel(),ariaContinueLabel:this._getAriaContinueLabel(),headerLabel:this._getHeaderLabel(),exportLabel:this._getExportLabel()})),this._initWrappers(),(!n.isCEF()||!this.options.runningInFileSelection)&&this._center({horizontalOnly:!0}),n.isWindows()&&o.swapChildElements(this.$dlgControlBtns),this.$dlg.addClass("shown unselectable"),this.$cancelBtn.focus(),this._renderChildViews(),this._enableContinueBtn();var t=this.options.appApi.saveAsApi;return t.isExportButtonVisible()?n.isCEF()&&t.isRunningInFileSaveAs()&&(this._enableExportBtn(),this.$exportDropdownContainer.hide(),this._setSelection(t.isExportButtonSelected(),this.$exportBtn),this._renderFormatsMenuContainer(),this._populateFormats()):this.$exportBtn.hide(),this},open:function(r){var i,s=this.options,o=s.appApi,u=o.pluginsApi,a=o.saveAsApi,f,l,c,h,p=a.isRunningInFileSaveAs();return s.nonDefaultRecent&&!p&&u.setDefaultPluginId("file_selection_dlg","my_computer_select"),this._pluginOptions=r,f=t.opFactory.create("LoadingFileSelectionDlgHomeViewsOp",s),o.displayApi.applyUIThemeStyles(this.$el).then(_.bind(function(){return f.run(!1).then(_.bind(function(){return n.isCEF()&&(p&&this._settingDefaultForSaveAsDlg(),o.connectorsApi.addConnectorsChangeCallback(this._onConnectorsChange),o.connectorsApi.addConnectorsUiHelpersChangeCallback(this._onConnectorsChange),o.sessionApi.addSignedInChangeCallback(this._enableContinueBtn),o.sessionApi.addSignedInChangeCallback(this._enableExportBtn)),u.callPluginMethodForEach(s.fileSelectionDlgHomeViewsUiModel.getAllIds(),"setPluginOptions",r,undefined,!0),u.callSelectorMethodForEach(s.fileSelectionDlgHomeViewsUiModel.getAllIds(),"setPluginOptions",r,undefined,!0),i=e.DialogView.prototype.open.call(this),this._repositionSpinner(),(!p||p&&this._setDefaultForSaveAs)&&this._homeViewsView.clearSelection().selectHomeView(undefined,r),i},this))},this))},close:function(t,r){var i=this.$dlg,o,u=r&&r.noAnimation||n.isCEF(),a=this.options,f=a.appApi;delete this._pluginOptions,delete this._setDefaultForSaveAs,o=_.bind(function(){n.isCEF()&&(f.connectorsApi.removeConnectorsChangeCallback(this._onConnectorsChange),f.connectorsApi.removeConnectorsUiHelpersChangeCallback(this._onConnectorsChange),f.sessionApi.removeSignedInChangeCallback(this._enableContinueBtn),f.sessionApi.removeSignedInChangeCallback(this._enableExportBtn)),s.removeTransitionEndCallbacks(i),a.selectionUiModel.clearSelection(),this._restoreSpinnerPosition(),this._homeViewsView.releaseHomeViews(),a.fileSelectionDlgHomeViewsUiModel.set("plugins",e.uiCollectionFactory.create("PluginsUiCollection")),e.DialogView.prototype.close.call(this,t,r)},this);if(!i)return;i.removeClass("shown"),u?o():s.addTransitionEndCallback(i,"top",o)},_onViewEvent:function(e,r){var i=t.ViewEvents,s=this.options.appApi.saveAsApi;if(e===i.FILE_RESTRICT_EDITING_SELECTION_CHANGE||e===i.FILE_REDUCE_FILESIZE_SELECTION_CHANGE){var u=s.isReduceFileSizeSelected(),a=s.isRestrictEditingSelected();if(u||a)this._disableExportEl(),s.disableExportButton();!u&&!a&&s.isExportButtonEnabledByParams()&&(this._enableExportEl(),s.enableExportButton());return}if(e===i.FILE_SELECTION_DLG_SELECTION_CHANGE){this._enableContinueBtn(),this._enableExportBtn();return}if(e===i.FILE_SELECTION_DLG_SELECTION_COMMIT){this._onContinueClick();return}if(e===i.FILE_SELECTION_DLG_SELECTOR_CLICK){n.isCEF()&&(r&&r.pluginId&&(o.enableInput(this.$continueBtn,!1),this.$continueBtn.val(this._getContinueLabel(r.pluginId))),s.isRunningInFileSaveAs()&&s.clearNonSharedSaveAsAttributes()),this._homeViewsView.clearSelection().selectHomeView(r,this._pluginOptions).always(_.bind(function(){n.isCEF()&&(this._enableContinueBtn(),this._enableExportBtn())},this));return}if(n.isCEF()){if(e===i.FILE_SAVE_AS_DLG_FILENAME_CHANGE){this._enableContinueBtn(),this._enableExportBtn();return}if(e===i.FILE_SAVE_AS_DLG_CANSAVE_CHANGE){this._enableContinueBtn(),this._enableExportBtn();return}}this.trigger(e,r)},_initWrappers:function(){e.DialogView.prototype._initWrappers.call(this),this.$pageHeader=$(".page-header"),this.$spinner=$(".spinner"),n.isCEF()&&(this.$modalMask=$("#modal-mask")),this.$dlg=this.$(".generic-dialog"),this.$homeViews=this.$(".home-views"),this.$dlgControlBtns=this.$(".file-selection-dlg-control-buttons"),this.$continueBtn=this.$(".file-selection-dlg-continue-btn"),this.$cancelBtn=this.$(".file-selection-dlg-cancel-btn"),this.$exportBtn=this.$(".file-selection-dlg-control-export-container"),this.$exportDropdownContainer=this.$(".file-save-as-export.aic-export-format-menu-container"),this.$selectedFormat=this.$(".aic-export-selected-format")},_addUiModelEventListeners:function(){var e=this.options,t=e.appApi.saveAsApi;this.listenTo(t,"change:shared-file-overwrite-warning-hidden",this._enableContinueBtn),this.listenTo(t,"change:shared-file-overwrite-warning-hidden",this._enableExportBtn)},_getContinueLabel:function(e){var t=this.options,r=t.appApi.pluginsApi,s=e||r.getSelectedPluginId("file_selection_dlg")||r.getDefaultPluginId("file_selection_dlg");return n.isCEF()&&s==="my_computer_select"?t.appApi.saveAsApi.isRunningInFileSaveAs()?i.CHOOSE_DIFFERENT_FOLDER:i.BROWSE_FOLDER:t.addSelectedButtonLabel||i.CONTINUE},_getAriaContinueLabel:function(e){var t=this.options,r=t.appApi.pluginsApi,s=e||r.getSelectedPluginId("file_selection_dlg")||r.getDefaultPluginId("file_selection_dlg");return n.isCEF()&&s==="my_computer_select"?t.appApi.saveAsApi.isRunningInFileSaveAs()?i.CHOOSE_DIFFERENT_FOLDER+" "+i.BUTTON:i.BROWSE_FOLDER+" "+i.BUTTON:t.addSelectedButtonLabel||i.CONTINUE},_getariaCancel:function(){return i.CANCEL+" "+i.BUTTON},_getHeaderLabel:function(){var e,t=this._pluginOptions;return e=t&&t.singleFileSelection===!0?i.SELECT_FILE:i.SELECT_FILES,this.options.fileSelectionDlgHeaderLabel||e},_getExportLabel:function(){var e=i.EXPORT_BUTTON;return e},_enableContinueBtn:function(){var e=this._getSelection(),t,r,i,s,u=this.options,a=u.appApi,f=a.pluginsApi,l=a.saveAsApi,c=!0,h,p=a.sessionApi.isSignedIn();n.isCEF()&&(this.$continueBtn.val(this._getContinueLabel()),this.$continueBtn.attr("aria-label",this._getAriaContinueLabel())),i=f.getSelectedPluginId("file_selection_dlg")||f.getDefaultPluginId("file_selection_dlg"),s=a.connectorsApi.isConnectorPlugin(i)&&a.connectorsApi.isDesktopConnector(a.connectorsApi.getConnectorPluginName(i)),t=e.localFiles.length+e.localFileInputs.length+_.keys(e.uploadedFileAttrs).length;if(n.isCEF()&&l.isRunningInFileSaveAs())r=this._getSaveAsFilename(),i==="my_computer_select"?o.enableInput(this.$continueBtn,!0):(c=l.getCanSave()&&e.isFolderInSelection!==!0&&r!==undefined&&r.length>0&&(s||p),!s&&p?a.rnaApi.done(_.bind(function(e){a.sessionApi.ensureSignedIn().done(_.bind(function(){h=e.rnaServicesAPI.isEnterpriseUser()&&(!e.rnaServicesAPI.isPDFServicesEnabled()||!e.rnaServicesAPI.isEncryptionKeyValid()),h&&(c=!1),o.enableInput(this.$continueBtn,c)},this))},this)):o.enableInput(this.$continueBtn,c)),e.isSelectionComplete&&r!==undefined&&this._onContinueClick();else{if(a.saveAsApi.isCalledFromNativeRS()==1&&!this._isSelectedFilesCountValid(t)){o.enableInput(this.$continueBtn,!1);return}n.isCEF()&&i==="my_computer_select"?o.enableInput(this.$continueBtn,!0):n.isCEF()&&i==="my_recent_files_select"?o.enableInput(this.$continueBtn,t>0):n.isCEF()&&i==="signatures"?o.enableInput(this.$continueBtn,t>0):o.enableInput(this.$continueBtn,t>0&&(s||this.options.appApi.sessionApi.isSignedIn())),e.isSelectionComplete&&this._onContinueClick()}},_isSelectedFilesCountValid:function(e){var t=this.options.appApi,n=0,r=12;return t.saveAsApi.isCalledFromNativeRS()==1?e>=n&&e<=r:!0},_getSelection:function(){var e=this._homeViewsView;return e?e.getSelection():{localFiles:[],localFileInputs:[],uploadedFileAttrs:{},isSelectionComplete:!1,isFolderInSelection:!1}},_getSaveAsFilename:function(){var e=this._homeViewsView;return e?e.getSaveAsFilename():undefined},_sanitizeFileNameForExtension:function(){var e=this._getSaveAsFilename(),t=this.options.appApi.saveAsApi,r,i,s,o,a;_.isUndefined(e)||(a=u.getNormalizedString(e,"NFC"),_.isUndefined(a)||(e=a),r=t.getChosenFileFilter(),i=r.fileFilterExtensions,s=n.getExtension(e),i.length>=1&&(_.isUndefined(s)||(o=_.find(i,function(e){return e.toLowerCase()===s})),_.isUndefined(o)&&(e+=".",e+=i[0])),t.setFilename(e))},_releaseFileInputCallback:function(e){var t=$("#"+e);t.remove()},_renderChildViews:function(){this._renderHomeViewsView(),n.isCEF()&&this._renderModalMaskView()},_renderHomeViewsView:function(){this._renderChildView("_homeViewsView",t.FileSelectionDlgHomeViewsView,this.$homeViews,{childViewId:"_homeViewsView"})},_renderModalMaskView:function(){this.options.modalMaskUiModel.set({modal_transparent:!0}),this._renderChildView("_modalMaskView",t.ModalMaskView,this.$modalMask,{childViewId:"_modalMaskView"})},_renderFormatsMenuContainer:function(){this.formatsMenuView=this._renderChildView("_formatsView",t.FileSelectionExportDropdownView,this.$exportDropdownContainer,this.options)},_repositionSpinner:function(){this.options.appApi.displayApi.setSpinnerOptions({refElem:this.$(".home-views-content")})},_restoreSpinnerPosition:function(){this.options.appApi.displayApi.clearSpinnerOptions()},_onKeyDown:function(t){var r=$(t.target);return n.isCEF()&&t.which===9?!1:n.isCEF()&&(t.which===32||t.which===13)&&r.hasClass("aic-export-select")?(this._consumeEvent(t),this._onFormatMenuClick(),!0):n.isCEF()&&(t.which===32||t.which===13)&&r.hasClass("export-option")?(this._consumeEvent(t),this._onCovertToClick(),!0):t.which===13&&o.isInputEnabled(this.$continueBtn)&&t.target!==this.$cancelBtn.get(0)?(this._consumeEvent(t),this._onContinueClick(),!0):n.isCEF()&&t.which===8&&(!r.is("input")||r.hasClass("control-button"))&&!r.is("textarea")&&this.options.appApi.selectionApi.isRunningInFileSelection()?(this._consumeEvent(t),!0):e.DialogView.prototype._onKeyDown.call(this,t)},_onContinueClick:function(){var e=this.options,t=e.appApi,r=t.pluginsApi,i=[],s,o=[],u=r.getSelectedPluginId("file_selection_dlg")||r.getDefaultPluginId("file_selection_dlg");t.saveAsApi.isRunningInFileSaveAs()&&this.options.appApi.rnaApi.done(function(e){e.logPerformance("SaveAsWorkflow","start")});if(!n.isCEF())return this._closeOnContinue();if(u==="my_computer_select")return this._logSiteCatalystEvent([a.MY_COMPUTER,a.BROWSE,a.CLICKED]),t.rnaApi.done(function(e){e.rnaFileAPI.openPlatformDialog()});if(u==="my_recent_files_select")s=t.selectionApi.getSelectedItemModels(),t.rnaApi.done(function(e){e.whitelistRecentFile(s)});else{if(u==="signatures"){var e=this.options;s=t.selectionApi.getSelectedItemModels();var f=this.options.pluginApis.signatures.getSelectionUiModel();return s=f.get("selected_item_models"),_.each(s,function(t){const n=[];n.push(t.get("signature_info").state),n.push(t.id),n.push(t.attributes.resources[0].invitationUrn),e.appApi.rnaApi.then(_.bind(function(e){e.rnaSignWorkflowServicesAPI.invokeMethod({methodName:"openSignTemplateFile",methodArgs:n})}))}),this.close(!1)}e.fileSelectionDlgHomeViewsUiModel.get("plugins").each(function(t){if(t.id===u){var n=t.get("plugin_api");n&&(i=e.appApi.pluginsApi.callPluginApiMethod(n,"getFolderAncestorIds"))}})}e.readerContextModel.done(_.bind(function(e){var n=e.get("rna"),r=0,a,f=0;this.fsData=n.get("viewData").get("fileSelectData");if(u==="root-select"||u==="ccloud-select")f=1;_.each(s,function(e){o[r++]=e.get("index")}),a=[i,f,o],this.fsData.invoke("setFileAncestors",a).then(_.bind(function(){return t.saveAsApi.isRunningInFileSaveAs()?(t.saveAsApi.setChosenFileFilterAsPerFilename(),this._sanitizeFileNameForExtension(),this._checkForIllegalName().then(_.bind(function(){return this._checkForExistingFileAndClose()},this))):this._closeOnContinue()},this))},this))},_onCovertToClick:function(){var e=this.$exportBtn,t=this.options.appApi.saveAsApi;if(!t.isExportButtonEnabled())return;var r=this._getSaveAsFilename(),i="."+n.getExtension(r);_.isUndefined(i)||(r=r.replace(i,""));var s=e.hasClass("selected"),o=!s;o?(r=r+"."+this.valOutputFormat,t.setFilename(r)):(r+=".pdf",t.setFilename(r)),t.setExportButtonState(o),this._setSelection(o,e)},_setSelection:function(e,t){var n=t.find(".checkbox");e?(t.addClass("selected"),n.addClass("selected")):(t.removeClass("selected"),n.removeClass("selected"))},_disableEl:function(e){e.hasClass("disabled")||(e.addClass("disabled"),e.find(".checkbox").addClass("disabled"))},_enableEl:function(e){e.hasClass("disabled")&&(e.removeClass("disabled"),e.find(".checkbox").removeClass("disabled"))},_disableExportEl:function(){this._disableEl(this.$exportBtn),this._setSelection(!1,this.$exportBtn)},_enableExportEl:function(){this._enableEl(this.$exportBtn);var e=this.options.appApi.saveAsApi;this._setSelection(e.isExportButtonSelected(),this.$exportBtn)},_enableExportBtn:function(){var e=this._getSelection(),t,r,i,s,o=this.options,u=o.appApi,a=u.pluginsApi,f=u.saveAsApi,l=!0,c,h=u.sessionApi.isSignedIn();i=a.getSelectedPluginId("file_selection_dlg")||a.getDefaultPluginId("file_selection_dlg"),s=u.connectorsApi.isConnectorPlugin(i)&&u.connectorsApi.isDesktopConnector(u.connectorsApi.getConnectorPluginName(i)),t=e.localFiles.length+e.localFileInputs.length+_.keys(e.uploadedFileAttrs).length;if(!f.isExportButtonEnabledByParams())this._disableExportEl(),f.disableExportButton();else if(n.isCEF()&&f.isRunningInFileSaveAs()){r=this._getSaveAsFilename();if(f.isReduceFileSizeSelected()||f.isRestrictEditingSelected()){this._disableExportEl(),f.disableExportButton();return}i==="my_computer_select"?(this._enableExportEl(),f.enableExportButton()):(l=f.getCanSave()&&e.isFolderInSelection!==!0&&r!==undefined&&r.length>0&&(s||h),!s&&h?u.rnaApi.done(_.bind(function(e){u.sessionApi.ensureSignedIn().done(_.bind(function(){c=e.rnaServicesAPI.isEnterpriseUser()&&(!e.rnaServicesAPI.isPDFServicesEnabled()||!e.rnaServicesAPI.isEncryptionKeyValid()),c&&(l=!1),l?(this._enableExportEl(),f.enableExportButton()):(this._disableExportEl(),f.disableExportButton())},this))},this)):l?(this._enableExportEl(),f.enableExportButton()):(this._disableExportEl(),f.disableExportButton()))}else n.isCEF()&&i==="my_computer_select"?(this._enableExportEl(),f.enableExportButton()):n.isCEF()&&i==="my_recent_files_select"?t>0?(this._enableExportEl(),f.enableExportButton()):(this._disableExportEl(),f.disableExportButton()):t>0&&(s||this.options.appApi.sessionApi.isSignedIn())?(this._enableExportEl(),f.enableExportButton()):(this._disableExportEl(),f.disableExportButton())},_populateFormats:function(){var e={docx:i.DROPDOWN_DOCX,doc:i.DROPDOWN_DOC,pptx:i.DROPDOWN_PPTX,xlsx:i.DROPDOWN_XLSX,rtf:i.DROPDOWN_RTF,jpeg:i.DROPDOWN_JPEG,tiff:i.DROPDOWN_TIFF,png:i.DROPDOWN_PNG},t=[],r=_.bind(function(n){var r={code:n,name:e[n]};t.push(r)},this);$.each(["docx","doc","rtf","xlsx","pptx","jpeg","tiff","png"],function(t,n){e[n]&&(r(n),delete e[n])}),this.formatsMenuView.update(t);var s=this.options.appApi.saveAsApi,o=s.isExportButtonSelected();if(s.getOutputFormat()===undefined){var u=0;this.valOutputFormat=t[u].code,this.$selectedFormat.text(t[u].name)}else this.valOutputFormat=s.getOutputFormat(),t.map(_.bind(function(e){e.code===this.valOutputFormat&&this.$selectedFormat.text(e.name)},this));if(o){var a=this._getSaveAsFilename(),f="."+n.getExtension(a);_.isUndefined(f)||(a=a.replace(f,"")),a=a+"."+this.valOutputFormat,s.setFilename(a)}s.setOutputFormat(this.valOutputFormat),$("#outputFormat").data("value",this.valOutputFormat)},_onFormatMenuClick:function(){var e=this.options.appApi.saveAsApi;if(!e.isExportButtonEnabled())return;this.formatsMenuView.show().done(_.bind(function(t,r){if(t){this.valOutputFormat=t,$("#outputFormat").data("value",t),this.$selectedFormat.text(r);var i=this.$exportBtn.hasClass("selected");if(i){var s=this._getSaveAsFilename(),o="."+n.getExtension(s);_.isUndefined(o)||(s=s.replace(o,"")),s=s+"."+this.valOutputFormat,e.setFilename(s)}e.setOutputFormat(this.valOutputFormat)}},this))},_checkForIllegalName:function(){var t=this.options,n,r,i=t.appApi.pluginsApi,s=t.appApi.connectorsApi,o=t.appApi.saveAsApi,u;return r=i.getSelectedPluginId("file_selection_dlg"),s.isConnectorPlugin(r)&&s.isDesktopConnector(s.getConnectorPluginName(r))?(u=this.options.appApi.pluginsApi.callPluginMethod(r,"isFilenameValid",this._getSaveAsFilename(),this._getResolvedPromise(),!0),u.then(undefined,function(e){o.setError(e)})):(n=e.opFactory.create("ValidatingNameOp",_.extend(t,{name:this._getSaveAsFilename()})),n.run().then(undefined,function(e){o.setError(e)}))},_checkForExistingFileAndClose:function(){var t=this._getSelection(),n=this._getSaveAsFilename(),r=this.options,i,s,u,a,f=!1,l=r.appApi.pluginsApi.getSelectedPluginId("file_selection_dlg"),c=$.Deferred();if(l!="root-select")_.keys(t.uploadedFileAttrs).length===1&&_.each(t.uploadedFileAttrs,function(e,t){if(n===e.name){s=t,a=e.name;return}}),s==undefined&&(i=r.appApi.pluginsApi.callPluginMethod(l,"doesFileExists",n,undefined,!0),i&&(s=i.get("id"),a=i.get("name"),u=i)),c.resolve();else{var h=e.opFactory.create("USSSearchingDCAssetOp",_.extend(this.options,{global:!1,query:n,parentId:r.currentFolderIds["root-select"],fileOnly:!0,includeCustomMetadata:!0}));h.run().always(_.bind(function(t){if(t){s=t.asset_id,a=t.asset_name,t.custom_document_cloud_metadata&&t.custom_document_cloud_metadata.is_shared&&(f=t.custom_document_cloud_metadata.is_shared),t.collab_metadata&&t.collab_metadata.shared_by&&t.collab_metadata.shared_by.length>0&&(f=!0);var n=e.collectionFactory.create("Collection");n.set([t],{silent:!0}),u=n.models[0]}c.resolve()},this))}c.always(_.bind(function(){if(this._isDocumentCloudSelected()&&f&&s){this.options.appApi.saveAsApi._showSharedFileOverwriteWarning(),o.enableInput(this.$continueBtn,!1),this.options.appApi.rnaApi.done(function(e){e.logPerformance("SaveAsWorkflow","end")});return}return s?(this.options.appApi.rnaApi.done(function(e){e.logPerformance("SaveAsWorkflow","end")}),this._showReplaceFileDialog().then(_.bind(function(){return r.appApi.rnaApi.done(function(e){e.logPerformance("SaveAsWorkflow","start")}),s&&r.appApi.saveAsApi.setReplaceFileId(s),u&&r.appApi.saveAsApi.setReplaceFileObj(u),r.appApi.saveAsApi.setFilename(a),this._closeOnContinue()},this))):this._closeOnContinue()},this))},_isDocumentCloudSelected:function(){var e=this.options.appApi.pluginsApi,t=e.getSelectedPluginId("file_selection_dlg")||e.getDefaultPluginId("file_selction_dlg");return t=="root-select"||t=="ccloud-select"?!0:!1},_showReplaceFileDialog:function(){var e={},t;return n.isCEF()&&(e.okButtonClass="replace-file-aria-label"),t=this.options.appApi.dialogApi.displayTextAlert(this.options.appApi.dialogApi.SEVERITY_WARNING,i.REPLACE_EXISTING_FILE_TITLE,i.REPLACE_EXISTING_FILE_MSG,i.YES,i.NO,e),n.isCEF()&&$(".replace-file-aria-label").attr("aria-label",i.REPLACE_EXISTING_FILE_ARIA_LABEL),t},_closeOnContinue:function(){var e=this._getSelection(),t=e.localFiles.length,r=_.keys(e.uploadedFileAttrs).length,i=t+r,s=[];this._logSiteCatalystEvent(a.CONTINUE),n.isCEF()||(t>0?r>0?(s.push(a.ACOM_AND_MY_COMPUTER),s.push(a.SUCCESS),s.push(a.getCountCode(i))):(s.push(a.MY_COMPUTER_ONLY),s.push(a.SUCCESS),s.push(a.getCountCode(t))):(s.push(a.ACOM_ONLY),s.push(a.SUCCESS),s.push(a.getCountCode(r))),this._logSiteCatalystEvent(s)),this.close(!0,{resolveArgs:_.extend(e,{releaseFileInputCallback:this._releaseFileInputCallback})})},_onCancelClick:function(){this.close(!1)},_settingDefaultForSaveAsDlg:function(){var e,t,n,r=this.options.appApi,i=r.saveAsApi,s=r.pluginsApi;e=i.getSourceKey(),t=i.getAccountId(),!_.isUndefined(e)&&e!==""&&e!=="local"&&(!_.isUndefined(t)&&t!==""||e==="root"||e==="ccloud")?(this._setDefaultForSaveAs=!1,n=r.connectorsApi.getConnectorPluginId(e,t,!0),s.setDefaultPluginId("file_selection_dlg",n),s.getDefaultPluginId("file_selection_dlg")===n?(this._setDefaultForSaveAs=!0,s.getPluginsUiModel(n).setSelectedId(n)):s.setDefaultPluginIdAsUndefined("file_selection_dlg")):(s.setDefaultPluginId("file_selection_dlg","my_computer_select"),this._setDefaultForSaveAs=!0),i.isRunningInFileSaveAs()&&i.isCalledFromUpsell()&&(n=i.getDefaultSelectedPluginId(),n==="my_computer_select"&&(s.setDefaultPluginId("file_selection_dlg","my_computer_select"),s.getDefaultPluginId("file_selection_dlg")===n&&(this._setDefaultForSaveAs=!0,s.getPluginsUiModel(n).setSelectedId(n))))},_onConnectorsChange:function(){e.opFactory.create("InstantiatingConnectorsOp",this.options).run({pluginsUiModel:this.options.fileSelectionDlgHomeViewsUiModel,inFileSelectionDlg:!0}).then(_.bind(function(){this.options.appApi.saveAsApi.isRunningInFileSaveAs()&&!this._setDefaultForSaveAs&&(this._settingDefaultForSaveAsDlg(),this._setDefaultForSaveAs&&this._homeViewsView.clearSelection().selectHomeView(undefined,this._pluginOptions)),this._renderHomeViewsView()},this))}})}),define("app/dev/templates/whats-new-dlg-template",[],function(){return'<div><iframe class="whats-new-iframe" frameborder = "0" name = "whats-new-iframe"></iframe><button class="whats-new-page-close-btn core-remove-x"></button></div>'}),define("app/dev/views/whats-new-dlg-view",["core/ac-core","app/ac-app","core/utils/util","app/templates/whats-new-dlg-template","i18n!core/nls/ui-strings","core/views/dialog-view"],function(e,t,n,r,i){t.WhatsNewDlgView=e.DialogView.extend({initialize:function(){e.DialogView.prototype.initialize.call(this),this._setParentScContext(this.options.scContext),this._template=_.template(r)({CLOSE:i.CLOSE})},render:function(){return e.DialogView.prototype.render.call(this,!1),this._appendToDialog(this._template),this._setCss(),this.initWrappers(),this.getWhatsNewPageUrl(),this.loadWhatsNewPageUrl(),this._addUiEventListeners(),this},initWrappers:function(){this.$WhatsNewIframe=this.$(".whats-new-iframe"),this.$WhatsNewCloseBtn=this.$(".whats-new-page-close-btn")},_addUiEventListeners:function(){this.$WhatsNewCloseBtn.on("click",this._onCalCloseClick)},open:function(t){var n,r=this.options.appApi;return r.displayApi.applyUIThemeStyles(this.$el).then(_.bind(function(){return n=e.DialogView.prototype.open.call(this),r.displayApi.showSpinner(!1),n},this))},_setCss:function(){this.$dlg.css("width","100%"),this.$dlg.css("height","100%"),this.$dlg.css("border","0px"),this.$dlg.css("margin","0px"),this.$dlg.css("padding","0px"),this.$dlg.css("outline","none"),this.$dlg.css("position","absolute"),this.$dlg.css("text-align","left"),this.$dlg.css("text-shadow","none"),this.$dlg.css("top","0px"),this.$dlg.css("left","0px"),this.$dlg.css("border-radius","0px"),this.$titleBar.hide()},_onCalCloseClick:function(){this.options.appApi.rnaApi.done(_.bind(function(e){e.invokeMethod({methodName:"CloseWhatsNewDialog",methodArgs:""})},this))},loadWhatsNewPageUrl:function(){var e=this.newFeaturesUrl+"?timestamp="+Date.now();this.$WhatsNewIframe.attr("src",e)},getWhatsNewPageUrl:function(){this.queryParams=this.options.appApi.routerApi.parseQueryParams(window.location.href.slice(window.location.href.indexOf("?"))),this.newFeaturesUrl=this.queryParams.url,console.log(" url = "+this.newFeaturesUrl)}})}),define("app/dev/views/acrobat-command-page-view",["app/ac-app","app/views/content-page-view"],function(e){e.AcrobatCommandPageView=e.ContentPageView.extend({_initWrappers:function(){e.ContentPageView.prototype._initWrappers.call(this),this.$el.css("overflow","hidden")},_renderPageHeaderView:function(){},_renderAcrobatFooterView:function(){},_renderModalMaskView:function(){}})}),define("app/dev/views/view-mgr",["core/ac-core","app/ac-app","core/utils/util","core/views/view","app/views/content-page-view","app/views/rhp-content-page-view","app/views/notification-content-page-view","app/views/file-selection-dlg-view","app/views/whats-new-dlg-view","app/views/acrobat-command-page-view"],function(e,t,n){var r;t.ViewMgr=e.View.extend({getContentPageView:function(e){var i,s=".content-page";if(n.isCEF())if(e.runningInRHP)s=".rhp-content-page";else if(e.runningInNotification)s=".notification-content-page";else if(e.runningInFileSelection||e.runningInFileSaveAs||e.runningInWhatsNewView)s=".dialog-container";return r||(i=_.extend({},e,{el:s}),n.isCEF()?e.runningInRHP?r=new t.RHPContentPageView(i):e.runningInNotification?r=new t.NotificationContentPageView(i):e.runningInFileSelection||e.runningInFileSaveAs?r=new t.FileSelectionDlgView(i):e.runningInWhatsNewView?r=new t.WhatsNewDlgView(i):e.runningInCommand?r=new t.AcrobatCommandPageView(i):r=new t.ContentPageView(i):r=new t.ContentPageView(i),this.addChildView(r),e.rootView=r),r},getContentPageViewWithoutCreation:function(){return r},showContentPageView:function(e){var t;t=this.getContentPageView(e),t.$el.show(),t.render()},unsetContentPageView:function(){r&&(this.removeChildView(r),r=undefined)},isContentPageViewUnset:function(){return r===undefined}})}),define("app/dev/ops/account-menu/loading-account-menu-op",["core/ac-core","app/ac-app","core/utils/util","core/ops/op"],function(e,t,n){return t.LoadingAccountMenuOp=e.Op.extend({run:function(){var t=this.options,r=t.appApi.pluginsApi,i;return n.isCEF()&&(i={readerContextModel:t.readerContextModel}),e.opFactory.create("LoadingPluginsOp",_.extend({pluginsConfig:r.getPluginTypeConfig("account_menu"),pluginsUiModel:t.accountMenuPluginsUiModel,pluginContext:i},_.pick(t,"appApi","pluginId","force"))).run()}}),t.LoadingAccountMenuOp}),define("app/dev/ops/account-menu/selecting-account-menu-item-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){t.SelectingAccountMenuItemOp=e.Op.extend({run:function(){var t=this.options;return t.pageHeaderUiModel.set("show_account_menu",!1),e.opFactory.create("SelectingPluginOp",t).run()}})}),define("app/dev/ops/acrobat/closing-in-acrobat-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){t.ClosingInAcrobatOp=e.Op.extend({run:function(){return document.location="acrobatskybox://closewindow",this._getResolvedPromise()}})}),define("app/dev/ops/acrobat/opening-in-acrobat-op",["core/ac-core","app/ac-app","i18n!core/nls/ui-strings","core/ops/op"],function(e,t,n){t.OpeningInAcrobatOp=e.Op.extend({run:function(){var e=this.options,t=e.acrobatUiModel,r=$.Deferred(),i,s,o,u,a,f;return u=e.ids,a=u.length,a>t.get("file_open_max_count")?(e.errorUiModel.enqueueMiscError(n.MISC_ERROR_ACROBAT_FILE_OPEN_MAX_TITLE,n.MISC_ERROR_ACROBAT_FILE_OPEN_MAX_MSG),r.reject().promise()):(e.selectionUiModel.clearSelection(),i=t.isFolderSelectionMode(),a>1?(f=[],_.each(u,function(e){f.push(encodeURIComponent(e))}),s=i?"openFolders":"openDocuments",o="acrobatskybox://"+s+"/?assetIDs="+f.join(";")):(s=i?"openFolder":"openDocument",o="acrobatskybox://"+s+"/?assetID="+encodeURIComponent(u[0])),document.location=o,r.resolve().promise())}})}),define("app/dev/ops/acrobat/selecting-acrobat-filter-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){t.SelectingAcrobatFilterOp=e.Op.extend({run:function(){var e=this.options,t=e.appApi.acrobatApi,n;return n=e.filterIndex,n===undefined?n=t.getSelectedFilterIndex():t.setSelectedFilterIndex(n),this._getResolvedPromise()}})}),define("app/dev/ops/app/rna-starting-app-op",["core/ac-core","app/ac-app","core/utils/date-util","core/utils/view-util","core/ops/op"],function(e,t,n,r){return t.RNAStartingAppOp=e.Op.extend({run:function(){var r=this.options,i,s,o,u,a,f,l,c,h,p,d=this._getResolvedPromise(),v,m,g;return i=e.opFactory,s=t.opFactory,s.create("OverridingJQueryAjaxOp",r).run(),s.create("LoadingCustomCssOp",r).run(),s.create("ListeningForAjaxEventsOp",r).run(),s.create("ListeningForServerErrorsOp",r).run(),o=s.create("RegisteringAppApisOp",r),u=s.create("InitializingAppRoutesOp",r),f=s.create("HandlingUncaughtExceptionsOp",r),a=s.create("ListeningForDownloadErrorsOp",r),h=s.create("StartingHistoryOp",r),l=s.create("LoadingPluginConfigsOp",r),p=s.create("RegisteringPluginsUiModels",r),c=s.create("RNARunningAppOp",r),v=s.create("InitializingRNAOp",r),m=s.create("ConfiguringRNAOp",r),g=i.create("GettingSiteCatalystBaseFileOp",r),n.logElapsedTime("before loading app-apis"),v.run().then(function(){return o.run(),r.appApi.displayApi.applyUIThemeStyleFramework(),u.run(),p.run(),f.run(),a.run(),n.logElapsedTime(" after initializingRNAOp"),$.when(l.run()).always(function(){return n.logElapsedTime("after RNA + plugin configs"),m.run().then(function(){return h.run(),e.isJasmine()?d:c.run()})})})}}),t.RNAStartingAppOp}),define("app/dev/ops/app/rna-running-app-op",["core/ac-core","files/ac-files","app/ac-app","core/ops/op"],function(e,t,n){n.RNARunningAppOp=e.Op.extend({run:function(){var r=this.options,i,s,o,u,a,f,l,c,h,p,d,v,m,g;return i=e.opFactory,s=t.opFactory,o=n.opFactory,u=o.create("ListeningForWindowEventsOp",r),a=i.create("ListeningForKeyEventsOp",r),f=o.create("ListeningForViewEventsOp",r),l=o.create("ListeningForInactivityOp",r),c=o.create("ListeningForNetworkConnectivityOp",r),g=i.create("ListeningForFocusEventsOp",r),h=s.create("ListeningForQuotaErrorsOp",r),p=o.create("ListeningForRNAEventsOp",r),d=i.create("ListeningForActions",r),v=o.create("ListeningForSessionEventsOp",r),m=o.create("ListeningForDialogAlertEventsOp",r),$.when(u.run(),a.run(),g.run(),f.run(),l.run(),c.run(),h.run(),p.run(),d.run(),v.run(),m.run())}})}),define("app/dev/ops/app/running-app-op",["core/ac-core","files/ac-files","app/ac-app","core/ops/op"],function(e,t,n){n.RunningAppOp=e.Op.extend({run:function(){var r=this.options,i,s,o,u,a,f,l,c,h;return i=e.opFactory,s=t.opFactory,o=n.opFactory,u=o.create("ListeningForWindowEventsOp",r),a=i.create("ListeningForKeyEventsOp",r),f=i.create("ListeningForFocusEventsOp",r),l=o.create("ListeningForViewEventsOp",r),c=o.create("ListeningForInactivityOp",r),h=s.create("ListeningForQuotaErrorsOp",r),$.when(u.run(),a.run(),f.run(),l.run(),c.run(),h.run())}})}),define("app/dev/ops/app/starting-app-op",["core/ac-core","app/ac-app","core/utils/date-util","core/utils/view-util","core/ops/op"],function(e,t,n,r){return t.StartingAppOp=e.Op.extend({run:function(){var i=this.options,s,o,u,a,f,l,c,h,p,d,v,m,g,y;n.logElapsedTime("begin starting-app-op"),r.init(),s=e.opFactory,o=t.opFactory,o.create("OverridingJQueryAjaxOp",i).run(),o.create("LoadingCustomCssOp",i).run(),o.create("ListeningForAjaxEventsOp",i).run(),o.create("ListeningForServerErrorsOp",i).run(),u=o.create("LoadingTypekitOp",i),a=o.create("LoadingFrameworkVersionsOp",i),f=o.create("RegisteringAppApisOp",i),l=o.create("InitializingAppRoutesOp",i),c=o.create("RegisteringPluginsUiModels",i),h=o.create("HandlingUncaughtExceptionsOp",i),p=o.create("ListeningForDownloadErrorsOp",i),d=o.create("GettingAllBaseUrisOp",i),v=o.create("LoadingPluginConfigsOp",i),m=o.create("LoadingPluginConfigsVersionsOp",i),g=s.create("StartingSusiSessionOp",i),y=o.create("StartingAuthenticatedAppOp",i),u.run(),a.run().always(function(){return n.logElapsedTime("before loading app-apis"),f.run(),l.run(),c.run(),h.run(),p.run(),n.logElapsedTime("before base uris + plugin configs"),$.when(d.run(),v.run()).always(function(){return n.logElapsedTime("after base uris + plugin configs"),m.run().then(function(){return g.run().then(function(){return n.logElapsedTime("after starting susi"),y.run()})})})})}}),t.StartingAppOp}),define("app/dev/ops/app/starting-authenticated-app-op",["core/ac-core","app/ac-app","core/utils/date-util","core/ops/op"],function(e,t,n){return t.StartingAuthenticatedAppOp=e.Op.extend({run:function(){var r=this.options,i,s,o,u,a,f,l,c,h,p,d,v=this._getResolvedPromise();return n.logElapsedTime("begin starting-app-op"),i=t.opFactory,h=i.create("StartingHistoryOp",r),s=i.create("GettingAllUserInfoOp",r),u=i.create("LoadingToolsOp",r),a=i.create("LoadingDeepLinkPluginsOp",r),f=i.create("LoadingTemplatePluginsOp",r),l=i.create("LoadingAccountMenuOp",r),c=i.create("GettingStorageInfoOp",r),p=i.create("ShowingLoadFailuresDlgOp",r),o=i.create("RunningAppOp",r),d=i.create("RedirectingToApolloOp",r),n.logElapsedTime("initializing authenticated session"),s.run().always(function(){return d.run(),$.when.apply(undefined,[c.run(),l.run(),u.run(),a.run(),f.run()]).always(function(){return n.logElapsedTime("after loading plugins + connector info"),t.viewMgr.showContentPageView(r),h.run(),e.isJasmine()?v:(p.run(),o.run())})})}}),t.StartingAuthenticatedAppOp}),define("app/dev/ops/file-selection-dlg/loading-file-selection-dlg-home-views-op",["core/ac-core","app/ac-app","core/utils/util","core/ops/op"],function(e,t,n){t.LoadingFileSelectionDlgHomeViewsOp=e.Op.extend({run:function(t){var r=this.options,i=r.appApi.pluginsApi,s=r.fileSelectionDlgHomeViewsUiModel,o=e.opFactory,u,a;n.isCEF()&&(a={readerContextModel:r.readerContextModel});var f=i.getPluginTypeConfig("file_selection_dlg");if(r.appApi.saveAsApi.isCalledFromNativeRS()==1){var l=_.indexOf(f.plugin_ids,"add_account_select");l>=0&&f.plugin_ids.splice(l,1)}else{var l=_.indexOf(f.plugin_ids,"signatures");l>=0&&f.plugin_ids.splice(l,1)}return u=o.create("LoadingPluginsOp",_.extend({pluginsConfig:f,pluginsUiModel:s,pluginContext:a},_.pick(r,"appApi","pluginId","force"))),u.run().then(function(){if(!t)return o.create("InstantiatingConnectorsByCohortOp",r).run({pluginsUiModel:s,inFileSelectionDlg:!0})})}})}),define("app/dev/ops/file-selection-dlg/selecting-file-selection-dlg-home-view-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){t.SelectingFileSelectionDlgHomeViewOp=e.Op.extend({run:function(t){return e.opFactory.create("SelectingPluginOp",this.options).run(t)}})}),define("app/dev/ops/file-selection-dlg/showing-file-selection-dlg-op",["core/ac-core","app/ac-app","core/utils/util","core/ops/op","app/views/file-selection-dlg-view"],function(e,t,n){t.ShowingFileSelectionDlgOp=e.Op.extend({run:function(e){var r,i=this.options;return n.isCEF()&&(i.runningInFileSelection||i.runningInFileSaveAs)?r=t.viewMgr.getContentPageView(i):r=new t.FileSelectionDlgView(i),r.open(e)}})}),define("app/dev/ops/file-selection-dlg/loading-file-selection-dlg-op",["app/ac-app","core/ac-core","core/utils/file-types","core/ops/op"],function(e,t){return e.LoadingFileSelectionDlgOp=t.Op.extend({run:function(){return this.options.readerContextModel.done(_.bind(function(e){var n=e.get("rna"),r,i,s;if(n.hasProperty("viewData")){this.fsData=n.get("viewData").get("fileSelectData"),r="home",s={dialog:{singleFileSelection:!0},plugin:{filter:{minSize:1,maxSize:1e8,mimeTypes:[],extensions:[]}}},this.fsData.hasProperty("nonDefaultRecent")&&(this.options.nonDefaultRecent=this.fsData.get("nonDefaultRecent")),this.fsData.hasProperty("showRecent")&&(s.plugin.showRecent=this.fsData.get("showRecent")),this.fsData.hasProperty("actionButtonText")&&(s.dialog.addSelectedButtonLabel=this.fsData.get("actionButtonText")),this.fsData.hasProperty("headerLabel")&&(s.dialog.fileSelectionDlgHeaderLabel=this.fsData.get("headerLabel")),this.fsData.hasProperty("fileFilterList")&&(i=this.fsData.get("fileFilterList"),i.forEach(function(e){var t=e.get("fileFilterExtensions");t.forEach(function(e){if(s.plugin.filter.extensions.indexOf(e)!==-1)return;s.plugin.filter.extensions.push(e)})})),this.fsData.hasProperty("fileMimeTypes")&&(s.plugin.filter.mimeTypes=this.fsData.get("fileMimeTypes")),this.options.appApi.saveAsApi.isRunningInFileSaveAs()?(s.dialog.singleFileSelection=!0,s.plugin.filter.minSize=undefined,s.plugin.filter.maxSize=undefined):this.fsData.hasProperty("allowMultiple")&&(s.dialog.singleFileSelection=!this.fsData.get("allowMultiple")),s.plugin.showRecent||(this.options.nonDefaultRecent=!0),this.fsData.hasProperty("disableDocumentCloud")&&this.options.tunerUiModel.set("disable_document_cloud",this.fsData.get("disableDocumentCloud")),this.fsData.hasProperty("disableWebConnectors")&&this.options.tunerUiModel.set("disable_web_connectors",this.fsData.get("disableWebConnectors")),this.fsData.hasProperty("disableLocalConnectors")&&this.options.tunerUiModel.set("disable_local_connectors",this.fsData.get("disableLocalConnectors")),this.fsData.hasProperty("initialSaveAsFilename")&&this.options.appApi.saveAsApi.setFilename(this.fsData.get("initialSaveAsFilename")),this.fsData.hasProperty("selectedToolPlugin")&&(s.plugin.selectedToolPlugin=this.fsData.get("selectedToolPlugin")),this.fsData.hasProperty("scContext")&&(s.plugin.pluginScContext=this.fsData.get("scContext"));var o=this.options.saveAsUiModel;return this.fsData.hasProperty("fileOptionsRFS")&&o.set("fileOptionsRFS",this.fsData.get("fileOptionsRFS")),this.fsData.hasProperty("fileFilterList")&&o.set("fileFilterList",this.fsData.get("fileFilterList")),this.fsData.hasProperty("defaultFileFilter")&&o.set("chosenFileFilter",this.fsData.get("defaultFileFilter")),this.fsData.hasProperty("showExportOptions")&&o.set("showExportOptions",this.fsData.get("showExportOptions")),this.fsData.hasProperty("allowSettingsButton")&&o.set("allowSettingsButton",this.fsData.get("allowSettingsButton")),this.fsData.hasProperty("allowViewResult")&&o.set("allowViewResult",this.fsData.get("allowViewResult")),this.fsData.hasProperty("isReduceFileSizeEnabled")&&o.set("reduceFileSizeEnabled",this.fsData.get("isReduceFileSizeEnabled")),this.fsData.hasProperty("isRestrictEditingEnabled")&&o.set("restrictEditingEnabled",this.fsData.get("isRestrictEditingEnabled")),this.fsData.hasProperty("isReduceFileSizeEnabled")&&o.set("reduceFileSizeEnabledByParams",this.fsData.get("isReduceFileSizeEnabled")),this.fsData.hasProperty("isRestrictEditingEnabled")&&o.set("restrictEditingEnabledByParams",this.fsData.get("isRestrictEditingEnabled")),this.fsData.hasProperty("isReduceFileSizeSelected")&&o.set("reduceFileSize",this.fsData.get("isReduceFileSizeSelected")),this.fsData.hasProperty("isRestrictEditingSelected")&&o.set("restrictEditing",this.fsData.get("isRestrictEditingSelected")),this.fsData.hasProperty("isReduceFileSizeVisible")&&o.set("reduceFileSizeVisible",this.fsData.get("isReduceFileSizeVisible")),this.fsData.hasProperty("isRestrictEditingVisible")&&o.set("restrictEditingVisible",this.fsData.get("isRestrictEditingVisible")),this.fsData.hasProperty("isExportButtonEnabled")&&o.set("exportButtonEnabled",this.fsData.get("isExportButtonEnabled")),this.fsData.hasProperty("isExportButtonEnabled")&&o.set("exportButtonEnabledByParams",this.fsData.get("isExportButtonEnabled")),this.fsData.hasProperty("isExportButtonVisible")&&o.set("exportButtonVisible",this.fsData.get("isExportButtonVisible")),this.fsData.hasProperty("isExportButtonSelected")&&o.set("exportButtonSelected",this.fsData.get("isExportButtonSelected")),this.fsData.hasProperty("initialSourceKey")&&o.set("sourceKey",this.fsData.get("initialSourceKey")),this.fsData.hasProperty("initialAccountId")&&o.set("accountId",this.fsData.get("initialAccountId")),this.fsData.hasProperty("fileSaveAsSelectedPluginId")&&o.set("defaultSelectedPluginId",this.fsData.get("fileSaveAsSelectedPluginId")),this.fsData.hasProperty("originalSize")&&o.set("originalSize",this.fsData.get("originalSize")),this.fsData.hasProperty("reducedSize")&&o.set("reducedSize",this.fsData.get("reducedSize")),this.fsData.hasProperty("showReduceSizeBanner")&&o.set("showReduceSizeBanner",this.fsData.get("showReduceSizeBanner")),this.fsData.hasProperty("reduceFileSizeSelectedByPref")&&o.set("reduceFileSizeSelectedByPref",this.fsData.get("reduceFileSizeSelectedByPref")),this.fsData.hasProperty("isCalledFromUpsell")&&o.set("calledFromUpsell",this.fsData.get("isCalledFromUpsell")),this.fsData.hasProperty("isCalledFromNativeRS")&&o.set("calledFromNativeRS",this.fsData.get("isCalledFromNativeRS")),_.extend(this.options,{fileSelectionDlgOptions:s}),this.options.appApi.selectionApi.selectFiles(r,s).then(_.bind(function(e){var n=this.options.appApi,r=n.saveAsApi,i=e.uploadedFileAttrs,s=[],o=[],u={},a="pdf",f="",l=!1,c=!1,h=!1,p=!1,d,v,m=[],g;d=n.pluginsApi.getSelectedPluginId("file_selection_dlg"),p=n.connectorsApi.isConnectorPlugin(d)&&n.connectorsApi.isDesktopConnector(n.connectorsApi.getConnectorPluginName(d)),p||d==="my_recent_files_select"?$.each(i,function(e,t){t._proxy&&s.push(t._proxy)}):$.each(i,function(e,t){undefined===t._proxy&&o.push(t)}),n.displayApi.showSpinner(!0);if(r.isRunningInFileSaveAs()){f=r.getFilename(),l=r.isRestrictEditingSelected(),c=r.isReduceFileSizeSelected(),h=r.isExportButtonSelected(),a=r.getChosenFileExtension()||"";var y=r.getOutputFormat();u={selectedExtension:a,saveAsFilename:f,closeWindow:!0},l!==undefined&&_.extend(u,{restrictEditing:l}),c!==undefined&&_.extend(u,{reduceFileSize:c}),h!==undefined&&_.extend(u,{isExportButtonSelected:h}),d!==undefined&&_.extend(u,{fileSaveAsSelectedPluginId:d}),y!==undefined&&_.extend(u,{outputFormatFromSaveAs:y}),p?(v=r.getCurrentFolderProxy(),v&&_.extend(u,{saveAsParentFolderObject:v}),g=r.getReplaceFileObj(),g&&(m.push(g._proxy),_.extend(u,{selectedFileObjects:m}))):_.extend(u,{selectedBHFiles:[{id:r.getReplaceFileId()}],saveAsParentFolderid:r.getCurrentFolderId()}),this.fsData.invoke("setSelectedFiles",u).then(_.bind(function(){this.options.appApi.displayApi.showSpinner(!1)},this))}else if(d=="root-select"||d=="ccloud-select"){var b=this.options,w=[],E,S=b.selectionUiModel;_.each(o,function(e){e.is_shared!==undefined&&e.is_shared&&e.asset_id!==undefined?e.bootstrap===undefined?(_.extend(b,{id:e.asset_id}),E=t.opFactory.create("FireBootstrapApiOp",b).run()):E=Promise.resolve(1):E=Promise.resolve(0),w.push(E)}),Promise.all(w.map(function(e){return e.then(function(e){return{status:"fullfilled",value:e}},function(e){return{status:"rejected",value:e}})})).then(_.bind(function(e){_.each(e,function(e,t){e.status==="rejected"||e.value===0?o[t].bootstrapStr="":e.status==="fullfilled"&&e.value===1?o[t].bootstrapStr=JSON.stringify(o[t].bootstrap):(o[t].bootstrap=e.value,o[t].bootstrapStr=JSON.stringify(e.value))}),u={selectedBHFiles:o,selectedExtension:a,selectedFileObjects:s,closeWindow:!0},this.fsData.invoke("setSelectedFiles",u).then(_.bind(function(){this.options.appApi.displayApi.showSpinner(!1)},this))},this))}else u={selectedBHFiles:o,selectedExtension:a,selectedFileObjects:s,closeWindow:!0},this.fsData.invoke("setSelectedFiles",u).then(_.bind(function(){this.options.appApi.displayApi.showSpinner(!1)},this))},this),_.bind(function(){this.options.appApi.displayApi.showSpinner(!0),this.fsData.invoke("cancelDialog").then(_.bind(function(){this.options.appApi.displayApi.showSpinner(!1)},this))},this))}},this))}}),e.LoadingFileSelectionDlgOp}),define("app/dev/ops/whats-new-dlg/loading-whats-new-dlg-op",["core/ac-core","app/ac-app","core/utils/util","core/ops/op","app/views/file-selection-dlg-view"],function(e,t,n){t.LoadingWhatsNewDlgOp=e.Op.extend({run:function(e){var r,i=this.options;return _.extend(this.options,{parentView:t.viewMgr}),n.isCEF()&&i.runningInWhatsNewView?r=t.viewMgr.getContentPageView(i):r=new t.WhatsNewDlgView(i),r.open(e)}})}),define("app/dev/ops/getting/getting-all-base-uris-op",["core/ac-core","app/ac-app","aicx/ac-aicx","core/ops/op"],function(e,t,n){return t.GettingAllBaseUrisOp=e.Op.extend({run:function(){var t=this.options,r=e.opFactory,i=n.opFactory,s=$.Deferred();return this.options.appApi.rnaApi.done(_.bind(function(e){e.invokeMethod({methodName:"getSCACPIMigrationCurrentState",methodArgs:{}}).done(_.bind(function(e){e>=5&&(Ac.config.isUserMigratedToACP=!0);var n=$.when.apply(undefined,[r.create("GettingBaseFilesUrisOp",t).run(),r.create("GettingBaseCloudUrisOp",t).run()]).then(_.bind(function(){try{return Ac.Aicx&&(Ac.Aicx.baseCpdfUri=t.appApi.baseCloudUrisApi.getCpdfUri()),i.create("GettingBaseAicUrisOp",t).run()}catch(e){util.isDevTestEnvironment()&&alert(e.toString()),logException(e,this.context);if(!this.handler)throw e;this.handler(e,this.context)}},this),_.bind(function(e){try{if(e.errorString==="DCAPIUnsupported-Error410")return $.Deferred().reject(e).promise()}catch(t){util.isDevTestEnvironment()&&alert(t.toString()),logException(t,this.context);if(!this.handler)throw t;this.handler(t,this.context)}},this));n.then(function(){s.resolve()},function(e){s.reject()})},this))},this)),s}}),t.GettingAllBaseUrisOp}),define("app/dev/ops/getting/getting-storage-info-op",["core/ac-core","app/ac-app","core/utils/util","core/ops/op"],function(e,t,n){return t.GettingStorageInfoOp=e.Op.extend({run:function(){var t=this.options,n=e.opFactory;return $.when(n.create("GettingSystemFoldersOp",t).run(),n.create("GettingRootOp",t).run(),n.create("GettingConnectorsUiHelpersOp",_.extend({},t,{forceFresh:!1,useReaderSyncMode:!1})).run())}}),t.GettingStorageInfoOp}),define("app/dev/ops/listening/listening-for-ajax-events-op",["core/ac-core","app/ac-app","core/utils/util","core/utils/ajax-util","core/ops/op"],function(e,t,n,r){t.ListeningForAjaxEventsOp=e.Op.extend({run:function(){var e=$.Deferred();return r.addGlobalAjaxHandlers({ajaxStart:this._onAjaxStart,ajaxSend:this._onAjaxSend,ajaxComplete:this._onAjaxComplete,ajaxStop:this._onAjaxStop,ajaxError:this._onAjaxError}),this._deferred=e,e.promise()},_onAjaxStart:function(){this.options.networkUiModel.set("is_ajax_request_active",!0)},_onAjaxSend:function(e,t,n){var r=n.modal;_.isUndefined(r)&&(r=!0),r&&this._showModalUi(!0)},_onAjaxComplete:function(e,t,r){var i=this.options,s=i.appApi,o=Ac.Plugins.rna_resource_url,u=r.modal,a;_.isUndefined(u)&&(u=!0),u&&this._showModalUi(!1),n.isCEF()&&(r.url.startsWith(o)||(a=t.status===0?!1:!0,a!==s.networkConnectivityApi.isOnline()&&i.networkConnectivityModel.set({is_connected:a,ajax_status:a})))},_onAjaxStop:function(){this.options.networkUiModel.set("is_ajax_request_active",!1)},_onAjaxError:function(t,r,i,s){var o=this.options,u=o.appApi,a=r.status,f,l;n.isCEF()&&(f=a===0?!1:!0,f===!1&&u.rnaApi.done(function(e){var t;e.isFeatRunning()&&e.isASTestAllowInstantiation()&&(t="jqXHR.statusText = ",t+=r.statusText,t+="\n",t+="jqXHR.status = ",t+=r.status,t+="\n",t+="jqXHR.state = ",t+=r.state(),t+="\n",t+="thrownError = ",t+=s,t+="\n",t+="ajaxSettings.url = ",t+=i.url,t+="\n",t+="ajaxSettings.base_url = ",t+=i.base_url,console.log("Ajax call error due to either network being offline or something else."),console.log(t))}),f!==u.networkConnectivityApi.isOnline()&&o.networkConnectivityModel.set({is_connected:f,ajax_status:f}));if(a===0||r.readyState===0)return;_.isUndefined(i.ignoreErrors)||(l=_.find(i.ignoreErrors,function(e){return e===404}));if(a===401)u.sessionApi.signedOut(),e.Util.isClassic()||o.errorUiModel.enqueueAjaxError(r);else if(a!==200){if(a===410)return;if(a===423)return;if(a===404&&!_.isUndefined(l))return;o.errorUiModel.enqueueAjaxError(r)}},_showModalUi:function(t){function u(t){if(e.isJasmine())return;if(!o)return;o.displayApi.showSpinner(t)}var n=this.options,r,i=n.ajaxUiModel,s=n.modalMaskUiModel,o=n.appApi;o.displayApi.isDebugLogging()&&LOG("AcApp.ListeningForAjaxEventsOp._showModalUi "+t),r=_.bind(function(){var e=this._ajaxSpinnerThresholdTimerId;e&&(clearTimeout(e),this._ajaxSpinnerThresholdTimerId=undefined),e=this._ajaxTransparentThresholdTimerId,e&&(clearTimeout(e),this._ajaxTransparentThresholdTimerId=undefined)},this),t?(n.ajaxModalRefs+=1,s.set({modal:!0,modal_ajax:!0,modal_transparent:!0}),this._ajaxSpinnerThresholdTimerId||(this._ajaxSpinnerThresholdTimerId=setTimeout(function(){s.get("modal")&&(n.ajaxSpinnerShown||(n.ajaxSpinnerShown=!0,u(!0)))},i.get("ajax_spinner_threshold"))),this._ajaxTransparentThresholdTimerId||(this._ajaxTransparentThresholdTimerId=setTimeout(_.bind(function(){s.get("modal")&&s.set("modal_transparent",!1)},this),i.get("ajax_transparent_threshold")))):(r(),n.ajaxModalRefs-=1,n.ajaxModalRefs<=0&&(s.set("modal_ajax",!1),o.dialogApi.isDialogOpen()||s.set("modal",!1),n.ajaxSpinnerShown&&(n.ajaxSpinnerShown=!1,u(!1))))}})}),define("app/dev/ops/listening/listening-for-download-errors-op",["core/ac-core","app/ac-app","core/utils/event-util","core/ops/op"],function(e,t,n){return t.ListeningForDownloadErrorsOp=e.Op.extend({run:function(){var e=this.options,t;return t=function(t){var n,r,i;try{n=JSON.parse(t.data),i=Ac.baseFilesUrisModel.getDownloadUri(),i&&i.indexOf(t.origin)===0&&n.name==="file-download-error"&&_.has(n,"status")&&(r={status:n.status,responseText:JSON.stringify(n.body)},e.appApi.errorApi.enqueueAjaxError(r))}catch(s){LOG(s)}},n.addPostMessageListener(t),this._getResolvedPromise()}}),t.ListeningForDownloadErrorsOp}),define("app/dev/ops/listening/listening-for-folder-notifications-op",["core/ac-core","app/ac-app","core/utils/util","core/utils/http-util","core/ops/op"],function(e,t,n,r){t.ListeningForFolderNotificationsOp=e.Op.extend({run:function(){var t=this.options,n=e.opFactory;return this._creatingEndpointsOp=n.create("CreatingNotificationsEndpointsOp",t),this._gettingFolderNotificationsOp=n.create("GettingFolderNotificationsOp",t),this._enablingFolderNotificationsOp=n.create("EnablingFolderNotificationsOp",t),this._addAppApiCallbacks(),this._addUiModelEventListeners(),this.options.appApi.sessionApi.isSignedIn()&&this._restart("initial"),$.Deferred().promise()},_start:function(){var t=this.options,r=t.appApi,i,s=t.notificationUiModel,o=t.appApi.pluginsApi;if(r.acrobatApi.isInAcrobat()&&e.Util.isMac())return this._getRejectedPromise();if(n.isCEF()&&!r.selectionApi.isRunningInFull())return this._getRejectedPromise();if(n.isCEF())if(!t.appApi.selectionApi.isRunningInFull()||o.getSelectedPluginId("tools")!=="home")return this._getRejectedPromise();return i=_.bind(function(e,t,r){n.isCEF()&&s.set("is_starting_notification",!1),this._onError(e,t,r)},this),this._creatingEndpointsOp.run().then(_.bind(function(){return this._startResubscribeTimer(),this._monitorFolders().then(_.bind(function(){this._isGetting||(this._gettingFolderNotificationsOp.run(),this._isGetting=!0)},this))},this),i)},_monitorFolders:function(){var e=this.options,t,n=e.notificationUiModel;return this._enablingFolderNotificationsOp.run(n.getFolderIds()).fail(_.bind(function(e,r,i){if(e.status===404)try{t=JSON.parse(e.responseText).error,t.code==="ObjectNotFound"&&n.removeCallback(t.details.id)}catch(s){}else this._onError(e,r,i)},this))},_stop:function(){return this._cancelPending(),e.opFactory.create("StoppingNotificationsOp",this.options).run()},_restart:function(e){function s(e){return _.isBoolean(e)&&n.set("is_restarting",e),n.get("is_restarting")}var t=this.options,n=t.notificationUiModel,r,i;if(s())return;s(!0),_.isUndefined(this._prevRestartTime)?this._prevRestartTime=(new Date).getTime():(r=(new Date).getTime(),i=r-this._prevRestartTime,i<n.get("resubscribe_timeout")&&LOG("Restarting notifications after "+i+" msecs: "+(e||""),{logServer:!0}),this._prevRestartTime=r),this._stop().then(_.bind(function(){this._start().always(function(){s(!1)})},this),function(){s(!1)})},_cancelPending:function(){this._stopResubscribeTimer()},_onError:function(t){var n=t.status,i=this.options,s=i.notificationUiModel,o;if(n===0)return;this._cancelPending(),n===401?(r.clearSessionAttrs(i.sessionUiModel),this._stop().always(function(){e.hasValidAccessToken||i.appApi.sessionApi.signedOut()})):n>=500&&(this._debounced500Listener||(o=s.get("restart_500_debounce_delay"),this._debounced500Listener=_.debounce(_.bind(function(){this._restart(n)},this),o)),this._debounced500Listener())},_startResubscribeTimer:function(){var e=this.options.notificationUiModel,t;this._stopResubscribeTimer(),t=_.delay(_.bind(function(){this._restart("resubscribe timer")},this),e.get("resubscribe_timeout")),e.set("resubscribe_timeout_id",t)},_stopResubscribeTimer:function(){var e=this.options.notificationUiModel,t=e.get("resubscribe_timeout_id");t&&(window.clearTimeout(t),e.unset("resubscribe_timeout_id"))},_addAppApiCallbacks:function(){var e=this.options.appApi;e.sessionApi.addSignedInChangeCallback(this._onSignedInChange),e.inactivityApi.addIdleChangeCallback(this._onIsIdleChange),n.isCEF()&&e.networkConnectivityApi.addNetworkConnectivtyChangeCallback(this._onIsConnectivityChange)},_onSignedInChange:function(e,t){t?this._restart("signed in"):this._stop()},_onIsIdleChange:function(e,t){t?this._stop():this.options.appApi.sessionApi.isSignedIn()&&this._restart("no longer idle")},_onIsConnectivityChange:function(e,t){t?this.options.appApi.sessionApi.isSignedIn()&&this._restart():this._stop()},_addUiModelEventListeners:function(){this.options.notificationUiModel.on("change:callbacks_by_folder_id",this._onCallbacksByFolderIdChange).on("change:resubscribe_trigger",this._onResubscribeTriggerChange)},_onCallbacksByFolderIdChange:function(){this._monitorFolders()},_onResubscribeTriggerChange:function(e,t){t&&this._restart("404 resubscribe")}})}),define("app/dev/ops/listening/listening-for-inactivity-op",["core/ac-core","app/ac-app","core/utils/util","core/ops/op"],function(e,t,n){t.ListeningForInactivityOp=e.Op.extend({run:function(){var e=$.Deferred(),t=this.options;return this._addActivityListeners(),this._addUiModelEventListeners(),t.notificationModel.get("update_url")?this._startInactivityTimer():n.isCEF()&&t.appApi.rnaApi.then(_.bind(function(){t.inactivityUiModel.get("timeout_id")||this._startInactivityTimer()},this)),e.promise()},_startInactivityTimer:function(){var e=this.options.inactivityUiModel;this._stopInactivityTimer(),e.set({is_active:!1,is_idle:!1},{silent:!0}),e.set("timeout_id",_.delay(function(){e.get("is_active")||(LOG(0,"AcApp.ListeningForInactivityOp._startInactivityTimer: setting is_idle=true"),e.set("is_idle",!0))},e.get("idle_timeout")),{silent:!0})},_stopInactivityTimer:function(){var e=this.options.inactivityUiModel,t;t=e.get("timeout_id"),t&&(clearTimeout(t),e.unset("timeout_id"))},_addActivityListeners:function(){var e=this.options.inactivityUiModel,t,n;t=_.debounce(_.bind(function(){this._startInactivityTimer()},this),e.get("restart_debounce_delay")),n=function(n){e.set({is_active:!0,is_idle:!1}),t(n)},$("body").on("mousemove.inactivity",n).on("click.inactivity",n).on("keydown.inactivity",n)},_addUiModelEventListeners:function(){this.options.inactivityUiModel.on("change:is_idle",this._onIsIdleChange)},_onIsIdleChange:function(t,n){var r=this.options,i,s;n?(i=r.sessionUiModel,s=i.get("refresh_timer_id"),s&&(window.clearTimeout(s),i.unset("refresh_timer_id"))):t.previous("is_idle")===!0&&r.signInUiModel.get("is_signed_in")&&e.opFactory.create("RefreshingSessionInitiallyOp",r).run()}})}),define("app/dev/ops/listening/listening-for-network-connectivity-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){t.ListeningForNetworkConnectivityOp=e.Op.extend({run:function(){var e=$.Deferred();return this._addConnectivityListeners(),this._deferred=e,e.promise()},_addConnectivityListeners:function(){var e=this.options.networkConnectivityModel,t=this.options.appApi,n;t.rnaApi.done(function(e){e.isFeatRunning()&&e.isASTestAllowInstantiation()&&console.log(navigator.onLine?"network connectivity status while loading this renderer is connected":"network connectivity status while loading this renderer is notConnected")}),n=function(){t.rnaApi.done(function(t){var n;t.isFeatRunning()&&t.isASTestAllowInstantiation()&&(n="network connectivity changed from ",n+=e.get("is_connected")?"connected":"notConnected",n+=" to ",n+=navigator.onLine?"connected":"notConnected",console.log(n))}),e.set({is_connected:navigator.onLine,ajax_status:navigator.onLine})},window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1)}})}),define("app/dev/ops/listening/listening-for-server-errors-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){t.ListeningForServerErrorsOp=e.Op.extend({run:function(){var e=$.Deferred();return this._addUiModelEventListeners(),this._deferred=e,e.promise()},_showError:function(){var e=this.options,t=e.errorUiModel,n=t.get("error"),r,i=e.appApi,s;if(!i)return;s=i.dialogApi,n&&(r=t.getErrorStrings(n),s.displayTextAlert(s.SEVERITY_ERROR,r.title,r.msg,r.btn1).always(_.bind(function(){this._onButtonClick()},this)))},_onButtonClick:function(){var e=this.options,n=e.errorUiModel.get("error"),r,i=t.opFactory;if(!n)return;r=n.data.status,r===401?i.create("SigningInFromErrorOp",e).run():r===403?i.create("ShowingNextErrorOp",e).run():i.create("ShowingNextErrorOp",e).run()},_addUiModelEventListeners:function(){this.options.errorUiModel.on("change:error",this._onErrorChange)},_onErrorChange:function(t,n){if(n&&n.type!==e.ErrorUiModel.ERROR_TYPE_AJAX&&n.type!==e.ErrorUiModel.ERROR_TYPE_MISC)return;this._showError()}})}),define("app/dev/ops/listening/listening-for-view-events-op",["core/ac-core","app/ac-app","core/ops/op","core/views/view-events","app/views/view-events"],function(e,t){t.ListeningForViewEventsOp=e.Op.extend({initialize:function(){e.Op.prototype.initialize.call(this),this._initEventMap()},run:function(){var e=$.Deferred();return t.viewMgr.on("all",this._onViewEvent),this._deferred=e,this._deferred.resolve(),e.promise()},_onViewEvent:function(t,n){var r,i;r=this._eventMap[t],r&&(i=r[0].create(r[1],n));if(!i){t!==e.ViewEvents.MENU_CLOSED&&LOG(0,"AcApp.ListeningForViewEventsOp._onViewEvent ignoring "+t);return}i.run().then(function(){return undefined},function(){return undefined})},_mapEvent:function(e,t,n,r,i){e[t]=[n,r,i]},_initEventMap:function(){var e,n,r,i;e=this._eventMap={},n=this._mapEvent,r=t.opFactory,i=t.ViewEvents,n(e,i.ACCOUNT_MENU_ITEM_CLICK,r,"SelectingAccountMenuItemOp"),n(e,i.ACCOUNT_MENU_BTN_CLICK,r,"TogglingAccountMenuOp"),n(e,i.HELP_MENU_BTN_CLICK,r,"TogglingHelpMenuOp"),n(e,i.ABOUT_CLICK,r,"NavigatingToAboutDlgOp"),n(e,i.ASK_US_CLICK,r,"ShowingUserForumOp"),n(e,i.SUPPORT_CLICK,r,"ShowingSupportHomeOp"),n(e,i.CHAT_WITH_US_CLICK,r,"ShowingChatPodOp"),n(e,i.TOOLBAR_ITEM_CLICK,r,"SelectingToolOp"),n(e,i.ACCOUNT_MENU_ITEM_CLICK,r,"SelectingAccountMenuItemOp"),n(e,i.ACROBAT_SELECT_FILTER,r,"SelectingAcrobatFilterOp"),n(e,i.ACROBAT_OPEN,r,"OpeningInAcrobatOp"),n(e,i.ACROBAT_CLOSE,r,"ClosingInAcrobatOp")}})}),define("app/dev/ops/listening/listening-for-window-events-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){t.ListeningForWindowEventsOp=e.Op.extend({initialize:function(){e.Op.prototype.initialize.call(this),this._updateWindowUiModel(!0)},run:function(){var e,t=$.Deferred();return e=$(window),e.resize(_.bind(function(){this._updateWindowUiModel(!1)},this)),this._deferred=t,this._deferred.resolve(),t.promise()},_updateWindowUiModel:function(e){var t=$(window),n=t.width(),r=t.height();if(this._oldWidth!==n||this._oldHeight!==r)this._oldWidth=n,this._oldHeight=r,this.options.windowUiModel.set({width:n,height:r},{silent:e})}})}),define("app/dev/ops/misc/handling-uncaught-exceptions-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){var n=0,r=10;return t.HandlingUncaughtExceptionsOp=e.Op.extend({run:function(){var e=this.options;return window.onerror=function(t,i,s,o,u){var a=e.appApi,f,l,c;if(!a)return!1;f=a.errorApi,l="window.onerror: "+t+" "+i+" line "+s,o&&(l+=", col "+o),u&&(c=u.stack,c&&(l+="\n"+c));try{f.notifyUncaughtExceptionCallbacks(t,i,s,o,u)&&n<r&&(n+=1,f.sendLogEvent(l))}catch(h){LOG.error("AcApp.StartingAppOp.run.initGlobalErrorHandler: "+(h.stack||h.message))}return!1},$.Deferred().resolve().promise()}}),t.HandlingUncaughtExceptionsOp}),define("app/dev/ops/misc/loading-custom-css-op",["core/ac-core","app/ac-app","core/utils/util","core/utils/css-util","core/ops/op"],function(e,t,n,r){return t.LoadingCustomCssOp=e.Op.extend({run:function(){var e=screen.width,t=screen.height,i=e/t;return n.isCEF()?(r.loadCss("static/css/main-cef.css"),r.loadCss("static/css/main-cef-ui-theme.css"),n.isWindows()?n.isWindows8()?r.loadCss("static/css/main-cef-win8.css"):r.loadCss("static/css/main-cef-win.css"):n.isMac()&&r.loadCss("static/css/main-cef-mac.css"),this._getResolvedPromise()):(n.isIE9orBelow()&&r.loadCss("css/main-lte-ie9.css"),n.isIE8()&&r.loadCss("css/main-lte-ie8.css"),e>=768&&e<=1024&&r.loadCss("css/main-ipad.css"),(e<=480||i>.56&&i<.57)&&r.loadCss("css/main-iphone.css"),this._getResolvedPromise())}}),t.LoadingCustomCssOp}),define("app/dev/ops/misc/loading-deep-link-plugins-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){return t.LoadingDeepLinkPluginsOp=e.Op.extend({run:function(){var t=this.options,n=t.appApi.pluginsApi;return e.opFactory.create("LoadingPluginsOp",_.extend({pluginsConfig:n.getPluginTypeConfig("deep_link"),pluginsUiModel:t.deepLinkPluginsUiModel},_.pick(t,"appApi","pluginId","force"))).run()}}),t.LoadingDeepLinkPluginsOp}),define("app/dev/ops/misc/loading-framework-versions-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){return t.LoadingFrameworkVersionsOp=e.Op.extend({run:function(){var t=e.opFactory,n=[];return _.each(Ac.config.frameworkVersions,function(e){n.push(t.create("LoadingModuleOp").run({displayName:"Framework version "+e,url:"versions/framework-"+e}))}),$.when.apply(this,n)}}),t.LoadingFrameworkVersionsOp}),define("app/dev/ops/misc/loading-plugin-configs-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){return t.LoadingPluginConfigsOp=e.Op.extend({run:function(){function f(){u+=1,u===o&&e.resolve()}function l(e){var t=n[e];return!_.isUndefined(_.find(r,function(e){return _.find(e.plugin_ids,function(e){return!_.isUndefined(t[e])})}))}var e=$.Deferred(),t=Ac.Plugins,n=t.groups,r=t.types,i=this.options.appApi.pluginsApi,s,o=0,u=0,a;return o=_.reduce(n,function(e,t){return t.config_url&&(e+=1),t.analytics_url&&(e+=1),e},0),o===0?e.resolve():(_.each(_.keys(n),function(e){if(!l(e)){LOG("AcApp.LoadingPluginConfigsOp.run '"+e+"' group has no configured plugins"),f();return}s=i.getGroupConfigUrl(e),s&&require([s],function(){i.setPluginGroupConfigLoaded(e,!0),f()},function(e){LOG("Ac.LoadingPluginConfigsOp.run '"+e.requireModules[0]+"' failed to load"),f()}),a=i.getGroupAnalyticsUrl(e),a&&require([a],function(){f()},function(e){LOG(0,"Ac.LoadingPluginConfigsOp.run '"+e.requireModules[0]+"' failed to load"),f()})}),e.promise())}}),t.LoadingPluginConfigsOp}),define("app/dev/ops/misc/loading-plugin-configs-versions-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){return t.LoadingPluginConfigsVersionsOp=e.Op.extend({run:function(){var t=this.options,n=[],r,i;return i=e.opFactory.create("LoadingFrameworkVersionOp",t),_.each(Ac.Plugins.groups,function(e){r=e.FRAMEWORK_VERSION,r&&n.push(i.run(r))}),$.when.apply(this,n)}}),t.LoadingPluginConfigsVersionsOp}),define("app/dev/ops/misc/loading-rna-variant-info-op",["core/ac-core","app/ac-app","core/utils/util","core/ops/op"],function(e,t,n){return t.LoadingRNAVariantInfoOp=e.Op.extend({run:function(){var e=$.Deferred(),t,r=this.options;return n.isCEF()?Ac.config.getEnvironment()==="dev"||Ac.config.getEnvironment()==="local"||Ac.config.getEnvironment()==="lint"?e.resolve().promise():(t=window.location.origin+"/variant.js",Ac.currentRNAVariants={},r.appApi.rnaApi.done(_.bind(function(t){var n=t.getVariantJsonFromRegistry();if(n&&n.length>0){var r=JSON.parse(n);r&&r[0]&&$.each(r[0],function(e,t){Ac.currentRNAVariants[e]=t})}e.resolve()},this),_.bind(function(){e.resolve()},this)),e.promise()):e.resolved().promise()}}),t.LoadingRNAVariantInfoOp}),define("app/dev/ops/misc/loading-rna-version-info-op",["core/ac-core","app/ac-app","core/utils/util","core/ops/op"],function(e,t,n){return t.LoadingRNAVersionInfoOp=e.Op.extend({run:function(){var t=$.Deferred(),r,i,s;return n.isCEF()?(r=Ac.config.getEnvironment(),r==="dev"||r==="local"||r==="lint"?t.resolve().promise():(i=e.getBaseCloudUrl()+"rnaversion.js",s=window.location.origin+"/version.js",$.getJSON(s,function(e){var n;e?(Ac.currentRNAVersions={},n=_.values(e),_.each(n,function(e){_.each(e.plugin_ids,function(t){Ac.currentRNAVersions[t]=e["rna-version"]})}),t.resolve()):t.resolve()}),t.promise())):t.resolved().promise()}}),t.LoadingRNAVersionInfoOp}),define("app/dev/ops/misc/loading-template-plugins-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){return t.LoadingTemplatePluginsOp=e.Op.extend({run:function(){var t=this.options,n=t.appApi.pluginsApi,r=t.templatePluginsUiModel;return r.set("instantiate_on_load",!1),e.opFactory.create("LoadingPluginsOp",_.extend({pluginsConfig:n.getPluginTypeConfig("template"),pluginsUiModel:r},_.pick(t,"appApi","pluginId","force"))).run()}}),t.LoadingTemplatePluginsOp}),define("app/dev/ops/misc/loading-typekit-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){return t.LoadingTypekitOp=e.Op.extend({run:function(){var e={kitId:"eow2xot",scriptTimeout:3e3},t=document.getElementsByTagName("html")[0];t.className+=" wf-loading";var n=setTimeout(function(){t.className=t.className.replace(/(\s|^)wf-loading(\s|$)/g," "),t.className+=" wf-inactive"},e.scriptTimeout),r=document.createElement("script"),i=!1;r.src="//use.typekit.net/"+e.kitId+".js",r.type="text/javascript",r.async="true",r.onload=r.onreadystatechange=function(){var t=this.readyState;if(i||t&&t!="complete"&&t!="loaded")return;i=!0,clearTimeout(n);try{Typekit.load(e)}catch(r){}};var s=document.getElementsByTagName("script")[0];return s.parentNode.insertBefore(r,s),this._getResolvedPromise()}}),t.LoadingTypekitOp}),define("app/dev/templates/about-dlg-template",[],function(){return'<div class="about-dlg-content">    <div class="about-dlg-para about-dlg-copyright-para"         id="about-dlg-copyright-para">        <%= copyrightPara %>    </div>    <div class="about-dlg-para about-dlg-trademark-para"         id="about-dlg-trademark-para">        <%= trademarkPara %>    </div>    <div class="about-dlg-para about-dlg-portions-para"         id="about-dlg-portions-para">        <%= portionsPara %>    </div>    <div class="about-dlg-para about-dlg-microsoft-para"         id="about-dlg-microsoft-para">        <%= microsoftPara %>    </div>    <div class="about-dlg-para about-dlg-iris-para"         id="about-dlg-iris-para">        <%= irisPara %>    </div>    <div class="about-dlg-para about-dlg-solid-para"         id="about-dlg-solid-para">        <%= solidPara %>    </div>    <div class="about-dlg-para about-dlg-third-party-para"         id="about-dlg-third-party-para">        <%= thirdPartyPara %>    </div>     <div class="about-dlg-para about-dlg-build-num select-text"         id="about-dlg-build-num">        <%= buildNum %>    </div>    <div class="about-dlg-para about-dlg-plugin-versions select-text"         id="about-dlg-plugin-versions">    </div> </div><input class="control-button dialog-control-button              about-dlg-ok-btn"       type="button" id="about-dlg-ok-btn"       aria-label="<%= okBtn %>"       value="<%= okBtn %>" />'}),define("build-url",["core/ac-core"],function(e){e.buildUrl="#",e.buildNumber="000001",e.buildBranch="local/unknown",e.buildCommit="this-is-a-fake-gitish---of-proper-length",e.buildUntaggedVersion="1.0.0L",e.buildTaggedVersion="1.0.0L.dev000001"}),define("app/dev/views/about-dlg-view",["core/ac-core","app/ac-app","app/templates/about-dlg-template","i18n!core/nls/ui-strings","i18n!app/nls/ui-strings","core/utils/sc-analytics","core/utils/truncate","core/views/dialog-view","build-url"],function(e,t,n,r,i,s,o){var u="adobe.skybox.";t.AboutDlgView=e.DialogView.extend({events:function(){return _.extend({},e.DialogView.prototype.events,{"click .about-dlg-ok-btn":"_onOkClick","click .about-dlg-build-num":"_onBuildNumClick","click .about-dlg-third-party-link":"_onThirdPartyClick"})},initialize:function(){e.DialogView.prototype.initialize.call(this)},render:function(){return e.DialogView.prototype.render.call(this),this._appendToDialog(_.template(n)({copyrightPara:i.ABOUT_DLG_COPYRIGHT_PARA,trademarkPara:i.ABOUT_DLG_TRADEMARK_PARA,portionsPara:i.ABOUT_DLG_PORTIONS_PARA,microsoftPara:i.ABOUT_DLG_MICROSOFT_PARA,irisPara:i.ABOUT_DLG_IRIS_PARA,solidPara:i.ABOUT_DLG_SOLID_PARA,thirdPartyPara:this._getThirdPartyPara(),buildNum:this._getBuildNumText(),okBtn:r.OK})),this._initWrappers(),this._center(),this._truncateText(),this.$okBtn.focus(),this},close:function(t,n){return(!n||!n.noHistoryEffect)&&window.history.back(),e.DialogView.prototype.close.call(this,t,n)},_initWrappers:function(){e.DialogView.prototype._initWrappers.call(this),this.$title=this.$(".about-dlg-title"),this.$thirdPartyLink=this.$(".about-dlg-third-party-link"),this.$okBtn=this.$(".about-dlg-ok-btn"),this.$pluginVersions=this.$(".about-dlg-plugin-versions")},_getThirdPartyPara:function(){var e=this._getLocalizedThirdPartyUrl();return _.template(i.ABOUT_DLG_THIRD_PARTY_PARA,{thirdPartyLink:"<a class='about-dlg-third-party-link' href='"+e+"' target='_blank'>"+e+"</a>"})},_getLocalizedThirdPartyUrl:function(){var t=e.Locale.getImsLocale(),n=t.substr(0,2),r=e.Config;return n==="en"?r.THIRD_PARTY_URL:(n==="ja"?n="jp":n==="nb"&&(n="no"),_.template(r.THIRD_PARTY_URL_TEMPLATE,{loc:n}))},_getBuildNumText:function(){return _.template(i.ABOUT_DLG_BUILD_NUMBER,{buildNum:e.buildTaggedVersion.replace(u,"")})},_truncateText:function(){o.truncateElementText(this.$title),o.truncateButtonLabel(this.$okBtn)},_showAllVersions:function(){var e=_.extend({},this.options,{force:!0}),n=e.appApi,r=n.displayApi,i=t.opFactory,s,o,a,f=this.$pluginVersions;s=i.create("LoadingAccountMenuOp",e),o=i.create("LoadingToolsOp",e),a=i.create("LoadingFileSelectionDlgHomeViewsOp",e),r.showSpinner(!0),$.when(s.run(),o.run(),a.run()).then(_.bind(function(){var t=e.appApi.pluginsApi.getVersionLists(),n=[];f.empty().append("Plugin Versions<br>"),_.each(t,function(e,t){var r=e.versionList;n.push(r),$.when(r).then(function(){f.append(t+": "),_.each(r,function(t){t&&f.append(t.replace(u,"")+" "+e.frameworkVersion)}),f.append("<br>")})}),this._center(),$.when.apply($,n).always(_.bind(function(){r.showSpinner(!1),this._center()},this))},this))},_onHistoryChange:function(){this.options.appApi.routerApi.isCurrentPath("about")||e.DialogView.prototype._onHistoryChange.call(this)},_onOkClick:function(){this.close()},_onBuildNumClick:function(){this._showAllVersions()},_onThirdPartyClick:function(){this._logSiteCatalystEvent([s.ADOBE_DOT_COM,s.PRODUCTS,s.EULA,s.THIRD_PARTY])}})}),define("app/dev/ops/misc/navigating-to-about-dlg-op",["core/ac-core","app/ac-app","core/ops/op","app/views/about-dlg-view"],function(e,t){return t.NavigatingToAboutDlgOp=e.Op.extend({run:function(){return this.options.appApi.routerApi.navigate("about",{trigger:!0}),this._getResolvedPromise()}}),t.NavigatingToAboutDlgOp}),define("app/dev/ops/misc/overriding-jquery-ajax-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){return t.OverridingJQueryAjaxOp=e.Op.extend({run:function(){var e=$.ajax,t,n,r;return $.ajax=_.bind(function(i,s){if(s&&s.async===!1)return t=$.Deferred(),n=s.success,s.success=_.bind(function(e,r,i){this._parseDCMigrationHeaders(i),n&&n.call(undefined,e,r,i),t.resolve(e,r,i)},this),r=s.error,s.error=_.bind(function(e,n,i){this._parseDCMigrationHeaders(e),r&&r.call(undefined,e,n,i),t.reject(e,n,i)},this),e.call($,i,s),t.promise();var o=e.call($,i,s);return o.done(_.bind(function(e,t,n){this._parseDCMigrationHeaders(n)},this)).fail(_.bind(function(e,t,n){this._parseDCMigrationHeaders(e)},this)),o},this),this._getResolvedPromise()},_parseDCMigrationHeaders:function(e){if(_.isUndefined(e)||!e||e.getAllResponseHeaders().indexOf("x-acp-migration-info")==-1)return;try{var t=e.getAllResponseHeaders().split("x-acp-migration-info:")[1].trim().split("\n")[0].trim();t.length&&this.options&&this.options.appApi&&this.options.appApi.rnaApi&&this.options.appApi.rnaApi.done(_.bind(function(e){e.invokeMethod({methodName:"logDCAPIMigrationStatus",methodArgs:t})},this))}catch(n){}}}),t.OverridingJQueryAjaxOp}),define("app/dev/ops/misc/redirecting-to-apollo-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){return t.RedirectingToApolloOp=e.Op.extend({run:function(){var t=this.options,n=t.appApi,r=t.usersMeSubscriptionsModel.get("subscriptions"),i,s=!0,o,u=n.usersMeApi.getCommonUserPrefs().lastToolUsed,a=n.routerApi.getPathname();if(e.Features.isFeatureEnabled("redirect_to_apollo")){if(_.isArray(r))for(o=0;o<r.length;o+=1){i=r[o];if(i.subscription_level!=="Free"){s=!1;break}}s&&!u&&a==="/"&&(window.location=e.Features.getFeature("apollo_url"))}return this._getResolvedPromise()}}),t.RedirectingToApolloOp}),define("app/dev/ops/misc/registering-app-apis-op",["core/ac-core","app/ac-app","core-unmapped/dev/utils/app-api-mgr","core/ops/op"],function(e,t,n){return t.RegisteringAppApisOp=e.Op.extend({run:function(){var e=this.options,t,r;return t=_.union(["dev"],Ac.config.frameworkVersions),_.each(t,function(t){n.addAppApi(t,new Ac.AppApi[t].AppApi(e))}),r=e.appApi=n.getAppApi(),LOG.setAppApi(r),$.Deferred().resolve().promise()}}),t.RegisteringAppApisOp}),define("app/dev/ops/misc/registering-plugins-ui-models-op",["core/ac-core","app/ac-app","core/utils/util","core/ops/op"],function(e,t,n){return t.RegisteringPluginsUiModels=e.Op.extend({run:function(){var e=this.options,t=e.appApi.pluginsApi;return t.registerPluginsUiModel(t.getPluginTypeConfig("account_menu"),e.accountMenuPluginsUiModel),t.registerPluginsUiModel(t.getPluginTypeConfig("deep_link"),e.deepLinkPluginsUiModel),t.registerPluginsUiModel(t.getPluginTypeConfig("file_selection_dlg"),e.fileSelectionDlgHomeViewsUiModel),t.registerPluginsUiModel(t.getPluginTypeConfig("settings_dlg"),e.settingsDlgUiModel),t.registerPluginsUiModel(t.getPluginTypeConfig("tools"),e.toolsUiModel),n.isCEF()&&(t.registerPluginsUiModel(t.getPluginTypeConfig("full_preview"),e.fullPreviewPluginsUiModel),t.registerPluginsUiModel(t.getPluginTypeConfig("home_views"),e.homeViewsUiModel),t.registerPluginsUiModel(t.getPluginTypeConfig("search_views"),e.homeViewsUiModel)),$.Deferred().resolve().promise()}}),t.RegisteringPluginsUiModels}),define("app/dev/ops/misc/showing-about-dlg-op",["core/ac-core","app/ac-app","i18n!app/nls/ui-strings","core/ops/op","app/views/about-dlg-view"],function(e,t,n){t.ShowingAboutDlgOp=e.Op.extend({run:function(){var e=this.options,r=e.appApi.routerApi,i;return r.currentPathStartsWith("about")||r.navigate("about"),e.appApi.displayApi.showAccountMenu(!1),e.parentView||(e.parentView=t.viewMgr),i=new t.AboutDlgView(_.extend({},e,{title:n.ABOUT_DLG_TITLE})),i.open()}})}),define("app/dev/ops/misc/showing-load-failures-dlg-op",["core/ac-core","app/ac-app","i18n!app/nls/ui-strings","core/ops/op"],function(e,t,n){return t.ShowingLoadFailuresDlgOp=e.Op.extend({run:function(){var t=this.options,r=t.appApi,i=r.errorApi,s=r.dialogApi,o=i.getModulesNotLoaded();return e.Features.isFeatureEnabled("show_load_failures_ui")&&o.length>0?(o=_.sortBy(o,function(e){return e}),s.displayHtmlAlert(s.SEVERITY_ERROR,n.LOAD_FAILURES,_.template(n.MODULES_NOT_LOADED,{modules:o.join("<br/>")}))):$.Deferred().resolve().promise()}}),t.ShowingLoadFailuresDlgOp}),define("app/dev/ops/misc/showing-next-error-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){t.ShowingNextErrorOp=e.Op.extend({run:function(){return this.options.errorUiModel.dequeueError(),this._getResolvedPromise()}})}),define("app/dev/ops/misc/showing-support-home-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){t.ShowingSupportHomeOp=e.Op.extend({run:function(){var t;return this.options.pageHeaderUiModel.set("show_account_menu",!1),t=_.template(e.Config.SUPPORT_URL,{locale:e.Locale.getHelpLocale()}),window.open(t),this._getResolvedPromise()}})}),define("app/dev/ops/misc/showing-user-forum-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){t.ShowingUserForumOp=e.Op.extend({run:function(){var t;return this.options.pageHeaderUiModel.set("show_account_menu",!1),t=_.template(e.Config.FORUM_URL,{locale:e.Locale.getHelpLocale()}),window.open(t),this._getResolvedPromise()}})}),define("app/dev/ops/misc/starting-history-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){return t.StartingHistoryOp=e.Op.extend({run:function(){var e=this.options.appApi.routerApi,t,n,r,i={pushState:!0};n=!e.hasPushState()&&e.getPathname().indexOf("/send/jump")===0,n&&(i.pushState=!1,i.silent=!0),Backbone.History.started&&LOG.warn("AcApp.StartingHistoryOp.run: Already started",{logServer:!0}),t=Backbone.history;try{t.start(i)}catch(s){LOG.warn("AcApp.StartingHistoryOp: "+(s.stack||s.message),{logServer:!0})}return n&&(r=t.getFragment(null,!0),t.loadUrl(r)),$.Deferred().resolve().promise()}}),t.StartingHistoryOp}),define("app/dev/ops/misc/switching-language-op",["core/ac-core","app/ac-app","core/utils/cookie-util","core/utils/util","core/ops/op","jquery.cookie"],function(e,t,n,r){t.SwitchingLanguageOp=e.Op.extend({run:function(){var t=this.options;return r.isCEF()||(n.setCookie(e.Config.LANGUAGE_COOKIE,e.Locale.getImsLocale(t.locale)),t.appApi.routerApi.reloadPage({reason:"Switching language"})),this._getResolvedPromise()}})}),define("app/dev/ops/misc/toggling-account-menu-op",["core/ac-core","app/ac-app","core/utils/sc-analytics","core/ops/op"],function(e,t,n){t.TogglingAccountMenuOp=e.Op.extend({run:function(){var e=this.options,t=e.pageHeaderUiModel,r;return r=!t.get("show_account_menu"),t.set("show_account_menu",r),r&&e.appApi.siteCatalystApi.logScEvent([n.TOP_HEADER,n.USER_ACCOUNT_MENU,n.SHOWN]),this._getResolvedPromise()}})}),define("app/dev/ops/misc/toggling-help-menu-op",["core/ac-core","app/ac-app","core/utils/sc-analytics","core/ops/op"],function(e,t,n){t.TogglingHelpMenuOp=e.Op.extend({run:function(){var e=this.options,t=e.pageHeaderUiModel,r;return r=!t.get("show_help_menu"),t.set("show_help_menu",r),r&&e.appApi.siteCatalystApi.logScEvent([n.TOP_HEADER,n.HELP_MENU,n.SHOWN]),this._getResolvedPromise()}})}),define("app/dev/ops/misc/validating-rna-version-info-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){return t.ValidatingRNAVersionInfoOp=e.Op.extend({run:function(e){var t=this.options,n,r,i=t.appApi.pluginsApi;return!Ac.rnaVersionInfo||!Ac.currentRNAVersions?this._getResolvedPromise():(r=i.getMinimumSupportedRNAVersion(e),n=i.getRNAVersion(e),n<r?this._getRejectedPromise():this._getResolvedPromise())}}),t.ValidatingRNAVersionInfoOp}),define("app/dev/ops/misc/apply-ui-theme-style-framework-op",["core/ac-core","core/ops/op"],function(e){return e.ApplyUIThemeStyleOp=e.Op.extend({run:function(){var e=this.options,t=e.colorPalette;if(_.isUndefined(t))return this._getResolvedPromise();t.hasOwnProperty("iconSet")&&(this.iconSetInTheme=t.iconSet,e.appApi.displayApi.setIconSet(this.iconSetInTheme));var n=!1;return t.hasOwnProperty("isHighContrast")&&(this.isHighContastEnabled=t.isHighContrast),_.each(t,_.bind(function(e,n){var r=this._convertColorDecToHex(e);t[n]="#"+r},this)),this._findUIThemeStyleSheet(),this._updateThemeTextElemColor(t.RegularText_normal),this._updateThemeHeaderTextElemColor(t.HeaderText_normal),this._updateThemeHyperlinkElemColor(t.Hyperlink_normal),this._updateThemeDisabledTextElemColor(t.RegularText_disabled),this._updateThemeActiveTextElemColor(t.RegularText_active),this._updateThemeButtonElemLabelColor(t.PushButtonText_normal),this._updateThemeGrayButtonElemLabelColor(t.RegularText_normal),this._updateThemeQuietButtonTextColor(t.PushButtonTextColorSecondaryQuiet_normal),this._updateThemePrimaryButtonLabelColor(t.PushButtonTextColorPrimary_normal),this._updateThemeCTAButtonLabelColor(t.PushButtonTextColorCTA_normal),this._updateThemeCTAButtonTextColorDisabled(t.PushButtonTextColorCTA_disabled),this._updateThemeCTAButtonElemBackgroundColor(t.PushButtonCTA_normal),this._updateThemeButtonElemBackgroundColor(t.PushButtonBackground_normal),this._updateThemeButtonElemBackgroundColorDisabled(t.PushButtonBackground_disabled),this._updateThemeQuietButtonElemBackgroundColor(t.PushButtonSecondaryQuiet_normal),this._updateThemeQuietFilterButtonElemBackgroundColor(t.ListItemBackground_normal),this._updateThemePrimaryButtonElemBackgroundColor(t.PushButtonPrimary_normal),this._updateThemeCTAButtonElemBackgroundColor(t.PushButtonCTA_normal),this._updateThemeButtonElemBorderColor(t.ButtonBorder_normal),this._updateThemePrimaryButtonElemBorderColor(t.PrimaryPushButtonBorder_normal),this._updateThemeButtonHoverColor(t.PushButtonBackground_hover),this._updateThemeQuietButtonHoverColor(t.PushButtonSecondaryQuiet_hover),this._updateThemeQuietFilterButtonHoverColor(t.PushButtonQuiet_hover),this._updateThemeQuietFilterButtonSelectedColor(t.PushButtonQuiet_hover),this._updateThemePrimaryButtonHoverColor(t.PushButtonPrimary_hover),this._updateThemeCTAButtonHoverColor(t.PushButtonCTA_hover),this._updateThemePrimaryButtonLabelHoverColor(t.PushButtonTextColorPrimary_hover),this._updateThemeCTAButtonDisabledColor(t.PushButtonCTA_disabled),this._updateThemeContainerBackgroundColor(t.HomeBackground_normal),this._updateThemeContainerProminentBackgroundColor(t.ProminentBackground_normal),this._updateThemeFrameColor(t.HomeBackground_normal),this._updateThemeSelectableContentColor(t.ListItemText_checked),this._updateThemeSelectableContentBackgroundColor(t.ListItemBackground_checked),this._updateThemeSelectableContentFocusColor(t.ListItemBackground_normal),this._updateThemeSelectableContentHoverColor(t.ListItemBackground_normal),this._updateThemeHoverableContentColor(t.VerticalTabText_hover),this._updateThemeHoverableContentBackgroundColor(t.VerticalTabBackground_hover),this._updateThemeFocusColor(t.CBFocusBorderColor_normal),this._updateThemePlaceholderColor(t.TextEditGrayText_normal),this._updateThemeBorderColor(t.Border_normal),this._updateThemeListItemRowBorderColor(t.ListItemRowBorder_normal),this._updateThemeListItemRowBorderVirgoColor(t.ListItemRowBorder_normal),this._updateThemeVirgoTextColor(t.VirgoTextColor_normal),this._updateThemeVirgoTextHoverColor(t.VirgoTextColor_hover),this._updateThemeVirgoTextCheckedColor(t.VirgoTextColor_checked),this._updateThemeVirgoBasicTextColor(t.VirgoBasicTextColor_normal),this._updateThemeVirgoBasicTextHoverColor(t.VirgoBasicTextColor_hover),this._updateThemeVirgoBasicTextCheckedColor(t.VirgoBasicTextColor_checked),this._updateThemeVirgoHeaderTextColor(t.VirgoHeaderTextColor_normal),this._updateThemeVirgoHeaderTextHoverColor(t.VirgoHeaderTextColor_hover),this._updateThemeVirgoHeaderTextCheckedColor(t.VirgoHeaderTextColor_checked),this._updateThemeListItemSubTextElemColor(t.ListItemSubText_normal),this._updateThemeListItemTextElemColor(t.ListItemText_normal),this._updateThemeListItemTextElemHoverColor(t.ListItemText_hover),this._updateThemeListItemTextElemCheckedColor(t.ListItemText_checked),this._updateThemeListitemBackgroundColor(t.ListItemBackground_normal),this._updateThemeListitemHoverColor(t.ListItemBackground_hover),this._updateThemeListitemCheckedColor(t.ListItemBackground_checked),this._updateThemeListitem2BackgroundColor(t.ListItem2Background_normal),this._updateThemeFileListColTextElemColor(t.FileListColHeader_normal),this._updateThemeFileListRowHeaderTextElemColor(t.FileListRowHeader_normal),this._updateThemeFileListRowHeaderHoverTextElemColor(t.FileListRowHeader_hover),this._updateThemeFileListRowHeaderActiveTextElemColor(t.FileListRowHeader_active),this._updateThemeFileListRowItemTextElemColor(t.FileListRowValue_normal),this._updateThemeFileListRowItemTextElemHoverColor(t.FileListRowValue_hover),this._updateThemeFileListRowItemTextElemSelectedColor(t.FileListRowValue_checked),this._updateThemeWorkflowPageHeaderTextElemColor(t.WorkflowPageHeader_normal),this._updateThemeListitemRowBackgroundColor(t.ListItemRowBackground_normal),this._updateThemeListitemRowHoverColor(t.ListItemRowBackground_hover),this._updateThemeListitemRowCheckedColor(t.ListItemRowBackground_checked),this._updateThemeThumbnailItemRowBackgroundColor(t.ListItemRowBackground_normal),this._updateThemeThumbnailItemRowHoverColor(t.ListItemRowBackground_hover),this._updateThemeThumbnailItemRowCheckedColor(t.ListItemRowBackground_checked),this._updateThemeListitemRowVirgoBackgroundColor(t.ListItemRowBackground_normal),this._updateThemeListitemRowVirgoHoverColor(t.ListItemRowBackground_hover),this._updateThemeListitemRowVirgoCheckedColor(t.ListItemRowBackground_checked),this._updateThemeRHPActionItemBackgroundColor(t.RHPActionItemBackground_normal),this._updateThemeRHPActionItemHoverColor(t.RHPActionItemBackground_hover),this._updateThemeRHPActionItemActiveColor(t.RHPActionItemBackground_active),this._updateReaderRhpCefBorder(t.ReaderRhpCefBorder_normal),this._updateThemeReviewerAvatarBackgroundColor(t.ReviewerAvatarBackground_normal),this._updateThemeReviewerAvatarBorderColorNormal(t.ReviewerAvatarBorder_normal),this._updateThemeReviewerAvatarBorderColorHover(t.ReviewerAvatarBorder_hover),this._updateThemeVerticalTabTextElemColor(t.VerticalTabText_normal),this._updateThemeVerticalTabTextElemHoverColor(t.VerticalTabText_hover),this._updateThemeVerticalTabTextCheckedElemColor(t.VerticalTabText_checked),this._updateThemeVerticalTabBackgroundColor(t.VerticalTabBackground_normal),this._updateThemeVerticalTabHoverColor(t.VerticalTabBackground_hover),this._updateThemeVerticalTabCheckedColor(t.VerticalTabBackground_checked),this._updateThemeTabButtonsBackgroundColor(t.Tab_Buttons_normal),this._updateThemeTabButtonsHoverColor(t.Tab_Buttons_hover),this._updateThemeTabButtonsCheckedColor(t.Tab_Buttons_active),this._updateThemeToolTipTextColor(t.ShareToolTipText_normal),this._updateThemeToolTipBackgroundColor(t.ShareToolTipBackground_normal),this._updateThemeToolTipArrowColor(t.ShareToolTipBackground_normal),this._updateThemeAddFilesColor(t.ShareAddFiles_normal),this._updateSharePaneBorderColor(t.SharePaneBorder_normal),this._updateShareContainerBackgroundColor(t.SharePaneContainer_normal),this._updateShareInputContainerBackgroundColor(t.SharePaneInputContainer_normal),this._updateShareModalInputContainerBackgroundColor(t.SharePaneBorder_normal),this._updateShareInputTextColor(t.SharePaneInputText_normal),this._updateNewBadgeBackgroundColor(t.ShareNewBadgeBackground_normal),this._updateNewBadgeTextColor(t.ShareNewBadgeText_normal),this._updateShareGreyButtonBorderColor(t.TrackingOpenPushButtonBorder_normal),this._updateShareGreyButtonTextColor(t.TrackingOpenPushButtonBorder_normal),this._updateShareGreyButtonHoverBackgroundColor(t.TrackingOpenPushButtonBorder_normal),this._updateShareGreyButtonHoverTextColor(t.SharePaneContainer_normal),this._updateShareGreyButtonTransition(),this._updateShareGreyContainerBackgroundColor(t.Tab_Buttons_normal),this._updateSharePromoContainerBackgroundColor(t.SharePromoContainer_normal),this._updateModalShareContainerBackgroundColor(t.ModalSharePaneContainer_normal),this._updateCopyLinkCopiedTextColor(t.PopupCopyLinkCopiedText_normal),this._updateToggleTrackBackGroundColor(t.PopupToggleTrackBackground_normal),this._updateToggleBarBackGroundColor(t.PopupToggleBarBackground_normal),this._updateToggleBarBorderBackGroundColor(t.PopupToggleBarBorderBackground_normal),this._updateToggleCheckedTrackBackGroundColor(t.PopupToggleTrackBackground_checked),this._updateToggleCheckedBarBackGroundColor(t.PopupToggleBarBackground_checked),this._updateToggleCheckedBarBorderBackGroundColor(t.PopupToggleBarBorderBackground_checked),this._updateProtectModalContainerBackgroundColor(t.ProtectModalBackground_normal),this._updateRedactContainerBackgroundColor(t.RedactBackground_normal),this._updateOauthDialogContainerBackgroundColor(t.OauthDialogBackground_normal),this._updateMipContainerBackgroundColor(t.MipBackground_normal),this._updateDigSigContainerBackgroundColor(t.DigSigBackground_normal),this._updateDigSigListBackgroundColor(t.DigSigListBackground_normal),this._updateThemeWalkthroughElemBackgroundColor(t.WalkthroughViewBackground_normal),this._updateThemeWalkthroughTextColor(t.WalkthroughViewText_normal),this._updateThemeWalkthroughSpectrumTextColor(t.WalkthroughViewSpectrumText_normal),this._updateThemeWalkthroughSpectrumTitleColor(t.WalkthroughViewSpectrumTitle_normal),this._updateThemeWalkthroughSpectrumBackgroundColor(t.WalkthroughViewSpectrumBackground_normal),this._updateThemeWalkthroughSpectrumSecondaryCTAColors(t.WalkthroughViewSpectrumBackground_normal,t.FillSignNextPopUpCancelCTABackground_hover,t.FillSignNextPopUpCancelCTABackground_active,t.FillSignNextPopUpCancelCTAText_normal,t.FillSignNextPopUpCancelCTAText_hover,t.FillSignNextPopUpCancelCTAText_active),this._updateThemeWalkthroughSpectrumPrimaryCTAColors(t.WalkthroughViewSpectrumBackground_normal,t.FillSignNextPopUpContinueCTABackground_hover,t.FillSignNextPopUpContinueCTABackground_active,t.FillSignNextPopUpContinueCTAText_normal,t.FillSignNextPopUpContinueCTAText_hover,t.FillSignNextPopUpContinueCTAText_active),this._updateThemeAcroProTrialContainer(t.AcroProTrialContainer_normal),this._updateThemeAcroProTrialLink(t.AcroProTrialLink_normal),this._updateDocumentBackgroundColor(t.DocumentBackground_normal),this._updateInputBoxBackgroundColor(t.InputBoxBackground_normal),this._updateAchromaticBoxBackgroundColor(t.AchromaticBackground_normal),this._updateImageURLs(this.iconSetInTheme),this._updateBellHeaderBackground(t.BellHeaderBackground_normal),this._updateBellHeaderBackgroundHover(t.BellHeaderBackground_hover),this._updateBellHeaderBackgroundActive(t.BellHeaderBackground_active),this._updateBellNotificationBackground(t.BellNotificationBackground_normal),this._updateBellNotificationBackgroundHover(t.BellNotificationBackground_hover),this._updateBellNotificationBackgroundActive(t.BellNotificationBackground_active),this._updateBellNewNotificationBackground(t.BellNewNotificationBackground_normal),this._updateBellNewNotificationBackgroundHover(t.BellNewNotificationBackground_hover),this._updateBellNewNotificationBackgroundActive(t.BellNewNotificationBackground_active),this._updateBellCommentBackground(t.BellCommentBackground_normal),this._updateBellButtonBackground(t.BellButtonBackground_normal),this._updateBellButtonBackgroundHover(t.BellButtonBackground_hover),this._updateBellButtonBackgroundActive(t.BellButtonBackground_active),this._updateBellBorderColor(t.BellBorderColor_normal),this._updateBellThemeText(t.BellThemeText_normal),this._updateBellThemeTextHover(t.BellThemeText_hover),this._updateBellThemeTextNoHover(t.BellThemeText_normal),this._updateBellDarkText(t.BellDarkText_normal),this._updateBellDarkTextHover(t.BellDarkText_hover),this._updateBellDarkTextNoHover(t.BellDarkText_normal),this._updateBellTimestampText(t.BellTimestampText_normal),this._updateBellTimestampTextHover(t.BellTimestampText_hover),this._updateBellThumbnailBorderColor(t.BellThumbnailBorderColor_normal),this._updateBellButtonText(t.BellButtonText_normal),this._updateBellButtonTextHover(t.BellButtonText_hover),this._updateBellCommentContainerBorderColor(t.BellCommentContainerBorderColor_normal),this._updateBellScrollbarColor(t.BellScrollbarColor_normal),this._updateBellShowMoreBackground(t.BellShowMoreBackground_normal),this._updateBellShowMoreBackgroundHover(t.BellShowMoreBackground_hover),this._updateBellShowMoreTextColor(t.BellShowMoreTextColor_normal),this._updateBellShowMoreTextColorHover(t.BellShowMoreTextColor_hover),this._updateBellShowMoreTextColorActive(t.BellShowMoreTextColor_active),this._updateThemeFilePreviewBackgroundColor(t.ListItemPreviewBackground_normal),this._updateThemeFilePreviewHoverBackgroundColor(t.ListItemPreviewBackground_hover),this._updateThemeFilePreviewCheckedBackgroundColor(t.ListItemPreviewBackground_checked),this._updateThemeFilePreviewCheckedHoverBackgroundColor(t.ListItemPreviewBackground_hover),this._updateThemeGridViewCheckedBorderColor(t.GridViewBorderColor_checked),this._updateFSSButtonBackground(t.FSSButtonBackground_normal),this._updateFSSButtonBackgroundHover(t.FSSButtonBackground_hover),this._updateFSSButtonBackgroundActive(t.FSSButtonBackground_active),this._updateFSSBackground(t.FSSBackground_normal),this._updateFSSHeaderText(t.FSSNormalText_normal),this._updateFSSNormalText(t.FSSHeaderText_normal),this._updateFSSErrHeader(t.FSSErrHeader_normal),this._updateFSSHighlight(t.FSSHighlight_normal),this._updateContextBoardViewBackgroundColor(t.ContextBoardViewBackgroundColor_normal),this._updateContextBoardActiveText(t.ContextBoardActiveText_normal),this._updateContextBoardActiveTextHover(t.ContextBoardActiveText_hover),this._updateContextBoardActiveTextClick(t.ContextBoardActiveText_active),this._updateContextBoardHighlightedText(t.ContextBoardHighlightedText_normal),this._updateContextBoardShadedText(t.ContextBoardShadedText_normal),this._updateContextBoardLinkText(t.ContextBoardLinkText_normal),this._updateContextBoardLinkTextHover(t.ContextBoardLinkText_hover),this._updateContextBoardLinkTextActive(t.ContextBoardLinkText_active),this._updateContextBoardText(t.ContextBoardText_normal),this._updatePreviewHudBackground(t.PreviewHudBackground_normal),this._updateContextBoardPlaceholderText(t.ContextBoardText_normal),this._updateSkeletonPlaceholder(this.iconSetInTheme),this._updateProgressAnimationBackround(this.iconSetInTheme),this._updateDropdownBackground(t.DropDownBackgroundColor_normal),this._updateDropdownBorder(t.DropDownBorderColor_normal),this._updateDropdownTextColor(t.DropDownTextColor_normal),this._updateDropdownSelectedTextColor(t.DropDownTextColor_checked),this._updateDropdownMenuBg(t.DropDownTextBackgroundColor_normal),this._updateDropdownHoverMenuBg(t.DropDownTextBackgroundColor_hover),this._updateDropdownPressedMenuBg(t.DropDownTextBackgroundColor_active),this._updateWorkflowFilesHeaderColumnSortTextColor(t.WorflowFileSortColumnHeaderTextColor_normal),this._updateWorkflowFilesHeaderColumnSortSelectedTextColor(t.WorflowFileSortColumnHeaderTextColor_checked),this._updateWorkflowFilesHeaderColumnSortHoverTextColor(t.WorflowFileSortColumnHeaderTextColor_hover),this._updateWorkflowFilesHeaderColumnSortActiveTextColor(t.WorflowFileSortColumnHeaderTextColor_active),this._updateFileListThumbnailBorder(t.FileListThumbnailBorder_normal),this._updateSharedFileListNormalTextColor(t.SharedFileListTextColor_normal),this._updateSharedFileListActiveTextColor(t.SharedFileListTextColor_active),this._updateSharedFileListHoverTextColor(t.SharedFileListTextColor_hover),this._updateThemeCEFButtonElemBackgroundColor(t.CEFButtonBackground_normal),this._updateThemeCEFButtonElemBackgroundColorDisabled(t.CEFButtonBackground_disabled),this._updateThemeCEFButtonHoverColor(t.CEFButtonBackground_hover),this._updateCalendarDayHoverColor(t.CalendarDay_hover),this._updateCalendarDaySelectedColor(t.CalendarDay_active),this._updateCalendarDaySelectedDateColor(t.CalendarDay_normal),this._updateCalendarDayMouseDownColor(t.CalendarDay_checked),this._updateCalendarDayKeyboardFocusColor(t.CalendarDayKeyboardFocus_normal),this._updateCalendarDayKeyboardFocusBacgroundColor(t.CalendarDayKeyboardFocus_checked),this._updateSFSTrialBarState1BackgroundColor(t.SFSTrialBarColorState1_normal),this._updateSFSTrialBarState2BackgroundColor(t.SFSTrialBarColorState2_normal),this._updateSFSTrialBarState3BackgroundColor(t.SFSTrialBarColorState3_normal),this._updateSFSModalTrialBarBackgroundColor(t.SFSModalTrialBarColor_normal),this._updateSFSProgressiveModalLeftBackgroundColor(t.SFSProgressiveModalLeftBackgroundColor_normal),this._updateSFSProgressiveModalRightBackgroundColor(t.SFSProgressiveModalRightBackgroundColor_normal),this._updateSFSProgressiveModalVideoBarColors(t.SFSProgressiveModalVideoBarBackgroundColor_normal,t.SFSProgressiveModalVideoBarBackgroundColor_hover,t.SFSProgressiveModalVideoBarBackgroundColor_active,t.SFSProgressiveModalVideoBarTextColor_normal,t.SFSProgressiveModalVideoBarTextColor_hover,t.SFSProgressiveModalVideoBarTextColor_active),this._updateFillSignAutoNextPopUpSavedBarBackgroundColor(t.FillSignAutoNextPopUpBackground_normal),this._updateFillSignAutoNextPopUpSeparatorColor(t.FillSignAutoNextPopUpSeparator_normal),this._updateFillSignNextPopUpCancelCTAColors(t.FillSignNextPopUpCancelCTABackground_normal,t.FillSignNextPopUpCancelCTABackground_hover,t.FillSignNextPopUpCancelCTABackground_active,t.FillSignNextPopUpCancelCTAText_normal,t.FillSignNextPopUpCancelCTAText_hover,t.FillSignNextPopUpCancelCTAText_active),this._updateFillSignNextPopUpContinueCTAColors(t.FillSignNextPopUpContinueCTABackground_normal,t.FillSignNextPopUpContinueCTABackground_hover,t.FillSignNextPopUpContinueCTABackground_active,t.FillSignNextPopUpContinueCTAText_normal,t.FillSignNextPopUpContinueCTAText_hover,t.FillSignNextPopUpContinueCTAText_active),this._updateAdobeSignModalDialogCancelCTAColors(t.AdobeSignModalDialogCancelCTABackground_normal,t.AdobeSignModalDialogCancelCTABackground_hover,t.AdobeSignModalDialogCancelCTABackground_active,t.AdobeSignModalDialogCancelCTAText_normal,t.AdobeSignModalDialogCancelCTAText_hover,t.AdobeSignModalDialogCancelCTAText_active),this._updateAdobeSignModalDialogSendCTAColors(t.AdobeSignModalDialogSendCTABackground_normal,t.AdobeSignModalDialogSendCTABackground_hover,t.AdobeSignModalDialogSendCTABackground_active,t.AdobeSignModalDialogSendCTAText_normal,t.AdobeSignModalDialogSendCTAText_hover,t.AdobeSignModalDialogSendCTAText_active),this._updateFloatingWindowButtonTextColor(t.FloatingWindowTextColor_normal),this._updateSharePopupBorderColor(t.SharePopupBorder_normal),this._updatePopupQuietButtonColors(t.PopupQuietButtonBackground_normal,t.PopupQuietButtonBackground_hover,t.PopupQuietButtonBackground_active,t.PopupQuietButtonText_normal),this._updateTextSeparatorColor(t.TextSeparator_normal),this._updateProgressiveVideoPlayButtonColors(t.PopupQuietButtonBackground_normal,t.PopupQuietButtonBackground_hover,t.PopupQuietButtonBackground_active),this._updateWhatsNewColors(t.WhatsNewBodyColor_normal,t.WhatsNewSelectorColor_normal,t.WhatsNewTitleTextColor_normal,t.WhatsNewNonSelTitleTextColor_normal,t.WhatsNewNonSelTitleTextColor_hover,t.WhatsNewNonSelTitleTextColor_active,t.WhatsNewNonSelTitleTextColor_checked,t.WhatsNewNonSelTitleTextColor_focused,t.WhatsNewDescTextColor_normal,t.WhatsNewPrimaryBtnColor_normal,t.WhatsNewPrimaryBtnColor_hover,t.WhatsNewPrimaryBtnColor_active,t.WhatsNewPrimaryBtnColor_focused,t.WhatsNewPrimaryBtnTextColor_normal,t.WhatsNewPrimaryBtnTextColor_hover,t.WhatsNewPrimaryBtnTextColor_active,t.WhatsNewPrimaryBtnTextColor_focused,t.WhatsNewSecondryBtnColor_normal,t.WhatsNewSecondryBtnColor_hover,t.WhatsNewSecondryBtnColor_active,t.WhatsNewSecondryBtnColor_focused,t.WhatsNewSecondryBtnTextColor_normal,t.WhatsNewSecondryBtnTextColor_hover,t.WhatsNewSecondryBtnTextColor_active,t.WhatsNewSecondryBtnTextColor_focused,t.WhatsNewBRHPBackColor_normal),this._updateQRCodeDialogOKCTAColors(t.FillSignNextPopUpContinueCTABackground_normal,t.FillSignNextPopUpContinueCTABackground_hover,t.FillSignNextPopUpContinueCTABackground_active,t.FillSignNextPopUpContinueCTAText_normal,t.FillSignNextPopUpContinueCTAText_hover,t.FillSignNextPopUpContinueCTAText_active),this._updateCreatePDFAppSeparatorColor(t.Separator_normal,t.HomeBackground_normal),this._updateClassicRSSpinnerTextColor(t.ClassicRSSpinnerHeadingTextColor_normal,t.ClassicRSSpinnerBodyTextColor_normal),this._getResolvedPromise()},_findUIThemeStyleSheet:function(){this._ThemeStyleSheet=_.find(document.styleSheets,function(e){return!_.isUndefined(e.href)&&e.href.indexOf("main-cef-ui-theme.css")!==-1})},_convertColorDecToHex:function(e){var t,n=e.toString(16),r=n.length,i="";for(t=r;t<6;t++)i+="0";return i+=n,i},_updateCssSelectorStyle:function(e,t,n){if(this._ThemeStyleSheet){var r=this._ThemeStyleSheet,i=_.find(r.cssRules,function(t){return t.selectorText&&t.selectorText.toLowerCase()===e});_.isUndefined(i)||i.style.setProperty(t,n,"important")}},_updateReaderRhpCefBorder:function(e){var t="solid 1px "+e;this._updateCssSelectorStyle(".ui-theme .rhp.aic-tool-options-container","border-top",t),this._updateCssSelectorStyle(".ui-theme .rhp.aic-tool-options-container","border-bottom",t)},_getThemeNameFromIconSet:function(e){var t;return t=e.slice(0,e.toLowerCase().indexOf("icons")).toLowerCase(),t},_hasImageExtension:function(e){var t,n;t=[".png",".gif",".svg",".ico",".cur",".jpg"];for(n=0;n<t.length;++n)if(e.indexOf(t[n])>=0)return!0;return!1},_containsImageURL:function(e){return e.indexOf("url")>=0&&this._hasImageExtension(e)?!0:!1},_shouldURLbeChanged:function(e,t){if(e.indexOf("themeless")>-1)return!1;var n="/themes/dark/";return t=="dark"?e.indexOf(n)>-1?!1:!0:e.indexOf(n)>-1?!0:!1},_getContentOrBackground:function(e){var t,n,r;return t=undefined,_.isUndefined(e)||_.isUndefined(e.content)&&_.isUndefined(e.backgroundImage)?undefined:(n=e.content,r=e.backgroundImage,!_.isUndefined(r)&&this._containsImageURL(r)&&(t="backgroundImage"),!_.isUndefined(n)&&this._containsImageURL(n)&&(t="content"),t)},_processRule:function(e,t){var n,r,i,s,o,u;if(e.type===CSSRule.STYLE_RULE)r=e.style,n=this._getContentOrBackground(r),!_.isUndefined(n)&&!_.isUndefined(r)&&(i=r[n],t=="dark"?this._shouldURLbeChanged(i,t)&&(i=i.split("/"),i.splice(i.length-1,0,"themes",t),i=i.join("/"),r[n]=i):this._shouldURLbeChanged(i,t)&&(i=i.replace("/themes/dark",""),r[n]=i));else if(e.type===CSSRule.MEDIA_RULE){s=e.cssRules;for(u=0;u<s.length;++u)o=s[u],this._processRule(o,t)}else this._processStyleSheet(e.styleSheet,t)},_processStyleSheet:function(e,t){var n,r,i;if(_.isUndefined(e))return;try{n=e.cssRules}catch(s){}if(!_.isUndefined(n))for(r=0;r<n.length;++r){i=n[r];if(_.isUndefined(i))continue;this._processRule(i,t)}},_updateImageURLs:function(e){var t,n,r,i;if(_.isUndefined(e))return;r="light",i=this._getThemeNameFromIconSet(e);if(_.isUndefined(i)||_.isNull(i))return;t=document.styleSheets;for(n=0;n<t.length;++n)this._processStyleSheet(t[n],i)},_updateSkeletonPlaceholder:function(e){if(_.isUndefined(e))return;var t=this._getThemeNameFromIconSet(e);if(_.isUndefined(t)||_.isNull(t))return;var n="linear-gradient(270deg, #E1E1E1, #F5F5F5 50%, #E1E1E1)";t=="dark"&&(n="linear-gradient(270deg, #3E3E3E, #5C5C5C 50%, #393939)"),this._updateCssSelectorStyle(".ui-theme .placeholder-skeleton-theme","background",n),this._updateCssSelectorStyle(".ui-theme .placeholder-skeleton-theme","background-size","500px")},_updateProgressAnimationBackround:function(e){if(_.isUndefined(e))return;var t=this._getThemeNameFromIconSet(e);if(_.isUndefined(t)||_.isNull(t))return;var n="linear-gradient(270deg, #E1E1E1, #F5F5F5 50%, #E1E1E1)";t=="dark"&&(n="linear-gradient(270deg, #3E3E3E, #5C5C5C 50%, #393939)"),this._updateCssSelectorStyle(".ui-theme .progress-animation-background","background",n)},_updateDocumentBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-document-background","background-color",e)},_updateInputBoxBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-input-box","background-color",e)},_updateAchromaticBoxBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-achromatic-box","background-color",e)},_updateThemeTextElemColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-text","color",e)},_updateThemeHeaderTextElemColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-header-text","color",e)},_updateThemeHyperlinkElemColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-hyperlink","color",e)},_updateThemeDisabledTextElemColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-disabled-text","color",e)},_updateThemeActiveTextElemColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-active-text","color",e)},_updateThemeButtonElemLabelColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-button-label","color",e)},_updateThemeQuietButtonTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-quiet-button-label","color",e)},_updateThemePrimaryButtonLabelColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-primary-button-label","color",e)},_updateThemeGrayButtonElemLabelColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-button-gray-label","color",e)},_updateThemeButtonElemBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-button","background-color",e),this.isHighContastEnabled&&(this._updateCssSelectorStyle(".ui-theme .theme-button","border-width","2px"),this._updateCssSelectorStyle(".ui-theme .theme-button","border-style","solid"))},_updateThemeButtonElemBackgroundColorDisabled:function(e){this._updateCssSelectorStyle(".ui-theme .theme-button:disabled","background-color",e)},_updateThemeButtonElemBorderColor:function(e){this._updateCssSelectorStyle(".ui-theme .cef-theme-button","border-color",e),this._updateCssSelectorStyle(".ui-theme .theme-button","border-color",e)},_updateThemeButtonHoverColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-button:hover","background-color",e)},_updateThemeQuietButtonElemBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-quiet-button","background-color",e)},_updateThemeQuietButtonHoverColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-quiet-button:hover","background-color",e)},_updateThemeQuietFilterButtonElemBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-quiet-filter-button","background-color",e)},_updateThemeQuietFilterButtonHoverColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-quiet-filter-button:hover","background-color",e)},_updateThemeQuietFilterButtonSelectedColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-quiet-filter-button.selected","background-color",e)},_updateThemePrimaryButtonElemBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-primary-button","background-color",e)},_updateThemePrimaryButtonElemBorderColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-primary-button","border-color",e)},_updateThemePrimaryButtonHoverColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-primary-button:hover","background-color",e)},_updateThemePrimaryButtonLabelHoverColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-primary-button-label:hover","color",e)},_updateThemeCTAButtonElemBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-cta-button","background-color",e),this.isHighContastEnabled&&(this._updateCssSelectorStyle(".ui-theme .theme-cta-button","border-width","2px"),this._updateCssSelectorStyle(".ui-theme .theme-cta-button","border-style","solid"))},_updateThemeCTAButtonHoverColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-cta-button:hover","background-color",e)},_updateThemeCTAButtonDisabledColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-cta-button:disabled","background-color",e)},_updateThemeCTAButtonLabelColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-cta-button-label","color",e)},_updateThemeCTAButtonTextColorDisabled:function(e){this._updateCssSelectorStyle(".ui-theme .theme-cta-button-label:disabled","color",e)},_updateThemeCTAButtonElemBorderColor:function(e){this._updateCssSelectorStyle(".ui-theme .cef-theme-cta-button","border-color",e),this._updateCssSelectorStyle(".ui-theme .theme--cta-button","border-color",e)},_updateThemeCEFButtonElemBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .cef-theme-button","background-color",e),this.isHighContastEnabled&&(this._updateCssSelectorStyle(".ui-theme .cef-theme-button","border-width","2px"),this._updateCssSelectorStyle(".ui-theme .cef-theme-button","border-style","solid"))},_updateThemeCEFButtonElemBackgroundColorDisabled:function(e){this._updateCssSelectorStyle(".ui-theme .cef-theme-button:disabled","background-color",e)},_updateThemeCEFButtonHoverColor:function(e){this._updateCssSelectorStyle(".ui-theme .cef-theme-button:hover","background-color",e)},lightOrDark:function(e){var t,n,r,i;return e.match(/^rgb/)?(e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/),t=e[1],n=e[2],r=e[3]):(e=+("0x"+e.slice(1).replace(e.length<5&&/./g,"$&$&")),t=e>>16,n=e>>8&255,r=e&255),i=Math.sqrt(.299*t*t+.587*n*n+.114*r*r),i>127.5?"light":"dark"},_updateThemeContainerBackgroundColor:function(e){var t=this.lightOrDark(e);t=="dark"?(this._updateCssSelectorStyle(".ui-theme.theme-container.convert","background-color","#3E3E3E"),this._updateCssSelectorStyle(".ui-theme.theme-container.fileinfo","background-color",e)):(this._updateCssSelectorStyle(".ui-theme.theme-container.convert","background-color","#F5F5F5"),this._updateCssSelectorStyle(".ui-theme.theme-container.fileinfo","background-color","#FFFFFF")),this._updateCssSelectorStyle(".ui-theme.theme-container","background-color",e),this._updateCssSelectorStyle(".ui-theme-notch-color","color",e)},_updateThemeContainerProminentBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme.theme-container-prominent","background-color",e)},_updateThemeFrameColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-frame","border-color",e)},_updateThemeSelectableContentColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-selectable","color",e)},_updateThemeSelectableContentBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-selectable","background-color",e)},_updateThemeSelectableContentFocusColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-selectable:hover","background-color",e)},_updateThemeSelectableContentHoverColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-selectable:focus","background-color",e)},_updateThemeHoverableContentColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-hoverable:hover","color",e),this._updateCssSelectorStyle(".ui-theme .theme-hoverable:focus","color",e),this._updateCssSelectorStyle(".ui-theme .theme-hoverable:hover div","color",e)},_updateThemeHoverableContentBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-hoverable:hover","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-hoverable:focus","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-hoverable:hover div","background-color",e)},_updateThemeFocusColor:function(e){this._updateCssSelectorStyle("li:focus > span","outline-color",e),this._updateCssSelectorStyle(":focus","outline-color",e),this._updateCssSelectorStyle(":focus","outline-style","solid"),this._updateCssSelectorStyle(":focus","outline-width","2px")},_updateThemeBorderColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-border","border-color",e)},_updateThemeListItemRowBorderColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-file-list-row-border","border-color",e)},_updateThemeListItemRowBorderVirgoColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-file-list-row-border-virgo","background-color",e)},_updateThemeVirgoTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-virgo-text","color",e)},_updateThemeVirgoTextHoverColor:function(e){this.isHighContastEnabled||(this._updateCssSelectorStyle(".ui-theme .theme-virgo-text:hover","color",e),this._updateCssSelectorStyle(".ui-theme .theme-virgo-text:focus","color",e))},_updateThemeVirgoTextCheckedColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-virgo-text.selected","color",e)},_updateThemeVirgoBasicTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-virgo-basic-text","color",e)},_updateThemeVirgoBasicTextHoverColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-virgo-basic-text:hover","color",e),this._updateCssSelectorStyle(".ui-theme .theme-virgo-basic-text:focus","color",e)},_updateThemeVirgoBasicTextCheckedColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-virgo-basic-text.selected","color",e)},_updateThemeVirgoHeaderTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-virgo-header-text","color",e),this._updateCssSelectorStyle(".ui-theme .theme-page-header.multi-parcel","color",e)},_updateThemeVirgoHeaderTextHoverColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-virgo-header-text:hover","color",e),this._updateCssSelectorStyle(".ui-theme .theme-virgo-header-text:focus","color",e)},_updateThemeVirgoHeaderTextCheckedColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-virgo-header-text.selected","color",e)},_updateThemeListItemSubTextElemColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-list-item-sub-text","color",e)},_updateThemeListItemTextElemColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-list-item-text","color",e)},_updateThemeFileListColTextElemColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-file-list-col-header","color",e)},_updateThemeFileListRowHeaderTextElemColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-file-list-row-header","color",e)},_updateThemeFileListRowHeaderHoverTextElemColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-file-list-row-header:hover","color",e)},_updateThemeFileListRowHeaderActiveTextElemColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-file-list-row-header.selected","color",e)},_updateThemeFileListRowItemTextElemColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-file-list-row-value","color",e),this._updateCssSelectorStyle(".ui-theme .theme-file-list-row-static-value","color",e)},_updateThemeFileListRowItemTextElemHoverColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-file-list-row-value:hover","color",e),this.isHighContastEnabled||this._updateCssSelectorStyle(".ui-theme .theme-file-list-row-static-value:hover","color",e)},_updateThemeFileListRowItemTextElemSelectedColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-file-list-row-value.selected","color",e),this.isHighContastEnabled||this._updateCssSelectorStyle(".ui-theme .theme-file-list-row-static-value.selected","color",e)},_updateThemeWorkflowPageHeaderTextElemColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-page-header","color",e)},_updateThemeListItemTextElemHoverColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-list-item:hover .theme-list-item-text","color",e)},_updateThemeListItemTextElemCheckedColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-list-item.selected .theme-list-item-text","color",e),this._updateCssSelectorStyle(".ui-theme .theme-list-item:focus .theme-list-item-text","color",e)},_updateThemeListitemBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-list-item","background-color",e)},_updateThemeListitem2BackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-list-item2","background-color",e)},_updateThemeListitemHoverColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-list-item:hover","background-color",e)},_updateThemeListitemCheckedColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-list-item.selected","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-list-item:focus","background-color",e)},_updateThemeListitemRowBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-list-item-row","background-color",e),this._updateCssSelectorStyle(".ui-theme .shared-theme-list-item-row","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-list-item-row-sort","background-color",e)},_updateThemeListitemRowHoverColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-list-item-row:hover","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-list-item-row-sort:hover","background-color",e)},_updateThemeListitemRowCheckedColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-list-item-row.selected","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-list-item-row.selected .shared-theme-list-item-row","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-list-item-row:focus","background-color",e),this._updateCssSelectorStyle(".ui-theme .shared-theme-list-item-row:focus","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-list-item-row-sort.selected","background-color",e)},_updateThemeThumbnailItemRowBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-thumbnail-item-row","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-thumbnail-item-row.selected","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-thumbnail-item-row:focus","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-thumbnail-item-row:hover","background-color",e)},_updateThemeThumbnailItemRowHoverColor:function(e){},_updateThemeThumbnailItemRowCheckedColor:function(e){},_updateThemeListitemRowVirgoBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-list-item-row-virgo","background-color",e)},_updateThemeListitemRowVirgoHoverColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-list-item-row-virgo:hover","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-list-item-row-virgo:focus","background-color",e)},_updateThemeListitemRowVirgoCheckedColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-list-item-row-virgo.selected","background-color",e)},_updateThemeRHPActionItemBackgroundColor:function(e){var t=this.lightOrDark(e);t=="dark"?this._updateCssSelectorStyle(".ui-theme .rhp-actions-item.fileinfo","background-color",e):this._updateCssSelectorStyle(".ui-theme .rhp-actions-item.fileinfo","background-color","#FFFFFF"),this._updateCssSelectorStyle(".ui-theme .rhp-actions-item","background-color",e)},_updateThemeRHPActionItemHoverColor:function(e){this._updateCssSelectorStyle(".ui-theme .rhp-actions-item:hover","background-color",e)},_updateThemeRHPActionItemActiveColor:function(e){this._updateCssSelectorStyle(".ui-theme .rhp-actions-item:active","background-color",e)},_updateThemeReviewerAvatarBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .avatar-background-themes","background-color",e)},_updateThemeReviewerAvatarBorderColorNormal:function(e){this._updateCssSelectorStyle(".ui-theme .avatar-border-themes","border-color",e)},_updateThemeReviewerAvatarBorderColorHover:function(e){this._updateCssSelectorStyle(".ui-theme .avatar-border-themes:hover","border-color",e)},_updateThemeVerticalTabTextElemColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-vertical-tab-text","color",e)},_updateThemeVerticalTabTextElemHoverColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-vertical-tab:hover .theme-vertical-tab-text","color",e),this._updateCssSelectorStyle(".ui-theme .theme-vertical-tab:focus .theme-vertical-tab-text","color",e)},_updateThemeVerticalTabTextCheckedElemColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-vertical-tab.selected .theme-vertical-tab-text","color",e)},_updateThemeVerticalTabBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-vertical-tab","background-color",e)},_updateThemeVerticalTabHoverColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-vertical-tab:hover","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-vertical-tab:focus","background-color",e)},_updateThemeVerticalTabCheckedColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-vertical-tab.selected","background-color",e)},_updateThemeTabButtonsBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-tab-button","background-color",e)},_updateThemeToolTipTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-tooltip-text","color",e)},_updateThemeToolTipBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-tooltip","background-color",e)},_updateThemeToolTipArrowColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-tooltip","color",e)},_updateThemeAddFilesColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-share-add-files","color",e)},_updateSharePaneBorderColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-share-border","border-color",e)},_updateShareContainerBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-share-container","background-color",e)},_updateShareGreyContainerBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-share-grey-container","background-color",e)},_updateSharePromoContainerBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-share-promo-container","background-color",e)},_updateModalShareContainerBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-share-modal-container","background-color",e)},_updateProtectModalContainerBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-protect-container","background-color",e)},_updateRedactContainerBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-redact-container","background-color",e)},_updateOauthDialogContainerBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-oauthdialog-container","background-color",e)},_updateMipContainerBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-mip-container","background-color",e)},_updateDigSigContainerBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-digsig-container","background-color",e)},_updateDigSigListBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-digsig-list-background","background-color",e)},_updateShareInputContainerBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-share-input-container","background-color",e)},_updateShareModalInputContainerBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-share-modal-input-container","background-color",e)},_updateShareInputTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-share-input-text","color",e)},_updateNewBadgeBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-new-badge-background","background-color",e)},_updateNewBadgeTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-new-badge-text","color",e)},_updateShareGreyButtonBorderColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-share-grey-button","border-color",e)},_updateShareGreyButtonTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-share-grey-button","color",e)},_updateShareGreyButtonHoverBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-share-grey-button:hover","background-color",e)},_updateShareGreyButtonHoverTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-share-grey-button:hover","color",e)},_updateShareGreyButtonTransition:function(){this._updateCssSelectorStyle(".ui-theme .theme-share-grey-button","transition","none")},_updateThemeTabButtonsHoverColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-tab-button:hover","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-tab-button:focus","background-color",e)},_updateThemeTabButtonsCheckedColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-tab-button.selected","background-color",e)},_updateThemeWalkthroughElemBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-walkthrough","background-color",e),this._updateCssSelectorStyle(".ui-theme.theme-container.theme-walkthrough","background-color",e)},_updateThemeWalkthroughTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-walkthrough-text","color",e)},_updateThemeWalkthroughSpectrumTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-spectrum-walkthrough-content","color",e)},_updateThemeWalkthroughSpectrumTitleColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-spectrum-walkthrough-title","color",e)},_updateThemeWalkthroughSpectrumBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-spectrum-walkthrough-background","background-color",e)},_updateThemeWalkthroughSpectrumPrimaryCTAColors:function(e,t,n,r,i,s){this._updateCssSelectorStyle(".ui-theme .theme-wt-spectrum-primary-cta-bg","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-wt-spectrum-primary-cta-bg:hover","background-color",t),this._updateCssSelectorStyle(".ui-theme .theme-wt-spectrum-primary-cta-bg:active","background-color",n),this._updateCssSelectorStyle(".ui-theme .theme-wt-spectrum-primary-cta-bg","border-width","2px"),this._updateCssSelectorStyle(".ui-theme .theme-wt-spectrum-primary-cta-bg","border-style","solid"),this._updateCssSelectorStyle(".ui-theme .theme-wt-spectrum-primary-cta-bg","border-color",r),this._updateCssSelectorStyle(".ui-theme .theme-wt-spectrum-primary-cta-text","color",r),this._updateCssSelectorStyle(".ui-theme .theme-wt-spectrum-primary-cta-text:hover","color",i),this._updateCssSelectorStyle(".ui-theme .theme-wt-spectrum-primary-cta-text:active","color",s)},_updateThemeWalkthroughSpectrumSecondaryCTAColors:function(e,t,n,r,i,s){this._updateCssSelectorStyle(".ui-theme .theme-wt-spectrum-secondary-cta-bg","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-wt-spectrum-secondary-cta-bg:hover","background-color",t),this._updateCssSelectorStyle(".ui-theme .theme-wt-spectrum-secondary-cta-bg:active","background-color",n),this._updateCssSelectorStyle(".ui-theme .theme-wt-spectrum-secondary-cta-text","color",r),this._updateCssSelectorStyle(".ui-theme .theme-wt-spectrum-secondary-cta-text:hover","color",i),this._updateCssSelectorStyle(".ui-theme .theme-wt-spectrum-secondary-cta-text:active","color",s)},_updateThemePlaceholderColor:function(e){this._updateCssSelectorStyle(".ui-theme::-webkit-input-placeholder","color",e)},_updateThemeAcroProTrialContainer:function(e){this._updateCssSelectorStyle(".ui-theme .theme-acro-pro-trial-container","background-color",e)},_updateThemeAcroProTrialLink:function(e){this._updateCssSelectorStyle(".ui-theme .theme-acro-pro-trial-link","color",e)},_updateBellHeaderBackground:function(e){this._updateCssSelectorStyle(".ui-theme .bell-header-theme","background-color",e)},_updateBellHeaderBackgroundHover:function(e){this._updateCssSelectorStyle(".ui-theme .bell-header-theme:hover","background-color",e),this._updateCssSelectorStyle(".ui-theme .bell-header-theme:focus","background-color",e)},_updateBellHeaderBackgroundActive:function(e){this._updateCssSelectorStyle(".ui-theme .bell-header-theme:active","background-color",e)},_updateBellNotificationBackground:function(e){this._updateCssSelectorStyle(".ui-theme .bell-notification-theme","background-color",e),this._updateCssSelectorStyle(".ui-theme .bell-background-theme","background-color",e)},_updateBellNotificationBackgroundHover:function(e){this._updateCssSelectorStyle(".ui-theme .bell-notification-theme:hover","background-color",e),this._updateCssSelectorStyle(".ui-theme .bell-notification-theme:focus","background-color",e)},_updateBellNotificationBackgroundActive:function(e){this._updateCssSelectorStyle(".ui-theme .bell-notification-theme:active","background-color",e)},_updateBellNewNotificationBackground:function(e){this._updateCssSelectorStyle(".ui-theme .bell-notification-theme.new-notification","background-color",e)},_updateBellNewNotificationBackgroundHover:function(e){this._updateCssSelectorStyle(".ui-theme .bell-notification-theme.new-notification:hover","background-color",e),this._updateCssSelectorStyle(".ui-theme .bell-notification-theme.new-notification:focus","background-color",e)},_updateBellNewNotificationBackgroundActive:function(e){this._updateCssSelectorStyle(".ui-theme .bell-notification-theme.new-notification:active","background-color",e)},_updateBellCommentBackground:function(e){this._updateCssSelectorStyle(".ui-theme .bell-comment-theme","background-color",e),this._updateCssSelectorStyle(".unc-container .notifications-widget-light .comment-timeline .comment-container-box .comment-tip::before","background-color",e),this._updateCssSelectorStyle(".unc-container .notifications-widget-light .comment-timeline .comment-container-box .comment-tip::before","border-color",e)},_updateBellButtonBackground:function(e){this._updateCssSelectorStyle(".ui-theme .bell-button-theme","background-color",e)},_updateBellButtonBackgroundHover:function(e){this._updateCssSelectorStyle(".ui-theme .bell-button-theme:hover","background-color",e),this._updateCssSelectorStyle(".ui-theme .bell-button-theme:focus","background-color",e)},_updateBellButtonBackgroundActive:function(e){this._updateCssSelectorStyle(".ui-theme .bell-button-theme:active","background-color",e)},_updateBellBorderColor:function(e){this._updateCssSelectorStyle(".ui-theme .bell-border-theme","border-color",e)},_updateBellThemeText:function(e){this._updateCssSelectorStyle(".ui-theme .bell-theme-text","color",e)},_updateBellThemeTextHover:function(e){this._updateCssSelectorStyle(".ui-theme .notification-container:hover .bell-theme-text","color",e),this._updateCssSelectorStyle(".ui-theme .notification-container:focus .bell-theme-text","color",e)},_updateBellThemeTextNoHover:function(e){this._updateCssSelectorStyle(".ui-theme .bell-theme-text-no-hover","color",e)},_updateBellDarkText:function(e){this._updateCssSelectorStyle(".ui-theme .bell-dark-text","color",e)},_updateBellDarkTextHover:function(e){this._updateCssSelectorStyle(".ui-theme .notification-container:hover .bell-dark-text","color",e),this._updateCssSelectorStyle(".ui-theme .notification-container:focus .bell-dark-text","color",e),this._updateCssSelectorStyle(".ui-theme .notifications-title:hover .bell-dark-text","color",e),this._updateCssSelectorStyle(".ui-theme .notifications-title:focus .bell-dark-text","color",e)},_updateBellDarkTextNoHover:function(e){this._updateCssSelectorStyle(".ui-theme .bell-dark-text-no-hover","color",e)},_updateBellTimestampText:function(e){this._updateCssSelectorStyle(".ui-theme .bell-timestamp-text","color",e)},_updateBellTimestampTextHover:function(e){this._updateCssSelectorStyle(".ui-theme .notification-container:hover .bell-timestamp-text","color",e),this._updateCssSelectorStyle(".ui-theme .notification-container:focus .bell-timestamp-text","color",e)},_updateBellButtonText:function(e){this._updateCssSelectorStyle(".ui-theme .bell-button-text","color",e)},_updateBellButtonTextHover:function(e){this._updateCssSelectorStyle(".ui-theme .cta-button:hover .bell-button-text","color",e),this._updateCssSelectorStyle(".ui-theme .cta-button:focus .bell-button-text","color",e)},_updateBellThumbnailBorderColor:function(e){this._updateCssSelectorStyle(".ui-theme .bell-thumbnail-border-theme","border-color",e)},_updateBellCommentContainerBorderColor:function(e){this._updateCssSelectorStyle(".ui-theme .bell-comment-container-border-theme","-webkit-box-shadow","0 0 0.0625em 0 "+e)},_updateBellScrollbarColor:function(e){this._updateCssSelectorStyle("div.notifications-data-wrapper::-webkit-scrollbar-thumb","background-color",e)},_updateBellShowMoreBackground:function(e){this._updateCssSelectorStyle(".ui-theme .bell-show-more-background","background-color",e)},_updateBellShowMoreBackgroundHover:function(e){this._updateCssSelectorStyle(".ui-theme .bell-show-more-background:hover","background-color",e),this._updateCssSelectorStyle(".ui-theme .bell-show-more-background:focus","background-color",e)},_updateThemeFilePreviewBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-file-preview-background","background-color",e)},_updateThemeFilePreviewHoverBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-file-preview-background:hover","background-color",e)},_updateThemeFilePreviewCheckedBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-file-preview-background.selected","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-file-preview-background:focus","background-color",e)},_updateThemeFilePreviewCheckedHoverBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-file-preview-background.selected:hover","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-file-preview-background:focus","background-color",e)},_updateThemeGridViewCheckedBorderColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-grid-view-border.selected","border-color",e),this._updateCssSelectorStyle(".ui-theme .theme-grid-view-border:focus","border-color",e)},_updateBellShowMoreTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .bell-blue-text","color",e)},_updateBellShowMoreTextColorHover:function(e){this._updateCssSelectorStyle(".ui-theme .bell-blue-text:hover","color",e),this._updateCssSelectorStyle(".ui-theme .bell-blue-text:focus","color",e)},_updateBellShowMoreTextColorActive:function(e){this._updateCssSelectorStyle(".ui-theme .bell-blue-text:active","color",e)},_updateFSSButtonBackground:function(e){this._updateCssSelectorStyle(".ui-theme .fss-button-theme","background-color",e)},_updateFSSButtonBackgroundHover:function(e){this._updateCssSelectorStyle(".ui-theme .fss-button-theme:hover","background-color",e)},_updateFSSButtonBackgroundActive:function(e){this._updateCssSelectorStyle(".ui-theme .fss-button-theme:active","background-color",e)},_updateFSSBackground:function(e){this._updateCssSelectorStyle(".ui-theme .fss-background-theme","background-color",e)},_updateFSSHeaderText:function(e){this._updateCssSelectorStyle(".ui-theme .fss-header-text-theme","color",e)},_updateFSSNormalText:function(e){this._updateCssSelectorStyle(".ui-theme .fss-normal-text-theme","color",e)},_updateFSSErrHeader:function(e){this._updateCssSelectorStyle(".ui-theme .fss-err-header-theme","color",e)},_updateFSSHighlight:function(e){this._updateCssSelectorStyle(".ui-theme .fss-highlight-theme","background-color",e)},_updateContextBoardViewBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .cb-active-background-theme","background-color",e)},_updateContextBoardActiveText:function(e){this._updateCssSelectorStyle(".ui-theme .cb-active-text-theme","color",e),this._updateCssSelectorStyle(".ui-theme .drop-down-text-theme","color",e)},_updateContextBoardActiveTextHover:function(e){this._updateCssSelectorStyle(".ui-theme .cb-active-text-theme:hover","color",e),this._updateCssSelectorStyle(".ui-theme .drop-down-text-theme:hover","color",e),this._updateCssSelectorStyle(".ui-theme .drop-down-text-theme:focus","color",e)},_updateContextBoardActiveTextClick:function(e){this._updateCssSelectorStyle(".ui-theme .cb-active-text-theme:active","color",e),this._updateCssSelectorStyle(".ui-theme .cb-active-text-theme.selected","color",e),this._updateCssSelectorStyle(".ui-theme .cb-active-text-theme.focused","color",e),this._updateCssSelectorStyle(".ui-theme .drop-down-text-theme:active","color",e),this._updateCssSelectorStyle(".ui-theme .drop-down-text-theme.selected","color",e),this._updateCssSelectorStyle(".ui-theme .drop-down-text-theme.focused","color",e)},_updateContextBoardHighlightedText:function(e){this._updateCssSelectorStyle(".ui-theme .cb-highlight-text-theme","color",e)},_updateContextBoardShadedText:function(e){this._updateCssSelectorStyle(".ui-theme .cb-shaded-text-theme","color",e)},_updateContextBoardLinkText:function(e){this._updateCssSelectorStyle(".ui-theme .cb-link-text-theme","color",e)},_updateContextBoardLinkTextHover:function(e){this._updateCssSelectorStyle(".ui-theme .cb-link-text-theme:hover","color",e)},_updateContextBoardLinkTextActive:function(e){this._updateCssSelectorStyle(".ui-theme .cb-link-text-theme:active","color",e)},_updateContextBoardText:function(e){this._updateCssSelectorStyle(".ui-theme .cb-text-theme","color",e)},_updatePreviewHudBackground:function(e){this._updateCssSelectorStyle(".ui-theme .preview-hud-background-theme","background-color",e)},_updateContextBoardPlaceholderText:function(e){this._updateCssSelectorStyle(".ui-theme .reminder-note-wrapper textarea::placeholder","color",e),this._updateCssSelectorStyle(".ui-theme .cancel-note-wrapper textarea::placeholder","color",e)},_updateDropdownBackground:function(e){this._updateCssSelectorStyle(".ui-theme .dropdown-background-theme","background-color",e)},_updateDropdownBorder:function(e){this._updateCssSelectorStyle(".ui-theme .dropdown-border-theme","border-color",e)},_updateDropdownTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .dropdown-text-color-theme","color",e)},_updateDropdownHoverTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .dropdown-text-color-theme:hover","color",e)},_updateDropdownSelectedTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .dropdown-text-color-theme.selected","color",e)},_updateDropdownHoverMenuBg:function(e){this._updateCssSelectorStyle(".ui-theme .dropdown-text-bg-color-theme:hover","background-color",e),this._updateCssSelectorStyle(".ui-theme .column-bg-color-theme:hover","background-color",e)},_updateDropdownPressedMenuBg:function(e){this._updateCssSelectorStyle(".ui-theme .dropdown-text-bg-color-theme:active","background-color",e),this._updateCssSelectorStyle(".ui-theme .column-bg-color-theme:active","background-color",e),this._updateCssSelectorStyle(".ui-theme .column-bg-color-theme.selected","background-color",e)},_updateDropdownMenuBg:function(e){this._updateCssSelectorStyle(".ui-theme .dropdown-text-bg-color-theme","background-color",e),this._updateCssSelectorStyle(".ui-theme .column-bg-color-theme","background-color",e)},_updateWorkflowFilesHeaderColumnSortTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .workflow-files-header-column-sort-text-theme","color",e),this._updateCssSelectorStyle(".ui-theme .workflow-files-header-column-no-sort-text-theme","color",e)},_updateWorkflowFilesHeaderColumnSortSelectedTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .workflow-files-header-column-sort-text-theme.selected","color",e)},_updateWorkflowFilesHeaderColumnSortActiveTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .workflow-files-header-column-sort-text-theme:active","color",e)},_updateWorkflowFilesHeaderColumnSortHoverTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .workflow-files-header-column-sort-text-theme:hover","color",e)},_updateFileListThumbnailBorder:function(e){this._updateCssSelectorStyle(".ui-theme .file-list-thumbnail-border","border-color",e)},_updateSharedFileListNormalTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .shared-file-list-text-color","color",e)},_updateSharedFileListActiveTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .shared-file-list-text-color:active","color",e),this._updateCssSelectorStyle(".ui-theme .shared-file-list-text-color:focus","color",e),this._updateCssSelectorStyle(".ui-theme .shared-file-list-text-color.focused","color",e),this._updateCssSelectorStyle(".ui-theme .shared-file-list-text-color.selected","color",e)},_updateSharedFileListHoverTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .shared-file-list-text-color:hover","color",e)},_updateCalendarDayHoverColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-calendar-day:hover","background-color",e)},_updateCalendarDaySelectedColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-calendar-day.selected","background-color",e)},_updateCalendarDaySelectedDateColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-calendar-day.selected","color",e)},_updateCalendarDayMouseDownColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-calendar-day:active","background-color",e)},_updateCalendarDayKeyboardFocusColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-keyboard-focus","color",e)},_updateCalendarDayKeyboardFocusBacgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-keyboard-focus","background-color",e)},_updateSFSTrialBarState1BackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-sfs-trial-bar-state1-color","background-color",e)},_updateSFSTrialBarState2BackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-sfs-trial-bar-state2-color","background-color",e)},_updateSFSTrialBarState3BackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-sfs-trial-bar-state3-color","background-color",e)},_updateSFSModalTrialBarBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-sfs-modal-trial-bar-color","background-color",e)},_updateSFSProgressiveModalLeftBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-sfs-progressive-modal-left-bg-color","background-color",e)},_updateFillSignAutoNextPopUpSavedBarBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-fill-sign-auto-popup-saved-bar-bg-color","background-color",e)},_updateFillSignAutoNextPopUpSeparatorColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-fill-sign-auto-popup-separator-color","border-width","1px"),this._updateCssSelectorStyle(".ui-theme .theme-fill-sign-auto-popup-separator-color","border-style","solid"),this._updateCssSelectorStyle(".ui-theme .theme-fill-sign-auto-popup-separator-color","border-color",e)},_updateFillSignNextPopUpContinueCTAColors:function(e,t,n,r,i,s){this._updateCssSelectorStyle(".ui-theme .theme-fill-sign-next-popup-continue-cta-bg-color","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-fill-sign-next-popup-continue-cta-bg-color:hover","background-color",t),this._updateCssSelectorStyle(".ui-theme .theme-fill-sign-next-popup-continue-cta-bg-color:active","background-color",n),this._updateCssSelectorStyle(".ui-theme .theme-fill-sign-next-popup-continue-cta-bg-color","border-width","2px"),this._updateCssSelectorStyle(".ui-theme .theme-fill-sign-next-popup-continue-cta-bg-color","border-style","solid"),this._updateCssSelectorStyle(".ui-theme .theme-fill-sign-next-popup-continue-cta-bg-color","border-color",r),this._updateCssSelectorStyle(".ui-theme .theme-fill-sign-next-popup-continue-cta-text-color","color",r),this._updateCssSelectorStyle(".ui-theme .theme-fill-sign-next-popup-continue-cta-text-color:hover","color",i),this._updateCssSelectorStyle(".ui-theme .theme-fill-sign-next-popup-continue-cta-text-color:active","color",s)},_updateFillSignNextPopUpCancelCTAColors:function(e,t,n,r,i,s){this._updateCssSelectorStyle(".ui-theme .theme-fill-sign-next-popup-cancel-cta-bg-color","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-fill-sign-next-popup-cancel-cta-bg-color:hover","background-color",t),this._updateCssSelectorStyle(".ui-theme .theme-fill-sign-next-popup-cancel-cta-bg-color:active","background-color",n),this._updateCssSelectorStyle(".ui-theme .theme-fill-sign-next-popup-cancel-cta-text-color","color",r),this._updateCssSelectorStyle(".ui-theme .theme-fill-sign-next-popup-cancel-cta-text-color:hover","color",i),this._updateCssSelectorStyle(".ui-theme .theme-fill-sign-next-popup-cancel-cta-text-color:active","color",s)},_updateAdobeSignModalDialogCancelCTAColors:function(e,t,n,r,i,s){this._updateCssSelectorStyle(".ui-theme .adobe-sign-modal-cancel-cta-bg-color","background-color",e),this._updateCssSelectorStyle(".ui-theme .adobe-sign-modal-cancel-cta-bg-color:hover","background-color",t),this._updateCssSelectorStyle(".ui-theme .adobe-sign-modal-cancel-cta-bg-color:active","background-color",n),this._updateCssSelectorStyle(".ui-theme .adobe-sign-modal-cancel-cta-text-color","color",r),this._updateCssSelectorStyle(".ui-theme .adobe-sign-modal-cancel-cta-text-color:hover","color",i),this._updateCssSelectorStyle(".ui-theme .adobe-sign-modal-cancel-cta-text-color:active","color",s)},_updateAdobeSignModalDialogSendCTAColors:function(e,t,n,r,i,s){this._updateCssSelectorStyle(".ui-theme .adobe-sign-modal-send-cta-bg-color","background-color",e),this._updateCssSelectorStyle(".ui-theme .adobe-sign-modal-send-cta-bg-color:hover","background-color",t),this._updateCssSelectorStyle(".ui-theme .adobe-sign-modal-send-cta-bg-color:active","background-color",n),this._updateCssSelectorStyle(".ui-theme .adobe-sign-modal-send-cta-text-color","color",r),this._updateCssSelectorStyle(".ui-theme .adobe-sign-modal-send-cta-text-color:hover","color",i),this._updateCssSelectorStyle(".ui-theme .adobe-sign-modal-send-cta-text-color:active","color",s)},_updateSFSProgressiveModalRightBackgroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-sfs-progressive-modal-right-bg-color","background-color",e)},_updateSFSProgressiveModalVideoBarColors:function(e,t,n,r,i,s){this._updateCssSelectorStyle(".ui-theme .theme-sfs-progressive-modal-video-bar-bg-color","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-sfs-progressive-modal-video-bar-bg-color:active","background-color",t),this._updateCssSelectorStyle(".ui-theme .theme-sfs-progressive-modal-video-bar-bg-color:hover","background-color",n),this._updateCssSelectorStyle(".ui-theme .theme-sfs-progressive-modal-video-bar-text-color","color",r),this._updateCssSelectorStyle(".ui-theme .theme-sfs-progressive-modal-video-bar-text-color:hover","color",i),this._updateCssSelectorStyle(".ui-theme .theme-sfs-progressive-modal-video-bar-text-color:active","color",s)},_updateCopyLinkCopiedTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-copy-link-text","color",e)},_updateToggleTrackBackGroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .toggle-theme .slider","background-color",e)},_updateToggleBarBackGroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .toggle-theme .slider::before","background-color",e)},_updateToggleBarBorderBackGroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .toggle-theme .slider::before","border-color",e)},_updateToggleCheckedTrackBackGroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .toggle-theme input:checked + .slider","background-color",e)},_updateToggleCheckedBarBackGroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .toggle-theme input:checked + .slider::before","background-color",e)},_updateToggleCheckedBarBorderBackGroundColor:function(e){this._updateCssSelectorStyle(".ui-theme .toggle-theme input:checked + .slider::before","border-color",e)},_updateFloatingWindowButtonTextColor:function(e){this._updateCssSelectorStyle(".ui-theme .floating-window-button-text","color",e)},_updateSharePopupBorderColor:function(e){this._updateCssSelectorStyle(".ui-theme .theme-share-popup-border","border-color",e)},_updatePopupQuietButtonColors:function(e,t,n,r){this._updateCssSelectorStyle(".ui-theme .popup-quiet-button","color",r),this._updateCssSelectorStyle(".ui-theme .popup-quiet-button","background-color",e),this._updateCssSelectorStyle(".ui-theme .popup-quiet-button:hover","background-color",t),this._updateCssSelectorStyle(".ui-theme .popup-quiet-button:active","background-color",n),this.isHighContastEnabled&&(this._updateCssSelectorStyle(".ui-theme .popup-quiet-button","border-width","2px"),this._updateCssSelectorStyle(".ui-theme .popup-quiet-button","border-style","solid"),this._updateCssSelectorStyle(".ui-theme .popup-quiet-button","border-color",r))},_updateTextSeparatorColor:function(e){this._updateCssSelectorStyle(".ui-theme .text-separator","border-color",e),this._updateCssSelectorStyle(".ui-theme .text-separator","border-style","solid"),this._updateCssSelectorStyle(".ui-theme .text-separator","background-color",e)},_updateProgressiveVideoPlayButtonColors:function(e,t,n){this._updateCssSelectorStyle(".ui-theme .theme-sfs-progressive-modal-video-play-button","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-sfs-progressive-modal-video-play-button:active","background-color",n),this._updateCssSelectorStyle(".ui-theme .theme-sfs-progressive-modal-video-play-button:hover","background-color",t)},_updateWhatsNewColors:function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N){this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-body-bg","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-selclr","background-color",t),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-textclr","color",n),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-nonsel-textclr","color",r),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-nonsel-textclr:hover","color",i),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-nonsel-textclr:active","color",s),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-nonsel-textclr:checked","color",o),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-nonsel-textclr:focused","color",u),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-desc-textclr","color",a),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-primary-btn-color","background-color",f),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-primary-btn-color:hover","background-color",l),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-primary-btn-color:active","background-color",c),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-primary-btn-color:focused","background-color",h),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-primary-btn-txt-color","color",p),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-primary-btn-txt-color:hover","color",d),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-primary-btn-txt-color:active","color",v),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-primary-btn-txt-color:focused","color",m),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-secondary-btn-color","background-color",g),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-secondary-btn-color:hover","background-color",y),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-secondary-btn-color:active","background-color",b),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-secondary-btn-color:focused","background-color",w),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-secondary-btn-txt-color","color",E),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-secondary-btn-txt-color:hover","color",S),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-secondary-btn-txt-color:active","color",x),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-secondary-btn-txt-color:focused","color",T),this._updateCssSelectorStyle(".ui-theme .theme-whatsnew-rhp-body-bg","background-color",N)},_updateQRCodeDialogOKCTAColors:function(e,t,n,r,i,s){this._updateCssSelectorStyle(".ui-theme .theme-qr-code-dialog-ok-cta-bg-color","background-color",e),this._updateCssSelectorStyle(".ui-theme .theme-qr-code-dialog-ok-cta-bg-color:hover","background-color",t),this._updateCssSelectorStyle(".ui-theme .theme-qr-code-dialog-ok-cta-bg-color:active","background-color",n),this._updateCssSelectorStyle(".ui-theme .theme-qr-code-dialog-ok-cta-bg-color","border-width","2px"),this._updateCssSelectorStyle(".ui-theme .theme-qr-code-dialog-ok-cta-bg-color","border-style","solid"),this._updateCssSelectorStyle(".ui-theme .theme-qr-code-dialog-ok-cta-bg-color","border-color",r),this._updateCssSelectorStyle(".ui-theme .theme-qr-code-dialog-ok-cta-text-color","color",r),this._updateCssSelectorStyle(".ui-theme .theme-qr-code-dialog-ok-cta-text-color:hover","color",i),this._updateCssSelectorStyle(".ui-theme .theme-qr-code-dialog-ok-cta-text-color:active","color",s)},_updateCreatePDFAppSeparatorColor:function(e,t){this._updateCssSelectorStyle(".ui-theme .left-chevron::before","border-color","transparent "+e+" transparent transparent"),this._updateCssSelectorStyle(".ui-theme .left-chevron::after","border-color","transparent "+t+" transparent transparent"),this._updateCssSelectorStyle(".ui-theme .right-border","border-right-color",e)},_updateClassicRSSpinnerTextColor:function(e,t){this._updateCssSelectorStyle(".ui-theme .spinner-rsheader-color","color",e),this._updateCssSelectorStyle(".ui-theme .spinner-rstext-color","color",t)}}),e.ApplyUIThemeStyleOp}),define("app/dev/ops/preferences/restoring-preferences-op",["core/ac-core","app/ac-app","core/utils/cookie-util","core/ops/op"],function(e,t,n){t.RestoringPreferencesOp=e.Op.extend({run:function(){var r=this.options,i=r.preferencesUiModel,s,o,u,a=r.quotaDlgUiModel;try{s=JSON.parse(n.getPersonalCookie(e.Config.PREFERENCES_COOKIE_PREFIX,r.appApi.usersMeApi.getUserIdentity().email)),i.setPreferences(s),o=i.getPreferences(t.APP_ID),u=o.quota,u&&a.set("running_out_shown",u.running_out_shown),r.appApi.pluginsApi.setPreferences(i.getPreferences())}catch(f){}return this._getResolvedPromise()}})}),define("app/dev/ops/preferences/saving-preferences-op",["core/ac-core","app/ac-app","core/utils/cookie-util","core/ops/op"],function(e,t,n){t.SavingPreferencesOp=e.Op.extend({run:function(){var r=this.options,i=$.Deferred(),s=r.preferencesUiModel,o=r.quotaDlgUiModel,u=r.appApi,a,f,l;return u&&(a=u.usersMeApi.getUserIdentity().email),a?(f=s.get("preferences"),l=f[t.APP_ID],l||(l=f[t.APP_ID]={}),l.quota={running_out_shown:o.get("running_out_shown")},l.lastToolUsed=r.toolsUiModel.getSelectedId(),u&&_.extend(f,u.pluginsApi.getPreferences()),n.setPersonalCookie(e.Config.PREFERENCES_COOKIE_PREFIX,a,JSON.stringify(f)),i.resolve().promise()):i.resolve().promise()}})}),define("app/dev/ops/rna/configuring-rna-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){return t.ConfiguringRNAOp=e.Op.extend({run:function(){var e=this.options,t=e.appApi;return this._getResolvedPromise()}}),t.ConfiguringRNAOp}),define("app/dev/ops/rna/initializing-rna-op",["core/ac-core","app/ac-app","core/utils/date-util","core/ops/op"],function(e,t,n){return t.InitializingRNAOp=e.Op.extend({run:function(){var t=this.options,r=t.appApi,i=e.opFactory,s,o;return s=i.create("InitializingCEFOp",t),o=i.create("InitializingReaderOp",t),n.logElapsedTime("before CreatingBrowserContext"),s.run().then(_.bind(function(){n.logElapsedTime("after CreatingBrowserContext"),o.run()},this))}}),t.InitializingRNAOp}),define("app/dev/ops/rna/listening-for-dialog-alert-events-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){return t.ListeningForDialogAlertEventsOp=e.Op.extend({run:function(){var e=this.options.dialogsUiModel;return e.on("change:open",this._onDialogCountChange),this._getResolvedPromise()},_onDialogCountChange:function(e){this.options.appApi.rnaApi.done(_.bind(function(t){e.length>0?t.rnaServicesAPI.setCanHandleCEFEvent(0,!0):t.rnaServicesAPI.setCanHandleCEFEvent(0,!1)},this))}}),t.ListeningForDialogAlertEventsOp}),define("app/dev/ops/rna/listening-for-notification-window-events-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){t.ListeningForNotificationWindowEventsOp=e.Op.extend({initialize:function(){e.Op.prototype.initialize.call(this)},run:function(){return this.$notificationContainer=$(".notification-content-container"),setInterval(_.bind(function(){this._handleResize()},this),250),this._handleResize(),(this._deferred=$.Deferred()).promise()},_handleResize:function(){var e,t;this.$notificationContainer.length===0&&(this.$notificationContainer=$(".notification-content-container"));if(this.$notificationContainer.length){e=this.$notificationContainer.width(),t=this.$notificationContainer.outerHeight();if(this._oldWidth!==e||this._oldHeight!==t)this._oldWidth=e,this._oldHeight=t,this.options.appApi.rnaApi.done(function(n){n.cefBrowserApi({methodName:"setContainerSize",parameters:[e,t]})})}}})}),define("app/dev/ops/rna/listening-for-rhp-window-events-op",["core/ac-core","app/ac-app","core/utils/css-util","core/ops/op"],function(e,t,n){t.ListeningForRHPWindowEventsOp=e.Op.extend({initialize:function(){e.Op.prototype.initialize.call(this)},run:function(){return this.$rhpContainer=$(".rhp-container-content"),this.$alertDialogContainer=$(".generic-dialog-rhp"),setInterval(_.bind(function(){this._handleResize()},this),250),this._handleResize(),(this._deferred=$.Deferred()).promise()},_handleResize:function(){var e,t;this.$rhpContainer.length===0&&(this.$rhpContainer=$(".rhp-container-content")),this.$alertDialogContainer&&this.$alertDialogContainer.length===0&&(this.$alertDialogContainer=$(".generic-dialog-rhp")),e=this.$rhpContainer.width(),t=this.$rhpContainer.height(),this.$alertDialogContainer&&this.$alertDialogContainer.length>0&&t<this.$alertDialogContainer.height()&&(t=n.getFullHeight(this.$alertDialogContainer)),e&&t&&(this._oldWidth!==e||this._oldHeight!==t)&&(this._oldWidth=e,this._oldHeight=t,this.options.appApi.rnaApi.done(function(n){n.cefBrowserApi({methodName:"setContainerSize",parameters:[e,t]})}))}})}),define("app/dev/views/reader-events",["app/ac-app"],function(e){e.ReaderEvents={}}),define("app/dev/views/cef-events",["app/ac-app"],function(e){e.CefEvents={}}),define("app/dev/ops/rna/listening-for-rna-events-op",["core/ac-core","app/ac-app","core/ops/op","app/views/reader-events","app/views/cef-events"],function(e,t){t.ListeningForRNAEventsOp=e.Op.extend({initialize:function(){e.Op.prototype.initialize.call(this),this._initEventMap()},run:function(){return(this._deferred=$.Deferred()).promise()},_onRNAEvent:function(e,t,n){var r,i;r=this._eventMap[e],r&&(i=r[0].create(r[1],options));if(!i){LOG(0,"AcApp.ListeningForRNAEventsOp._onRNAEvent ignoring "+e);return}i.run().then(function(){},function(){})},_mapEvent:function(e,t,n,r,i){e[t]=[n,r,i]},_initEventMap:function(){var n,r,i,s,o,u;n=this._eventMap={},r=this._mapEvent,i=e.opFactory,s=t.opFactory,o=t.ReaderEvents,u=t.CefEvents}})}),define("app/dev/ops/rna/listening-for-session-events-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){return t.ListeningForSessionEventsOp=e.Op.extend({run:function(){var e=$.Deferred();return this.options.appApi.rnaApi.done(_.bind(function(e){var t=e._sessionAPI;t.on("custom:sessionChange",this._onSessionChange)},this)),this._deferred=e,e.promise()},_onSessionChange:function(e,t){var n=this.options,r=t.params.selfInit,i=t.params.isSignedIn,s=n.appApi,o=n.signInUiModel.get("is_signed_in");if(!r)if(i===!1)o?s.sessionApi.signedOut(!0):n.signInUiModel.trigger("change:is_signed_in");else if(o===!1&&!s.pluginsApi.isPluginSelected("task_handler"))return s.sessionApi.ensureSignedIn()}}),t.ListeningForSessionEventsOp}),define("app/dev/ops/routing/initializing-app-routes-op",["core/ac-core","app/ac-app","core/utils/util","core/ops/op"],function(e,t,n){return t.InitializingAppRoutesOp=e.Op.extend({run:function(){var e=this.options.appApi.routerApi;return e.getQueryParams(),e.getHash(),e.getPathname(),e.removeSusiHashParams(),n.isCEF()?(e.route("",this._onBlankContentPage),e.route(":pluginId",this._onRNAContentPage),e.route("notification",this._onNotificationContentPage),e.route(":pluginId/:command(/:argument)",this._onRNACommandPage),e.route("rhp/:pluginId",this._onRHPContentPage),e.route("rhpcb/:pluginId",this._onRHPContextBoard),e.route("file_select",this._onFileSelectionPage),e.route("file_save_as",this._onFileSaveAsPage),e.route("what_is_new",this._onWhatsNewPage)):(e.route("*params",this._onSusiRedirect),e.route("content",this._onContentPage),e.route("about",this._onAbout)),this._getResolvedPromise()},_onBlankContentPage:function(){return this.options.runningInFull=!0,document.title=document.location.href,this._getRoutingAtContentPagePromise()},_onRNAContentPage:function(e){this.options.runningInFull=!0,document.title=document.location.href;if(e)return this.options.appApi.pluginsApi.selectPlugin(e)},_onRNACommandPage:function(e,t,n){this.options.runningInFull=!0,this.options.runningInCommand=t,this.options.runningInArgument=n,document.title=document.location.href;if(e)return this.options.appApi.pluginsApi.selectPlugin(e)},_onRHPContentPage:function(e){return this._unsetRoutingAtContentPagePromise(),this.options.runningInRHP=!0,Ac.Plugins.types.full_preview.default_plugin_id=e,document.title=document.location.href,t.opFactory.create("ListeningForRHPWindowEventsOp",this.options).run(),this._getRoutingAtContentPagePromise()},_onRHPContextBoard:function(e){this.options.runningInContextBoard=!0,Ac.Plugins.types.full_preview_rhp.default_plugin_id=e,this._onRHPContentPage(e)},_onNotificationContentPage:function(){return this._unsetRoutingAtContentPagePromise(),this.options.runningInNotification=!0,document.title=document.location.href,t.opFactory.create("ListeningForNotificationWindowEventsOp",this.options).run(),this._getRoutingAtContentPagePromise()},_onFileSelectionPage:function(){return this._unsetRoutingAtContentPagePromise(),this.options.runningInFileSelection=!0,document.title=document.location.href,this._getRoutingAtContentPagePromise()},_onFileSaveAsPage:function(){return this._unsetRoutingAtContentPagePromise(),this.options.runningInFileSelection=!0,this.options.runningInFileSaveAs=!0,document.title=document.location.href,this._getRoutingAtContentPagePromise()},_onWhatsNewPage:function(){return this._unsetRoutingAtContentPagePromise(),this.options.runningInWhatsNewView=!0,document.title=document.location.href,this._getRoutingAtContentPagePromise()},_onContentPage:function(){return this._getRoutingAtContentPagePromise()},_onSusiRedirect:function(e){return this._getRoutingAtContentPagePromise()},_onAbout:function(){var e=this.options,n=t.opFactory.create("ShowingAboutDlgOp",e);this._getRoutingAtContentPagePromise().then(function(){_.delay(function(){n.run()},e.accountMenuPluginsUiModel.get("deselect_delay"))})},_unsetRoutingAtContentPagePromise:function(){var e=this.options;e.runningInFull===!0&&(e.runningInFull=!1,t.viewMgr.unsetContentPageView(),e.appApi.sessionApi.setRoutingAtContentPagePromise(undefined))},_getRoutingAtContentPagePromise:function(){return this.options.appApi.sessionApi.getRoutingAtContentPagePromise()}}),t.InitializingAppRoutesOp}),define("app/dev/ops/routing/initializing-sc-logging-op",["core/ac-core","app/ac-app","core/utils/sc-analytics","core/ops/op"],function(e,t,n){return t.InitializingScLoggingOp=e.Op.extend({run:function(){var e=this.options,t=e.appApi,r=t.siteCatalystApi.logScEvent,i=n.INITIAL_STARTUP,s,o;return s=t.usersMeApi.getUserCohorts(),_.each(s,function(e,t){o=t.indexOf("-")>0?t.split("-")[0]:n.UNKNOWN}),Ac.currentRNAVariants&&_.each(Ac.currentRNAVariants,function(e,i){var s=t.pluginsApi.getSiteCatalystName(i,i,!0);r([n.WEB_PLUGIN_VARIANT,s,e])}),this._getResolvedPromise()}}),t.InitializingScLoggingOp}),define("app/dev/ops/routing/rna-routing-at-content-page-op",["core/ac-core","files/ac-files","app/ac-app","plugins-common/ac-plugins","core/utils/app-api-mgr","core/utils/date-util","core/utils/view-util","core/ops/op"],function(e,t,n,r,i,s,o){return n.RNARoutingAtContentPageOp=e.Op.extend({run:function(r,u){function D(){return Ac.Plugins.types.tools.default_plugin_id}function P(){return Ac.Plugins.types.full_preview.default_plugin_id}function H(){d.run(),A.run().always(function(){g.run()}),o.init(a);if(a.toolsUiModel.get("pending_plugin_id"))return n.viewMgr.showContentPageView(a),k;if(a.runningInRHP&&n.viewMgr.isContentPageViewUnset())return n.viewMgr.showContentPageView(a),w.run(P());if(a.runningInFull)return n.viewMgr.showContentPageView(a),p.run(D());if(a.runningInFileSelection&&n.viewMgr.isContentPageViewUnset())return T.run();if(a.runningInNotification&&n.viewMgr.isContentPageViewUnset())return n.viewMgr.showContentPageView(a),k;if(a.runningInWhatsNewView&&n.viewMgr.isContentPageViewUnset())return C.run()}var a=this.options,f=a.appApi,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k=this._getResolvedPromise(),L,A,O,M;s.logElapsedTime("routing-at-content-page-op start"),l=e.opFactory,c=n.opFactory,h=t.opFactory,d=c.create("ShowingLoadFailuresDlgOp",a),E=c.create("GettingAllBaseUrisOp",a),M=l.create("GettingDiscoveryRespOp",a),v=c.create("GettingStorageInfoOp",a),m=c.create("GettingAllUserInfoOp",a),g=c.create("InitializingScLoggingOp",a),S=l.create("StartingSusiSessionOp",a),x=c.create("LoadingTemplatePluginsOp",a),y=c.create("LoadingToolsOp",a),p=c.create("SelectingToolOp",a),b=h.create("LoadingFullPreviewPluginsOp",a),w=h.create("SelectingFullPreviewPluginOp",a),T=c.create("LoadingFileSelectionDlgOp",a),N=c.create("LoadingFileSelectionDlgHomeViewsOp",a),C=c.create("LoadingWhatsNewDlgOp",a),L=c.create("LoadingRNAVersionInfoOp",a),A=c.create("LoadingRNAVariantInfoOp",a),O=l.create("GettingDocumentCloudStorageInfoOp",a);if(!r)return s.logElapsedTime("before base uris + plugin configs"),$.when(S.run().then(function(){return $.when(E.run(),L.run()).fail(function(e){return(window.location.pathname.indexOf("fillsign")!=-1||window.location.pathname.indexOf("send_for_sign")!=-1)&&e.errorString==="DCAPIUnsupported-Error410"&&a.signInUiModel.set("is_signed_in",!0),$.Deferred().reject(e).promise()})})).then(function(){return f.pluginsApi.validateRNAPlugin(u).then(function(){return s.logElapsedTime("after starting susi"),O.run().then(function(){return $.when(v.run(),m.run()).then(function(){return M.run().then(function(){a.signInUiModel.set("is_signed_in",!0)},function(e){return e.status==423&&this.options.appApi.rnaApi.done(_.bind(function(e){e.invokeMethod({methodName:"triggerMigrationInProgressError",methodArgs:{}})},this)),$.Deferred().reject(e).promise()})})},function(e){return(e.errorString==="NoAccessToPdfServices"||e.errorString==="DCAPIUnsupported-Error410")&&a.signInUiModel.set("is_signed_in",!0),$.Deferred().reject(e).promise()})})});i.appApisAreReady();if(a.runningInRHP)return b.run().then(function(){return H()});if(a.runningInFull)return x.run().then(function(){if(a.runningInFull)return y.run().then(function(){if(a.runningInFull)return H()})});if(a.runningInFileSelection)return x.run().then(function(){return e.opFactory.create("GettingConnectorsUiHelpersOp",a).run(),e.opFactory.create("GettingSystemFoldersOp",a).run(),H()});if(a.runningInNotification)return H();if(a.runningInWhatsNewView)return x.run().then(function(){return H()})}}),n.RNARoutingAtContentPageOp}),define("app/dev/ops/routing/routing-at-content-page-op",["core/ac-core","app/ac-app","plugins-common/ac-plugins","core/utils/app-api-mgr","core/utils/date-util","core/utils/ipm-util","core/ops/op"],function(e,t,n,r,i,s){return t.RoutingAtContentPageOp=e.Op.extend({run:function(){function h(){var e=u.getSubscriptionName(),t;switch(e){case u.SUBSCRIPTION_ACROBATPLUS:case u.SUBSCRIPTION_ACROBATSTD:t=n.ACROBAT;break;case u.SUBSCRIPTION_CREATEPDF:case u.SUBSCRIPTION_PDFPACK:t=n.CONVERTPDF;break;case u.SUBSCRIPTION_EXPORTPDF:t=n.EXPORTPDF;break;case u.SUBSCRIPTION_FILES:t=n.HOME;break;case u.SUBSCRIPTION_FILLANDSIGN:t=n.FILLSIGN;break;case u.SUBSCRIPTION_FORMSCENTRAL:t=n.FORMSCENTRAL;break;case u.SUBSCRIPTION_SENDNOW:t=n.SEND}return t}var e=this.options,o=e.appApi,u=o.usersMeApi,a=o.pluginsApi,f,l,c;return i.logElapsedTime("routing-at-content-page-op start"),l=t.opFactory,c=l.create("SelectingToolOp",e),r.appApisAreReady(),e.toolsUiModel.get("pending_plugin_id")?this._getResolvedPromise():(f=u.getCommonUserPrefs(),c.run(a.getEnabledPlugin(f.lastToolUsed)||s.getMarketingTool()||a.getEnabledPlugin(h())))}}),t.RoutingAtContentPageOp}),define("app/dev/ops/session/handling-401-error-op",["core/ac-core","app/ac-app","core/utils/http-util","core/utils/util","core/ops/op"],function(e,t,n,r){var i;t.Handling401ErrorOp=e.Op.extend({run:function(e){var t=this.options,s=t.appApi,o=this._getResolvedPromise();return t.acrobatUiModel.get("is_in_acrobat")?o:(r.isCEF()&&s.usersMeApi.clearUserInfo(),t.signInUiModel.set("is_signed_in",!1),i||(n.clearSessionAttrs(t.sessionUiModel),r.isCEF()?e||(o=s.sessionApi.ensureSignedIn().then(function(){i=!1}),i=!0):(s.routerApi.reloadPage({reason:"401"}),i=!0)),o)}})}),define("app/dev/ops/session/signing-in-from-error-op",["core/ac-core","app/ac-app","core/utils/util","core/ops/op"],function(e,t,n){t.SigningInFromErrorOp=e.Op.extend({run:function(){var e=this.options;return e.errorUiModel.clearQueue(),n.isCEF()?this._getResolvedPromise():t.opFactory.create("SigningOutOp",e).run()}})}),define("app/dev/ops/session/signing-out-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){t.SigningOutOp=e.Op.extend({run:function(){var t=this.options,n=t.appApi.displayApi;return n.showModal(!0),n.showSpinner(!0),e.opFactory.create("StoppingSessionOp",t).run().then(function(e){window.location=e.uri})}})}),define("app/dev/ops/settings-dlg/loading-settings-dlg-views-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){return t.LoadingSettingsDlgViewsOp=e.Op.extend({run:function(){var t=this.options,n=t.appApi.pluginsApi;return e.opFactory.create("LoadingPluginsOp",_.extend({pluginsConfig:n.getPluginTypeConfig("settings_dlg"),pluginsUiModel:t.settingsDlgUiModel},_.pick(t,"appApi","pluginId","force"))).run()}}),t.LoadingSettingsDlgViewsOp}),define("app/dev/ops/settings-dlg/selecting-settings-dlg-plugin-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){return t.SelectingSettingsDlgPluginOp=e.Op.extend({run:function(t){return e.opFactory.create("SelectingPluginOp",this.options).run(t)}}),t.SelectingSettingsDlgPluginOp}),define("app/dev/templates/settings-dlg-template",[],function(){return'<div role="dialog" class="generic-dialog settings-dlg ui-theme theme-container" data-test-name="dlg"><div class="dialog-title-bar"><div class="dialog-icon"></div><div class="dialog-title theme-text"><%- title %></div></div><div class="settings-dlg-content dialog-content"><div class="settings-dlg-view"><div class="settings-dlg-views-selector views-selector"></div><div class="settings-dlg-views-content views-content"><div class="settings-dlg-plugin-content"></div><div class="settings-dlg-btns"><input type="button"class="control-button dialog-control-button settings-dlg-done-btn theme-button theme-button-label" aria-label="<%= done %>" value="<%= done %>"/></div></div></div></div></div>'}),define("app/dev/templates/settings-dlg-selector-template",[],function(){return'<div class="settings-dlg-selector plugin-selector">    <div class="settings-dlg-selector-label unselectable"><%= label %>    </div></div>'}),define("app/dev/views/settings-dlg-selector-view",["core/ac-core","app/ac-app","app/templates/settings-dlg-selector-template","core/views/plugins-selector-view","app/views/view-events"],function(e,t,n){t.SettingsDlgSelectorView=e.PluginsSelectorView.extend({initialize:function(){e.PluginsSelectorView.prototype.initialize.call(this)},_getSelectorTemplate:function(){return n},_getSelectorViewEvent:function(){return t.ViewEvents.SETTINGS_DLG_SELECTOR_CLICK}})}),define("app/dev/templates/settings-dlg-content-template",[],function(){return'<div class="settings-dlg-content"></div>'}),define("app/dev/views/settings-dlg-content-view",["core/ac-core","app/ac-app","app/templates/settings-dlg-content-template","core/views/plugins-content-view"],function(e,t,n){t.SettingsDlgContentView=e.PluginsContentView.extend({_getContentTemplate:function(){return n}})}),define("app/dev/views/settings-dlg-view",["core/ac-core","app/ac-app","core/utils/util","app/templates/settings-dlg-template","i18n!core/nls/ui-strings","core/utils/sc-analytics","core/views/dialog-view","app/views/settings-dlg-selector-view","app/views/settings-dlg-content-view"],function(e,t,n,r,i,s){t.SettingsDlgView=e.DialogView.extend({events:function(){return _.extend({},e.DialogView.prototype.events,{"click .settings-dlg-done-btn":"_onDoneClick"})},initialize:function(){e.DialogView.prototype.initialize.call(this),this._setParentScContext(this.options.scContext)},render:function(){return e.DialogView.prototype.render.call(this,!1),this.$el.empty().html(_.template(r)({title:this._getTitle(),done:i.DONE})),this._initWrappers(),n.isCEF()&&this.$dlg.addClass("cef"),this._center(),this.$dlg.addClass("shown"),this._renderChildViews(),this},open:function(n){var r,i=this.options,s=i.appApi.pluginsApi,o;return this._pluginOptions=n,o=t.opFactory.create("LoadingSettingsDlgViewsOp",i),o.run().then(_.bind(function(){return s.callPluginMethodForEach(s.getPluginTypeConfig("settings_dlg").plugin_ids,"setPluginOptions",n,undefined,!0),r=e.DialogView.prototype.open.call(this),this._selectPlugin(undefined,n),r},this))},close:function(t,n){var r=this.$dlg,i;delete this._pluginOptions,i=_.bind(function(){e.DialogView.prototype.close.call(this,t,n)},this),r.removeClass("shown"),i()},_onViewEvent:function(e,n){var r=t.ViewEvents;if(e===r.SETTINGS_DLG_SELECTOR_CLICK)return this._selectPlugin(n);this.trigger(e,n)},_initWrappers:function(){e.DialogView.prototype._initWrappers.call(this),this.$selector=this.$(".views-selector"),this.$content=this.$(".settings-dlg-plugin-content")},_renderChildViews:function(){var e=_.extend({},this.options,{pluginsUiModel:this.options.settingsDlgUiModel});this._renderChildView("_contentView",t.SettingsDlgContentView,this.$content,e),this._renderChildView("_selectorView",t.SettingsDlgSelectorView,this.$selector,e)},_getTitle:function(){return i.SETTINGS},_selectPlugin:function(e){var n,r=this._pluginOptions;return e||(e=this.options,n=e.settingsDlgUiModel.getSelectedId()||e.appApi.pluginsApi.getPluginTypeConfig("settings_dlg").default_plugin_id,this._logSiteCatalystEvent([s.SHOWN]),e=_.extend({},e,{pluginId:n})),r=r||{},r.scContext=this._getFullScContext(),t.opFactory.create("SelectingSettingsDlgPluginOp",e||this.options).run(r).then(_.bind(function(){return undefined},this))},_onDoneClick:function(){this._logSiteCatalystEvent([s.COMPLETED]),this.close(!0);var e=this.options.settingsDlgUiModel;e.trigger("change:faf-done-button-clicked")}})}),define("app/dev/ops/settings-dlg/showing-settings-dlg-op",["core/ac-core","app/ac-app","core/ops/op","app/views/settings-dlg-view"],function(e,t){return t.ShowingSettingsDlgOp=e.Op.extend({run:function(){return(new t.SettingsDlgView(this.options)).open()}}),t.ShowingSettingsDlgOp}),define("app/dev/ops/site-catalyst/get-framework-pages-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){t.GetFrameworkPagesOp=e.Op.extend({run:function(){var e={Term:{kind:"value",values:["Monthly","AnnualBilledMonthly","AnnualBilledAnnually","None"]},FileList:{kind:"value",values:["DOCCLD:FileList","CCLOUD:FileList","ONEDRV:FileList","RecentFiles"]},Connector:{kind:"value",values:["DOCCLD","CCLOUD","ONEDRV"]},BusinessSource:{kind:"value",values:["Dell","AcPr","CCM","Tril","None","TEAM"]},PreviewType:{kind:"value",values:["Preview","Preview:NGDoc"]},CountValue2:{kind:"value",values:["2to5","6to10","11orMore"]},CountValue1:{kind:"value",values:["1","2to5","6to10","11orMore"]},CountValue0:{kind:"value",values:["0","1","2to5","6to10","11orMore"]}},t=[{pageName:"free:InitialStartup",selector:""},{pageName:"adobe.com:products:eula:third_party",selector:""},{pageName:"InitialStartup",selector:""},{pageName:"InitialStartup:FirstTimeUser",selector:""},{pageName:"InitialStartup:ReturningUser",selector:""},{pageName:"ABTEST:<TestName>:<VariantName>",selector:""},{pageName:"ChatPod:Expanded",selector:""},{pageName:"ChatPod:Shrunk",selector:""},{pageName:"ChatPod:Hidden",selector:""},{pageName:"ChatPod:Entered",selector:""},{pageName:"ChatPod:Left",selector:""},{pageName:"ChatPod:Sent",selector:""},{pageName:"ABTest:Control:CHAT_POD_TEST",selector:""},{pageName:"ABTest:Var1:CHAT_POD_TEST",selector:""},{pageName:"ABTest:Var2:CHAT_POD_TEST",selector:""},{pageName:"General:Error:400",selector:""},{pageName:"General:Error:401",selector:""},{pageName:"General:Error:403:Forbidden:FolderNotEmpty",selector:""},{pageName:"General:Error:403:Forbidden:QuotaExceeded",selector:""},{pageName:"General:Error:403:Forbidden:VirusDetected",selector:""},{pageName:"General:Error:403:Generic",selector:""},{pageName:"General:Error:404:NotFound",selector:""},{pageName:"General:Error:405",selector:""},{pageName:"General:Error:406",selector:""},{pageName:"General:Error:412",selector:""},{pageName:"General:Error:415",selector:""},{pageName:"General:Error:500",selector:""},{pageName:"General:Error:501",selector:""},{pageName:"General:Error:503",selector:""},{pageName:"General:Error:504",selector:""},{pageName:"SignIn:Shown",selector:""},{pageName:"TopHeader:AcomTrefoil:Clicked",selector:""},{pageName:"TopHeader:Acrobat.com:Clicked",selector:""},{pageName:"TopHeader:Apps:Clicked",selector:""},{pageName:"TopHeader:AppsMenu:Shown",selector:""},{pageName:"TopHeader:Help:Clicked",selector:""},{pageName:"TopHeader:HelpMenu:Shown",selector:""},{pageName:"TopHeader:UserAcctMenu:Clicked",selector:""},{pageName:"TopHeader:UserAcctMenu:Shown",selector:""},{pageName:"TopHeader:UserAcctMenu:MyInformation",selector:""},{pageName:"TopHeader:UserAcctMenu:Language",selector:""},{pageName:"TopHeader:UserAcctMenu:MyPlan",selector:""},{pageName:"TopHeader:UserAcctMenu:SignOut",selector:""},{pageName:"TopHeader:UserAcctMenu:StorageLearnMore:Clicked",selector:""},{pageName:"TopHeader:HelpMenu:AskUs",selector:""},{pageName:"TopHeader:HelpMenu:AboutProduct",selector:""},{pageName:"TopHeader:HelpMenu:ProductHelp",selector:""},{pageName:"TopHeader:User:acctMenu:SettingsDlg",selector:""},{pageName:"Tools:Files:Clicked",selector:""},{pageName:"Toolbar:AddFiles:Clicked",selector:""},{pageName:"<FileList>:SmallPreview:Shown",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SmallPreview:NextPg",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SmallPreview:PrevPg",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:InitialView:NumFilesShown:<CountValue0>",selector:"",variables:{FileList:e.FileList,CountValue0:e.CountValue0},values:e.CountValue0},{pageName:"<FileList>:InitialView:NumFoldersShown:<CountValue0>",selector:"",variables:{FileList:e.FileList,CountValue0:e.CountValue0},values:e.CountValue0},{pageName:"FileList:AllFiles:Clicked",selector:""},{pageName:"<FileList>:NewFolderIcon:Clicked",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:NewFolderDlg:Shown",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:NewFolderDlg:Success",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:NewFolderDlg:Cancel",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:NewFolderDlg:Error:FolderExists",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:UploadIcon:Clicked",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:Empty:UploadIcon:Clicked",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:Upload:NumFiles:<CountValue1>",selector:"",variables:{FileList:e.FileList,CountValue1:e.CountValue1},values:e.CountValue1},{pageName:"<FileList>:Upload:Success",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"FileList:RecentFiles:Clicked",selector:""},{pageName:"<FileList>:<Connector>:Clicked",selector:"",variables:{FileList:e.FileList,Connector:e.Connector},values:e.Connector},{pageName:"<FileList>:IPM:Clicked",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:DupFileNameDlg:Shown",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:DupFileNameDlg:Existing",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:DupFileNameDlg:Uploaded",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:DupFileNameDlg:Rename",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:DupFileNameDlg:Continue",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:DupFileNameDlg:DeleteExisting:Success",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:DupFileNameDlg:DeleteUploaded:Success",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:DupFileNameDlg:RenameFile:Success",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:DupFileNameDlg:RenameFile:Cancel",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:DupFileNameDlg:RenameFile:Error:FileExists",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:DupFileNameDlg:Cancel",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:DupFileNameDlg:Cancel",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Clicked",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Keyword:Cleared",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Keywords:Dismissed",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:SearchTextEntered",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Results:<CountValue1>",selector:"",variables:{FileList:e.FileList,CountValue1:e.CountValue1},values:e.CountValue1},{pageName:"<FileList>:SearchBar:Results:Success",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:FilterIcon:Clicked",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:Shown",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:NameContains",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:Name:Entered",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:DateAddedIs",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:Date:Entered",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:DateModifiedIs",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:DateModified:Entered",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:FileType:Excel",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:FileType:HTML",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:FileType:Image",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:FileType:InDesign",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:FileType:PDF",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:FileType:Photoshop",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:FileType:Powerpoint",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:FileType:Text",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:FileType:Video",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:FileType:Zip",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:FileType:Word",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:IsShared",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:FileLocation",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:CreatedByTool:ExportPDF",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:CreatedByTool:CreatePDF",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:CreatedByTool:Combine",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:CreatedByTool:ReaderMobile",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:CreatedByTool:Reader",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Filter:CreatedByTool:Acrobat",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:SortIcon:Clicked",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:Sort:Shown",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:ViewBy:List:Checked",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:ViewBy:Thumb:Checked",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:SortBy:FileNameDown",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:SortBy:FileNameUp",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:SortBy:FileTypeDown",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:SortBy:FileTypeUp",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:SortBy:FileSizeUp",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:SortBy:FileSizeDown",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:SortBy:DateAddedUp",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:SortBy:DateAddedDown",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:SortBy:DateModifiedDown",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SearchBar:SortBy:DateModifiedUp",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SortColumn:NameUp",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SortColumn:NameDown",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SortColumn:SizeUp",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SortColumn:SizeDown",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SortColumn:DateUp",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:SortColumn:DateDown",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:FileName:Checked",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:FileName:Unchecked",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:NumFilesChecked:<CountValue1>",selector:"",variables:{FileList:e.FileList,CountValue1:e.CountValue1},values:e.CountValue1},{pageName:"<FileList>:ActionBar:Shown",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:ActionBar:Cancel:Clicked",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:FolderName:Checked",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:FolderName:Unchecked",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:NumFoldersChecked:<CountValue1>",selector:"",variables:{FileList:e.FileList,CountValue1:e.CountValue1},values:e.CountValue1},{pageName:"<FileList>:ActionBar:Rename:Clicked",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:ActionBar:RenameDlg:Shown",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:ActionBar:RenameDlg:NameEntered",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:ActionBar:RenameDlg:Cancel",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:ActionBar:RenameDlg:Cancel",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:ActionBar:RenameDlg:Success",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:ActionBar:RenameDlg:Error:FileExists",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:ActionBar:RenameDlg:Error:FolderExists",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:ActionBar:Move:Clicked",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:ActionBar:MoveDlg:Shown",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:ActionBar:MoveDlg:Cancel",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:ActionBar:MoveDlg:Success",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:ActionBar:Download:Clicked",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:ActionBar:Download:Success",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:ActionBar:Share:Clicked",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:ActionBar:Delete:Clicked",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:ActionBar:DeleteDlg:Shown",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:ActionBar:DeleteDlg:Cancel",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:ActionBar:DeleteDlg:Success",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:ActionBar:Delete:Error:FolderNotEmpty:Op",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:ActionBar:Delete:ErrorDlg:Shown",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<FileList>:ActionBar:Delete:ErrorDlg:Cancel",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"<PreviewType>:DownloadLink:Clicked",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:Toolbar:GearIcon:Clicked",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:Toolbar:GearMenu:Shown",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:Toolbar:DownloadIcon:Clicked",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:Toolbar:Download:Success",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:Toolbar:GearMenu:Rename:Clicked",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:Toolbar:GearMenu:RenameDlg:Shown",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:Toolbar:GearMenu:RenameDlg:NameEntered",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:Toolbar:GearMenu:RenameDlg:Cancel",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:Toolbar:GearMenu:RenameDlg:Success",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:Toolbar:GearMenu:Delete:Clicked",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:Toolbar:GearMenu:DeleteDlg:Shown",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:Toolbar:GearMenu:DeleteDlg:Cancel",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:Toolbar:GearMenu:DeleteDlg:Success",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:Toolbar:GearMenu:Share:Clicked",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:PDF:Shown",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:NonPDF:Shown",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:PDF:Failed",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:NonPDF:Failed",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"Preview:Shared:Multi:Preview:Shown",selector:""},{pageName:"Preview:Shared:Multi:Preview:Toolbar:FileInfo",selector:""},{pageName:"Preview:Shared:Multi:Preview:Toolbar:ShareIcon",selector:""},{pageName:"Preview:Shared:Multi:Preview:Toolbar:Back",selector:""},{pageName:"Preview:Shared:Single:Preview:Shown",selector:""},{pageName:"Preview:Shared:Single:Preview:Toolbar:FileInfo",selector:""},{pageName:"Preview:Shared:Single:Preview:Toolbar:ShareIcon",selector:""},{pageName:"Preview:Shared:Single:Preview:RHP:ShareFileButton",selector:""},{pageName:"Preview:Private:Single:Toolbar:FileInfo",selector:""},{pageName:"Preview:Private:Single:Toolbar:ShareIcon",selector:""},{pageName:"Preview:Private:Single:RHP:Share:PublicLink",selector:""},{pageName:"Preview:Private:Single:RHP:Share:PersonalLink",selector:""},{pageName:"Preview:Private:Single:RHP:Subject:Entered",selector:""},{pageName:"Preview:Private:Single:RHP:Message:Entered",selector:""},{pageName:"Preview:Private:Single:RHP:Subject:Default",selector:""},{pageName:"Preview:Private:Single:RHP:Message:Default",selector:""},{pageName:"Preview:Private:Single:RHP:ShareButton",selector:""},{pageName:"Preview:Private:Single:RHP:CancelButton",selector:""},{pageName:"Preview:Private:Single:CommentPane:Shown",selector:""},{pageName:"RecView:Preview:BottomNavBar:ShowRHP",selector:""},{pageName:"RecView:Multi:Preview:IPM",selector:""},{pageName:"RecView:Multi:Preview:SavetoAcrobat",selector:""},{pageName:"RecView:Single:IPM",selector:""},{pageName:"RecView:Single:SavetoAcrobat",selector:""},{pageName:"<PreviewType>:Shown",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:BottomNavBar:FitPgFull",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:BottomNavBar:FitPgWidth",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:BottomNavBar:FullScreen",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:BottomNavBar:ShowRHP",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:BottomNavBar:HideRHP",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:BottomNavBar:NextPg",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:BottomNavBar:PrevPg",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:BottomNavBar:Scroll",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:BottomNavBar:Close",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:BottomNavBar:PgNumEntered",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:BottomNavBar:ShowImagePreview",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:BottomNavBar:ShowNGDocPreview",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:BottomNavBar:ZoomIn",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:BottomNavBar:ZoomOut",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:Toolbar:FileInfo:Clicked",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"<PreviewType>:Toolbar:Back:Clicked",selector:"",variables:{PreviewType:e.PreviewType},values:e.PreviewType},{pageName:"Tools:Share:ChooseFilesDlg:RecFiles:Shown",selector:""},{pageName:"Tools:Share:ChooseFilesDlg:RecFiles:ChooseFiles:Clicked",selector:""},{pageName:"Tools:Share:ChooseFilesDlg:RecFiles:AddSelected:<CountValue1>",selector:"",variables:{CountValue1:e.CountValue1},values:e.CountValue1},{pageName:"Tools:Share:ChooseFilesDlg:RecFiles:Cancel",selector:""},{pageName:"Tools:Share:ChooseFilesDlg:SentFiles:Shown",selector:""},{pageName:"Tools:Share:ChooseFilesDlg:SentFiles:ChooseFiles:Clicked",selector:""},{pageName:"Tools:Share:ChooseFilesDlg:SentFiles:AddSelected:<CountValue1>",selector:"",variables:{CountValue1:e.CountValue1},values:e.CountValue1},{pageName:"Tools:Share:ChooseFilesDlg:SentFiles:Cancel",selector:""},{pageName:"ProgressStatusMenu:Shown",selector:""},{pageName:"ProgressStatusMenu:Hidden",selector:""},{pageName:"ProgressStatusMenu:RemoveHistory:Clicked",selector:""},{pageName:"Tools:ExportPDF:Clicked",selector:""},{pageName:"<FileList>:ActionBar:ExportPDF:Clicked",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"Tools:CreatePDF:Clicked",selector:""},{pageName:"<FileList>:ActionBar:CreatePDF:Clicked",selector:"",variables:{FileList:e.FileList},values:e.FileList},{pageName:"Tools:Combine:Clicked",selector:""},{pageName:"Tools:Organize:Clicked",selector:""},{pageName:"Tools:Acrobat:Clicked",selector:""},{pageName:"Tools:CreateForm:Clicked",selector:""},{pageName:"Tools:SettingsDlg:InitialView:<settings-plugin>",selector:""},{pageName:"Tools:SettingsDlg:Close:<settings-plugin>",selector:""},{pageName:"Tools:SettingsDlg:Cancel",selector:""},{pageName:"BusinessSource:<BusinessSource>",selector:"##aic-business-source",variables:{BusinessSource:e.BusinessSource},values:e.BusinessSource},{pageName:"BillingTerm:<Term>",selector:"##aic-subscription-term",variables:{Term:e.Term},values:e.Term},{pageName:"Tools:SendforSig:Clicked",selector:""}];return $.Deferred().resolve({variables:e,pages:t}).promise()}})}),define("app/dev/ops/site-catalyst/register-page-names-op",["core/ac-core","app/ac-app","core/utils/sc-analytics","core/ops/op"],function(e,t,n){var r=function(e,t,n,r){var i,s;return _.each(t,function(o,u){i=o.replace(/<|>/g,"");if(o.length-i.length!==2)return;(!e.variables||!e.variables[i])&&LOG("Missing site-catalyst variable: "+i,LOG.ERROR,{logServer:!0}),e.variables[i].kind==="value"?s=r&&r.value:s=n.data(i),s||LOG("Missing site-catalyst value for:"+i+" page: "+e.pageName+" selector: "+e.selector,LOG.ERROR,{logServer:!0}),t[u]=s}),t},i=function(e,t,n){var i=r(e,e.pageName.split(":"),t,n),s;return e.prop48&&(s={rawProperties:{}},s.rawProperties.prop48=r(e,e.prop48.split(":"),t,n)),e.prop49&&(s={rawProperties:{}},s.rawProperties.prop49=r(e,e.prop49.split(":"),t,n)),{page:i,options:s}},s=function(e,t,n,r){var s=i(t,n,r);e.logScEvent(s.page,s.options)},o=function(e){var t=$(e.currentTarget);_.find(this.eventStore.clickEvents,function(e){if(t.is(e.selector))return s(this.scApi,e,t),!0},this)},u=function(e){var t=$(e.currentTarget),n;if(!t.is(":visible"))return;if(e.currentTarget!==e.target)return;n=_.find(this.eventStore.renderEvents,function(e){if(t.is(e.selector))return!0},this),n&&s(this.scApi,n,t)},a=function(e){var t=$(e.currentTarget);if(e.currentTarget!==e.target)return;_.find(this.eventStore.dialogSuccessEvents,function(e){if(t.is(e.selector))return s(this.scApi,e,t),!0},this)},f=function(e){var t=$(e.currentTarget);if(e.currentTarget!==e.target)return;_.find(this.eventStore.dialogCancelEvents,function(e){if(t.is(e.selector))return s(this.scApi,e,t),!0},this)},l=function(e){var t=$(e.currentTarget);if(e.currentTarget!==e.target)return;_.find(this.eventStore.dialogValueEvents,function(e){var n;if(t.is(e.selector))return n=this.util.getValue(t),n!==null&&s(this.scApi,e,t,{value:n}),!0},this)},c=function(e){if(e.currentTarget!==e.target)return;var t=$(e.currentTarget),n,r;n=_.find(this.eventStore.dialogChangeEvents,function(e){if(t.is(e.selector))return!0},this),n&&(r=this.util.getValue(t),e.type===this.scApi.RENDER?n.dialogValue=r:r!==n.dialogValue&&s(this.scApi,n,t,{value:r}))},h=function(e,t){if(e.currentTarget!==e.target)return;var n,r=$(e.currentTarget),i=_.find(this.eventStore.countEvents,function(e){if(r.is(e.selector))return!0},this);i&&(n=this.util.getCountCode(t),s(this.scApi,i,r,{value:n}))},p=function(e){if(e.currentTarget!==e.target)return;var t=$(e.currentTarget);_.each(this.eventStore.changeEvents,function(n){if(t.is(n.selector)){var r,i=t.attr("type")==="checkbox",o;i?(r=_.last(n.pageName.split(":")),o=$(e.currentTarget).attr("checked")?"checked":"unchecked",r.toLowerCase()===o&&s(this.scApi,n,t)):s(this.scApi,n,t)}},this)};t.RegisterPageNamesOp=e.Op.extend({run:function(e,t,r,i,s){var d=s.ANALYTICS_SELECTOR,v=r,m=/:Change($|:)/;return _.isEmpty(r)&&(_.extend(r,{scApi:s,util:n,eventStore:i,changeHndlr:p,clickHndlr:o,countFileHndlr:h,dialogCancelHndlr:f,dialogChangeHndlr:c,dialogSuccessHndlr:a,dialogValueHndlr:l,renderHndlr:u}),_.bindAll(r,"renderHndlr","dialogChangeHndlr","dialogCancelHndlr","countFileHndlr","changeHndlr","clickHndlr","dialogValueHndlr","dialogSuccessHndlr"),$("body").on(s.RENDER,d,v.dialogChangeHndlr),$("body").on(s.DIALOG_COMMIT,d,v.dialogChangeHndlr),$("body").on(s.CHANGE,d,v.changeHndlr),$("body").on(s.CLICK,d,v.clickHndlr),$("body").on(s.COUNT_FILES,d,v.countFileHndlr),$("body").on(s.DIALOG_CANCEL,d,v.dialogCancelHndlr),$("body").on(s.RENDER,d,v.renderHndlr),$("body").on(s.DIALOG_COMMIT,d,v.dialogValueHndlr),$("body").on(s.DIALOG_COMMIT,d,v.dialogSuccessHndlr)),e+=".",_.each(t.pages,function(e){if(e.selector.indexOf("##")===0){i.nonUIEvents[e.selector]=e;return}if(!e.selector||e.selector.length===0)return;var t=_.last(e.pageName.split(":")).toLowerCase();m.test(e.pageName)&&e.values?i.dialogChangeEvents.push(e):t.indexOf("countvalue")!==-1?i.countEvents.push(e):e.values?i.dialogValueEvents.push(e):t==="clicked"?i.clickEvents.push(e):t==="shown"?i.renderEvents.push(e):t==="success"?i.dialogSuccessEvents.push(e):t==="cancel"?i.dialogCancelEvents.push(e):t==="checked"||t==="unchecked"?i.changeEvents.push(e):m.test(e.pageName)&&i.changeEvents.push(e)},this),this._getResolvedPromise()}})}),define("app/dev/ops/tools/loading-tools-op",["core/ac-core","app/ac-app","core/utils/util","core/ops/op"],function(e,t,n){t.LoadingToolsOp=e.Op.extend({run:function(){var t=this.options,r=t.appApi.pluginsApi,i;return n.isCEF()&&(i={readerContextModel:t.readerContextModel}),e.opFactory.create("LoadingPluginsOp",_.extend({pluginsConfig:r.getPluginTypeConfig("tools"),pluginsUiModel:t.toolsUiModel,pluginContext:i},_.pick(t,"appApi","pluginId","force"))).run()}})}),define("app/dev/ops/tools/selecting-tool-op",["core/ac-core","app/ac-app","plugins-common/ac-plugins","core/ops/op"],function(e,t,n){t.SelectingToolOp=e.Op.extend({run:function(t){function l(){return t!==s.getCommonUserPrefs().lastToolUsed?s.saveCommonPrefs():$.Deferred().resolve().promise()}var r=this.options,i=r.appApi,s=i.usersMeApi,o=r.toolsUiModel,u,a,f;u=o.get("selected_plugin_id"),a=t||r.pluginId;if(a&&a===u)return this._getResolvedPromise();if(!a||!o.get("plugins").get(a))a=o.getSelectedId();return u!==n.HOME&&i.selectionApi.clearSelection(),f=e.opFactory.create("SelectingPluginOp",_.extend({},r,{pluginId:a})),f.run().then(function(){return l()},function(){return f=e.opFactory.create("SelectingPluginOp",_.extend({},r,{pluginId:o.getFirstEnabledId()})),f.run().then(function(){return l()})})}})}),define("app/dev/ops/user/getting-all-user-info-op",["core/ac-core","app/ac-app","core/utils/ipm-util","core/ops/op"],function(e,t,n){return t.GettingAllUserInfoOp=e.Op.extend({run:function(){var r=this.options,i=r.appApi.usersMeApi,s=e.opFactory,o=t.opFactory,u,a,f,l,c=window.DIL,h,p,d;return r.baseAicUrisModel.get("users")?(u=o.create("GettingUsersMeOp",r),a=s.create("GettingUsersMeCohortsOp",r),h=s.create("CheckingStorageQuotaOnStartupOp",_.extend({},r,{parentView:t.viewMgr.getContentPageViewWithoutCreation(r)})),p=s.create("GettingCommonLimitsOp",r),d=o.create("InitializingScLoggingOp",r),$.when(u.run().then(function(){d.run(),f=i.getUserIdentity(),n.setIpmParams(f,i.getSubscription()),l=f.user_id,c&&l&&c.getDil("adobe").api.aamIdSync({dpid:"813",dpuuid:l.split("@")[0]})}),a.run()).then(function(){return e.Features.isFeatureEnabled("my_plan_ui")&&p.run(),i.restoreCommonPrefs()})):this._getResolvedPromise()}}),t.GettingAllUserInfoOp}),define("app/dev/ops/user/getting-users-me-limits-op",["core/ac-core","app/ac-app","aicx/ac-aicx","core/ops/op"],function(e,t,n){return t.GettingUsersMeLimitsOp=e.Op.extend({run:function(e,t){var r=this.options;return r.baseAicUrisModel.get("users")?n.opFactory.create("GettingUsersMeLimitsOp",r).run(e,t):this._getResolvedPromise()}}),t.GettingUsersMeLimitsOp}),define("app/dev/ops/user/getting-users-me-op",["core/ac-core","app/ac-app","aicx/ac-aicx","core/ops/op"],function(e,t,n){return t.GettingUsersMeOp=e.Op.extend({run:function(){var e=this.options;return e.baseAicUrisModel.get("users")?n.opFactory.create("GettingUsersMeOp",e).run():this._getResolvedPromise()}}),t.GettingUsersMeOp}),define("app/dev/ops/user/getting-users-me-prefs-op",["core/ac-core","app/ac-app","aicx/ac-aicx","core/ops/op"],function(e,t,n){return t.GettingUsersMePrefsOp=e.Op.extend({run:function(e,t){var r=this.options;return r.baseAicUrisModel.get("users")?n.opFactory.create("GettingUsersMePrefsOp",r).run(e,t):this._getResolvedPromise()}}),t.GettingUsersMePrefsOp}),define("app/dev/ops/user/restoring-common-prefs-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){return t.RestoringCommonPrefsOp=e.Op.extend({run:function(){var e=this.options,t=e.appApi.usersMeApi.getCommonUserPrefs(),n=t.quota;return n&&e.quotaDlgUiModel.set("running_out_shown",n.running_out_shown),this._getResolvedPromise()}}),t.RestoringCommonPrefsOp}),define("app/dev/ops/user/saving-common-prefs-op",["core/ac-core","app/ac-app","core/ops/op"],function(e,t){return t.SavingCommonPrefsOp=e.Op.extend({run:function(){var e=this.options,t=e.appApi,n,r={},i=this._getResolvedPromise();return t&&(n=t.usersMeApi.getUserIdentity().email),n?(r.quota={running_out_shown:e.quotaDlgUiModel.get("running_out_shown")},r.lastToolUsed=e.toolsUiModel.getSelectedId(),t.usersMeApi.setUserPrefs("common",r)):i}}),t.SavingCommonPrefsOp}),define("app/dev/ops/user/setting-users-me-prefs-op",["core/ac-core","app/ac-app","aicx/ac-aicx","core/ops/op"],function(e,t,n){return t.SettingUsersMePrefsOp=e.Op.extend({run:function(e,t){var r=this.options;return r.baseAicUrisModel.get("users")?n.opFactory.create("SettingUsersMePrefsOp",r).run(e,t):this._getResolvedPromise()}}),t.SettingUsersMePrefsOp}),define("app/dev/ops/op-factory",["core/ac-core","app/ac-app","app/ops/account-menu/loading-account-menu-op","app/ops/account-menu/selecting-account-menu-item-op","app/ops/acrobat/closing-in-acrobat-op","app/ops/acrobat/opening-in-acrobat-op","app/ops/acrobat/selecting-acrobat-filter-op","app/ops/app/rna-starting-app-op","app/ops/app/rna-running-app-op","app/ops/app/running-app-op","app/ops/app/starting-app-op","app/ops/app/starting-authenticated-app-op","app/ops/file-selection-dlg/loading-file-selection-dlg-home-views-op","app/ops/file-selection-dlg/selecting-file-selection-dlg-home-view-op","app/ops/file-selection-dlg/showing-file-selection-dlg-op","app/ops/file-selection-dlg/loading-file-selection-dlg-op","app/ops/whats-new-dlg/loading-whats-new-dlg-op","app/ops/getting/getting-all-base-uris-op","app/ops/getting/getting-storage-info-op","app/ops/listening/listening-for-ajax-events-op","app/ops/listening/listening-for-download-errors-op","app/ops/listening/listening-for-folder-notifications-op","app/ops/listening/listening-for-inactivity-op","app/ops/listening/listening-for-network-connectivity-op","app/ops/listening/listening-for-server-errors-op","app/ops/listening/listening-for-view-events-op","app/ops/listening/listening-for-window-events-op","app/ops/misc/handling-uncaught-exceptions-op","app/ops/misc/loading-custom-css-op","app/ops/misc/loading-deep-link-plugins-op","app/ops/misc/loading-framework-versions-op","app/ops/misc/loading-plugin-configs-op","app/ops/misc/loading-plugin-configs-versions-op","app/ops/misc/loading-rna-variant-info-op","app/ops/misc/loading-rna-version-info-op","app/ops/misc/loading-template-plugins-op","app/ops/misc/loading-typekit-op","app/ops/misc/navigating-to-about-dlg-op","app/ops/misc/overriding-jquery-ajax-op","app/ops/misc/redirecting-to-apollo-op","app/ops/misc/registering-app-apis-op","app/ops/misc/registering-plugins-ui-models-op","app/ops/misc/showing-about-dlg-op","app/ops/misc/showing-load-failures-dlg-op","app/ops/misc/showing-next-error-op","app/ops/misc/showing-support-home-op","app/ops/misc/showing-user-forum-op","app/ops/misc/starting-history-op","app/ops/misc/switching-language-op","app/ops/misc/toggling-account-menu-op","app/ops/misc/toggling-help-menu-op","app/ops/misc/validating-rna-version-info-op","app/ops/misc/apply-ui-theme-style-framework-op","app/ops/preferences/restoring-preferences-op","app/ops/preferences/saving-preferences-op","app/ops/rna/configuring-rna-op","app/ops/rna/initializing-rna-op","app/ops/rna/listening-for-dialog-alert-events-op","app/ops/rna/listening-for-notification-window-events-op","app/ops/rna/listening-for-rhp-window-events-op","app/ops/rna/listening-for-rna-events-op","app/ops/rna/listening-for-session-events-op","app/ops/routing/initializing-app-routes-op","app/ops/routing/initializing-sc-logging-op","app/ops/routing/rna-routing-at-content-page-op","app/ops/routing/routing-at-content-page-op","app/ops/session/handling-401-error-op","app/ops/session/signing-in-from-error-op","app/ops/session/signing-out-op","app/ops/settings-dlg/loading-settings-dlg-views-op","app/ops/settings-dlg/selecting-settings-dlg-plugin-op","app/ops/settings-dlg/showing-settings-dlg-op","app/ops/site-catalyst/get-framework-pages-op","app/ops/site-catalyst/register-page-names-op","app/ops/tools/loading-tools-op","app/ops/tools/selecting-tool-op","app/ops/user/getting-all-user-info-op","app/ops/user/getting-users-me-limits-op","app/ops/user/getting-users-me-op","app/ops/user/getting-users-me-prefs-op","app/ops/user/restoring-common-prefs-op","app/ops/user/saving-common-prefs-op","app/ops/user/setting-users-me-prefs-op"],function(e,t){t.OpFactory=e.Op.extend({create:function(e,n){var r=t[e];if(!!r)return new r(n);LOG(0,"AcApp.OpFactory.create: Unrecognized class: "+e)}})}),define("app/dev/ac-app-init",["app/ac-app","app/models/ui/ui-model-factory","app/views/view-mgr","app/ops/op-factory"],function(e){return _.extend(e,{uiModelFactory:new e.UiModelFactory,opFactory:new e.OpFactory,viewMgr:new e.ViewMgr,router:new Backbone.Router}),e}),define("app/dev/features",["underscore"],function(e){return e.extend(Ac.Features,{isFeatureEnabled:function(e){return this.getFeature(e)===!0},getFeature:function(e){var t=this.features[e];return t},setFeature:function(e,t){this.features[e]=t}}),Ac.Features}),define("app/dev/locale",["underscore"],function(e){var t={"ar-ae":"Arabic","ca-es":"Catalan","cs-cz":"Czech","da-dk":"Dansk","de-de":"Deutsch","en-ae":"Middle Eastern English for Arabic","en-gb":"English UK","en-us":"English US","en-il":"Middle Eastern English for Hebrew","es-es":"EspaÃ±ol","eu-es":"Basque","fi-fi":"Suomi","fr-fr":"FranÃ§ais","fr-ma":"North African French","he-il":"Hebrew","hr-hr":"Croatian","hu-hu":"Hungarian","it-it":"Italiano","ja-jp":"æ—¥æœ¬èªž","ko-kr":"Korean","nb-no":"Norsk","nl-nl":"Nederlands","pl-pl":"Polish","pt-br":"PortuguÃªs","ro-ro":"Romanian",root:"English US","ru-ru":"Russian","sk-sk":"Slovak","sl-si":"Slovenian","sl-sl":"Unknown","sv-se":"Svenska","tr-tr":"Turkish","uk-ua":"Ukrainian","xx-xx":"Test Locale XX","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional"};return e.extend(Ac.Locale,{getLocaleByCountry:function(t){var n=e.keys(this.localeMap),r;return t=t.toLowerCase(),r=e.find(n,function(e){return t===e.substr(3)}),r||"root"},getImsLocale:function(e){return e=e||this.getLocale(),e.substr(0,2)+"_"+e.substr(3).toUpperCase()},getIpmLocale:function(){return this.getImsLocale().replace("_","-")},getLanguageName:function(e){var n=t[e];return n||"English US"},getHelpLocale:function(){var e=this.getLocale();return e==="root"||e==="en-us"||e==="en-gb"?"en":e.substr(3)},getSiteCatalystLocale:function(){return this.getImsLocale().toLowerCase()}}),Ac.Locale}),define("app/dev/log",["underscore"],function(e){var t=function(n,r,i){var s=window.console,o,u,a=!0,f=!1,l,c=t.appApi,h,p;i&&(e.has(i,"logConsole")&&(a=!!i.logConsole),e.has(i,"logServer")&&(f=!!i.logServer),e.isString(i.plugin)&&(l=i.plugin),e.isString(i.env)&&(p=i.env)),Ac.Features.isFeatureEnabled("javascript_console_logging")||(a=!1),e.isNumber(n)&&(o=n,n=r,r=o||10),r=r||t.DEBUG,f&&c&&c.errorApi.sendLogEvent({message:n,severity:r}),!p&&l&&c&&(h=c.pluginsApi.getBaseUrl(l),h.indexOf("local")>=0?p="localdev":h.indexOf(".dev.")>=0?p="dev":h.indexOf(".test.")>=0?p="test":h.indexOf(".stage.")>=0?p="stage":p="prod");if(p==="stage"||p==="prod"){if(r<t.ERROR)return}else if(p==="test"){if(r<t.WARNING)return}else if(p==="dev"&&r<t.INFO)return;if(a&&s){switch(r){case 10:u="debug";break;case 20:u="info";break;case 30:u="warn";break;case 40:u="error";break;default:u="log"}s[u]||(u="log"),s[u](n)}};return e.extend(t,{DEBUG:10,INFO:20,WARNING:30,ERROR:40,LOCALDEV:"localdev",DEV:"dev",TEST:"test",STAGE:"stage",PROD:"prod",setAppApi:function(e){this.appApi=e},debug:function(e,n){t(e,t.DEBUG,n)},info:function(e,n){t(e,t.INFO,n)},warn:function(e,n){t(e,t.WARNING,n)},warning:function(e,n){t(e,t.WARNING,n)},error:function(e,n){t(e,t.ERROR,n)}}),window.LOG=t,t}),define("app/dev/app",["core/ac-core","app/ac-app","aicx/ac-aicx","core/utils/date-util","core/utils/util","core/utils/router-util","app/ac-app-init","app/features","app/locale","app/log","core/nls/root/ui-strings","files/nls/root/ui-strings","app/nls/root/ui-strings","app/ops/app/starting-app-op","app/ops/app/rna-starting-app-op"],function(e,t,n,r,i,s){_.extend(t,{init:function(){var o,u,a,f,l,c,h;return s.hasQueryParam("log_elapsed_time","1")&&r.toggleElapsedTimeLogging(),r.logElapsedTime("AcApp.init",{startTime:Ac.START_TIME}),$("html").attr("lang",e.Locale.getLocale()),u=e.modelFactory,a=e.uiModelFactory,l=t.opFactory,f=t.uiModelFactory,c=n.modelFactory,o={baseFilesUrisModel:u.create("BaseFilesUrisModel"),baseCloudUrisModel:u.create("BaseCloudUrisModel"),discoveryUrisModel:u.create("DiscoveryUrisModel"),commonLimitsModel:u.create("CommonLimitsModel"),connectorsUiHelpersModel:u.create("ConnectorsUiHelpersModel"),folderModel:u.create("FolderModel"),folderModelDCAPI:u.create("FolderModelDCAPI"),notificationModel:u.create("NotificationModel"),refreshSessionModel:u.create("RefreshSessionModel"),rootModel:u.create("RootModel"),sendLogEventModel:u.create("SendLogEventModel"),sessionModel:u.create("SessionModel"),sharingInfoModel:u.create("SharingInfoModel"),signOutModel:u.create("SignOutModel"),storageQuotaModel:u.create("StorageQuotaModel"),systemFoldersModel:u.create("SystemFoldersModel"),usersMeCohortsModel:u.create("UsersMeCohortsModel"),baseAicUrisModel:c.create("BaseAicUrisModel"),usersMeModel:c.create("UsersMeModel"),usersMeIdentityModel:c.create("UsersMeIdentityModel"),usersMeLimitsConversionsModel:c.create("UsersMeLimitsConversionsModel"),usersMePrefsConversionsModel:c.create("UsersMePrefsConversionsModel"),usersMeSubscriptionsModel:c.create("UsersMeSubscriptionsModel"),accountMenuPluginsUiModel:a.create("PluginsUiModel"),deepLinkPluginsUiModel:a.create("PluginsUiModel"),templatePluginsUiModel:a.create("PluginsUiModel"),dialogsUiModel:a.create("DialogsUiModel"),errorUiModel:a.create("ErrorUiModel"),fileSelectionDlgHomeViewsUiModel:a.create("PluginsUiModel"),fullPreviewUiModel:a.create("FullPreviewUiModel"),inactivityUiModel:a.create("InactivityUiModel"),leftRailUiModel:a.create("LeftRailUiModel"),menusUiModel:a.create("MenusUiModel"),networkUiModel:a.create("NetworkUiModel"),notificationUiModel:a.create("NotificationUiModel"),pluginGroupsUiModel:a.create("PluginGroupsUiModel"),quotaDisplayUiModel:a.create("BarGraphUiModel"),quotaDlgUiModel:a.create("QuotaDlgUiModel"),selectionUiModel:a.create("SelectionUiModel"),sessionUiModel:a.create("SessionUiModel"),settingsDlgUiModel:a.create("PluginsUiModel"),toolsUiModel:a.create("PluginsUiModel"),acrobatUiModel:f.create("AcrobatUiModel"),ajaxUiModel:f.create("AjaxUiModel"),filesCollectionUiModel:f.create("FilesCollectionUiModel"),fullOverlayUiModel:f.create("FullOverlayUiModel"),modalMaskUiModel:f.create("ModalMaskUiModel"),pageHeaderUiModel:f.create("PageHeaderUiModel"),signInUiModel:f.create("SignInUiModel"),statusMenuUiModel:f.create("StatusMenuUiModel"),windowUiModel:f.create("WindowUiModel"),pluginApis:{},selectorApis:{},pluginsConfigs:{},pluginsUiModels:{},keyHandlers:[],focusHandlers:[],showSpinnerRefs:1,ajaxModalRefs:0,ajaxSpinnerShown:0,spinnerOptions:undefined,prevAlertDlg:undefined,uncaughtExceptionCallbacks:[],currentFolderId:undefined,currentFolderIds:{},connectorPluginInfo:{},rnaPluginGoUrlInfo:{},fullPreviewOptions:undefined,isNavigateEnabled:!0,selectFilesPromise:undefined,routingAtContentPagePromise:undefined,settingsPromise:undefined,isScConsoleLoggingEnabled:!1,scEventStore:{clickEvents:[],dialogChangeEvents:[],dialogValueEvents:[],dialogSuccessEvents:[],dialogCancelEvents:[],renderEvents:[],countEvents:[],changeEvents:[],nonUIEvents:{}},scHandlers:{},scPageGroups:{},scListeners:[]},h=l.create("StartingAppOp",o),i.isCEF()&&(_.extend(o,{actionsUiModel:a.create("ActionsUiModel"),fullPreviewPluginsUiModel:a.create("PluginsUiModel"),fullPreviewRhpPluginsUiModel:a.create("PluginsUiModel"),fullPreviewOverlaysUiModel:a.create("PluginsUiModel"),homeViewsUiModel:a.create("PluginsUiModel"),networkConnectivityModel:u.create("NetworkConnectivityModel"),notificationContainerUiModel:f.create("NotificationContainerUiModel"),saveAsUiModel:a.create("SaveAsUiModel"),tunerUiModel:f.create("TunerUiModel")}),_.extend(o,{noToolbar:!0}),o.inactivityUiModel.set("idle_timeout",3e5,{silent:!0}),window.mboxCreate=!0,h=l.create("RNAStartingAppOp",o),i.isAcrobat()?_.extend(o,{rnaPluginGoUrlInfo:{my_files:"MY_FILES_GOURL_ACRO",exportpdf:"EXPORTPDF_GOURL",exportpdf_rhp:"EXPORTPDF_RHP_GOURL",createpdf:"CREATEPDF_GOURL",createpdf_rhp:"CREATEPDF_RHP_GOURL",fillsign:"FILLSIGN_GOURL_ACRO",send:"SEND_GOURL_ACRO",sentfiles:"SENTFILES_GOURL_ACRO"}}):_.extend(o,{rnaPluginGoUrlInfo:{my_files:"MY_FILES_GOURL",exportpdf:"EXPORTPDF_GOURL",exportpdf_rhp:"EXPORTPDF_RHP_GOURL",createpdf:"CREATEPDF_GOURL",createpdf_rhp:"CREATEPDF_RHP_GOURL",fillsign:"FILLSIGN_GOURL",send:"SEND_GOURL",sentfiles:"SENTFILES_GOURL"}})),h.run()}})}),require.config({paths:{jquery:"libs/jquery/1.11.1/jquery-1.11.1.min",json2:"libs/json/2012-07-19/json2",moment:"libs/moment/2.8.3/moment.min","moment-with-locales":"libs/moment/2.22.2/moment-with-locales.min","jquery.fileupload":"libs/jquery.fileupload/5.42.0/jquery.fileupload","jquery.iframe-transport":"libs/jquery.fileupload/5.42.0/jquery.iframe-transport","jquery.ui.widget":"libs/jquery.fileupload/5.42.0/vendor/jquery.ui.widget","jquery-ui":"libs/jquery-ui/1.11.2/jquery-ui-min","jquery-ui-touchpunch":"libs/jquery.ui.touch-punch/0.2.2/jquery.ui.touch-punch","jquery.cookie":"libs/jquery.cookie/1.4.1/jquery.cookie","jquery.sha256":"libs/jquery.sha256/1.1/jquery.sha256.min",xdr:"libs/xdr/xdr","build-url":"core/build-url",html_sanitizer:"libs/google-caja/html-sanitizer",microsoftGraphSDK:"libs/microsoftGraph/microsoft-graph-js-sdk-web"},shim:{"jquery-ui":{deps:["jquery"]},"jquery.cookie":{deps:["jquery"]},"jquery.sha256":{deps:["jquery"]},xdr:{deps:["jquery"]},"jquery-ui-touchpunch":{deps:["jquery-ui"]},"app/dev/app":{deps:["jquery","json2","xdr","jquery.sha256"]}},map:{"*":{underscore:"libs-patch/underscore/1.6.0/underscore-patch",backbone:"libs-patch/backbone/1.1.2/backbone-patch","core-unmapped":"core","files-unmapped":"files","app-unmapped":"app","app-api-unmapped":"app-api","aicx-unmapped":"aicx","plugins-common-unmapped":"plugins-common","core-unmapped/dev":"core/dev","files-unmapped/dev":"files/dev","app-unmapped/dev":"app/dev","app-api-unmapped/dev":"app-api/dev","aicx-unmapped/dev":"aicx/dev","plugins-common-unmapped/dev":"plugins-common/dev",core:"core/dev",files:"files/dev",app:"app/dev",aicx:"aicx/dev","plugins-common":"plugins-common/dev","core/dev":"core/dev","files/dev":"files/dev","app/dev":"app/dev","aicx/dev":"aicx/dev","plugins-common/dev":"plugins-common/dev"},"libs-patch/underscore/1.6.0/underscore-patch":{underscore:"underscore"},"libs-patch/backbone/1.1.2/backbone-patch":{backbone:"backbone"}}}),require.config({config:{i18n:{locale:window.Ac.Locale.getLocale()}},waitSeconds:30}),require(["jquery-ui","versions/framework-dev","app/app"],function(){Ac.App.dev.init()}),define("rna-main",function(){});